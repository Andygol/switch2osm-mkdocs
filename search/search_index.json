{"config":{"lang":["en","ru"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Switch to OpenStreetMap","text":""},{"location":"#Switch-to-OpenStreetMap","title":"Switch to OpenStreetMap","text":"<p>Do your maps look like everyone else\u2019s? Are you paying high fees just to include maps on your website? Switch to OpenStreetMap and discover how you can build beautiful maps from the world\u2019s best map data.</p> <p>Using Tiles Serving Tiles</p> <p></p> <p></p> <p>We give you the data for free; you can make any map you like with it. Or benefit from the expertise of those already using OpenStreetMap.</p> <p>Host it on  your hardware, or  elsewhere. You have control.</p> <p>Switch2OSM explains how to make the switch\u00a0\u2013 from first principles to technical how\u2011tos.</p> <p></p>"},{"location":"#What-people-say-about-OpenStreetMap","title":"What people say about OpenStreetMap","text":"<p>\u00abMuch like Wikipedia challenged Encyclopedia Britannica and Linux took on Microsoft Windows, OpenStreetMap is battling Google Maps, and at least in some cases, it\u2019s winning.\u00bb Read what Wired has to say about people switching to OpenStreetMap.</p> <p>\u00abOpenStreetMap is all about people doing their bit, creating an incredible resource for everybody else.\u00bb Tim Berners-Lee, creator of the web, explains OSM at TED 2009.</p>"},{"location":"case-studies/","title":"Case Studies","text":""},{"location":"case-studies/#Case-Studies","title":"Case Studies","text":""},{"location":"case-studies/#Nestoriacom","title":"Nestoria.com","text":"<p>\u201cOSM maps are of equal or better quality than any other widely available mapping service. There is now a solid set of tools and services around OSM that made the switch possible. It all added up to a compelling sense that now was the time to switch.\u201d</p> <p>Read Nestoria\u2019s story of switching from Google Maps to OpenStreetMap.</p>"},{"location":"case-studies/#StreetEasycom","title":"StreetEasy.com","text":"<p>\u201cWe at StreetEasy decided to build our own maps using, among other tools, OpenStreetMap, TileMill, MapBox and Leaflet, instead of paying hundreds of thousands of dollars per year to Google. And yes, the money pushed us into doing it, but we\u2019re happier with the result because we now control the contents of our maps.\u201d</p> <p>Read StreetEasy\u2019s story of switching from Google Maps to OpenStreetMap.</p>"},{"location":"case-studies/#Flickr","title":"Flickr","text":"<p>\u201cA fantastic project called OpenStreetMap \u2013 a free, editable map of the world, made by the people in it. What an exciting prospect to be able to see maps that are alive and have been lovingly created by citizen cartographers all over the world. What an even more exciting prospect to be able to display those maps in Flickr! We racked our brains for a place that we knew we didn\u2019t have a very good street-level resolution for, and had something going on there right now\u2026 The 2008 Summer Olympic Games! They just kicked off in Beijing!\u201d</p> <p>Read Flickr\u2019s reasons for using OpenStreetMap.</p>"},{"location":"find-out-more/","title":"Find Out More","text":""},{"location":"find-out-more/#Getting-help","title":"Getting help","text":"<p>OpenStreetMap is a decentralised, volunteer-run project, so there\u2019s no single contact e-mail address for your queries. Instead, our community\u2019s knowledge can help resolve any issues you might have.</p> <ul> <li>OpenStreetMap IRC (Internet Relay Chat): 24-hour live OSM chat (use channel <code>#osm</code> or <code>#osm-dev</code>)</li> <li>Interactive Forum</li> <li>Developer FAQ</li> <li>Main FAQ</li> </ul>"},{"location":"find-out-more/#Other-tutorials-on-switching-to-OSM","title":"Other tutorials on switching to OSM","text":"<ul> <li>Kelso Cartography guide</li> <li>Build a server using MapServer</li> </ul>"},{"location":"find-out-more/#Editing-OpenStreetMap","title":"Editing OpenStreetMap","text":"<ul> <li>LearnOSM.org guide for beginners</li> </ul>"},{"location":"find-out-more/#Books","title":"Books","text":"<ul> <li>OpenStreetMap: Using and Enhancing the Free Map of the World (English/German)</li> <li>OpenStreetMap: Be Your Own Cartographer (English)</li> <li>OpenLayers 2.10 Beginners Guide (English)</li> </ul>"},{"location":"find-out-more/#Community-resources","title":"Community resources","text":"<ul> <li>OpenStreetMap Foundation</li> <li>Project wiki</li> <li>Mailing lists (searchable archive)</li> </ul>"},{"location":"find-out-more/#Press-enquiries","title":"Press enquiries","text":"<p>Please contact the OSM Foundation\u2019s Communications Working Group.</p>"},{"location":"find-out-more/#About-switch2osm","title":"About switch2osm","text":"<p>Switch2osm is a community driven site coordinated by Richard Fairhurst and Paul Norman with huge amounts of help from the OpenStreetMap community. You can get involved on GitHub.</p> <p>Comments or suggestions? Please make contact via IRC at the first instance.</p> <p>If you would like to contact the local community, please get in touch to them via the forum or other communication channel.</p>"},{"location":"other-uses/","title":"Other Uses","text":""},{"location":"other-uses/#Other-Uses","title":"Other Uses","text":"<p>We\u2019ve focused on tiles, but since OpenStreetMap \u2013 uniquely \u2013 gives you access to the raw map data, you can build any location or geo-application. These are the most common starting points; a full listing is available at the OpenStreetMap Wiki.</p>"},{"location":"other-uses/#Common-tools","title":"Common tools","text":"<ul> <li>Osmosis is an all-purpose Java application for loading OSM data into a database. Most applications of OSM data use Osmosis in some way.</li> <li>Osmium is a flexible framework, rapidly gaining popularity, which offers a highly configurable alternative to Osmosis.</li> <li>Mapbox Studio is a suite of tools to produce \u2018vector tiles\u2019 which can be rendered either server-side or client-side.</li> </ul>"},{"location":"other-uses/#Geocoding-services","title":"Geocoding services","text":"<ul> <li>Gisgraphy is an open source geocoder that provides API / webservices for forward and reverse geocoding with auto-completion, interpolation, location Bias, find nearby, all can be run offline or as hosted solutions. It provides some importers for Openstreetmap but also Openadresses, Geonames, and more.</li> <li>Nominatim is the software behind OpenStreetMap\u2019s geocoding service (placename \u2194 lat/long).</li> <li>OpenCage provides a geocoding API aggregating Nominatim and other open sources.</li> <li>OSMNames - place names from OpenStreetMap. Downloadable. Ranked. With bbox and hierarchy. Ready for geocoding.</li> </ul>"},{"location":"other-uses/#Routing-engines-and-services","title":"Routing engines and services","text":"<ul> <li>OSRM is a fast routing engine designed for OSM data.</li> <li>Graphhopper is a fast Java routing engine with a small memory footprint.</li> <li>Valhalla is a C++ routing engine for road vehicles and public transport.</li> <li>Public routing APIs using OSM data are offered by GraphHopper, MapQuest Open and Mapbox.</li> <li>Specialist routing APIs include CycleStreets cycle routing (UK and beyond)</li> </ul>"},{"location":"other-uses/#Vector-map-libraries-mobile","title":"Vector map libraries (mobile)","text":"<ul> <li>Android libraries include the MapLibre Android SDK, Mapbox Android SDK, mapsforge, Nutiteq Maps SDK, Skobbler Android SDK, and Tangram ES.</li> <li>iOS libraries include the MapLibre iOS SDK, Mapbox iOS SDK, Nutiteq Maps SDK, Skobbler iOS SDK, and Tangram ES.</li> </ul>"},{"location":"other-uses/#Vector-map-libraries-Web","title":"Vector map libraries (Web)","text":"<ul> <li>MapLibre GL JS, Mapbox GL JS and Tangram render vector tiles based on OSM data using WebGL for better performance.</li> </ul>"},{"location":"providers/","title":"Providers","text":""},{"location":"providers/#Providers","title":"Providers","text":""},{"location":"providers/#Development-services-and-consulting","title":"Development services and consulting","text":"<p>The following companies offer development services and consulting for sites wishing to switch to OpenStreetMap.</p> <ul> <li>Alantgeo, Australia</li> <li>Camptocamp, Switzerland</li> <li>Carto, US</li> <li>Champs-Libres, Belgium</li> <li>Geoapify, Germany</li> <li>Geofabrik, Germany</li> <li>Geokeo, India</li> <li>GeoJunxion (formerly AND), Netherlands</li> <li>GreenInfo Network, US (public interest groups only)</li> <li>Jawg, France</li> <li>Makina Corpus, France</li> <li>Mapbox, US</li> <li>MapTiler, Switzerland</li> <li>Maptoolkit, Germany/Austria</li> <li>mapz.com by Kober-K\u00fcmmerly+Frey, Germany</li> <li>SmartMaps by YellowMap, Germany</li> <li>Stadia Maps, US</li> <li>Stamen, US</li> <li>Syst\u00e8me D, UK</li> </ul>"},{"location":"providers/#Tile-hosting","title":"Tile hosting","text":"<p>The following companies host OpenStreetMap tiles.</p>"},{"location":"providers/#Allows-free-usage","title":"Allows free usage","text":"<ul> <li>Carto, US</li> <li>Geoapify, Germany</li> <li>Jawg, France</li> <li>Mapbox, US</li> <li>MapTiler, Switzerland</li> <li>MapTiles API, US</li> <li>Maptoolkit, Germany/Austria</li> <li>Nextzen, US</li> <li>SmartMaps by YellowMap, Germany</li> <li>Stadia Maps, US</li> <li>Stamen, US</li> <li>Thunderforest, UK</li> <li>Tracestrack, Netherlands</li> <li>Esri, US</li> </ul>"},{"location":"providers/#Paid-customers-only","title":"Paid customers only","text":"<ul> <li>Champs-Libres, Belgium</li> <li>Geofabrik, Germany</li> <li>Makina Corpus, France</li> <li>mapz.com by Kober-K\u00fcmmerly+Frey, Germany</li> </ul>"},{"location":"the-basics/","title":"The Basics","text":""},{"location":"the-basics/#The-Basics","title":"The Basics","text":""},{"location":"the-basics/#The-challenge","title":"The challenge","text":"<p>Your current map provider gives you two things:</p> <ul> <li>A set of <code>tiles</code> (square map images) that are placed together to make the map</li> <li>A JavaScript API, or equivalent library for mobile apps, to view them</li> </ul> <p>To switch to OpenStreetMap, you\u2019ll need to replace both of these.</p>"},{"location":"the-basics/#The-tiles","title":"The tiles","text":"<p> The map tiles, images of (usually) 256 x 256 pixels each, are drawn (\u201crendered\u201d) from a map database.</p> <p>If you currently use Google Maps, you\u2019ll be using Google\u2019s map tiles, hosted at google.com. Because the OpenStreetMap Foundation is a non-profit organisation with limited resources, you can\u2019t just slot in the tiles from openstreetmap.org as a replacement (see the Tile Usage Policy). Instead, you can:</p> <ul> <li> <p>Generate your own tiles, by downloading the free OSM map database and rendering them;</p> </li> <li> <p>Or use a third-party supplier (some of whom charge, some are free)</p> </li> </ul> <p>The OSM map database is called planet.osm. The full database and regular update files are both available at planet.openstreetmap.org.</p> <p>Rendering your own tiles gives you complete control over their appearance. You can customise the maps to appear any way you like. Alternatively, third-party suppliers have OSM expertise and may have ready-prepared map styles that you can use.</p>"},{"location":"the-basics/#Raster-Tiles-or-Vector-Tiles","title":"Raster Tiles or Vector Tiles","text":"<p>Raster tiles and vector tiles are two distinct approaches to representing and serving map data. Each has its own advantages and use cases. Let's explore the differences between raster tiles and vector tiles to understand their strengths and limitations.</p> <p>Raster Tiles</p> <p>Raster tiles are essentially images or pictures of map data. They are pre-rendered at various zoom levels and stored as discrete image files. Here are some key characteristics of raster tiles:</p> <ul> <li>Raster tiles represent map data as a grid of pixels. Each tile is a static image that depicts a portion of the map at a specific zoom level.</li> <li>Raster tiles have a fixed appearance as they are generated with predefined styles. To change the map's visual representation, new tiles need to be rendered, which can be computationally intensive.</li> <li>Raster tiles can have larger file sizes compared to vector tiles because they store pixel-level details for each tile, resulting in higher storage requirements and slower download times.</li> <li>Raster tiles are well-suited for displaying complex cartographic styles, such as topographic maps or satellite imagery, where fine details are important.</li> <li>Raster tiles offer limited interactivity options, primarily limited to basic zooming and panning. Interacting with individual map features or dynamically modifying the map's appearance is challenging.</li> </ul> <p>Vector Tiles</p> <p>Vector tiles, on the other hand, represent map data as a collection of geometric features, such as points, lines, and polygons. Here are the distinguishing features of vector tiles:</p> <ul> <li>Vector tiles store map data as individual geometries and attributes. These geometries can be scaled, rotated, and restyled in real-time, providing more flexibility and customization options.</li> <li>Vector tiles allow for dynamic styling and modification of map features. Styles can be changed on the fly, including colors, line widths, label placements, and other visual properties.</li> <li>Vector tiles are generally smaller compared to raster tiles. Since they store only geometric data and attributes, they require less storage space and result in faster transfer times.</li> <li>Vector tiles require less bandwidth for transfer, since only the necessary map data is sent to the client. This is particularly advantageous for mobile applications or areas with limited internet connectivity.</li> <li>Vector tiles enable rich interactivity and real-time rendering. Users can interact with individual map features, perform dynamic queries, and apply custom styles based on attributes, offering a more interactive and personalized map experience.</li> </ul>"},{"location":"the-basics/#Use-Cases","title":"Use Cases","text":"<p>The choice between raster tiles and vector tiles depends on the specific use case and requirements. Here are some scenarios where each type excels:</p> <p>Raster Tiles</p> <ul> <li>Aesthetically detailed maps, such as topographic maps or satellite imagery.</li> <li>Static maps that don't require real-time interactivity or frequent updates.</li> <li>Cases where map data is relatively stable and doesn't need frequent modifications or styling changes.</li> </ul> <p>Vector Tiles</p> <ul> <li>Dynamic maps that require real-time customization and interactivity, such as user-driven styling or filtering.</li> <li>Mobile applications or areas with limited bandwidth or storage capacity.</li> <li>Maps with frequently changing data, where updates need to be reflected in real-time.</li> </ul> <p>Both raster tiles and vector tiles have their merits depending on the use case. Raster tiles are suitable for detailed visualization and static map styles, while vector tiles excel in dynamic styling, interactivity, and efficient data transfer. By understanding the differences between these tile types, you can make an informed decision when choosing the most appropriate tile format for your specific mapping needs.</p>"},{"location":"the-basics/#The-APIlibrary","title":"The API/library","text":"<p>There is no single canonical library: you can choose whichever suits your needs best. The two most popular JavaScript libraries for displaying OSM tiles are:</p> <ul> <li> <p>OpenLayers \u2013 powerful and long-established</p> </li> <li> <p>Leaflet \u2013 lightweight and easy-to-learn</p> </li> </ul> <p>APIs are also available for mobile platforms, such as Route-Me (iOS) and osmdroid (Android).</p>"},{"location":"the-basics/#The-licence","title":"The licence","text":"<p>Unlike commercial providers\u2019 data, OpenStreetMap is \u2018open data\u2019. The map data is available to you free-of-charge, with the freedom to copy and modify. OSM\u2019s licence is the Open Database Licence.</p> <p>Your obligations are:</p> <ul> <li> <p>Attribution. You must credit OpenStreetMap with the same prominence that would be expected if you were using a commercial provider. See OSM\u2019s copyright guidelines.</p> </li> <li> <p>Share-Alike. When you use any adapted version of OSM\u2019s map data, or works produced with it, you must also offer that adapted database under the ODbL.</p> </li> </ul>"},{"location":"why-switch/","title":"Why Switch?","text":""},{"location":"why-switch/#Why-Switch","title":"Why Switch?","text":""},{"location":"why-switch/#OpenStreetMap-wont-charge-you","title":"OpenStreetMap won\u2019t charge you","text":"<p>OpenStreetMap is open data. We won\u2019t charge for it\u00a0\u2013 ever. Our licence says that you can always copy our data for free. This data is made into the \u201cmap tiles\u201d that you show on your site. You can do this yourself. Or you can find a specialist to do it: some will charge for this, some won\u2019t. But OpenStreetMap itself will never charge you for the data.</p>"},{"location":"why-switch/#Make-the-maps-suit-you","title":"Make the maps suit you","text":"<p>With other map providers, the map looks how the provider wants it to look. You might be able to do a bit of rudimentary recolouring. But it\u2019s still their style of map, not yours.</p> <p>With OpenStreetMap, you\u2019re in control. Turning the data into tiles can be done any way you like. Want to emphasise cycle routes and play down motorways? No problem. (Most other maps don\u2019t even have cycle routes.) Want to label subway stops but ignore bus stops? Easy.</p>"},{"location":"why-switch/#Rich-accurate-up-to-date-map-data","title":"Rich, accurate, up-to-date map data","text":"<p>Most commercial providers just do streets. OpenStreetMap might have \u201cstreet\u201d in the name, but we do much more. Natural features, bus routes, footpaths and cycleways, administrative boundaries, shops, rivers and canals\u2026 you name it.</p> <p>Commercial providers also only update their data every month, if you\u2019re lucky. New roads and buildings can be missing from their datasets long after they\u2019ve opened. OpenStreetMap data is constantly updated, and you can get those updates every day, every hour or even every minute if you want.</p> <p>All this is contributed by our volunteers (over 1,000,000 signed up so far, and growing every day) \u2013 the people who really know about their area. That\u2019s why OpenStreetMap often shows new developments before any commercial provider.</p>"},{"location":"why-switch/#Its-easier-than-you-think","title":"It\u2019s easier than you think","text":"<p>There\u2019s no limit to what you can do with OpenStreetMap. Yet it needn\u2019t take long to get started. You can switch to OSM in under an hour using tools like the easy Leaflet and a provider of free tiles. Read the rest of this site to get started with the possibilities.</p>"},{"location":"serving-tiles/","title":"Serving your own tiles","text":""},{"location":"serving-tiles/#Serving-your-own-tiles","title":"Serving your own tiles","text":"<p>Tiles from a third-party provider are the simplest way to make the switch to OpenStreetMap, and offer clarity of cost. However, if you\u2019d like to take full control of your destiny, you can render and serve your own tiles. This section explains how.</p>  OpenStreetMap raw data  Your own tile server  Users browsing your website"},{"location":"serving-tiles/#Is-it-for-you","title":"Is it for you?","text":"<p>Both generating and serving tiles incur significant hardware requirements, especially if you need global coverage and regular updates.</p> <p>If you are setting up your own tile server, we recommend that you use Ubuntu Linux or Debian.</p>"},{"location":"serving-tiles/#The-options","title":"The options","text":"<ol> <li> <p>Install locally on Debian 13, Debian 12, Debian 11, Ubuntu 24.04, Ubuntu 22.04, Ubuntu 20.04 or Ubuntu 18.04.</p> </li> <li> <p>Use docker.</p> </li> </ol>"},{"location":"serving-tiles/#System-requirements","title":"System requirements","text":"<p>Serving your own maps is a fairly intensive task. Depending on the size of the area you\u2019re interested in serving and the traffic you expect the system requirements will vary. In general, requirements will range from 10-20GB of storage, 4GB of memory, and a modern dual-core processor for a city-sized region to 1TB of fast storage, 24GB of memory, and a quad-core processor for the entire planet.</p> <p>We would recommend that you begin with extracts of OpenStreetMap data \u2013 for example, a city, county or small country \u2013 rather than spending a week importing the whole world (planet.osm) and then having to restart because of a configuration mistake! You can download extracts from:</p> <ul> <li>Geofabrik (countries and provinces)</li> <li>Protomaps Extracts (minutely-updated cities and small countries)</li> <li>download.openstreetmap.fr</li> </ul>"},{"location":"serving-tiles/#The-toolchain","title":"The toolchain","text":"<p>We use a series of tools for generating and serving map tiles.</p> <p>Apache provides the front end server that handles requests from your web browser and passes the request to mod_tile. The Apache web server can also be used to serve static web content like the HTML, JavaScript, or CSS for your map webpage.</p> <p>Once Apache handles the request from the web user, it passes the request to mod_tile to deal with. Mod_tile checks if the tile has already been created and is ready for use, or whether it needs to be updated due to not being in the cache already. If it is already available and doesn\u2019t need to be rendered, then it immediately sends the tile back to the client. If it does need to be rendered, then it will add it to a \u201crender request\u201d queue, and when it gets to the top of the queue, a tile renderer will render it and send the tile back to the client.</p> <p>We use a tool called Mapnik to render tiles. It pulls requests from the work queue as fast as possible, extracts data from various data sources according to the style information, and renders the tile. This tile is passed back to the client and moves on to the next item in the queue.</p> <p>For rendering, OpenStreetMap data is stored in a PostgreSQL database created by a tool called osm2pgsql. These two pieces work together to allow efficient access to the OpenStreetMap geographic data. It is possible to keep the data in the PostgreSQL database up to date using a stream of diff files produced every 60 seconds on the main OpenStreetMap server.</p>"},{"location":"serving-tiles/manually-building-a-tile-server-debian-11/","title":"Manually building a tile server (Debian 11)","text":""},{"location":"serving-tiles/manually-building-a-tile-server-debian-11/#Manually-building-a-tile-server-Debian-11","title":"Manually building a tile server (Debian 11)","text":"<p>This page describes how to install, setup and configure all the necessary software to operate your own tile server. These step-by-step instructions were written for Debian Linux 11 (bullseye), and were tested in November 2020.</p>"},{"location":"serving-tiles/manually-building-a-tile-server-debian-11/#Software-installation","title":"Software installation","text":"<p>The OSM tile server stack is a collection of programs and libraries that work together to create a tile server. As so often with OpenStreetMap, there are many ways to achieve this goal, and nearly all of the components have alternatives that have various specific advantages and disadvantages. This tutorial describes the most standard version that is similar to that used on the main OpenStreetMap.org tile servers.</p> <p>It consists of 5 main components: <code>mod_tile</code>, <code>renderd</code>, <code>mapnik</code>, <code>osm2pgsql</code> and a <code>postgresql/postgis</code> database. Mod_tile is an apache module that serves cached tiles and decides which tiles need re-rendering\u00a0\u2013 either because they are not yet cached or because they are outdated. Renderd provides a priority queueing system for different sorts of requests to manage and smooth out the load from rendering requests. Mapnik is the software library that does the actual rendering and is used by <code>renderd</code>.</p> <p>Thanks to the work done by the Debian maintainers to incorporate the latest versions of these packages into Debian 11, these instructions are somewhat shorter than previous versions.</p> <p>These instructions are have been written and tested against a newly-installed Debian 11 server. If you have got other versions of some software already installed (perhaps you upgraded from an earlier version, or you set up some PPAs to load from) then you may need to make some adjustments.</p> <p>In order to build these components, a variety of dependencies need to be installed first.</p> <p>Debian doesn't come with <code>sudo</code> by default, so we'll need to log on as <code>root</code> to do the first part:</p> <pre><code>su -\napt install \\\n    sudo screen locate libapache2-mod-tile \\\n    renderd git tar unzip wget bzip2 apache2 \\\n    lua5.1 mapnik-utils python3-mapnik \\\n    python3-psycopg2 python3-yaml gdal-bin \\\n    npm fonts-noto-cjk fonts-noto-hinted \\\n    fonts-noto-unhinted ttf-unifont\n</code></pre> <p>While still logged on as root we'll ensure that the main user account that we are using can <code>sudo</code> to root. You'll want to change <code>youruseraccount</code> to whatever account you are using in the line below. Don't try and do everything below as <code>root</code>; it won't work.</p> <pre><code>usermod -aG sudo youruseraccount\nexit\n</code></pre> <p>That returns to your user account. Logoff and logon again, and then:</p> <pre><code>sudo whoami\n</code></pre> <p>That should return <code>root</code>.</p> <p>At this point, a couple of new accounts have been added. You can see them with <code>tail /etc/passwd</code>. <code>postgres</code> is used for managing the databases that we use to hold data for rendering. <code>_renderd</code> is used for the <code>renderd</code> daemon, and we'll need to make sure lots of the commands below are run as that user.</p> <p>Now you need to create a postgis database. The defaults of various programs assume the database is called <code>gis</code> and we will use the same convention in this tutorial, although this is not necessary. Note that <code>_renderd</code> below matches the user that the <code>renderd</code> daemon will run from.</p> <pre><code>sudo -u postgres -i\ncreateuser _renderd\ncreatedb -E UTF8 -O _renderd gis\n</code></pre> <p>While still working as the <code>postgres</code> user, set up PostGIS on the PostgreSQL database:</p> <pre><code>psql\n</code></pre> <p>(that'll put you at a <code>postgres=#</code> prompt)</p> <pre><code>\\c gis\n</code></pre> <p>(it'll answer \"You are now connected to database 'gis' as user 'postgres'\".)</p> <pre><code>CREATE EXTENSION postgis;\n</code></pre> <p>(it'll answer CREATE EXTENSION)</p> <pre><code>CREATE EXTENSION hstore;\n</code></pre> <p>(it'll answer CREATE EXTENSION)</p> <pre><code>ALTER TABLE geometry_columns OWNER TO _renderd;\n</code></pre> <p>(it'll answer ALTER TABLE)</p> <pre><code>ALTER TABLE spatial_ref_sys OWNER TO _renderd;\n</code></pre> <p>(it'll answer ALTER TABLE)</p> <pre><code>\\q\n</code></pre> <p>(it'll exit psql and go back to a normal Linux prompt)</p> <pre><code>exit\n</code></pre> <p>(to exit back to be the user that we were before we did <code>sudo -u postgres -i</code> above)</p>"},{"location":"serving-tiles/manually-building-a-tile-server-debian-11/#Mapnik","title":"Mapnik","text":"<p>Mapnik was installed above. We'll check that it has been installed correctly by doing this:</p> <pre><code>python3\n&gt;&gt;&gt; import mapnik\n&gt;&gt;&gt;\n</code></pre> <p>If python replies with the second chevron prompt <code>&gt;&gt;&gt;</code> and without errors, then Mapnik library was found by Python. Congratulations! You can leave Python with this command:</p> <pre><code>&gt;&gt;&gt; quit()\n</code></pre>"},{"location":"serving-tiles/manually-building-a-tile-server-debian-11/#Stylesheet-configuration","title":"Stylesheet configuration","text":"<p>Now that all of the necessary software is installed, you will need to download and configure a stylesheet.</p> <p>The style we'll use here is the one that use by the \"standard\" map on the openstreetmap.org website. It's chosen because it's well documented, and should work anywhere in the world (including in places with non-latin placenames). There are a couple of downsides though - it's very much a compromise designed to work globally, and it's quite complicated to understand and modify, should you need to do that.</p> <p>The home of \"OpenStreetMap Carto\" on the web is https://github.com/gravitystorm/openstreetmap-carto/, and it has it's own installation instructions at https://github.com/gravitystorm/openstreetmap-carto/blob/master/INSTALL.md, although we'll cover everything that needs to be done here.</p> <p>Here we're assuming that we're storing the stylesheet details in a directory below <code>~/src</code> below the home directory of the whichever non-root account you are using:</p> <pre><code>mkdir ~/src\ncd ~/src\ngit clone https://github.com/gravitystorm/openstreetmap-carto\ncd openstreetmap-carto\ngit pull --all\ngit switch --detach v5.9.0\n</code></pre> <p>The \"git switch\" is needed because that's the latest release that you can see at OpenStreetMap, but OSM Carto is in the process of moving to a different database format. See OSM Carto's INSTALL.md for the newer version.</p> <p>Next, we'll install a suitable version of the <code>carto</code> compiler.</p> <pre><code>sudo npm install -g carto\ncarto -v\n</code></pre> <p>That should respond with a number that is at least as high as:</p> <pre><code>1.2.0\n</code></pre> <p>Then we convert the carto project into something that Mapnik can understand:</p> <pre><code>carto project.mml &gt; mapnik.xml\n</code></pre> <p>You now have a Mapnik XML stylesheet at <code>/home/youraccountname/src/openstreetmap-carto/mapnik.xml</code>.</p>"},{"location":"serving-tiles/manually-building-a-tile-server-debian-11/#Loading-data","title":"Loading data","text":"<p>Initially, we'll load only a small amount of test data. Other download locations are available, but <code>download.geofabrik.de</code> has a wide range of options. In this example we'll download the data for Azerbaijan, which is currently about 32Mb.</p> <p>Browse to https://download.geofabrik.de/asia/azerbaijan.html and note the \"This file was last modified\" date (e.g. \"2020-11-13T21:42:03Z\"). We'll need that later if we want to update the database with people's subsequent changes to OpenStreetMap. Download it as follows:</p> <pre><code>mkdir ~/data\ncd ~/data\nwget https://download.geofabrik.de/asia/azerbaijan-latest.osm.pbf\n</code></pre> <p>The following command will insert the OpenStreetMap data you downloaded earlier into the database. This step is very disk I/O intensive; importing the full planet might take many hours, days or weeks depending on the hardware. For smaller extracts the import time is much faster accordingly, and you may need to experiment with different <code>-C</code> values to fit within your machine's available memory. Note that the <code>_renderd</code> user is used for this process.</p> <pre><code>sudo -u _renderd \\\n    osm2pgsql -d gis --create --slim  -G --hstore \\\n    --tag-transform-script \\\n        ~/src/openstreetmap-carto/openstreetmap-carto.lua \\\n    -C 2500 --number-processes 1 \\\n    -S ~/src/openstreetmap-carto/openstreetmap-carto.style \\\n    ~/data/azerbaijan-latest.osm.pbf\n</code></pre> <p>It's worth explaining a little bit about what those options mean:</p> <code>-d gis</code> The database to work with (<code>gis</code> used to be the default; now it must be specified). <code>--create</code> Load data into an empty database rather than trying to append to an existing one. <code>--slim</code> osm2pgsql can use different table layouts; <code>slim</code> tables works for rendering. <code>-G</code> Determines how multipolygons are processed. <code>--hstore</code> Allows tags for which there are no explicit database columns to be used for rendering. <code>--tag-transform-script ~/src/openstreetmap-carto/openstreetmap-carto.lua</code> Defines the lua script used for tag processing. This an easy is a way to process OSM tags before the style itself processes them, making the style logic potentially much simpler. <code>-C 2500</code> Allocate 2.5 Gb of memory to osm2pgsql to the import process. If you have less memory you could try a smaller number, and if the import process is killed because it runs out of memory you'll need to try a smaller number or a smaller OSM extract. <code>--number-processes 1</code> Use 1 CPU. If you have more cores available you can use more. <code>-S ~/src/openstreetmap-carto/openstreetmap-carto.style</code> Create the database columns in this file (actually these are unchanged from \"openstreetmap-carto\") <code>~/data/azerbaijan-latest.osm.pbf</code> The final argument is the data file to load. <p>That command will complete with something like \"Osm2pgsql took 238s overall\".</p>"},{"location":"serving-tiles/manually-building-a-tile-server-debian-11/#Creating-indexes","title":"Creating indexes","text":"<p>Since version v5.3.0, some extra indexes now need to be applied manually:</p> <pre><code>cd ~/src/openstreetmap-carto/\nsudo -u _renderd psql -d gis -f indexes.sql\n</code></pre> <p>It should respond with <code>CREATE INDEX</code> 16 times.</p>"},{"location":"serving-tiles/manually-building-a-tile-server-debian-11/#Database-functions","title":"Database functions","text":"<p>In version 5.9.0 of \u201cOSM Carto\u201d (released October 2024), some functions need to be loaded into the database manually. These can be added / re-loaded at any point using:</p> <pre><code>cd ~/src/openstreetmap-carto/\nsudo -u _renderd psql -d gis -f functions.sql\n</code></pre>"},{"location":"serving-tiles/manually-building-a-tile-server-debian-11/#Shapefile-download","title":"Shapefile download","text":"<p>Although most of the data used to create the map is directly from the OpenStreetMap data file that you downloaded above, some shapefiles for things like low-zoom country boundaries are still needed. To download and index these, using the same account as we used previously:</p> <pre><code>cd ~/src/openstreetmap-carto/\nmkdir data\nsudo chown _renderd data\nsudo -u _renderd scripts/get-external-data.py\n</code></pre> <p>This process involves a sizable download and may take some time - not much will appear on the screen when it is running. Some data will go directly into the database, and some will go into a \u201cdata\u201d directory below \u201copenstreetmap-carto\u201d. If there is a problem here, then the Natural Earth data may have moved - look at this issue and other issues at Natural Earth for more details. If you need to change the Natural Earth download location your copy of this file is the one to edit.</p>"},{"location":"serving-tiles/manually-building-a-tile-server-debian-11/#Fonts","title":"Fonts","text":"<p>In version v5.6.0 and above of Carto, fonts need to be installed manually:</p> <pre><code>cd ~/src/openstreetmap-carto/\nscripts/get-fonts.sh\n</code></pre> <p>Our test data area (Azerbaijan) was chosen both because it was a small area and because some place names in that region have names containing non-latin characters.</p>"},{"location":"serving-tiles/manually-building-a-tile-server-debian-11/#Setting-up-your-webserver","title":"Setting up your webserver","text":""},{"location":"serving-tiles/manually-building-a-tile-server-debian-11/#Configure-renderd","title":"Configure renderd","text":"<p>The config file for <code>renderd</code> on Debian 11 is <code>/etc/renderd.conf</code>. Edit that with a text editor such as nano:</p> <pre><code>sudo nano /etc/renderd.conf\n</code></pre> <p>Add a section like the following at the end:</p> <pre><code>[s2o]\nURI=/hot/\nTILEDIR=/var/lib/mod_tile\nXML=/home/accountname/src/openstreetmap-carto/mapnik.xml\nHOST=localhost\nTILESIZE=256\nMAXZOOM=20\n</code></pre> <p>The location of the XML file <code>/home/accountname/src/openstreetmap-carto/mapnik.xml</code> will need to be changed to the actual location on your system. You can change <code>[s2o]</code> and <code>URI=/hot/</code> as well if you like. If you want to render more than one set of tiles from one server you can - just add another section like <code>[s2o]</code> with a different name referring to a different map style. If you want it to refer to a different database to the default <code>gis</code> you can, but that's out of the scope of this document. If you've only got 2Gb or so of memory, you'll also want to reduce <code>num_threads</code> to 2. <code>URI=/hot/</code> was chosen so that the tiles generated here can more easily be used in place of the HOT tile layer at OpenStreetMap.org. You can use something else here, but <code>/hot/</code> is as good as anything.</p> <p>When this guide was first written, the version of Mapnik provided by Debian was 3.0, and the <code>plugins_dir</code> setting in the <code>[mapnik]</code> part of the file was <code>/usr/lib/mapnik/3.0/input</code>. At the time of writing that's changed to 3.1, and so the relevant value is <code>/usr/lib/mapnik/3.1/input</code>. It may change again in the future. If an error occurs when trying to render tiles such as this:</p> <p>An error occurred while loading the map layer 's2o': Could not create datasource for type: 'postgis' (no datasource plugin directories have been successfully registered) encountered during parsing of layer 'landcover-low-zoom'</p> <p>then look in <code>/usr/lib/mapnik</code> and see what version directories there are, and also look in <code>/usr/lib/mapnik/(version)/input</code> to make sure that a file <code>postgis.input</code> exists there.</p>"},{"location":"serving-tiles/manually-building-a-tile-server-debian-11/#Configuring-Apache","title":"Configuring Apache","text":"<pre><code>sudo mkdir /var/lib/mod_tile\nsudo chown _renderd /var/lib/mod_tile\n</code></pre> <p>After doing so, restart <code>renderd</code>:</p> <pre><code>sudo /etc/init.d/renderd restart\n</code></pre> <p>If you look at <code>/var/log/syslog</code>, you should see messages from the <code>renderd</code> service. There will initially be some font errors - don't worry about those for now. Next:</p> <pre><code>sudo /etc/init.d/apache2 restart\n</code></pre> <p>In <code>syslog</code> you should see a message like:</p> <pre><code>Nov 14 14:24:55 servername apachectl[19119]: [Sat Nov 14 14:24:55.526717 2020] [tile:notice] [pid 19119:tid 140525098995008] Loading tile config s2o at /hot/ for zooms 0 - 20 from tile directory /var/lib/mod_tile with extension .png and mime type image/png\n</code></pre> <p>Next, point a web browser at <code>http://your.server.ip.address/index.html</code> (change <code>your.server.ip.address</code> to your actual server address). You should see \"Apache2 Debian Default Page\".</p> <p>Tip</p> <p>If you don't know what IP address it will have been assigned, you can likely use <code>ifconfig</code> to find out \u2013 if the network configuration is not too complicated it'll probably be the <code>inet addr</code> that is not <code>127.0.0.1</code>.</p> <p>If you're using a server at a hosting provider then it's likely that your server's internal address will be different to the external address that has been allocated to you, but that external IP address will have already been sent to you, and it'll probably be the one that you're accessing the server on currently.</p> <p>Note that this is just the <code>http</code> (port 80) site \u2013 you'll need to do a little bit more Apache configuration if you want to enable <code>https</code>, but that's out of the scope of these instructions. However, if you use \"Let's Encrypt\" to issue certificates, then the process of setting that up can also configure the Apache HTTPS site as well.</p> <p>Next, point a web browser at: <code>http://your.server.ip.address/hot/0/0/0.png</code></p> <p>You'll need to edit that of course if you changed <code>URI=/hot/</code> above. You should see a small map of the world. If you don't, investigate the errors that it displays. These will most likely be permissions errors, or perhaps related to accidentally missing some steps from the instructions above. If you don't get a tile and get other errors again, save the full output in a Pastebin and ask a question about the problem somewhere like <code>community.openstreetmap.org</code>.</p>"},{"location":"serving-tiles/manually-building-a-tile-server-debian-11/#Viewing-tiles","title":"Viewing tiles","text":"<p>In order to see tiles, we\u2019ll cheat and use an html file <code>sample_leaflet.html</code> that allows you to view a very simple map. To obtain this:</p> <pre><code>cd /var/www/html\nsudo wget https://raw.githubusercontent.com/SomeoneElseOSM/mod_tile/switch2osm/extra/sample_leaflet.html\nsudo nano sample_leaflet.html\n</code></pre> <p>Edit so that the IP address matches <code>your.server.address</code> rather than just saying <code>127.0.0.1</code>. That should allow you to access this server from others. Then browse to <code>http://your.server.address/sample_leaflet.html</code>.</p> <p>The initial map display will take a little while. You'll be able to zoom in and out, but depending on server speed some tiles may initially display as grey because they can't be rendered in time for the browser. However, once done they\u2019ll be ready for the next time that they are needed. If you look in <code>/var/log/syslog</code> you should see requests for tiles.</p> <p>If desired, you can increase the setting <code>ModTileMissingRequestTimeout</code> in <code>/etc/apache2/conf-available/renderd.conf</code> from 10 seconds to perhaps 30 or 60, in order to wait longer for tiles to be rendered in the background before a grey tile is given to the user. Make sure you <code>sudo service renderd restart</code> and <code>sudo service apache2 restart</code> after changing it.</p> <p>Congratulations. Head over to the using tiles section to create a map that uses your new tile server.</p>"},{"location":"serving-tiles/manually-building-a-tile-server-debian-12/","title":"Manually building a tile server (Debian 12)","text":""},{"location":"serving-tiles/manually-building-a-tile-server-debian-12/#Manually-building-a-tile-server-Debian-12","title":"Manually building a tile server (Debian 12)","text":"<p>This page describes how to install, setup and configure all the necessary software to operate your own tile server. These step-by-step instructions were written for Debian Linux 12 (bookworm), and were tested in July 2023.</p>"},{"location":"serving-tiles/manually-building-a-tile-server-debian-12/#Software-installation","title":"Software installation","text":"<p>The OSM tile server stack is a collection of programs and libraries that work together to create a tile server. As so often with OpenStreetMap, there are many ways to achieve this goal, and nearly all of the components have alternatives that have various specific advantages and disadvantages. This tutorial describes the most standard version that is similar to that used on the main OpenStreetMap.org tile servers.</p> <p>It consists of 5 main components: <code>mod_tile</code>, <code>renderd</code>, <code>mapnik</code>, <code>osm2pgsql</code> and a <code>postgresql/postgis</code> database. Mod_tile is an apache module that serves cached tiles and decides which tiles need re-rendering\u00a0\u2013 either because they are not yet cached or because they are outdated. Renderd provides a priority queueing system for different sorts of requests to manage and smooth out the load from rendering requests. Mapnik is the software library that does the actual rendering and is used by <code>renderd</code>.</p> <p>These instructions are have been written and tested against a newly-installed Debian 12 server. If you have got other versions of some software already installed (perhaps you upgraded from an earlier version, or you set up some PPAs to load from) then you may need to make some adjustments.</p> <p>In order to build these components, a variety of dependencies need to be installed first.</p> <p>Debian doesn't come with <code>sudo</code> by default, so we'll need to log on as <code>root</code> to do the first part:</p> <pre><code>su -\napt install \\\n    sudo screen locate libapache2-mod-tile \\\n    renderd git tar unzip wget bzip2 apache2 \\\n    lua5.1 mapnik-utils python3-mapnik \\\n    python3-psycopg2 python3-yaml gdal-bin \\\n    node-carto postgresql postgresql-contrib \\\n    postgis postgresql-15-postgis-3 \\\n    postgresql-15-postgis-3-scripts osm2pgsql \\\n    net-tools curl\n</code></pre> <p>While still logged on as root we'll ensure that the main user account that we are using can <code>sudo</code> to root. You'll want to change <code>youruseraccount</code> to whatever account you are using in the line below. Don't try and do everything below as <code>root</code>; it won't work.</p> <pre><code>usermod -aG sudo youruseraccount\nexit\n</code></pre> <p>That returns to your user account. Logoff and logon again, and then:</p> <pre><code>sudo whoami\n</code></pre> <p>That should return <code>root</code>.</p> <p>At this point, a couple of new accounts have been added. You can see them with <code>tail /etc/passwd</code>. <code>postgres</code> is used for managing the databases that we use to hold data for rendering. <code>_renderd</code> is used for the <code>renderd</code> daemon, and we'll need to make sure lots of the commands below are run as that user.</p> <p>Now you need to create a postgis database. The defaults of various programs assume the database is called <code>gis</code> and we will use the same convention in this tutorial, although this is not necessary. Note that <code>_renderd</code> below matches the user that the <code>renderd</code> daemon will run from.</p> <pre><code>sudo -u postgres -i\ncreateuser _renderd\ncreatedb -E UTF8 -O _renderd gis\n</code></pre> <p>While still working as the <code>postgres</code> user, set up PostGIS on the PostgreSQL database:</p> <pre><code>psql\n</code></pre> <p>(that'll put you at a <code>postgres=#</code> prompt)</p> <pre><code>\\c gis\n</code></pre> <p>(it'll answer \"You are now connected to database 'gis' as user 'postgres'\".)</p> <pre><code>CREATE EXTENSION postgis;\n</code></pre> <p>(it'll answer CREATE EXTENSION)</p> <pre><code>CREATE EXTENSION hstore;\n</code></pre> <p>(it'll answer CREATE EXTENSION)</p> <pre><code>ALTER TABLE geometry_columns OWNER TO _renderd;\n</code></pre> <p>(it'll answer ALTER TABLE)</p> <pre><code>ALTER TABLE spatial_ref_sys OWNER TO _renderd;\n</code></pre> <p>(it'll answer ALTER TABLE)</p> <pre><code>\\q\n</code></pre> <p>(it'll exit psql and go back to a normal Linux prompt)</p> <pre><code>exit\n</code></pre> <p>(to exit back to be the user that we were before we did <code>sudo -u postgres -i</code> above)</p>"},{"location":"serving-tiles/manually-building-a-tile-server-debian-12/#Mapnik","title":"Mapnik","text":"<p>Mapnik was installed above. We'll check that it has been installed correctly by doing this:</p> <pre><code>python3\n&gt;&gt;&gt; import mapnik\n&gt;&gt;&gt;\n</code></pre> <p>If python replies with the second chevron prompt <code>&gt;&gt;&gt;</code> and without errors, then Mapnik library was found by Python. Congratulations! You can leave Python with this command:</p> <pre><code>&gt;&gt;&gt; quit()\n</code></pre>"},{"location":"serving-tiles/manually-building-a-tile-server-debian-12/#Stylesheet-configuration","title":"Stylesheet configuration","text":"<p>Now that all of the necessary software is installed, you will need to download and configure a stylesheet.</p> <p>The style we'll use here is the one that use by the \"standard\" map on the openstreetmap.org website. It's chosen because it's well documented, and should work anywhere in the world (including in places with non-latin placenames). There are a couple of downsides though - it's very much a compromise designed to work globally, and it's quite complicated to understand and modify, should you need to do that.</p> <p>The home of \"OpenStreetMap Carto\" on the web is https://github.com/gravitystorm/openstreetmap-carto/, and it has it's own installation instructions at https://github.com/gravitystorm/openstreetmap-carto/blob/master/INSTALL.md, although we'll cover everything that needs to be done here.</p> <p>Here we're assuming that we're storing the stylesheet details in a directory below <code>~/src</code> below the home directory of the whichever non-root account you are using:</p> <pre><code>mkdir ~/src\ncd ~/src\ngit clone https://github.com/gravitystorm/openstreetmap-carto\ncd openstreetmap-carto\ngit pull --all\ngit switch --detach v5.9.0\n</code></pre> <p>The \"git switch\" is needed because that's the latest release that you can see at OpenStreetMap, but OSM Carto is in the process of moving to a different database format. See OSM Carto's INSTALL.md for the newer version.</p> <p>Next, we'll check that we have installed a suitable version of the <code>carto</code> compiler.</p> <pre><code>carto -v\n</code></pre> <p>That should respond with a number that is at least as high as:</p> <pre><code>1.2.0\n</code></pre> <p>Then we convert the carto project into something that Mapnik can understand:</p> <pre><code>carto project.mml &gt; mapnik.xml\n</code></pre> <p>You now have a Mapnik XML stylesheet at <code>/home/youraccountname/src/openstreetmap-carto/mapnik.xml</code>.</p>"},{"location":"serving-tiles/manually-building-a-tile-server-debian-12/#Loading-data","title":"Loading data","text":"<p>Initially, we'll load only a small amount of test data. Other download locations are available, but <code>download.geofabrik.de</code> has a wide range of options. In this example we'll download the data for Azerbaijan, which is currently about 32Mb.</p> <p>Browse to https://download.geofabrik.de/asia/azerbaijan.html and note the \"This file was last modified\" date (e.g. \"2020-11-13T21:42:03Z\"). We'll need that later if we want to update the database with people's subsequent changes to OpenStreetMap. Download it as follows:</p> <pre><code>mkdir ~/data\ncd ~/data\nwget https://download.geofabrik.de/asia/azerbaijan-latest.osm.pbf\n</code></pre> <p>Next, we need to make sure that the <code>_renderd</code> user can access the stylesheet. In order to do this it needs access to wherever you downloaded it, and by default it won't have access to your home directory. If it's in <code>src</code> below your user account then</p> <pre><code>chmod o+rx ~\n</code></pre> <p>will work. If you don't want to do this you can move it and amend references to the file locations in subsequent commands.</p> <p>The following command will insert the OpenStreetMap data you downloaded earlier into the database. This step is very disk I/O intensive; importing the full planet might take many hours, days or weeks depending on the hardware. For smaller extracts the import time is much faster accordingly, and you may need to experiment with different <code>-C</code> values to fit within your machine's available memory. Note that the <code>_renderd</code> user is used for this process.</p> <pre><code>sudo -u _renderd \\\n    osm2pgsql -d gis --create --slim  -G --hstore \\\n    --tag-transform-script \\\n        ~/src/openstreetmap-carto/openstreetmap-carto.lua \\\n    -C 2500 --number-processes 1 \\\n    -S ~/src/openstreetmap-carto/openstreetmap-carto.style \\\n    ~/data/azerbaijan-latest.osm.pbf\n</code></pre> <p>It's worth explaining a little bit about what those options mean:</p> <code>-d gis</code> The database to work with (<code>gis</code> used to be the default; now it must be specified). <code>--create</code> Load data into an empty database rather than trying to append to an existing one. <code>--slim</code> osm2pgsql can use different table layouts; <code>slim</code> tables works for rendering. <code>-G</code> Determines how multipolygons are processed. <code>--hstore</code> Allows tags for which there are no explicit database columns to be used for rendering. <code>--tag-transform-script ~/src/openstreetmap-carto/openstreetmap-carto.lua</code> Defines the lua script used for tag processing. This an easy is a way to process OSM tags before the style itself processes them, making the style logic potentially much simpler. <code>-C 2500</code> Allocate 2.5 Gb of memory to osm2pgsql to the import process. If you have less memory you could try a smaller number, and if the import process is killed because it runs out of memory you'll need to try a smaller number or a smaller OSM extract. <code>--number-processes 1</code> Use 1 CPU. If you have more cores available you can use more. <code>-S ~/src/openstreetmap-carto/openstreetmap-carto.style</code> Create the database columns in this file (actually these are unchanged from \"openstreetmap-carto\") <code>~/data/azerbaijan-latest.osm.pbf</code> The final argument is the data file to load. <p>That command will complete with something like \"Osm2pgsql took 238s overall\".</p>"},{"location":"serving-tiles/manually-building-a-tile-server-debian-12/#Creating-indexes","title":"Creating indexes","text":"<p>Since version v5.3.0, some extra indexes now need to be applied manually:</p> <pre><code>cd ~/src/openstreetmap-carto/\nsudo -u _renderd psql -d gis -f indexes.sql\n</code></pre> <p>It should respond with <code>CREATE INDEX</code> 16 times.</p>"},{"location":"serving-tiles/manually-building-a-tile-server-debian-12/#Database-functions","title":"Database functions","text":"<p>In version 5.9.0 of \u201cOSM Carto\u201d (released October 2024), some functions need to be loaded into the database manually. These can be added / re-loaded at any point using:</p> <pre><code>cd ~/src/openstreetmap-carto/\nsudo -u _renderd psql -d gis -f functions.sql\n</code></pre>"},{"location":"serving-tiles/manually-building-a-tile-server-debian-12/#Shapefile-download","title":"Shapefile download","text":"<p>Although most of the data used to create the map is directly from the OpenStreetMap data file that you downloaded above, some shapefiles for things like low-zoom country boundaries are still needed. To download and index these, using the same account as we used previously:</p> <pre><code>cd ~/src/openstreetmap-carto/\nmkdir data\nsudo chown _renderd data\nsudo -u _renderd scripts/get-external-data.py\n</code></pre> <p>This process involves a sizable download and may take some time - not much will appear on the screen when it is running. Some data will go directly into the database, and some will go into a \u201cdata\u201d directory below \u201copenstreetmap-carto\u201d. If there is a problem here, then the Natural Earth data may have moved - look at this issue and other issues at Natural Earth for more details. If you need to change the Natural Earth download location your copy of this file is the one to edit.</p>"},{"location":"serving-tiles/manually-building-a-tile-server-debian-12/#Fonts","title":"Fonts","text":"<p>In version v5.6.0 and above of Carto, fonts need to be installed manually:</p> <pre><code>cd ~/src/openstreetmap-carto/\nscripts/get-fonts.sh\n</code></pre> <p>Due to a current issue you might get an error at the very end of that, but it won't adversely affect the display of any current OSM data.</p> <p>Our test data area (Azerbaijan) was chosen both because it was a small area and because some place names in that region have names containing non-latin characters.</p>"},{"location":"serving-tiles/manually-building-a-tile-server-debian-12/#Setting-up-your-webserver","title":"Setting up your webserver","text":""},{"location":"serving-tiles/manually-building-a-tile-server-debian-12/#Configure-renderd","title":"Configure renderd","text":"<p>The config file for <code>renderd</code> on Debian 12 is <code>/etc/renderd.conf</code>. Edit that with a text editor such as nano:</p> <pre><code>sudo nano /etc/renderd.conf\n</code></pre> <p>Add a section like the following at the end:</p> <pre><code>[s2o]\nURI=/hot/\nTILEDIR=/var/lib/mod_tile\nXML=/home/accountname/src/openstreetmap-carto/mapnik.xml\nHOST=localhost\nTILESIZE=256\nMAXZOOM=20\n</code></pre> <p>The location of the XML file <code>/home/accountname/src/openstreetmap-carto/mapnik.xml</code> will need to be changed to the actual location on your system. You can change <code>[s2o]</code> and <code>URI=/hot/</code> as well if you like. If you want to render more than one set of tiles from one server you can - just add another section like <code>[s2o]</code> with a different name referring to a different map style. If you want it to refer to a different database to the default <code>gis</code> you can, but that's out of the scope of this document. If you've only got 2Gb or so of memory, you'll also want to reduce <code>num_threads</code> to 2. <code>URI=/hot/</code> was chosen so that the tiles generated here can more easily be used in place of the HOT tile layer at OpenStreetMap.org. You can use something else here, but <code>/hot/</code> is as good as anything.</p> <p>The version of Mapnik provided by Debian 12 at release was 3.1, and therefore the <code>plugins_dir</code> setting in the <code>[mapnik]</code> part of the file was <code>/usr/lib/mapnik/3.1/input</code>. This may change in the future. If an error occurs when trying to render tiles such as this:</p> <p>An error occurred while loading the map layer 's2o': Could not create datasource for type: 'postgis' (no datasource plugin directories have been successfully registered) encountered during parsing of layer 'landcover-low-zoom'</p> <p>then look in <code>/usr/lib/mapnik</code> and see what version directories there are, and also look in <code>/usr/lib/mapnik/(version)/input</code> to make sure that a file <code>postgis.input</code> exists there.</p> <p>Now that we've told <code>renderd</code> how to react to tile rendering requests we need to tell the Apache web server to send them.  Unfortunately, the configuration for this has been removed from recent versions of <code>mod_tile</code>. It can, however, currently be installed from here</p> <pre><code>cd /etc/apache2/conf-available/\nsudo wget https://raw.githubusercontent.com/openstreetmap/mod_tile/python-implementation/etc/apache2/renderd.conf\nsudo a2enconf renderd\nsudo systemctl reload apache2\n</code></pre>"},{"location":"serving-tiles/manually-building-a-tile-server-debian-12/#Making-sure-that-you-can-see-debug-messages","title":"Making sure that you can see debug messages","text":"<p>It'd be really useful at this point to be able to see the output from the tile rendering process, including any errors. By default, with recent <code>mod_tile</code> versions, this is turned off. To turn it on:</p> <pre><code>sudo nano /usr/lib/systemd/system/renderd.service\n</code></pre> <p>If it's not already there below <code>[Service]</code>, add:</p> <pre><code>Environment=G_MESSAGES_DEBUG=all\n</code></pre> <p>Then run these commands to reload the configuration:</p> <pre><code>sudo systemctl daemon-reload\nsudo systemctl restart renderd\nsudo systemctl restart apache2\n</code></pre>"},{"location":"serving-tiles/manually-building-a-tile-server-debian-12/#Configuring-Apache","title":"Configuring Apache","text":"<pre><code>sudo mkdir /var/lib/mod_tile\nsudo chown _renderd /var/lib/mod_tile\n</code></pre> <p>After doing so, restart <code>renderd</code>:</p> <pre><code>sudo /etc/init.d/renderd restart\n</code></pre> <p>If you look at the system log, you should see messages from the <code>renderd</code> service. Note that on Debian 12, messages are no longer written to <code>/var/log/syslog</code> by default - to follow messages as they are written, do this:</p> <pre><code>sudo journalctl -ef\n</code></pre> <p>See here: for more details.</p> <pre><code>sudo /etc/init.d/apache2 restart\n</code></pre> <p>Using <code>sudo journalctl -ef</code> you should see a line such as:</p> <pre><code>Jul 01 01:50:28 h4-debian-16gb-fsn1-1 apachectl[34625]: [Sat Jul 01 01:50:28.260957 2023] [tile:notice] [pid 34625:tid 281473357369376] Loading tile config s2o at /hot/ for zooms 0 - 20 from tile directory /var/cache/renderd/tiles with extension .png and mime type image/png\n</code></pre> <p>If this does not appear it probably means that the configuration file for mod_tile <code>/etc/apache2/conf-available/renderd.conf</code> is either not set up or enabled properly - see the <code>wget</code> section above.</p> <p>Next, point a web browser at <code>http://your.server.ip.address/index.html</code> (change <code>your.server.ip.address</code> to your actual server address). You should see \"Apache2 Debian Default Page\".</p> <p>Tip</p> <p>If you don't know what IP address it will have been assigned, you can likely use <code>ifconfig</code> to find out \u2013 if the network configuration is not too complicated it'll probably be the <code>inet addr</code> that is not <code>127.0.0.1</code>.</p> <p>If you're using a server at a hosting provider then it's likely that your server's internal address will be different to the external address that has been allocated to you, but that external IP address will have already been sent to you, and it'll probably be the one that you're accessing the server on currently.</p> <p>Note that this is just the <code>http</code> (port 80) site \u2013 you'll need to do a little bit more Apache configuration if you want to enable <code>https</code>, but that's out of the scope of these instructions. However, if you use \"Let's Encrypt\" to issue certificates, then the process of setting that up can also configure the Apache HTTPS site as well.</p> <p>Next, point a web browser at: <code>http://your.server.ip.address/hot/0/0/0.png</code></p> <p>You'll need to edit that of course if you changed <code>URI=/hot/</code> above. You should see a small map of the world. If you don't, investigate the errors that it displays. These will most likely be permissions errors, or perhaps related to accidentally missing some steps from the instructions above. If you don't get a tile and get other errors again, save the full output in a Pastebin and ask a question about the problem somewhere like <code>community.openstreetmap.org</code>.</p>"},{"location":"serving-tiles/manually-building-a-tile-server-debian-12/#Viewing-tiles","title":"Viewing tiles","text":"<p>In order to see tiles, we\u2019ll cheat and use an html file <code>sample_leaflet.html</code> that allows you to view a very simple map. To obtain this:</p> <pre><code>cd /var/www/html\nsudo wget https://raw.githubusercontent.com/SomeoneElseOSM/mod_tile/switch2osm/extra/sample_leaflet.html\nsudo nano sample_leaflet.html\n</code></pre> <p>Edit so that the IP address matches <code>your.server.address</code> rather than just saying <code>127.0.0.1</code>. That should allow you to access this server from others. Then browse to <code>http://your.server.address/sample_leaflet.html</code>.</p> <p>The initial map display will take a little while. You'll be able to zoom in and out, but depending on server speed some tiles may initially display as grey because they can't be rendered in time for the browser. However, once done, they\u2019ll be ready for the next time that they are needed. If you look in the system log you should see requests for tiles.</p> <p>If desired, you can increase the setting <code>ModTileRequestTimeout</code> and <code>ModTileMissingRequestTimeout</code> in <code>/etc/apache2/conf-available/renderd.conf</code> from 3 and 10 seconds to perhaps 30 or 60, in order to wait longer for tiles to be rendered in the background before a grey tile is given to the user. Make sure you <code>sudo service renderd restart</code> and <code>sudo service apache2 restart</code> after changing it.</p> <p>Congratulations. Head over to the using tiles section to create a map that uses your new tile server.</p>"},{"location":"serving-tiles/manually-building-a-tile-server-debian-13/","title":"Manually building a tile server (Debian 13)","text":""},{"location":"serving-tiles/manually-building-a-tile-server-debian-13/#Manually-building-a-tile-server-Debian-13","title":"Manually building a tile server (Debian 13)","text":"<p>This page describes how to install, setup and configure all the necessary software to operate your own tile server. These step-by-step instructions were written for Debian Linux 13 (trixie), and were tested in August 2025.</p>"},{"location":"serving-tiles/manually-building-a-tile-server-debian-13/#Software-installation","title":"Software installation","text":"<p>The OSM tile server stack is a collection of programs and libraries that work together to create a tile server. As so often with OpenStreetMap, there are many ways to achieve this goal, and nearly all of the components have alternatives that have various specific advantages and disadvantages. This tutorial describes the most standard version that is similar to that used on the main OpenStreetMap.org tile servers.</p> <p>It consists of 5 main components: <code>mod_tile</code>, <code>renderd</code>, <code>mapnik</code>, <code>osm2pgsql</code> and a <code>postgresql/postgis</code> database. Mod_tile is an apache module that serves cached tiles and decides which tiles need re-rendering\u00a0\u2013 either because they are not yet cached or because they are outdated. Renderd provides a priority queueing system for different sorts of requests to manage and smooth out the load from rendering requests. Mapnik is the software library that does the actual rendering and is used by <code>renderd</code>.</p> <p>These instructions have been written and tested against a new Debian 13 server. If you have got other versions of some software already installed (perhaps you upgraded from an earlier version some time ago, or you set up some PPAs to load from) then you may need to make some adjustments.</p> <p>In order to build these components, a variety of dependencies need to be installed first.</p> <p>Debian may not come with <code>sudo</code> by default, so we may need to log on as <code>root</code> to do the first part:</p> <pre><code>su -\napt install \\\n    sudo screen locate libapache2-mod-tile \\\n    renderd git tar unzip wget bzip2 apache2 \\\n    lua5.1 mapnik-utils python3-mapnik \\\n    python3-psycopg2 python3-yaml gdal-bin \\\n    node-carto postgresql postgresql-contrib \\\n    postgis postgresql-17-postgis-3 \\\n    postgresql-17-postgis-3-scripts osm2pgsql \\\n    net-tools curl\n</code></pre> <p>While still logged on as root we'll ensure that the main user account that we are using can <code>sudo</code> to root. You'll want to change <code>youruseraccount</code> to whatever account you are using in the line below. Don't try and do everything below as <code>root</code>; it won't work.</p> <pre><code>usermod -aG sudo youruseraccount\nexit\n</code></pre> <p>That returns to your user account. Logoff and logon again, and then:</p> <pre><code>sudo whoami\n</code></pre> <p>That should return <code>root</code>.</p> <p>At this point, a couple of new accounts have been added. You can see them with <code>tail /etc/passwd</code>. <code>postgres</code> is used for managing the databases that we use to hold data for rendering. <code>_renderd</code> is used for the <code>renderd</code> daemon, and we'll need to make sure lots of the commands below are run as that user.</p> <p>Now you need to create a postgis database. The defaults of various programs assume the database is called <code>gis</code> and we will use the same convention in this tutorial, although this is not necessary. Note that <code>_renderd</code> below matches the user that the <code>renderd</code> daemon will run from.</p> <pre><code>sudo -u postgres -i\ncreateuser _renderd\ncreatedb -E UTF8 -O _renderd gis\n</code></pre> <p>While still working as the <code>postgres</code> user, set up PostGIS on the PostgreSQL database:</p> <pre><code>psql\n</code></pre> <p>(that'll put you at a <code>postgres=#</code> prompt)</p> <pre><code>\\c gis\n</code></pre> <p>(it'll answer \"You are now connected to database 'gis' as user 'postgres'\".)</p> <pre><code>CREATE EXTENSION postgis;\n</code></pre> <p>(it'll answer CREATE EXTENSION)</p> <pre><code>CREATE EXTENSION hstore;\n</code></pre> <p>(it'll answer CREATE EXTENSION)</p> <pre><code>ALTER TABLE geometry_columns OWNER TO _renderd;\n</code></pre> <p>(it'll answer ALTER TABLE)</p> <pre><code>ALTER TABLE spatial_ref_sys OWNER TO _renderd;\n</code></pre> <p>(it'll answer ALTER TABLE)</p> <pre><code>\\q\n</code></pre> <p>(it'll exit psql and go back to a normal Linux prompt)</p> <pre><code>exit\n</code></pre> <p>(to exit back to be the user that we were before we did <code>sudo -u postgres -i</code> above)</p>"},{"location":"serving-tiles/manually-building-a-tile-server-debian-13/#Mapnik","title":"Mapnik","text":"<p>Mapnik was installed above. We'll check that it has been installed correctly by doing this:</p> <pre><code>python3\n&gt;&gt;&gt; import mapnik\n&gt;&gt;&gt;\n</code></pre> <p>If python replies with the second chevron prompt <code>&gt;&gt;&gt;</code> and without errors, then Mapnik library was found by Python. Congratulations! You can leave Python with this command:</p> <pre><code>&gt;&gt;&gt; quit()\n</code></pre>"},{"location":"serving-tiles/manually-building-a-tile-server-debian-13/#Stylesheet-configuration","title":"Stylesheet configuration","text":"<p>Now that all of the necessary software is installed, you will need to download and configure a stylesheet.</p> <p>The style we'll use here is the one that use by the \"standard\" map on the openstreetmap.org website. It's chosen because it's well documented, and should work anywhere in the world (including in places with non-latin placenames). There are a couple of downsides though - it's very much a compromise designed to work globally, and it's quite complicated to understand and modify, should you need to do that.</p> <p>The home of \"OpenStreetMap Carto\" on the web is https://github.com/gravitystorm/openstreetmap-carto/, and it has it's own installation instructions at https://github.com/gravitystorm/openstreetmap-carto/blob/master/INSTALL.md, although we'll cover everything that needs to be done here.</p> <p>Here we're assuming that we're storing the stylesheet details in a directory below <code>~/src</code> below the home directory of the whichever non-root account you are using:</p> <pre><code>mkdir ~/src\ncd ~/src\ngit clone https://github.com/gravitystorm/openstreetmap-carto\ncd openstreetmap-carto\ngit pull --all\ngit switch --detach v5.9.0\n</code></pre> <p>The \"git switch\" is needed because that's the latest release that you can see at OpenStreetMap, but OSM Carto has actually moved to a different database format. See OSM Carto's INSTALL.md for the newer version.  The old format is called <code>pgsql</code>, the new one <code>flex</code>; later we'll get a warning from <code>osm2pgsql</code> about that.</p> <p>Next, we'll check that we have installed a suitable version of the <code>carto</code> compiler.</p> <pre><code>carto -v\n</code></pre> <p>That should respond with a number that is at least as high as:</p> <pre><code>1.2.0\n</code></pre> <p>Then we convert the carto project into something that Mapnik can understand:</p> <pre><code>carto project.mml &gt; mapnik.xml\n</code></pre> <p>You now have a Mapnik XML stylesheet at <code>/home/youraccountname/src/openstreetmap-carto/mapnik.xml</code>.</p>"},{"location":"serving-tiles/manually-building-a-tile-server-debian-13/#Loading-data","title":"Loading data","text":"<p>Initially, we'll load only a small amount of test data. Other download locations are available, but <code>download.geofabrik.de</code> has a wide range of options. In this example we'll download the data for Azerbaijan, which is currently about 32Mb.</p> <p>Browse to https://download.geofabrik.de/asia/azerbaijan.html and note the \"This file was last modified\" date (e.g. \"2025-08-15T12:40:00Z\"). We'll need that later if we want to update the database with people's subsequent changes to OpenStreetMap. Download it as follows:</p> <pre><code>mkdir ~/data\ncd ~/data\nwget https://download.geofabrik.de/asia/azerbaijan-latest.osm.pbf\n</code></pre> <p>Next, we need to make sure that the <code>_renderd</code> user can access the stylesheet. In order to do this it needs access to wherever you downloaded it, and by default it won't have access to your home directory. If it's in <code>src</code> below your user account then</p> <pre><code>chmod o+rx ~\n</code></pre> <p>will work. If you don't want to do this you can move it and amend references to the file locations in subsequent commands.</p> <p>The following command will insert the OpenStreetMap data you downloaded earlier into the database. This step is very disk I/O intensive; importing the full planet might take many hours, days or weeks depending on the hardware. For smaller extracts the import time is much faster accordingly, and you may need to experiment with different <code>-C</code> values to fit within your machine's available memory. Note that the <code>_renderd</code> user is used for this process.</p> <pre><code>sudo -u _renderd \\\n    osm2pgsql -d gis --create --slim  -G --hstore \\\n    --tag-transform-script \\\n        ~/src/openstreetmap-carto/openstreetmap-carto.lua \\\n    -C 2500 --number-processes 1 \\\n    -S ~/src/openstreetmap-carto/openstreetmap-carto.style \\\n    ~/data/azerbaijan-latest.osm.pbf\n</code></pre> <p>It's worth explaining a little bit about what those options mean:</p> <code>-d gis</code> The database to work with (<code>gis</code> used to be the default; now it must be specified). <code>--create</code> Load data into an empty database rather than trying to append to an existing one. <code>--slim</code> osm2pgsql can use different table layouts; <code>slim</code> tables works for rendering. <code>-G</code> Determines how multipolygons are processed. <code>--hstore</code> Allows tags for which there are no explicit database columns to be used for rendering. <code>--tag-transform-script ~/src/openstreetmap-carto/openstreetmap-carto.lua</code> Defines the lua script used for tag processing. This an easy is a way to process OSM tags before the style itself processes them, making the style logic potentially much simpler. <code>-C 2500</code> Allocate 2.5 Gb of memory to osm2pgsql to the import process. If you have less memory you could try a smaller number, and if the import process is killed because it runs out of memory you'll need to try a smaller number or a smaller OSM extract. <code>--number-processes 1</code> Use 1 CPU. If you have more cores available you can use more. <code>-S ~/src/openstreetmap-carto/openstreetmap-carto.style</code> Create the database columns in this file (actually these are unchanged from \"openstreetmap-carto\") <code>~/data/azerbaijan-latest.osm.pbf</code> The final argument is the data file to load. <p>While running that you'll get the warning that was mentioned above.  The latest version of \"OSM Carto\" in development has been changed to use the \"flex\" output, but the version on the OpenStreetMap website (which this guide is designed to mirror) does not yet.</p> <p>That command will complete with something like \"Osm2pgsql took 238s overall\".</p>"},{"location":"serving-tiles/manually-building-a-tile-server-debian-13/#Creating-indexes","title":"Creating indexes","text":"<p>Some extra indexes now need to be applied manually:</p> <pre><code>cd ~/src/openstreetmap-carto/\nsudo -u _renderd psql -d gis -f indexes.sql\n</code></pre> <p>It should respond with <code>CREATE INDEX</code> 16 times.</p>"},{"location":"serving-tiles/manually-building-a-tile-server-debian-13/#Database-functions","title":"Database functions","text":"<p>In version 5.9.0 of \u201cOSM Carto\u201d (released October 2024), some functions need to be loaded into the database manually. These can be added using:</p> <pre><code>cd ~/src/openstreetmap-carto/\nsudo -u _renderd psql -d gis -f functions.sql\n</code></pre>"},{"location":"serving-tiles/manually-building-a-tile-server-debian-13/#Shapefile-download","title":"Shapefile download","text":"<p>Although most of the data used to create the map is directly from the OpenStreetMap data file that you downloaded above, some shapefiles for things like low-zoom country boundaries are still needed. To download and index these, using the same account as we used previously:</p> <pre><code>cd ~/src/openstreetmap-carto/\nmkdir data\nsudo chown _renderd data\nsudo -u _renderd scripts/get-external-data.py\n</code></pre> <p>This process involves a sizable download and may take some time - not much will appear on the screen when it is running. Some data will go directly into the database, and some will go into a \u201cdata\u201d directory below \u201copenstreetmap-carto\u201d. If there is a problem here, then the Natural Earth data may have moved - look at this issue and similar ones at Natural Earth for more details. If you need to change the Natural Earth download location your copy of this file is the one to edit.</p>"},{"location":"serving-tiles/manually-building-a-tile-server-debian-13/#Fonts","title":"Fonts","text":"<p>Fonts need to be installed manually, like this:</p> <pre><code>cd ~/src/openstreetmap-carto/\nscripts/get-fonts.sh\n</code></pre> <p>Due to a current issue you might get an error at the very end of that, but it won't adversely affect the display of any current OSM data.</p> <p>Our test data area (Azerbaijan) was chosen both because it was a small area and because some place names in that region have names containing non-latin characters.</p>"},{"location":"serving-tiles/manually-building-a-tile-server-debian-13/#Setting-up-your-webserver","title":"Setting up your webserver","text":""},{"location":"serving-tiles/manually-building-a-tile-server-debian-13/#Configure-renderd","title":"Configure renderd","text":"<p>The config file for <code>renderd</code> on Debian 13 is <code>/etc/renderd.conf</code>. Edit that with a text editor such as nano:</p> <pre><code>sudo nano /etc/renderd.conf\n</code></pre> <p>Add a section like the following at the end:</p> <pre><code>[s2o]\nURI=/hot/\nTILEDIR=/var/lib/mod_tile\nXML=/home/accountname/src/openstreetmap-carto/mapnik.xml\nHOST=localhost\nTILESIZE=256\nMAXZOOM=20\n</code></pre> <p>The location of the XML file <code>/home/accountname/src/openstreetmap-carto/mapnik.xml</code> will need to be changed to the actual location on your system. You can change <code>[s2o]</code> and <code>URI=/hot/</code> as well if you like. If you want to render more than one set of tiles from one server you can - just add another section like <code>[s2o]</code> with a different name referring to a different map style. If you want it to refer to a different database to the default <code>gis</code> you can, but that's out of the scope of this document. If you've only got 4Gb or so of memory, you'll also want to reduce <code>num_threads</code> to 2. <code>URI=/hot/</code> was chosen so that the tiles generated here can more easily be used in place of the HOT tile layer at OpenStreetMap.org. You can use something else here, but <code>/hot/</code> is as good as anything.</p> <p>The location of the Mapnik plugins directory now varies between different architectures.  You can type ``</p> <pre><code>sudo updatedb\nlocate mapnik/4.0/input\n</code></pre> <p>to find the location on your server, and then edit <code>/etc/renderd.conf</code> so that <code>plugins_dir</code> in the <code>[mapnik]</code> section is correct, perhaps something like:</p> <pre><code>[mapnik]\nplugins_dir=/usr/lib/aarch64-linux-gnu/mapnik/4.0/input\n</code></pre> <p>If this is set incorrectly or missing among the errors that you might get when trying to render tiles are:</p> <p>An error occurred while loading the map layer 's2o': Could not create datasource for type: 'postgis' (no datasource plugin directories have been successfully registered) encountered during parsing of layer 'landcover-low-zoom'</p> <p>Other errors might include tiles not rendering properly and <code>renderd</code> using an unexpectedly large amount of memory.</p> <p>Now that we've told <code>renderd</code> how to react to tile rendering requests we need to tell the Apache web server to send them.  Unfortunately, the configuration for this has been removed from recent versions of <code>mod_tile</code>. It can, however, currently be installed from here</p> <pre><code>cd /etc/apache2/conf-available/\nsudo wget https://raw.githubusercontent.com/openstreetmap/mod_tile/python-implementation/etc/apache2/renderd.conf\nsudo a2enconf renderd\nsudo systemctl reload apache2\n</code></pre>"},{"location":"serving-tiles/manually-building-a-tile-server-debian-13/#Making-sure-that-you-can-see-debug-messages","title":"Making sure that you can see debug messages","text":"<p>It'd be really useful at this point to be able to see the output from the tile rendering process, including any errors. By default, with recent <code>mod_tile</code> versions, this is turned off. To turn it on:</p> <pre><code>sudo nano /usr/lib/systemd/system/renderd.service\n</code></pre> <p>If it's not already there below <code>[Service]</code>, add:</p> <pre><code>Environment=G_MESSAGES_DEBUG=all\n</code></pre> <p>Then run these commands to reload the configuration:</p> <pre><code>sudo systemctl daemon-reload\nsudo systemctl restart renderd\nsudo systemctl restart apache2\n</code></pre>"},{"location":"serving-tiles/manually-building-a-tile-server-debian-13/#Configuring-Apache","title":"Configuring Apache","text":"<pre><code>sudo mkdir /var/lib/mod_tile\nsudo chown _renderd /var/lib/mod_tile\n</code></pre> <p>After doing so, restart <code>renderd</code>:</p> <pre><code>sudo /etc/init.d/renderd restart\n</code></pre> <p>If you look at the system log, you should see messages from the <code>renderd</code> service. Note that in the last couple of Debian versions, messages are no longer written to <code>/var/log/syslog</code> by default - to follow messages as they are written, do this:</p> <pre><code>sudo journalctl -ef\n</code></pre> <p>See here: for more details.</p> <pre><code>sudo /etc/init.d/apache2 restart\n</code></pre> <p>Using <code>sudo journalctl -ef</code> you should see a line such as:</p> <pre><code> Aug 15 12:16:08 h19 apachectl[14590]: [Fri Aug 15 12:16:08.655816 2025] [tile:notice] [pid 14590:tid 14590] Loading tile config s2o at /hot/ for zooms 0 - 20 from tile directory /var/lib/mod_tile with extension .png and mime type image/png\n</code></pre> <p>If this does not appear it probably means that the configuration file for mod_tile <code>/etc/apache2/conf-available/renderd.conf</code> is either not set up or enabled properly - see the <code>wget</code> section above.</p> <p>Next, point a web browser at <code>http://yourserveripaddress/index.html</code> (change <code>yourserveripaddress</code> to your actual server address). You should see \"Apache2 Debian Default Page\".</p> <p>Tip</p> <p>If you don't know what IP address it will have been assigned, you can likely use <code>ip address</code> to find out \u2013 if the network configuration is not too complicated it'll probably be the <code>inet addr</code> that is not <code>127.0.0.1</code>.</p> <p>If you're using a server at a hosting provider then it's possible that your server's internal address will be different to the external address that has been allocated to you, but that external IP address will have already been sent to you, and it'll probably be the one that you're accessing the server on currently.</p> <p>Note that this is just the <code>http</code> (port 80) site \u2013 you'll need to do a little bit more Apache configuration if you want to enable <code>https</code>, but that's out of the scope of these instructions. However, if you use \"Let's Encrypt\" to issue certificates, then the process of setting that up can also configure the Apache HTTPS site as well.</p> <p>Next, point a web browser at: <code>http://yourserveripaddress/hot/0/0/0.png</code></p> <p>You'll need to edit that of course if you changed <code>URI=/hot/</code> above. You should see a small map of the world. If you don't, investigate the errors that it displays. These will most likely be permissions errors, or perhaps related to accidentally missing some steps from the instructions above. If you don't get a tile and get other errors again, save the full output in a Pastebin and ask a question about the problem somewhere like <code>community.openstreetmap.org</code>.</p>"},{"location":"serving-tiles/manually-building-a-tile-server-debian-13/#Viewing-tiles","title":"Viewing tiles","text":"<p>In order to see tiles, we\u2019ll cheat and use an html file <code>sample_leaflet.html</code> that allows you to view a very simple map. To obtain this:</p> <pre><code>cd /var/www/html\nsudo wget https://raw.githubusercontent.com/SomeoneElseOSM/mod_tile/switch2osm/extra/sample_leaflet.html\nsudo nano sample_leaflet.html\n</code></pre> <p>Edit so that the IP address matches <code>your.server.address</code> rather than just saying <code>127.0.0.1</code>. That should allow you to access this server from others. Then browse to <code>http://your.server.address/sample_leaflet.html</code>.</p> <p>The initial map display will take a little while. You'll be able to zoom in and out, but depending on server speed some tiles may initially display as grey because they can't be rendered in time for the browser. However, once done, they\u2019ll be ready for the next time that they are needed. If you look in the system log you should see requests for tiles.</p> <p>If desired, you can increase the setting <code>ModTileRequestTimeout</code> and <code>ModTileMissingRequestTimeout</code> in <code>/etc/apache2/conf-available/renderd.conf</code> from 3 and 10 seconds to perhaps 30 or 60, in order to wait longer for tiles to be rendered in the background before a grey tile is given to the user. Make sure you <code>sudo service renderd restart</code> and <code>sudo service apache2 restart</code> after changing it.</p> <p>Congratulations. Head over to the using tiles section to create a map that uses your new tile server.</p>"},{"location":"serving-tiles/manually-building-a-tile-server-ubuntu-18-04-lts/","title":"Manually building a tile server (18.04 LTS)","text":""},{"location":"serving-tiles/manually-building-a-tile-server-ubuntu-18-04-lts/#Manually-building-a-tile-server-1804-LTS","title":"Manually building a tile server (18.04 LTS)","text":"<p>This page describes how to install, setup and configure all the necessary software to operate your own tile server. These step-by-step instructions are written for Ubuntu Linux 18.04 LTS (Bionic Beaver), and were tested in May 2020.</p>"},{"location":"serving-tiles/manually-building-a-tile-server-ubuntu-18-04-lts/#Software-installation","title":"Software installation","text":"<p>The OSM tile server stack is a collection of programs and libraries that work together to create a tile server. As so often with OpenStreetMap, there are many ways to achieve this goal and nearly all of the components have alternatives that have various specific advantages and disadvantages. This tutorial describes the most standard version that is similar to that used on the main OpenStreetMap.org tile servers.</p> <p>It consists of 5 main components: <code>mod_tile</code>, <code>renderd</code>, <code>mapnik</code>, <code>osm2pgsql</code> and a <code>postgresql/postgis</code> database. Mod_tile is an apache module that serves cached tiles and decides which tiles need re-rendering\u00a0\u2013 either because they are not yet cached or because they are outdated. Renderd provides a priority queueing system for different sorts of requests to manage and smooth out the load from rendering requests. Mapnik is the software library that does the actual rendering and is used by renderd.</p> <p>Note that these instructions are have been written and tested against a newly-installed Ubuntu 18.04 server. If you have got other versions of some software already installed (perhaps you upgraded from an earlier Ubuntu version, or you set up some PPAs to load from) then you may need to make some adjustments.</p> <p>This guide assumes that you run everything from a non-root user via <code>sudo</code>.  The non-root username used by default below is <code>renderaccount</code> - you can create that locally if you want, or edit scripts to refer to a different username if you want.  If you do create the <code>renderaccount</code> user you'll need to add it to the group of users that can <code>sudo</code> to root.  From your normal non-root user account:</p> <pre><code>sudo -i\nusermod -aG sudo renderaccount\nexit\n</code></pre> <p>In order to build these components, a variety of dependencies need to be installed first:</p> <pre><code>sudo add-apt-repository multiverse\nsudo apt update &amp;&amp; sudo apt install \\\n    libboost-all-dev git-core tar unzip wget bzip2 \\\n    build-essential autoconf libtool libxml2-dev \\\n    libgeos-dev libgeos++-dev libpq-dev libbz2-dev \\\n    libproj-dev munin-node munin libprotobuf-c0-dev \\\n    protobuf-c-compiler libfreetype6-dev \\\n    libtiff5-dev libicu-dev libgdal-dev libcairo-dev \\\n    libcairomm-1.0-dev apache2 apache2-dev \\\n    libagg-dev liblua5.2-dev ttf-unifont lua5.1 \\\n    liblua5.1-dev libgeotiff-epsg\n</code></pre> <p>Say yes to install. This will take a while, so go and have a cup of tea. This list includes various utilities and libraries, the Apache web server, and \"carto\" which is used to convert Carto-CSS stylesheets into something that \"mapnik\" the map renderer can understand. When that is complete, install the second set of prerequisites:</p>"},{"location":"serving-tiles/manually-building-a-tile-server-ubuntu-18-04-lts/#Installing-postgresql--postgis","title":"Installing postgresql / postgis","text":"<p>On Ubuntu there are pre-packaged versions of both <code>postgis</code> and <code>postgresql</code>, so these can simply be installed via the Ubuntu package manager.</p> <pre><code>sudo apt-get install \\\n    postgresql \\\n    postgresql-contrib \\\n    postgis \\\n    postgresql-10-postgis-2.4 \\\n    postgresql-10-postgis-scripts\n</code></pre> <p>Here <code>postgresql</code> is the database we're going to store map data and <code>postgis</code> adds some extra graphical support to it. Again, say yes to install.</p> <p>Now you need to create a postgis database. The defaults of various programs assume the database is called <code>gis</code> and we will use the same convention in this tutorial, although this is not necessary. Substitute your username for <code>renderaccount</code> where it is used below. This should be the username that will render maps with Mapnik.</p> <pre><code>sudo -u postgres -i\ncreateuser renderaccount\ncreatedb -E UTF8 -O renderaccount gis\n</code></pre> <p>While still working as the <code>postgres</code> user, set up PostGIS on the PostgreSQL database (again, substitute your username for <code>renderaccount</code> below):</p> <pre><code>psql\n</code></pre> <p>(that'll put you at a <code>postgres=#</code> prompt)</p> <pre><code>\\c gis\n</code></pre> <p>(it'll answer \"You are now connected to database 'gis' as user 'postgres'\".)</p> <pre><code>CREATE EXTENSION postgis;\n</code></pre> <p>(it'll answer CREATE EXTENSION)</p> <pre><code>CREATE EXTENSION hstore;\n</code></pre> <p>(it'll answer CREATE EXTENSION)</p> <pre><code>ALTER TABLE geometry_columns OWNER TO renderaccount;\n</code></pre> <p>(it'll answer ALTER TABLE)</p> <pre><code>ALTER TABLE spatial_ref_sys OWNER TO renderaccount;\n</code></pre> <p>(it'll answer ALTER TABLE)</p> <pre><code>\\q\n</code></pre> <p>(it'll exit psql and go back to a normal Linux prompt)</p> <pre><code>exit\n</code></pre> <p>(to exit back to be the user that we were before we did <code>sudo -u postgres -i</code> above)</p> <p>If you haven't already created one create a Unix user for this user, too, choosing a password when prompted:</p> <pre><code>sudo useradd -m renderaccount\nsudo passwd renderaccount\n</code></pre> <p>Again, above replace <code>renderaccount</code> with the non-root username that you chose.</p>"},{"location":"serving-tiles/manually-building-a-tile-server-ubuntu-18-04-lts/#Installing-osm2pgsql","title":"Installing osm2pgsql","text":"<p>We will need to install various bits of software from source. The first of this is <code>osm2pgsql</code>. Various tools to import and manage OpenStreetMap data into a database exist. Here we'll use <code>osm2pgsql</code>, which is probably the most popular.</p> <pre><code>mkdir ~/src\ncd ~/src\ngit clone https://github.com/openstreetmap/osm2pgsql\ncd osm2pgsql\n</code></pre> <p>The build mechanism used by osm2pgsql has changed since older versions, so we'll need to install some more prerequisites for that:</p> <pre><code>sudo apt install \\\n    make cmake g++ libboost-dev libboost-system-dev \\\n    libboost-filesystem-dev libexpat1-dev zlib1g-dev \\\n    libbz2-dev libpq-dev libgeos-dev libgeos++-dev \\\n    libproj-dev lua5.2 liblua5.2-dev\n</code></pre> <p>Again, say yes to install.</p> <pre><code>mkdir build &amp;&amp; cd build\ncmake ..\n</code></pre> <p>(the output from that should end with \"build files have been written to\")</p> <pre><code>make\n</code></pre> <p>(the output from that should finish with \"[100%] Built target osm2pgsql\")</p> <pre><code>sudo make install\n</code></pre>"},{"location":"serving-tiles/manually-building-a-tile-server-ubuntu-18-04-lts/#Mapnik","title":"Mapnik","text":"<p>Next, we'll install Mapnik. We'll use the default version in Ubuntu 18.04:</p> <pre><code>sudo apt-get install \\\n    autoconf apache2-dev libtool libxml2-dev \\\n    libbz2-dev libgeos-dev libgeos++-dev libproj-dev \\\n    gdal-bin libmapnik-dev mapnik-utils \\\n    python-mapnik python3-psycopg2\n</code></pre> <p>We'll check that Mapnik has been installed correctly:</p> <pre><code>python\n&gt;&gt;&gt; import mapnik\n&gt;&gt;&gt;\n</code></pre> <p>If python replies with the second chevron prompt <code>&gt;&gt;&gt;</code> and without errors, then Mapnik library was found by Python. Congratulations! You can leave Python with this command:</p> <pre><code>&gt;&gt;&gt; quit()\n</code></pre>"},{"location":"serving-tiles/manually-building-a-tile-server-ubuntu-18-04-lts/#Install-mod_tile-and-renderd","title":"Install mod_tile and renderd","text":"<p>Next, we'll install mod_tile and renderd. <code>mod_tile</code> is an Apache module that handles requests for tiles; <code>renderd</code> is a daemon that actually renders tiles when <code>mod_tile</code> requests them. We'll use the <code>switch2osm</code> branch of https://github.com/SomeoneElseOSM/mod_tile, which is itself forked from https://github.com/openstreetmap/mod_tile, but modified so that it supports Ubuntu 18.04, and with a couple of other changes to work on a standard Ubuntu server rather than one of OSM's rendering servers.</p>"},{"location":"serving-tiles/manually-building-a-tile-server-ubuntu-18-04-lts/#Compile-the-mod_tile-source-code","title":"Compile the mod_tile source code","text":"<pre><code>cd ~/src\ngit clone -b switch2osm git://github.com/SomeoneElseOSM/mod_tile.git\ncd mod_tile\n./autogen.sh\n</code></pre> <p>(that should finish with <code>autoreconf: Leaving directory '.'</code>.)</p> <pre><code>./configure\n</code></pre> <p>(that should finish with <code>config.status: executing libtool commands</code>)</p> <pre><code>make\n</code></pre> <p>Note that some \"worrying\" messages will scroll up the screen here. However it should finish with \"make[1]: Leaving directory '/home/renderaccount/src/mod_tile'\".</p> <pre><code>sudo make install\n</code></pre> <p>(that should finish with \"make[1]: Leaving directory '/home/renderaccount/src/mod_tile'\")</p> <pre><code>sudo make install-mod_tile\n</code></pre> <p>(that should finish with \"chmod 644 /usr/lib/apache2/modules/mod_tile.so\")</p> <pre><code>sudo ldconfig\n</code></pre> <p>(that shouldn't reply with anything)</p>"},{"location":"serving-tiles/manually-building-a-tile-server-ubuntu-18-04-lts/#Stylesheet-configuration","title":"Stylesheet configuration","text":"<p>Now that all of the necessary software is installed, you will need to download and configure a stylesheet.</p> <p>The style we'll use here is the one that use by the \"standard\" map on the openstreetmap.org website. It's chosen because it's well documented, and should work anywhere in the world (including in places with non-latin placenames). There are a couple of downsides though - it's very much a compromise designed to work globally, and it's quite complicated to understand and modify, should you need to do that.</p> <p>The home of \"OpenStreetMap Carto\" on the web is https://github.com/gravitystorm/openstreetmap-carto/ and it has it's own installation instructions at https://github.com/gravitystorm/openstreetmap-carto/blob/master/INSTALL.md although we'll cover everything that needs to be done here.</p> <p>Here we're assuming that we're storing the stylesheet details in a directory below <code>~/src</code> below the home directory of the <code>renderaccount</code> user (or whichever other one you are using)</p> <pre><code>cd ~/src\ngit clone https://github.com/gravitystorm/openstreetmap-carto\ncd openstreetmap-carto\n</code></pre> <p>Next, we'll install a suitable version of the <code>carto</code> compiler. This is later than the version that ships with Ubuntu, so we need to do:</p> <pre><code>sudo apt-get install nodejs-dev node-gyp libssl1.0-dev\n</code></pre> <p>Confusingly this will remove some things previously installed.  Then do:</p> <pre><code>sudo apt install npm nodejs\nsudo npm install -g carto\ncarto -v\n</code></pre> <p>That should respond with a number that is at least as high as:</p> <pre><code>carto 1.2.0 (Carto map stylesheet compiler)\n</code></pre> <p>Then we convert the carto project into something that Mapnik can understand:</p> <pre><code>carto project.mml &gt; mapnik.xml\n</code></pre> <p>You now have a Mapnik XML stylesheet at <code>/home/renderaccount/src/openstreetmap-carto/mapnik.xml</code>.</p>"},{"location":"serving-tiles/manually-building-a-tile-server-ubuntu-18-04-lts/#Loading-data","title":"Loading data","text":"<p>Initially, we'll load only a small amount of test data. Other download locations are available, but <code>download.geofabrik.de</code> has a wide range of options. In this example we'll download the data for Azerbaijan, which is currently about 32Mb.</p> <p>Browse to https://download.geofabrik.de/asia/azerbaijan.html and note the \"This file was last modified\" date (e.g. \"2017-02-26T21:43:02Z\"). We'll need that later if we want to update the database with people's susbsequent changes to OpenStreetMap. Download it as follows:</p> <pre><code>mkdir ~/data\ncd ~/data\nwget https://download.geofabrik.de/asia/azerbaijan-latest.osm.pbf\n</code></pre> <p>The following command will insert the OpenStreetMap data you downloaded earlier into the database. This step is very disk I/O intensive; importing the full planet might take many hours, days or weeks depending on the hardware. For smaller extracts the import time is much faster accordingly, and you may need to experiment with different <code>-C</code> values to fit within your machine's available memory.</p> <pre><code>osm2pgsql -d gis --create --slim  -G --hstore \\\n    --tag-transform-script \\\n        ~/src/openstreetmap-carto/openstreetmap-carto.lua \\\n    -C 2500 --number-processes 1 \\\n    -S ~/src/openstreetmap-carto/openstreetmap-carto.style \\\n    ~/data/azerbaijan-latest.osm.pbf\n</code></pre> <p>It's worth explaining a little bit about what those options mean:</p> <code>-d gis</code> The database to work with (<code>gis</code> used to be the default; now it must be specified). <code>--create</code> Load data into an empty database rather than trying to append to an existing one. <code>--slim</code> osm2pgsql can use different table layouts; \"slim\" tables works for rendering. <code>-G</code> Determines how multipolygons are processed. <code>--hstore</code> Allows tags for which there are no explicit database columns to be used for rendering. <code>--tag-transform-script ~/src/openstreetmap-carto/openstreetmap-carto.lua</code> Defines the lua script used for tag processing. This an easy is a way to process OSM tags before the style itself processes them, making the style logic potentially much simpler. <code>-C 2500</code> Allocate 2.5 Gb of memory to osm2pgsql to the import process. If you have less memory you could try a smaller number, and if the import process is killed because it runs out of memory you'll need to try a smaller number or a smaller OSM extract. <code>--number-processes 1</code> Use 1 CPU. If you have more cores available you can use more. <code>-S ~/src/openstreetmap-carto/openstreetmap-carto.style</code> Create the database columns in this file (actually these are unchanged from \"openstreetmap-carto\") <code>~/data/azerbaijan-latest.osm.pbf</code> The final argument is the data file to load. <p>That command will complete with something like \"Osm2pgsql took 238s overall\".</p>"},{"location":"serving-tiles/manually-building-a-tile-server-ubuntu-18-04-lts/#Shapefile-download","title":"Shapefile download","text":"<p>Although most of the data used to create the map is directly from the OpenStreetMap data file that you downloaded above, some shapefiles for things like low-zoom country boundaries are still needed. To download and index these:</p> <pre><code>cd ~/src/openstreetmap-carto/\nscripts/get-external-data.py\n</code></pre> <p>This process involves a sizable download and may take some time \u2013 not much will appear on the screen when it is running.  It will actually populate a \"data\" directory below \"openstreetmap-carto\".</p>"},{"location":"serving-tiles/manually-building-a-tile-server-ubuntu-18-04-lts/#Fonts","title":"Fonts","text":"<p>In version v5.6.0 and above of Carto, fonts need to be installed manually:</p> <pre><code>cd ~/src/openstreetmap-carto/\nscripts/get-fonts.sh\n</code></pre> <p>Our test data area (Azerbaijan) was chosen both because it was a small area and because some place names in that region have names containing non-latin characters.</p>"},{"location":"serving-tiles/manually-building-a-tile-server-ubuntu-18-04-lts/#Setting-up-your-webserver","title":"Setting up your webserver","text":""},{"location":"serving-tiles/manually-building-a-tile-server-ubuntu-18-04-lts/#Configure-renderd","title":"Configure renderd","text":"<p>The config file for <code>renderd</code> is <code>/usr/local/etc/renderd.conf</code>. Edit that with a text editor such as nano:</p> <pre><code>sudo nano /usr/local/etc/renderd.conf\n</code></pre> <p>A couple of lines in here may need changing. In the <code>renderd</code> section:</p> <pre><code>num_threads=4\n</code></pre> <p>If you've only got 2Gb or so of memory you'll want to reduce this to 2. The <code>ajt</code> section corresponds to a \"named map style\" called <code>ajt</code>. You can have more than one of these sections if you want, provided that the URI is different for each. The <code>XML</code> line will need changing to something like:</p> <pre><code>XML=/home/renderaccount/src/openstreetmap-carto/mapnik.xml\n</code></pre> <p>You'll want to change <code>renderaccount</code> to whatever non-root username you used above.</p> <pre><code>URI=/hot/\n</code></pre> <p>That was chosen so that the tiles generated here can more easily be used in place of the HOT tile layer at OpenStreetMap.org. You can use something else here, but <code>/hot/</code> is as good as anything.</p>"},{"location":"serving-tiles/manually-building-a-tile-server-ubuntu-18-04-lts/#Configuring-Apache","title":"Configuring Apache","text":"<pre><code>sudo mkdir /var/lib/mod_tile\nsudo chown renderaccount /var/lib/mod_tile\n</code></pre> <pre><code>sudo mkdir /var/run/renderd\nsudo chown renderaccount /var/run/renderd\n</code></pre> <p>We now need to tell Apache about <code>mod_tile</code>, so with nano (or another editor):</p> <pre><code>sudo nano /etc/apache2/conf-available/mod_tile.conf\n</code></pre> <p>Add the following line to that file:</p> <pre><code>LoadModule tile_module /usr/lib/apache2/modules/mod_tile.so\n</code></pre> <p>and save it, and then run:</p> <pre><code>sudo a2enconf mod_tile\n</code></pre> <p>That will say that you need to run <code>service apache2 reload</code> to activate the new configuration; we'll not do that just yet.</p> <p>We now need to tell Apache about <code>renderd</code>. With nano (or another editor):</p> <pre><code>sudo nano /etc/apache2/sites-available/000-default.conf\n</code></pre> <p>And add the following between the <code>ServerAdmin</code> and <code>DocumentRoot</code> lines:</p> <pre><code>LoadTileConfigFile /usr/local/etc/renderd.conf\nModTileRenderdSocketName /var/run/renderd/renderd.sock\n# Timeout before giving up for a tile to be rendered\nModTileRequestTimeout 0\n# Timeout before giving up for a tile to be rendered that is otherwise missing\nModTileMissingRequestTimeout 30\n</code></pre> <p>And reload apache twice:</p> <pre><code>sudo service apache2 reload\nsudo service apache2 reload\n</code></pre> <p>(I suspect that it needs doing twice because Apache gets \"confused\" when reconfigured when running)</p> <p>If you point a web browser at: <code>http://your.server.ip.address/index.html</code> you should get Ubuntu / apache's \"It works!\" page.</p> <p>Tip</p> <p>if you don't know what IP address it will have been assigned you can likely use <code>ifconfig</code> to find out \u2013 if the network configuration is not too complicated it'll probably be the <code>inet addr</code> that is not <code>127.0.0.1</code>.</p> <p>If you're using a server at a hosting provider then it's likely that your server's internal address will be different to the external address that has been allocated to you, but that external IP address will have already been sent to you and it'll probably be the one that you're accessing the server on currently.</p> <p>Note that this is just the <code>http</code> (port 80) site - you'll need to do a little bit more Apache configuration if you want to enable <code>https</code>, but that's out of the scope of these instructions. However, if you use \"Let's Encrypt\" to issue certificates then the process of setting that up can also configure the Apache HTTPS site as well.</p>"},{"location":"serving-tiles/manually-building-a-tile-server-ubuntu-18-04-lts/#Running-renderd-for-the-first-time","title":"Running renderd for the first time","text":"<p>Next, we'll run <code>renderd</code> to try and render some tiles. Initially we'll run it in the foreground so that we can see any errors as they occur:</p> <pre><code>renderd -f -c /usr/local/etc/renderd.conf\n</code></pre> <p>You may see some warnings here - don't worry about those for now. You shouldn't get any errors. If you do, save the full output in a Pastebin and ask a question about the problem somewhere like <code>community.openstreetmap.org</code> (linking to the Pastebin - don't include all the text in the question).</p> <p>Point a web browser at: <code>http://yourserveripaddress/hot/0/0/0.png</code></p> <p>You should see a map of the world in your browser and some more debug on the command line, including \"DEBUG: START TILE\" and \"DEBUG: DONE TILE\". Ignore any \"DEBUG: Failed to read cmd on fd\" message - it is not an error. If you don't get a tile and get other errors again, save the full output in a Pastebin and ask a question about the problem somewhere like <code>community.openstreetmap.org</code>.</p> <p>If that all works, press Ctrl+C to stop the foreground rendering process.</p>"},{"location":"serving-tiles/manually-building-a-tile-server-ubuntu-18-04-lts/#Running-renderd-in-the-background","title":"Running renderd in the background","text":"<p>Next we'll set up <code>renderd</code> to run in the background. First, edit the <code>~/src/mod_tile/debian/renderd.init</code> file so that \"RUNASUSER\" is set to the non-root account that you have used before, such as <code>renderaccount</code>, then copy it to the system directory:</p> <pre><code>nano ~/src/mod_tile/debian/renderd.init\nsudo cp ~/src/mod_tile/debian/renderd.init /etc/init.d/renderd\nsudo chmod u+x /etc/init.d/renderd\nsudo cp ~/src/mod_tile/debian/renderd.service /lib/systemd/system/\n</code></pre> <p>The <code>renderd.service</code> file is a <code>systemd</code> service file. The version used here just calls old-style init commands. In order to test that the start command works:</p> <pre><code>sudo /etc/init.d/renderd start\n</code></pre> <p>(that should reply with \"[ ok ] Starting renderd (via systemctl): renderd.service\".)</p> <p>To make it start automatically every time:</p> <pre><code>sudo systemctl enable renderd\n</code></pre>"},{"location":"serving-tiles/manually-building-a-tile-server-ubuntu-18-04-lts/#Viewing-tiles","title":"Viewing tiles","text":"<p>In order to see tiles, we\u2019ll cheat and use an html file <code>sample_leaflet.html</code> in mod_tile\u2019s \u201cextras\u201d folder. Just open that file in a web browser on the machine where you installed the tile server. If that isn\u2019t possible because you\u2019re installing on a server without a local web browser, you can edit it to replace <code>127.0.0.1</code> with the IP address of the server and copy it to below <code>/var/www/html</code>.</p> <p>From an ssh connection do:</p> <pre><code>tail -f /var/log/syslog | grep \" TILE \"\n</code></pre> <p>(note the spaces around <code>\" TILE \"</code> there)</p> <p>That will show a line every time a tile is requested, and one every time rendering of one is completed.</p> <p>When you load that page you should see some tile requests. Zoom out gradually. You\u2019ll see requests for new tiles show up in the ssh connection. Some low-zoom tiles may take a long time (several minutes) to render for the first time, but once done they\u2019ll be ready for the next time that they are needed.</p> <p>Congratulations. Head over to the using tiles section to create a map that uses your new tile server.</p>"},{"location":"serving-tiles/manually-building-a-tile-server-ubuntu-20-04-lts/","title":"Manually building a tile server (20.04 LTS)","text":""},{"location":"serving-tiles/manually-building-a-tile-server-ubuntu-20-04-lts/#Manually-building-a-tile-server-2004-LTS","title":"Manually building a tile server (20.04 LTS)","text":"<p>This page describes how to install, setup and configure all the necessary software to operate your own tile server. These step-by-step instructions were written for Ubuntu Linux 20.04 LTS (Focal Fossa), and were tested in May 2020.</p>"},{"location":"serving-tiles/manually-building-a-tile-server-ubuntu-20-04-lts/#Software-installation","title":"Software installation","text":"<p>The OSM tile server stack is a collection of programs and libraries that work together to create a tile server. As so often with OpenStreetMap, there are many ways to achieve this goal and nearly all of the components have alternatives that have various specific advantages and disadvantages. This tutorial describes the most standard version that is similar to that used on the main OpenStreetMap.org tile servers.</p> <p>It consists of 5 main components: <code>mod_tile</code>, <code>renderd</code>, <code>mapnik</code>, <code>osm2pgsql</code> and a <code>postgresql/postgis</code> database. Mod_tile is an apache module that serves cached tiles and decides which tiles need re-rendering \u00a0\u2013 either because they are not yet cached or because they are outdated. Renderd provides a priority queueing system for different sorts of requests to manage and smooth out the load from rendering requests. Mapnik is the software library that does the actual rendering and is used by renderd.</p> <p>These instructions are have been written and tested against a newly-installed Ubuntu 20.04 server. If you have got other versions of some software already installed (perhaps you upgraded from an earlier version, or you set up some PPAs to load from) then you may need to make some adjustments.</p> <p>This guide assumes that you run everything from a non-root user via <code>sudo</code>.  The non-root username used by default below is <code>renderaccount</code> - you can create that locally if you want, or edit scripts to refer to a different username if you want.  If you do create the <code>renderaccount</code> user you'll need to add it to the group of users that can sudo to root.  From your normal non-root user account:</p> <pre><code>sudo -i\nusermod -aG sudo renderaccount\nexit\n</code></pre> <p>In order to build these components, a variety of dependencies need to be installed first:</p> <pre><code>sudo apt upgrade &amp;&amp; sudo apt install \\\n    libboost-all-dev git tar unzip wget bzip2 \\\n    build-essential autoconf libtool libxml2-dev \\\n    libgeos-dev libgeos++-dev libpq-dev libbz2-dev \\\n    libproj-dev munin-node munin protobuf-c-compiler \\\n    libfreetype6-dev libtiff5-dev libicu-dev \\\n    libgdal-dev libcairo2-dev libcairomm-1.0-dev \\\n    apache2 apache2-dev libagg-dev liblua5.2-dev \\\n    ttf-unifont lua5.1 liblua5.1-0-dev\n</code></pre> <p>Say yes to install. This will take a while, so go and have a cup of tea. This list includes various utilities and libraries, the Apache web server, and <code>carto</code> which is used to convert Carto-CSS stylesheets into something that <code>mapnik</code> the map renderer can understand. When that is complete, install the second set of prerequisites:</p>"},{"location":"serving-tiles/manually-building-a-tile-server-ubuntu-20-04-lts/#Installing-postgresql--postgis","title":"Installing postgresql / postgis","text":"<p>On Ubuntu there are pre-packaged versions of both postgis and postgresql, so these can simply be installed via the Ubuntu package manager.</p> <pre><code>sudo apt install \\\n    postgresql \\\n    postgresql-contrib \\\n    postgis \\\n    postgresql-12-postgis-3 \\\n    postgresql-12-postgis-3-scripts\n</code></pre> <p>Here <code>postgresql</code> is the database we're going to store map data and <code>postgis</code> adds some extra graphical support to it. Again, say yes to install.</p> <p>Now you need to create a postgis database. The defaults of various programs assume the database is called <code>gis</code> and we will use the same convention in this tutorial, although this is not necessary. Substitute your username for <code>renderaccount</code> where it is used below. This should be the username that will render maps with Mapnik.</p> <pre><code>sudo -u postgres -i\ncreateuser renderaccount \n# answer yes for superuser (although this isn't strictly necessary)\ncreatedb -E UTF8 -O renderaccount gis\n</code></pre> <p>While still working as the <code>postgres</code> user, set up PostGIS on the PostgreSQL database (again, substitute your username for <code>renderaccount</code> below):</p> <pre><code>psql\n</code></pre> <p>(that'll put you at a <code>postgres=#</code> prompt)</p> <pre><code>\\c gis\n</code></pre> <p>(it'll answer \"You are now connected to database 'gis' as user 'postgres'\".)</p> <pre><code>CREATE EXTENSION postgis;\n</code></pre> <p>(it'll answer CREATE EXTENSION)</p> <pre><code>CREATE EXTENSION hstore;\n</code></pre> <p>(it'll answer CREATE EXTENSION)</p> <pre><code>ALTER TABLE geometry_columns OWNER TO renderaccount;\n</code></pre> <p>(it'll answer ALTER TABLE)</p> <pre><code>ALTER TABLE spatial_ref_sys OWNER TO renderaccount;\n</code></pre> <p>(it'll answer ALTER TABLE)</p> <pre><code>\\q\n</code></pre> <p>(it'll exit psql and go back to a normal Linux prompt)</p> <pre><code>exit\n</code></pre> <p>(to exit back to be the user that we were before we did <code>sudo -u postgres -i</code> above)</p> <p>If you haven't already created one create a Unix user for this user, too, choosing a password when prompted:</p> <pre><code>sudo useradd -m renderaccount\nsudo passwd renderaccount\n</code></pre> <p>Again, above replace <code>renderaccount</code> with the non-root username that you chose.</p>"},{"location":"serving-tiles/manually-building-a-tile-server-ubuntu-20-04-lts/#Installing-osm2pgsql","title":"Installing osm2pgsql","text":"<p>Next we'll install osm2pgsql:</p> <pre><code>sudo apt install osm2pgsql\n</code></pre>"},{"location":"serving-tiles/manually-building-a-tile-server-ubuntu-20-04-lts/#Mapnik","title":"Mapnik","text":"<p>Next, we'll install Mapnik. We'll use the default version in Ubuntu 20.04:</p> <pre><code>sudo apt install \\\n    autoconf apache2-dev libtool libxml2-dev \\\n    libbz2-dev libgeos-dev libgeos++-dev libproj-dev \\\n    gdal-bin libmapnik-dev mapnik-utils \\\n    python3-mapnik python3-psycopg2 python3-yaml\n</code></pre> <p>We'll check that Mapnik has been installed correctly:</p> <pre><code>python3\n&gt;&gt;&gt; import mapnik\n&gt;&gt;&gt;\n</code></pre> <p>If python replies with the second chevron prompt <code>&gt;&gt;&gt;</code> and without errors, then Mapnik library was found by Python. Congratulations! You can leave Python with this command:</p> <pre><code>&gt;&gt;&gt; quit()\n</code></pre>"},{"location":"serving-tiles/manually-building-a-tile-server-ubuntu-20-04-lts/#Install-mod_tile-and-renderd","title":"Install mod_tile and renderd","text":"<p>Next, we'll install <code>mod_tile</code> and <code>renderd</code>. <code>mod_tile</code> is an Apache module that handles requests for tiles; <code>renderd</code> is a daemon that actually renders tiles when <code>mod_tile</code> requests them. We'll use the <code>switch2osm</code> branch of https://github.com/SomeoneElseOSM/mod_tile, which is itself forked from https://github.com/openstreetmap/mod_tile, but modified so that it supports Ubuntu 20.04, and with a couple of other changes to work on a standard Ubuntu server rather than one of OSM's rendering servers.</p>"},{"location":"serving-tiles/manually-building-a-tile-server-ubuntu-20-04-lts/#Compile-the-mod_tile-source-code","title":"Compile the mod_tile source code","text":"<pre><code>mkdir ~/src\ncd ~/src\ngit clone -b switch2osm git://github.com/SomeoneElseOSM/mod_tile.git\ncd mod_tile\n./autogen.sh\n</code></pre> <p>(that should finish with <code>autoreconf: Leaving directory '.'</code>.)</p> <pre><code>./configure\n</code></pre> <p>(that should finish with <code>config.status: executing libtool commands</code>)</p> <pre><code>make\n</code></pre> <p>Note that some \"worrying\" messages will scroll up the screen here. However it should finish with \"make[1]: Leaving directory '/home/renderaccount/src/mod_tile'\".</p> <pre><code>sudo make install\n</code></pre> <p>(that should finish with \"make[1]: Leaving directory '/home/renderaccount/src/mod_tile'\")</p> <pre><code>sudo make install-mod_tile\n</code></pre> <p>(that should finish with \"chmod 644 /usr/lib/apache2/modules/mod_tile.so\")</p> <pre><code>sudo ldconfig\n</code></pre> <p>(that shouldn't reply with anything)</p>"},{"location":"serving-tiles/manually-building-a-tile-server-ubuntu-20-04-lts/#Stylesheet-configuration","title":"Stylesheet configuration","text":"<p>Now that all of the necessary software is installed, you will need to download and configure a stylesheet.</p> <p>The style we'll use here is the one that use by the \"standard\" map on the openstreetmap.org website. It's chosen because it's well documented, and should work anywhere in the world (including in places with non-latin placenames). There are a couple of downsides though - it's very much a compromise designed to work globally, and it's quite complicated to understand and modify, should you need to do that.</p> <p>The home of \"OpenStreetMap Carto\" on the web is https://github.com/gravitystorm/openstreetmap-carto/ and it has it's own installation instructions at https://github.com/gravitystorm/openstreetmap-carto/blob/master/INSTALL.md although we'll cover everything that needs to be done here.</p> <p>Here we're assuming that we're storing the stylesheet details in a directory below <code>~/src</code> below the home directory of the <code>renderaccount</code> user (or whichever other one you are using)</p> <pre><code>cd ~/src\ngit clone https://github.com/gravitystorm/openstreetmap-carto\ncd openstreetmap-carto\n</code></pre> <p>Next, we'll install a suitable version of the <code>carto</code> compiler.</p> <pre><code>sudo apt install npm\nsudo npm install -g carto\ncarto -v\n</code></pre> <p>That should respond with a number that is at least as high as:</p> <pre><code>1.2.0\n</code></pre> <p>Then we convert the carto project into something that Mapnik can understand:</p> <pre><code>carto project.mml &gt; mapnik.xml\n</code></pre> <p>You now have a Mapnik XML stylesheet at <code>/home/renderaccount/src/openstreetmap-carto/mapnik.xml</code>.</p>"},{"location":"serving-tiles/manually-building-a-tile-server-ubuntu-20-04-lts/#Loading-data","title":"Loading data","text":"<p>Initially, we'll load only a small amount of test data. Other download locations are available, but <code>download.geofabrik.de</code> has a wide range of options. In this example we'll download the data for Azerbaijan, which is currently about 32Mb.</p> <p>Browse to https://download.geofabrik.de/asia/azerbaijan.html and note the \"This file was last modified\" date (e.g. \"2020-05-02T20:59:02Z\"). We'll need that later if we want to update the database with people's susbsequent changes to OpenStreetMap. Download it as follows:</p> <pre><code>mkdir ~/data\ncd ~/data\nwget https://download.geofabrik.de/asia/azerbaijan-latest.osm.pbf\n</code></pre> <p>The following command will insert the OpenStreetMap data you downloaded earlier into the database. This step is very disk I/O intensive; importing the full planet might take many hours, days or weeks depending on the hardware. For smaller extracts the import time is much faster accordingly, and you may need to experiment with different <code>-C</code> values to fit within your machine's available memory.</p> <pre><code>osm2pgsql -d gis --create --slim  -G --hstore \\\n    --tag-transform-script \\\n        ~/src/openstreetmap-carto/openstreetmap-carto.lua \\\n    -C 2500 --number-processes 1 \\\n    -S ~/src/openstreetmap-carto/openstreetmap-carto.style \\\n    ~/data/azerbaijan-latest.osm.pbf\n</code></pre> <p>It's worth explaining a little bit about what those options mean:</p> <code>-d gis</code> The database to work with (<code>gis</code> used to be the default; now it must be specified). <code>--create</code> Load data into an empty database rather than trying to append to an existing one. <code>--slim</code> osm2pgsql can use different table layouts; <code>slim</code> tables works for rendering. <code>-G</code> Determines how multipolygons are processed. <code>--hstore</code> Allows tags for which there are no explicit database columns to be used for rendering. <code>--tag-transform-script ~/src/openstreetmap-carto/openstreetmap-carto.lua</code> Defines the lua script used for tag processing. This an easy is a way to process OSM tags before the style itself processes them, making the style logic potentially much simpler. <code>-C 2500</code> Allocate 2.5 Gb of memory to osm2pgsql to the import process. If you have less memory you could try a smaller number, and if the import process is killed because it runs out of memory you'll need to try a smaller number or a smaller OSM extract. <code>--number-processes 1</code> Use 1 CPU. If you have more cores available you can use more. <code>-S ~/src/openstreetmap-carto/openstreetmap-carto.style</code> Create the database columns in this file (actually these are unchanged from \"openstreetmap-carto\") <code>~/data/azerbaijan-latest.osm.pbf</code> The final argument is the data file to load. <p>That command will complete with something like \"Osm2pgsql took 238s overall\".</p>"},{"location":"serving-tiles/manually-building-a-tile-server-ubuntu-20-04-lts/#Creating-indexes","title":"Creating indexes","text":"<p>Since version v5.3.0, some extra indexes now need to be applied manually.</p> <pre><code>cd ~/src/openstreetmap-carto/\npsql -d gis -f indexes.sql\n</code></pre> <p>It should respond with <code>CREATE INDEX</code> 14 times.</p>"},{"location":"serving-tiles/manually-building-a-tile-server-ubuntu-20-04-lts/#Shapefile-download","title":"Shapefile download","text":"<p>Although most of the data used to create the map is directly from the OpenStreetMap data file that you downloaded above, some shapefiles for things like low-zoom country boundaries are still needed. To download and index these:</p> <pre><code>cd ~/src/openstreetmap-carto/\nscripts/get-external-data.py\n</code></pre> <p>This process involves a sizable download and may take some time - not much will appear on the screen when it is running.  It will actually populate a \"data\" directory below \"openstreetmap-carto\".  </p>"},{"location":"serving-tiles/manually-building-a-tile-server-ubuntu-20-04-lts/#Fonts","title":"Fonts","text":"<p>In version v5.6.0 and above of Carto, fonts need to be installed manually:</p> <pre><code>cd ~/src/openstreetmap-carto/\nscripts/get-fonts.sh\n</code></pre> <p>Our test data area (Azerbaijan) was chosen both because it was a small area and because some place names in that region have names containing non-latin characters.</p>"},{"location":"serving-tiles/manually-building-a-tile-server-ubuntu-20-04-lts/#Setting-up-your-webserver","title":"Setting up your webserver","text":""},{"location":"serving-tiles/manually-building-a-tile-server-ubuntu-20-04-lts/#Configure-renderd","title":"Configure renderd","text":"<p>The config file for <code>renderd</code> is <code>/usr/local/etc/renderd.conf</code>. Edit that with a text editor such as nano:</p> <pre><code>sudo nano /usr/local/etc/renderd.conf\n</code></pre> <p>A couple of lines in here may need changing. In the <code>renderd</code> section:</p> <pre><code>num_threads=4\n</code></pre> <p>If you've only got 2Gb or so of memory you'll want to reduce this to 2. The <code>ajt</code> section corresponds to a \"named map style\" called <code>ajt</code>. You can have more than one of these sections if you want, provided that the URI is different for each. The <code>XML</code> line will need changing to something like:</p> <pre><code>XML=/home/renderaccount/src/openstreetmap-carto/mapnik.xml\n</code></pre> <p>You'll want to change <code>renderaccount</code> to whatever non-root username you used above.</p> <pre><code>URI=/hot/\n</code></pre> <p>That was chosen so that the tiles generated here can more easily be used in place of the HOT tile layer at OpenStreetMap.org. You can use something else here, but <code>/hot/</code> is as good as anything.</p>"},{"location":"serving-tiles/manually-building-a-tile-server-ubuntu-20-04-lts/#Configuring-Apache","title":"Configuring Apache","text":"<pre><code>sudo mkdir /var/lib/mod_tile\nsudo chown renderaccount /var/lib/mod_tile\n</code></pre> <pre><code>sudo mkdir /var/run/renderd\nsudo chown renderaccount /var/run/renderd\n</code></pre> <p>We now need to tell Apache about <code>mod_tile</code>, so with nano (or another editor):</p> <pre><code>sudo nano /etc/apache2/conf-available/mod_tile.conf\n</code></pre> <p>Add the following line to that file:</p> <pre><code>LoadModule tile_module /usr/lib/apache2/modules/mod_tile.so\n</code></pre> <p>and save it, and then run:</p> <pre><code>sudo a2enconf mod_tile\n</code></pre> <p>That will say that you need to run <code>service apache2 reload</code> to activate the new configuration; we'll not do that just yet.</p> <p>We now need to tell Apache about <code>renderd</code>. With nano (or another editor):</p> <pre><code>sudo nano /etc/apache2/sites-available/000-default.conf\n</code></pre> <p>And add the following between the <code>ServerAdmin</code> and <code>DocumentRoot</code> lines:</p> <pre><code>LoadTileConfigFile /usr/local/etc/renderd.conf\nModTileRenderdSocketName /var/run/renderd/renderd.sock\n# Timeout before giving up for a tile to be rendered\nModTileRequestTimeout 0\n# Timeout before giving up for a tile to be rendered that is otherwise missing\nModTileMissingRequestTimeout 30\n</code></pre> <p>And reload apache twice:</p> <pre><code>sudo service apache2 reload\nsudo service apache2 reload\n</code></pre> <p>(I suspect that it needs doing twice because Apache gets \"confused\" when reconfigured when running)</p> <p>If you point a web browser at: <code>http://your.server.ip.address/index.html</code> you should get Ubuntu / apache's \"It works!\" page.</p> <p>Tip</p> <p>if you don't know what IP address it will have been assigned you can likely use <code>ifconfig</code> to find out \u2013 if the network configuration is not too complicated it'll probably be the <code>inet addr</code> that is not <code>127.0.0.1</code>.</p> <p>If you're using a server at a hosting provider then it's likely that your server's internal address will be different to the external address that has been allocated to you, but that external IP address will have already been sent to you and it'll probably be the one that you're accessing the server on currently.</p> <p>Note that this is just the <code>http</code> (port 80) site - you'll need to do a little bit more Apache configuration if you want to enable <code>https</code>, but that's out of the scope of these instructions. However, if you use \"Let's Encrypt\" to issue certificates then the process of setting that up can also configure the Apache HTTPS site as well.</p>"},{"location":"serving-tiles/manually-building-a-tile-server-ubuntu-20-04-lts/#Running-renderd-for-the-first-time","title":"Running renderd for the first time","text":"<p>Next, we'll run <code>renderd</code> to try and render some tiles. Initially we'll run it in the foreground so that we can see any errors as they occur:</p> <pre><code>renderd -f -c /usr/local/etc/renderd.conf\n</code></pre> <p>You may see some warnings here - don't worry about those for now. You shouldn't get any errors. If you do, save the full output in a Pastebin and ask a question about the problem somewhere like <code>community.openstreetmap.org</code> (linking to the Pastebin - don't include all the text in the question).</p> <p>Point a web browser at: <code>http://your.server.ip.address/hot/0/0/0.png</code></p> <p>You should see a map of the world in your browser and some more debug on the command line, including \"DEBUG: START TILE\" and \"DEBUG: DONE TILE\". Ignore any \"DEBUG: Failed to read cmd on fd\" message - it is not an error. If you don't get a tile and get other errors again, save the full output in a Pastebin and ask a question about the problem somewhere like <code>community.openstreetmap.org</code>.</p> <p>If that all works, press Ctrl+C to stop the foreground rendering process.</p>"},{"location":"serving-tiles/manually-building-a-tile-server-ubuntu-20-04-lts/#Running-renderd-in-the-background","title":"Running renderd in the background","text":"<p>Next we'll set up <code>renderd</code> to run in the background. First, edit the <code>~/src/mod_tile/debian/renderd.init</code> file so that <code>RUNASUSER</code> is set to the non-root account that you have used before, such as <code>renderaccount</code>, then copy it to the system directory:</p> <pre><code>nano ~/src/mod_tile/debian/renderd.init\nsudo cp ~/src/mod_tile/debian/renderd.init /etc/init.d/renderd\nsudo chmod u+x /etc/init.d/renderd\nsudo cp ~/src/mod_tile/debian/renderd.service /lib/systemd/system/\n</code></pre> <p>The <code>renderd.service</code> file is a <code>systemd</code> service file. The version used here just calls old-style init commands. In order to test that the start command works:</p> <pre><code>sudo /etc/init.d/renderd start\n</code></pre> <p>(that should reply with \"[ ok ] Starting renderd (via systemctl): renderd.service\".)</p> <p>To make it start automatically every time:</p> <pre><code>sudo systemctl enable renderd\n</code></pre>"},{"location":"serving-tiles/manually-building-a-tile-server-ubuntu-20-04-lts/#Viewing-tiles","title":"Viewing tiles","text":"<p>In order to see tiles, we\u2019ll cheat and use an html file <code>sample_leaflet.html</code> in mod_tile\u2019s \u201cextras\u201d folder. Just open that file in a web browser on the machine where you installed the tile server. If that isn\u2019t possible because you\u2019re installing on a server without a local web browser, you can edit it to replace <code>127.0.0.1</code> with the IP address of the server and copy it to below <code>/var/www/html</code>.</p> <p>From an ssh connection do:</p> <pre><code>tail -f /var/log/syslog | grep \" TILE \"\n</code></pre> <p>(note the spaces around <code>\" TILE \"</code> there)</p> <p>That will show a line every time a tile is requested, and one every time rendering of one is completed.</p> <p>When you load that page you should see some tile requests. Zoom out gradually. You\u2019ll see requests for new tiles show up in the ssh connection. Some low-zoom tiles may take a long time (several minutes) to render for the first time, but once done they\u2019ll be ready for the next time that they are needed.</p> <p>Congratulations. Head over to the using tiles section to create a map that uses your new tile server.</p>"},{"location":"serving-tiles/manually-building-a-tile-server-ubuntu-22-04-lts/","title":"Manually building a tile server (Ubuntu 22.04)","text":""},{"location":"serving-tiles/manually-building-a-tile-server-ubuntu-22-04-lts/#Manually-building-a-tile-server-Ubuntu-2204","title":"Manually building a tile server (Ubuntu 22.04)","text":"<p>This page describes how to install, setup and configure all the necessary software to operate your own tile server. These step-by-step instructions were written for Ubuntu Linux 22.04 (Jammy Jellyfish), and were tested in April 2022.</p>"},{"location":"serving-tiles/manually-building-a-tile-server-ubuntu-22-04-lts/#Software-installation","title":"Software installation","text":"<p>The OSM tile server stack is a collection of programs and libraries that work together to create a tile server. As so often with OpenStreetMap, there are many ways to achieve this goal and nearly all of the components have alternatives that have various specific advantages and disadvantages. This tutorial describes the most standard version that is similar to that used on the main OpenStreetMap.org tile servers.</p> <p>It consists of 5 main components: <code>mod_tile</code>, <code>renderd</code>, <code>mapnik</code>, <code>osm2pgsql</code> and a <code>postgresql/postgis</code> database. Mod_tile is an apache module that serves cached tiles and decides which tiles need re-rendering \u00a0\u2013 either because they are not yet cached or because they are outdated. Renderd provides a priority queueing system for different sorts of requests to manage and smooth out the load from rendering requests. Mapnik is the software library that does the actual rendering and is used by renderd.</p> <p>Thanks to the work done by the Debian and Ubuntu maintainers to incorporate the latest versions of these packages into Ubuntu 22.04, these instructions are somewhat shorter than previous versions.</p> <p>These instructions are have been written and tested against a newly-installed Ubuntu 22.04 server. If you have got other versions of some software already installed (perhaps you upgraded from an earlier version, or you set up some PPAs to load from) then you may need to make some adjustments.</p> <p>In order to build these components, a variety of dependencies need to be installed first.</p> <p>This guide assumes that you run everything from a non-root user via <code>sudo</code>. Don't try and do everything below as <code>root</code>; it won't work.</p> <pre><code>sudo apt update\nsudo apt upgrade &amp;&amp; sudo apt install \\\n    screen locate libapache2-mod-tile renderd \\\n    git tar unzip wget bzip2  apache2 lua5.1 \\\n    mapnik-utils python3-mapnik python3-psycopg2 \\\n    python3-yaml gdal-bin npm postgresql \\\n    postgresql-contrib postgis postgresql-14-postgis-3 \\\n    postgresql-14-postgis-3-scripts osm2pgsql \\\n    net-tools curl\n</code></pre> <p>At this point, a couple of new accounts have been added. You can see them with <code>tail /etc/passwd</code>. <code>postgres</code> is used for managing the databases that we use to hold data for rendering. <code>_renderd</code> is used for the <code>renderd</code> daemon, and we'll need to make sure lots of the commands below are run as that user.</p> <p>Now you need to create a postgis database. The defaults of various programs assume the database is called gis and we will use the same convention in this tutorial, although this is not necessary. Note that <code>_renderd</code> below matches the user that the <code>renderd</code> daemon will run from.</p> <pre><code>sudo -u postgres -i\ncreateuser _renderd\ncreatedb -E UTF8 -O _renderd gis\n</code></pre> <p>While still working as the <code>postgres</code> user, set up PostGIS on the PostgreSQL database:</p> <pre><code>psql\n</code></pre> <p>(that'll put you at a <code>postgres=#</code> prompt)</p> <pre><code>\\c gis\n</code></pre> <p>(it'll answer \"You are now connected to database 'gis' as user 'postgres'\".)</p> <pre><code>CREATE EXTENSION postgis;\n</code></pre> <p>(it'll answer CREATE EXTENSION)</p> <pre><code>CREATE EXTENSION hstore;\n</code></pre> <p>(it'll answer CREATE EXTENSION)</p> <pre><code>ALTER TABLE geometry_columns OWNER TO _renderd;\n</code></pre> <p>(it'll answer ALTER TABLE)</p> <pre><code>ALTER TABLE spatial_ref_sys OWNER TO _renderd;\n</code></pre> <p>(it'll answer ALTER TABLE)</p> <pre><code>\\q\n</code></pre> <p>(it'll exit psql and go back to a normal Linux prompt)</p> <pre><code>exit\n</code></pre> <p>(to exit back to be the user that we were before we did <code>sudo -u postgres -i</code> above)</p>"},{"location":"serving-tiles/manually-building-a-tile-server-ubuntu-22-04-lts/#Mapnik","title":"Mapnik","text":"<p>Mapnik was installed above. We'll check that it has been installed correctly by doing this:</p> <pre><code>python3\n&gt;&gt;&gt; import mapnik\n&gt;&gt;&gt;\n</code></pre> <p>If python replies with the second chevron prompt <code>&gt;&gt;&gt;</code> and without errors, then Mapnik library was found by Python. Congratulations! You can leave Python with this command:</p> <pre><code>&gt;&gt;&gt; quit()\n</code></pre>"},{"location":"serving-tiles/manually-building-a-tile-server-ubuntu-22-04-lts/#Stylesheet-configuration","title":"Stylesheet configuration","text":"<p>Now that all of the necessary software is installed, you will need to download and configure a stylesheet.</p> <p>The style we'll use here is the one that use by the \"standard\" map on the openstreetmap.org website. It's chosen because it's well documented, and should work anywhere in the world (including in places with non-latin placenames). There are a couple of downsides though - it's very much a compromise designed to work globally, and it's quite complicated to understand and modify, should you need to do that.</p> <p>The home of \"OpenStreetMap Carto\" on the web is https://github.com/gravitystorm/openstreetmap-carto/ and it has it's own installation instructions at https://github.com/gravitystorm/openstreetmap-carto/blob/master/INSTALL.md, although we'll cover everything that needs to be done here.</p> <p>Here we're assuming that we're storing the stylesheet details in a directory below <code>~/src</code> below the home directory of whichever non-root user account you are using; we'll change access so that the <code>_renderd</code> user can access it below.</p> <pre><code>mkdir ~/src\ncd ~/src\ngit clone https://github.com/gravitystorm/openstreetmap-carto\ncd openstreetmap-carto\ngit pull --all\ngit switch --detach v5.9.0\n</code></pre> <p>The \"git switch\" is needed because that's the latest release that you can see at OpenStreetMap, but OSM Carto is in the process of moving to a different database format. See OSM Carto's INSTALL.md for the newer version.</p> <p>Next, we'll install a suitable version of the <code>carto</code> compiler.</p> <pre><code>sudo npm install -g carto\ncarto -v\n</code></pre> <p>That should respond with a number that is at least as high as:</p> <pre><code>1.2.0\n</code></pre> <p>Then we convert the carto project into something that Mapnik can understand:</p> <pre><code>carto project.mml &gt; mapnik.xml\n</code></pre> <p>You now have a Mapnik XML stylesheet at <code>/home/youruseraccount/src/openstreetmap-carto/mapnik.xml</code>.</p>"},{"location":"serving-tiles/manually-building-a-tile-server-ubuntu-22-04-lts/#Loading-data","title":"Loading data","text":"<p>Initially, we'll load only a small amount of test data. Other download locations are available, but <code>download.geofabrik.de</code> has a wide range of options. In this example we'll download the data for Azerbaijan, which is currently about 32Mb.</p> <p>Browse to https://download.geofabrik.de/asia/azerbaijan.html and note the \"This file was last modified\" date (e.g. \"2022-04-22T20:21:40Z\"). We'll need that later if we want to update the database with people's subsequent changes to OpenStreetMap. Download it as follows:</p> <pre><code>mkdir ~/data\ncd ~/data\nwget https://download.geofabrik.de/asia/azerbaijan-latest.osm.pbf\n</code></pre> <p>Next, we need to make sure that the <code>_renderd</code> user can access the stylesheet. In order to do this it needs access to wherever you downloaded it, and by default it won't have access to your home directory. If it's in <code>~/src</code> below your user account then</p> <pre><code>chmod o+rx ~\n</code></pre> <p>will work. If you don't want to do this you can move it and amend references to the file locations in subsequent commands.</p> <p>The following command will insert the OpenStreetMap data you downloaded earlier into the database. This step is very disk I/O intensive; importing the full planet might take many hours, days or weeks depending on the hardware. For smaller extracts the import time is much faster accordingly, and you may need to experiment with different <code>-C</code> values to fit within your machine's available memory. Note that the <code>_renderd</code> user is used for this process.</p> <pre><code>sudo -u _renderd \\\n    osm2pgsql -d gis --create --slim  -G --hstore \\\n    --tag-transform-script \\\n        ~/src/openstreetmap-carto/openstreetmap-carto.lua \\\n    -C 2500 --number-processes 1 \\\n    -S ~/src/openstreetmap-carto/openstreetmap-carto.style \\\n    ~/data/azerbaijan-latest.osm.pbf\n</code></pre> <p>It's worth explaining a little bit about what those options mean:</p> <code>-d gis</code> The database to work with (<code>gis</code> used to be the default; now it must be specified). <code>--create</code> Load data into an empty database rather than trying to append to an existing one. <code>--slim</code> osm2pgsql can use different table layouts; \"slim\" tables works for rendering. <code>-G</code> Determines how multipolygons are processed. <code>--hstore</code> Allows tags for which there are no explicit database columns to be used for rendering. <code>--tag-transform-script ~/src/openstreetmap-carto/openstreetmap-carto.lua</code> Defines the lua script used for tag processing. This an easy is a way to process OSM tags before the style itself processes them, making the style logic potentially much simpler. <code>-C 2500</code> Allocate 2.5 Gb of memory to osm2pgsql to the import process. If you have less memory you could try a smaller number, and if the import process is killed because it runs out of memory you'll need to try a smaller number or a smaller OSM extract. <code>--number-processes 1</code> Use 1 CPU. If you have more cores available you can use more. <code>-S ~/src/openstreetmap-carto/openstreetmap-carto.style</code> Create the database columns in this file (actually these are unchanged from \"openstreetmap-carto\") <code>~/data/azerbaijan-latest.osm.pbf</code> The final argument is the data file to load. <p>That command will complete with something like \"osm2pgsql took 163s (2m 43s) overall\".</p>"},{"location":"serving-tiles/manually-building-a-tile-server-ubuntu-22-04-lts/#Creating-indexes","title":"Creating indexes","text":"<p>Since version v5.3.0, some extra indexes now need to be applied manually:</p> <pre><code>cd ~/src/openstreetmap-carto/\nsudo -u _renderd psql -d gis -f indexes.sql\n</code></pre> <p>It should respond with <code>CREATE INDEX</code> 16 times.</p>"},{"location":"serving-tiles/manually-building-a-tile-server-ubuntu-22-04-lts/#Database-functions","title":"Database functions","text":"<p>In version 5.9.0 of \u201cOSM Carto\u201d (released October 2024), some functions need to be loaded into the database manually. These can be added / re-loaded at any point using:</p> <pre><code>cd ~/src/openstreetmap-carto/\nsudo -u _renderd psql -d gis -f functions.sql\n</code></pre>"},{"location":"serving-tiles/manually-building-a-tile-server-ubuntu-22-04-lts/#Shapefile-download","title":"Shapefile download","text":"<p>Although most of the data used to create the map is directly from the OpenStreetMap data file that you downloaded above, some shapefiles for things like low-zoom country boundaries are still needed. To download and index these, using the same account as we used previously:</p> <pre><code>cd ~/src/openstreetmap-carto/\nmkdir data\nsudo chown _renderd data\nsudo -u _renderd scripts/get-external-data.py\n</code></pre> <p>This process involves a sizable download and may take some time - not much will appear on the screen when it is running. Some data will go directly into the database, and some will go into a \u201cdata\u201d directory below \u201copenstreetmap-carto\u201d. If there is a problem here then the Natural Earth data may have moved - look at this issue and other issues at Natural Earth for more details. If you need to change the Natural Earth download location your copy of this file is the one to edit.</p>"},{"location":"serving-tiles/manually-building-a-tile-server-ubuntu-22-04-lts/#Fonts","title":"Fonts","text":"<p>In version v5.6.0 and above of Carto, fonts need to be installed manually:</p> <pre><code>cd ~/src/openstreetmap-carto/\nscripts/get-fonts.sh\n</code></pre> <p>Our test data area (Azerbaijan) was chosen both because it was a small area and because some place names in that region have names containing non-latin characters.</p>"},{"location":"serving-tiles/manually-building-a-tile-server-ubuntu-22-04-lts/#Setting-up-your-webserver","title":"Setting up your webserver","text":""},{"location":"serving-tiles/manually-building-a-tile-server-ubuntu-22-04-lts/#Configure-renderd","title":"Configure renderd","text":"<p>The config file for <code>renderd</code> on Ubuntu 22.04 is <code>/etc/renderd.conf</code>. Edit that with a text editor such as nano:</p> <pre><code>sudo nano /etc/renderd.conf\n</code></pre> <p>Add a section like the following at the end:</p> <pre><code>[s2o]\nURI=/hot/\nXML=/home/accountname/src/openstreetmap-carto/mapnik.xml\nHOST=localhost\nTILESIZE=256\nMAXZOOM=20\n</code></pre> <p>The location of the XML file <code>/home/accountname/src/openstreetmap-carto/mapnik.xml</code> will need to be changed to the actual location on your system. You can change <code>[s2o]</code> and <code>URI=/hot/</code> as well if you like. If you want to render more than one set of tiles from one server you can - just add another section like <code>[s2o]</code> with a different name referring to a different map style. If you want it to refer to a different database to the default <code>gis</code> you can, but that's out of the scope of this document. If you've only got 2Gb or so of memory you'll also want to reduce <code>num_threads</code> to 2. <code>URI=/hot/</code> was chosen so that the tiles generated here can more easily be used in place of the HOT tile layer at OpenStreetMap.org. You can use something else here, but <code>/hot/</code> is as good as anything.</p> <p>When this guide was first written, the version of Mapnik provided by Ubuntu 22.04 was 3.1, and the <code>plugins_dir</code> setting in the <code>[mapnik]</code> part of the file was <code>/usr/lib/mapnik/3.1/input</code>. That \"3.1\" may change again in the future. If an error occurs when trying to render tiles such as this:</p> <p>An error occurred while loading the map layer 's2o': Could not create datasource for type: 'postgis' (no datasource plugin directories have been successfully registered) encountered during parsing of layer 'landcover-low-zoom'</p> <p>then look in <code>/usr/lib/mapnik</code> and see what version directories there are, and also look in <code>/usr/lib/mapnik/(version)/input</code> to make sure that a file <code>postgis.input</code> exists there.</p>"},{"location":"serving-tiles/manually-building-a-tile-server-ubuntu-22-04-lts/#Making-sure-that-you-can-see-debug-messages","title":"Making sure that you can see debug messages","text":"<p>It'd be really useful at this point to be able to see the output from the tile rendering process, including any errors. By default, with recent mod_tile versions, this is turned off. To turn it on:</p> <pre><code>sudo nano /usr/lib/systemd/system/renderd.service\n</code></pre> <p>If it's not already there below <code>[Service]</code>, add:</p> <pre><code>Environment=G_MESSAGES_DEBUG=all\n</code></pre> <p>Then run these commands to reload the configuration:</p> <pre><code>sudo systemctl daemon-reload\nsudo systemctl restart renderd\nsudo systemctl restart apache2\n</code></pre>"},{"location":"serving-tiles/manually-building-a-tile-server-ubuntu-22-04-lts/#Configuring-Apache","title":"Configuring Apache","text":"<p>If you look at <code>/var/log/syslog</code>, you should see messages from the <code>renderd</code> service. There will initially be some font warnings - don't worry about those for now. Next:</p> <pre><code>sudo /etc/init.d/apache2 restart\n</code></pre> <p>In <code>syslog</code> you should see a message like:</p> <pre><code>Apr 23 11:14:10 servername apachectl[2031]: [Sat Apr 23 11:14:10.190678 2022] [tile:notice] [pid 2031:tid 140608477239168] Loading tile config s2o at /hot/ for zooms 0 - 20 from tile directory /var/cache/renderd/tiles with extension .png and mime type image/png\n</code></pre> <p>Next, point a web browser at <code>http://your.server.ip.address/index.html</code> (change <code>yours.erver.ip.address</code> to your actual server address). You should see \"Apache2 Ubuntu Default Page\".</p> <p>Tip</p> <p>If you don't know what IP address it will have been assigned, you can likely use <code>ifconfig</code> to find out - if the network configuration is not too complicated it'll probably be the <code>inet addr</code> that is not <code>127.0.0.1</code>.</p> <p>If you're using a server at a hosting provider then it's likely that your server's internal address will be different to the external address that has been allocated to you, but that external IP address will have already been sent to you, and it'll probably be the one that you're accessing the server on currently.</p> <p>Note that this is just the <code>http</code> (port 80) site - you'll need to do a little bit more Apache configuration if you want to enable <code>https</code>, but that's out of the scope of these instructions. However, if you use \"Let's Encrypt\" to issue certificates, then the process of setting that up can also configure the Apache HTTPS site as well.</p> <p>Next, point a web browser at: <code>http://your.server.ip.address/hot/0/0/0.png</code></p> <p>You'll need to edit that of course if you changed <code>URI=/hot/</code> above. You should see a small map of the world. If you don't, investigate the errors that it displays. These will most likely be permissions errors or perhaps related to accidentally missing some steps from the instructions above. If you don't get a tile and get other errors again, save the full output in a Pastebin and ask a question about the problem somewhere like <code>community.openstreetmap.org</code>.</p>"},{"location":"serving-tiles/manually-building-a-tile-server-ubuntu-22-04-lts/#Viewing-tiles","title":"Viewing tiles","text":"<p>In order to see tiles, we\u2019ll cheat and use an html file <code>sample_leaflet.html</code> that allows you to view a very simple map. To obtain this:</p> <pre><code>cd /var/www/html\nsudo wget https://raw.githubusercontent.com/SomeoneElseOSM/mod_tile/switch2osm/extra/sample_leaflet.html\nsudo nano sample_leaflet.html\n</code></pre> <p>Edit so that the IP address matches <code>your.server.address</code> rather than just saying <code>127.0.0.1</code>. That should allow you to access this server from others. Then browse to <code>http://your.server.address/sample_leaflet.html</code>.</p> <p>The initial map display will take a little while. You'll be able to zoom in and out, but depending on server speed some tiles may initially display as grey because they can't be rendered in time for the browser. However, once done they\u2019ll be ready for the next time that they are needed. If you look in <code>/var/log/syslog</code> you should see requests for tiles.</p> <p>So to see these as they are requested, from an ssh connection do:</p> <pre><code>tail -f /var/log/syslog | grep \" TILE \"\n</code></pre> <p>(note the spaces around <code>\" TILE \"</code> there)</p> <p>That will show a line every time a tile is requested, and one every time rendering of one is completed.</p> <p>If desired, you can increase the setting <code>ModTileMissingRequestTimeout</code> in <code>/etc/apache2/conf-available/renderd.conf</code> from 10 seconds to perhaps 30 or 60, in order to wait longer for tiles to be rendered in the background before a grey tile is given to the user. Make sure you <code>sudo service renderd restart</code> and <code>sudo service apache2 restart</code> after changing it.</p> <p>Congratulations. Head over to the using tiles section to create a map that uses your new tile server.</p>"},{"location":"serving-tiles/manually-building-a-tile-server-ubuntu-24-04-lts/","title":"Manually building a tile server (Ubuntu 24.04)","text":""},{"location":"serving-tiles/manually-building-a-tile-server-ubuntu-24-04-lts/#Manually-building-a-tile-server-Ubuntu-2404","title":"Manually building a tile server (Ubuntu 24.04)","text":"<p>This page describes how to install, setup and configure all the necessary software to operate your own tile server. These step-by-step instructions were written for Ubuntu Linux 24.04 (Noble Numbat), and were tested in April 2024.</p>"},{"location":"serving-tiles/manually-building-a-tile-server-ubuntu-24-04-lts/#Software-installation","title":"Software installation","text":"<p>The OSM tile server stack is a collection of programs and libraries that work together to create a tile server. As so often with OpenStreetMap, there are many ways to achieve this goal and nearly all of the components have alternatives that have various specific advantages and disadvantages. This tutorial describes the most standard version that is similar to that used on the main OpenStreetMap.org tile servers.</p> <p>It consists of 5 main components: <code>mod_tile</code>, <code>renderd</code>, <code>mapnik</code>, <code>osm2pgsql</code> and a <code>postgresql/postgis</code> database. Mod_tile is an apache module that serves cached tiles and decides which tiles need re-rendering \u00a0\u2013 either because they are not yet cached or because they are outdated. Renderd provides a priority queueing system for different sorts of requests to manage and smooth out the load from rendering requests. Mapnik is the software library that does the actual rendering and is used by renderd.</p> <p>Thanks to the work done by the Debian and Ubuntu maintainers to incorporate the latest versions of these packages into Ubuntu 24.04, these instructions are somewhat shorter than earlier versions.</p> <p>These instructions are have been written and tested against a newly-installed Ubuntu 24.04 server. If you have got other versions of some software already installed (perhaps you upgraded from an earlier version, or you set up some PPAs to load from) then you may need to make some adjustments.</p> <p>In order to build these components, a variety of dependencies need to be installed first.</p> <p>This guide assumes that you run everything from a non-root user via <code>sudo</code>. Don't try and do everything below as <code>root</code>; it won't work.</p> <pre><code>sudo apt update\nsudo apt upgrade &amp;&amp; sudo apt install \\\n    screen locate libapache2-mod-tile renderd \\\n    git tar unzip wget bzip2 apache2 lua5.1 \\\n    mapnik-utils python3-mapnik python3-psycopg2 \\\n    python3-yaml gdal-bin npm node-carto \\\n    postgresql postgresql-contrib postgis \\\n    postgresql-16-postgis-3 postgresql-16-postgis-3-scripts \\\n    osm2pgsql net-tools curl\n</code></pre> <p>At this point, a couple of new accounts have been added. You can see them with <code>tail /etc/passwd</code>. <code>postgres</code> is used for managing the databases that we use to hold data for rendering. <code>_renderd</code> is used for the <code>renderd</code> daemon, and we'll need to make sure lots of the commands below are run as that user.</p> <p>Now you need to create a postgis database. The defaults of various programs assume the database is called gis and we will use the same convention in this tutorial, although this is not necessary. Note that <code>_renderd</code> below matches the user that the <code>renderd</code> daemon will run from.</p> <pre><code>sudo -u postgres -i\ncreateuser _renderd\ncreatedb -E UTF8 -O _renderd gis\n</code></pre> <p>While still working as the <code>postgres</code> user, set up PostGIS on the PostgreSQL database:</p> <pre><code>psql\n</code></pre> <p>(that'll put you at a <code>postgres=#</code> prompt)</p> <pre><code>\\c gis\n</code></pre> <p>(it'll answer \"You are now connected to database 'gis' as user 'postgres'\".)</p> <pre><code>CREATE EXTENSION postgis;\n</code></pre> <p>(it'll answer CREATE EXTENSION)</p> <pre><code>CREATE EXTENSION hstore;\n</code></pre> <p>(it'll answer CREATE EXTENSION)</p> <pre><code>ALTER TABLE geometry_columns OWNER TO _renderd;\n</code></pre> <p>(it'll answer ALTER TABLE)</p> <pre><code>ALTER TABLE spatial_ref_sys OWNER TO _renderd;\n</code></pre> <p>(it'll answer ALTER TABLE)</p> <pre><code>\\q\n</code></pre> <p>(it'll exit psql and go back to a normal Linux prompt)</p> <pre><code>exit\n</code></pre> <p>(to exit back to be the user that we were before we did <code>sudo -u postgres -i</code> above)</p>"},{"location":"serving-tiles/manually-building-a-tile-server-ubuntu-24-04-lts/#Mapnik","title":"Mapnik","text":"<p>Mapnik was installed above. We'll check that it has been installed correctly by doing this:</p> <pre><code>python3\n&gt;&gt;&gt; import mapnik\n&gt;&gt;&gt;\n</code></pre> <p>If python replies with the second chevron prompt <code>&gt;&gt;&gt;</code> and without errors, then Mapnik library was found by Python. Congratulations! You can leave Python with this command:</p> <pre><code>&gt;&gt;&gt; quit()\n</code></pre>"},{"location":"serving-tiles/manually-building-a-tile-server-ubuntu-24-04-lts/#Stylesheet-configuration","title":"Stylesheet configuration","text":"<p>Now that all of the necessary software is installed, you will need to download and configure a stylesheet.</p> <p>The style we'll use here is the one that use by the \"standard\" map on the openstreetmap.org website. It's chosen because it's well documented, and should work anywhere in the world (including in places with non-latin placenames). There are a couple of downsides though - it's very much a compromise designed to work globally, and it's quite complicated to understand and modify, should you need to do that.</p> <p>The home of \"OpenStreetMap Carto\" on the web is https://github.com/gravitystorm/openstreetmap-carto/ and it has it's own installation instructions at https://github.com/gravitystorm/openstreetmap-carto/blob/master/INSTALL.md, although we'll cover everything that needs to be done here.</p> <p>Here we're assuming that we're storing the stylesheet details in a directory below <code>~/src</code> below the home directory of whichever non-root user account you are using; we'll change access so that the <code>_renderd</code> user can access it below.</p> <pre><code>mkdir ~/src\ncd ~/src\ngit clone https://github.com/gravitystorm/openstreetmap-carto\ncd openstreetmap-carto\ngit pull --all\ngit switch --detach v5.9.0\n</code></pre> <p>The \"git switch\" is needed because that's the latest release that you can see at OpenStreetMap, but OSM Carto is in the process of moving to a different database format. See OSM Carto's INSTALL.md for the newer version.</p> <p>Next, we'll install a suitable version of the <code>carto</code> compiler.</p> <pre><code>sudo npm install -g carto\ncarto -v\n</code></pre> <p>That should respond with a number that is at least as high as:</p> <pre><code>1.2.0\n</code></pre> <p>Then we convert the carto project into something that Mapnik can understand:</p> <pre><code>carto project.mml &gt; mapnik.xml\n</code></pre> <p>You now have a Mapnik XML stylesheet at <code>/home/youruseraccount/src/openstreetmap-carto/mapnik.xml</code>.</p>"},{"location":"serving-tiles/manually-building-a-tile-server-ubuntu-24-04-lts/#Loading-data","title":"Loading data","text":"<p>Initially, we'll load only a small amount of test data. Other download locations are available, but <code>download.geofabrik.de</code> has a wide range of options. In this example we'll download the data for Azerbaijan, which is currently about 32Mb.</p> <p>Browse to https://download.geofabrik.de/asia/azerbaijan.html and note the \"This file was last modified\" date (e.g. \"2024-04-24T20:21:40Z\"). We'll need that later if we want to update the database with people's subsequent changes to OpenStreetMap. Download it as follows:</p> <pre><code>mkdir ~/data\ncd ~/data\nwget https://download.geofabrik.de/asia/azerbaijan-latest.osm.pbf\n</code></pre> <p>Next, we need to make sure that the <code>_renderd</code> user can access the stylesheet. In order to do this it needs access to wherever you downloaded it, and by default it won't have access to your home directory. If it's in <code>~/src</code> below your user account then</p> <pre><code>chmod o+rx ~\n</code></pre> <p>will work. If you don't want to do this you can move it and amend references to the file locations in subsequent commands.</p> <p>The following command will insert the OpenStreetMap data you downloaded earlier into the database. This step is very disk I/O intensive; importing the full planet might take many hours, days or weeks depending on the hardware. For smaller extracts the import time is much faster accordingly, and you may need to experiment with different <code>-C</code> values to fit within your machine's available memory. Note that the <code>_renderd</code> user is used for this process.</p> <pre><code>sudo -u _renderd \\\n    osm2pgsql -d gis --create --slim  -G --hstore \\\n    --tag-transform-script \\\n        ~/src/openstreetmap-carto/openstreetmap-carto.lua \\\n    -C 2500 --number-processes 1 \\\n    -S ~/src/openstreetmap-carto/openstreetmap-carto.style \\\n    ~/data/azerbaijan-latest.osm.pbf\n</code></pre> <p>It's worth explaining a little bit about what those options mean:</p> <code>-d gis</code> The database to work with (<code>gis</code> used to be the default; now it must be specified). <code>--create</code> Load data into an empty database rather than trying to append to an existing one. <code>--slim</code> osm2pgsql can use different table layouts; \"slim\" tables works for rendering. <code>-G</code> Determines how multipolygons are processed. <code>--hstore</code> Allows tags for which there are no explicit database columns to be used for rendering. <code>--tag-transform-script ~/src/openstreetmap-carto/openstreetmap-carto.lua</code> Defines the lua script used for tag processing. This an easy is a way to process OSM tags before the style itself processes them, making the style logic potentially much simpler. <code>-C 2500</code> Allocate 2.5 Gb of memory to osm2pgsql to the import process. If you have less memory you could try a smaller number, and if the import process is killed because it runs out of memory you'll need to try a smaller number or a smaller OSM extract. <code>--number-processes 1</code> Use 1 CPU. If you have more cores available you can use more. <code>-S ~/src/openstreetmap-carto/openstreetmap-carto.style</code> Create the database columns in this file (actually these are unchanged from \"openstreetmap-carto\") <code>~/data/azerbaijan-latest.osm.pbf</code> The final argument is the data file to load. <p>That command will complete with something like \"osm2pgsql took 163s (2m 43s) overall\".</p>"},{"location":"serving-tiles/manually-building-a-tile-server-ubuntu-24-04-lts/#Creating-indexes","title":"Creating indexes","text":"<p>Since version v5.3.0, some extra indexes now need to be applied manually:</p> <pre><code>cd ~/src/openstreetmap-carto/\nsudo -u _renderd psql -d gis -f indexes.sql\n</code></pre> <p>It should respond with <code>CREATE INDEX</code> 16 times.</p>"},{"location":"serving-tiles/manually-building-a-tile-server-ubuntu-24-04-lts/#Database-functions","title":"Database functions","text":"<p>In version 5.9.0 of \u201cOSM Carto\u201d (released October 2024), some functions need to be loaded into the database manually. These can be added / re-loaded at any point using:</p> <pre><code>cd ~/src/openstreetmap-carto/\nsudo -u _renderd psql -d gis -f functions.sql\n</code></pre>"},{"location":"serving-tiles/manually-building-a-tile-server-ubuntu-24-04-lts/#Shapefile-download","title":"Shapefile download","text":"<p>Although most of the data used to create the map is directly from the OpenStreetMap data file that you downloaded above, some shapefiles for things like low-zoom country boundaries are still needed. To download and index these, using the same account as we used previously:</p> <pre><code>cd ~/src/openstreetmap-carto/\nmkdir data\nsudo chown _renderd data\nsudo -u _renderd scripts/get-external-data.py\n</code></pre> <p>This process involves a sizable download and may take some time - not much will appear on the screen when it is running. Some data will go directly into the database, and some will go into a \u201cdata\u201d directory below \u201copenstreetmap-carto\u201d. If there is a problem here then the Natural Earth data may have moved - look at this issue and other issues at Natural Earth for more details. If you need to change the Natural Earth download location your copy of this file is the one to edit.</p>"},{"location":"serving-tiles/manually-building-a-tile-server-ubuntu-24-04-lts/#Fonts","title":"Fonts","text":"<p>In version v5.6.0 and above of Carto, fonts need to be installed manually:</p> <pre><code>cd ~/src/openstreetmap-carto/\nscripts/get-fonts.sh\n</code></pre> <p>Our test data area (Azerbaijan) was chosen both because it was a small area and because some place names in that region have names containing non-latin characters.</p>"},{"location":"serving-tiles/manually-building-a-tile-server-ubuntu-24-04-lts/#Setting-up-your-webserver","title":"Setting up your webserver","text":""},{"location":"serving-tiles/manually-building-a-tile-server-ubuntu-24-04-lts/#Configure-renderd","title":"Configure renderd","text":"<p>The config file for <code>renderd</code> on Ubuntu 24.04 is <code>/etc/renderd.conf</code>. Edit that with a text editor such as nano:</p> <pre><code>sudo nano /etc/renderd.conf\n</code></pre> <p>Add a section like the following at the end:</p> <pre><code>[s2o]\nURI=/hot/\nXML=/home/accountname/src/openstreetmap-carto/mapnik.xml\nHOST=localhost\nTILESIZE=256\nMAXZOOM=20\n</code></pre> <p>The location of the XML file <code>/home/accountname/src/openstreetmap-carto/mapnik.xml</code> will need to be changed to the actual location on your system. You can change <code>[s2o]</code> and <code>URI=/hot/</code> as well if you like. If you want to render more than one set of tiles from one server you can - just add another section like <code>[s2o]</code> with a different name referring to a different map style. If you want it to refer to a different database to the default <code>gis</code> you can, but that's out of the scope of this document. If you've only got 2Gb or so of memory you'll also want to reduce <code>num_threads</code> to 2. <code>URI=/hot/</code> was chosen so that the tiles generated here can more easily be used in place of the HOT tile layer at OpenStreetMap.org. You can use something else here, but <code>/hot/</code> is as good as anything.</p> <p>When this guide was first written, the version of Mapnik provided by Ubuntu 24.04 was 3.1, and the <code>plugins_dir</code> setting in the <code>[mapnik]</code> part of the file was <code>/usr/lib/mapnik/3.1/input</code>. That \"3.1\" may change again in the future. If an error occurs when trying to render tiles such as this:</p> <p>An error occurred while loading the map layer 's2o': Could not create datasource for type: 'postgis' (no datasource plugin directories have been successfully registered) encountered during parsing of layer 'landcover-low-zoom'</p> <p>then look in <code>/usr/lib/mapnik</code> and see what version directories there are, and also look in <code>/usr/lib/mapnik/(version)/input</code> to make sure that a file <code>postgis.input</code> exists there.</p> <p>Now that we've told <code>renderd</code> how to react to tile rendering requests we need to tell the apache web server to send them. Unfortunately, the configuration for this has been removed from recent versions of mod_tile. It can however, currently be installed from here</p> <pre><code>cd /etc/apache2/conf-available/\nsudo wget https://raw.githubusercontent.com/openstreetmap/mod_tile/python-implementation/etc/apache2/renderd.conf\nsudo a2enconf renderd\nsudo systemctl reload apache2\n</code></pre>"},{"location":"serving-tiles/manually-building-a-tile-server-ubuntu-24-04-lts/#Making-sure-that-you-can-see-debug-messages","title":"Making sure that you can see debug messages","text":"<p>It'd be really useful at this point to be able to see the output from the tile rendering process, including any errors. By default, with recent mod_tile versions, this is turned off. To turn it on:</p> <pre><code>sudo nano /usr/lib/systemd/system/renderd.service\n</code></pre> <p>If it's not already there below <code>[Service]</code>, add:</p> <pre><code>Environment=G_MESSAGES_DEBUG=all\n</code></pre> <p>Then run these commands to reload the configuration:</p> <pre><code>sudo systemctl daemon-reload\nsudo systemctl restart renderd\nsudo systemctl restart apache2\n</code></pre>"},{"location":"serving-tiles/manually-building-a-tile-server-ubuntu-24-04-lts/#Configuring-Apache","title":"Configuring Apache","text":"<p>If you look at <code>/var/log/syslog</code>, you should see messages from the <code>renderd</code> service. There will initially be some font warnings - don't worry about those for now. Next:</p> <pre><code>sudo /etc/init.d/apache2 restart\n</code></pre> <p>In <code>syslog</code> you should see a message like:</p> <pre><code>Apr 23 11:14:10 servername apachectl[2031]: [Sat Apr 23 11:14:10.190678 2024] [tile:notice] [pid 2031:tid 140608477239168] Loading tile config s2o at /hot/ for zooms 0 - 20 from tile directory /var/cache/renderd/tiles with extension .png and mime type image/png\n</code></pre> <p>Next, point a web browser at <code>http://your.server.ip.address/index.html</code> (change <code>yours.erver.ip.address</code> to your actual server address). You should see \"Apache2 Ubuntu Default Page\".</p> <p>Tip</p> <p>If you don't know what IP address it will have been assigned, you can likely use <code>ifconfig</code> to find out - if the network configuration is not too complicated it'll probably be the <code>inet addr</code> that is not <code>127.0.0.1</code>.</p> <p>If you're using a server at a hosting provider then it's likely that your server's internal address will be different to the external address that has been allocated to you, but that external IP address will have already been sent to you, and it'll probably be the one that you're accessing the server on currently.</p> <p>Note that this is just the <code>http</code> (port 80) site - you'll need to do a little bit more Apache configuration if you want to enable <code>https</code>, but that's out of the scope of these instructions. However, if you use \"Let's Encrypt\" to issue certificates, then the process of setting that up can also configure the Apache HTTPS site as well.</p> <p>Next, point a web browser at: <code>http://your.server.ip.address/hot/0/0/0.png</code></p> <p>You'll need to edit that of course if you changed <code>URI=/hot/</code> above. You should see a small map of the world. If you don't, investigate the errors that it displays. These will most likely be permissions errors or perhaps related to accidentally missing some steps from the instructions above. If you don't get a tile and get other errors again, save the full output in a Pastebin and ask a question about the problem somewhere like <code>community.openstreetmap.org</code>.</p>"},{"location":"serving-tiles/manually-building-a-tile-server-ubuntu-24-04-lts/#Viewing-tiles","title":"Viewing tiles","text":"<p>In order to see tiles, we\u2019ll cheat and use an html file <code>sample_leaflet.html</code> that allows you to view a very simple map. To obtain this:</p> <pre><code>cd /var/www/html\nsudo wget https://raw.githubusercontent.com/SomeoneElseOSM/mod_tile/switch2osm/extra/sample_leaflet.html\nsudo nano sample_leaflet.html\n</code></pre> <p>Edit so that the IP address matches <code>your.server.address</code> rather than just saying <code>127.0.0.1</code>. That should allow you to access this server from others. Then browse to <code>http://your.server.address/sample_leaflet.html</code>.</p> <p>The initial map display will take a little while. You'll be able to zoom in and out, but depending on server speed some tiles may initially display as grey because they can't be rendered in time for the browser. However, once done they\u2019ll be ready for the next time that they are needed. If you look in <code>/var/log/syslog</code> you should see requests for tiles.</p> <p>So to see these as they are requested, from an ssh connection do:</p> <pre><code>tail -f /var/log/syslog | grep \" TILE \"\n</code></pre> <p>(note the spaces around <code>\" TILE \"</code> there)</p> <p>That will show a line every time a tile is requested, and one every time rendering of one is completed.</p> <p>If desired, you can increase the setting <code>ModTileMissingRequestTimeout</code> in <code>/etc/apache2/conf-available/renderd.conf</code> from 10 seconds to perhaps 30 or 60, in order to wait longer for tiles to be rendered in the background before a grey tile is given to the user. Make sure you <code>sudo service renderd restart</code> and <code>sudo service apache2 restart</code> after changing it.</p> <p>Congratulations. Head over to the using tiles section to create a map that uses your new tile server.</p>"},{"location":"serving-tiles/monitoring-using-munin/","title":"Monitoring using Munin","text":""},{"location":"serving-tiles/monitoring-using-munin/#Monitoring-using-Munin","title":"Monitoring using Munin","text":"<p>\"Munin\" can be used to monitor the activity of <code>renderd</code> and <code>mod_tile</code> on a server. Munin is available on a number of platforms; these instructions were tested on Ubuntu Linux 22.04 in June 2022 and Ubuntu Linux 24.04 in April 2024.</p> <p>First, install the necessary software:</p> <pre><code>sudo apt install munin-node munin libcgi-fast-perl libapache2-mod-fcgid\n</code></pre> <p>If you look at <code>/etc/apache2/conf-available</code> you should see that <code>munin.conf</code> is a symbolic link to <code>../../munin/apache24.conf</code>, which is <code>/etc/munin/apache24.conf</code>.</p> <p>The file <code>/etc/munin/apache24.conf</code> is Apache's <code>munin</code> configuration file. In that file, if you want <code>munin</code> to be accessed globally rather than just locally change both instances of <code>Require local</code> to <code>Require all granted</code>.</p> <p>Next edit <code>/etc/munin/munin.conf</code>. Uncomment these lines:</p> <pre><code>dbdir /var/lib/munin\nhtmldir /var/cache/munin/www\nlogdir /var/log/munin\nrundir /var/run/munin\n</code></pre> <p>Restart munin and apache:</p> <pre><code>sudo /etc/init.d/munin-node restart\nsudo /etc/init.d/apache2 restart\n</code></pre> <p>Browse to <code>http://your.server.ip.address/munin</code>.  You should see a page showing <code>apache</code>, <code>disk</code>, <code>munin</code>, etc.</p> <p>To add the plugins from <code>mod_tile</code> and <code>renderd</code> to munin:</p> <pre><code>sudo ln -s /usr/share/munin/plugins/mod_tile* /etc/munin/plugins/\nsudo ln -s /usr/share/munin/plugins/renderd* /etc/munin/plugins/\n</code></pre> <p>There should be 4 <code>mod_tile</code> plugins and 5 <code>renderd</code> ones.  Run munin's cron job manually once:</p> <pre><code>sudo -u munin munin-cron\n</code></pre> <p>Restart munin and apache again:</p> <pre><code>sudo /etc/init.d/munin-node restart\nsudo /etc/init.d/apache2 restart\n</code></pre> <p>After a short delay, refreshing <code>http://your.server.ip.address/munin/</code> should now show entries for <code>mod_tile</code> and <code>renderd</code>.</p> <p>Munin updates its graphs every 5 minutes, as configured by the cron file <code>/etc/cron.d/munin</code>.</p>"},{"location":"serving-tiles/serving-vector-tiles-with-tileserver-gl/","title":"Getting started with TileServer GL","text":""},{"location":"serving-tiles/serving-vector-tiles-with-tileserver-gl/#Getting-started-with-TileServer-GL","title":"Getting started with TileServer GL","text":"<p>TileServer GL is a powerful open-source tool that allows you to serve vector and raster tiles from various data sources. It enables you to create your own tile server and serve map tiles that can be rendered and customized in real-time. Here's a step-by-step guide to help you get started with TileServer GL.</p>"},{"location":"serving-tiles/serving-vector-tiles-with-tileserver-gl/#Installation","title":"Installation","text":"<p>Make sure you have Node.js installed on your system. You can download and install the latest LTS version from the official Node.js website (https://nodejs.org).</p> <p>Open your terminal or command prompt and run the following command to install TileServer GL globally:</p> <pre><code>npm install -g tileserver-gl\n</code></pre> <p>or you can utilize Docker image</p> <pre><code>docker pull klokantech/tileserver-gl:latest\n</code></pre>"},{"location":"serving-tiles/serving-vector-tiles-with-tileserver-gl/#Prepare-Map-Data","title":"Prepare Map Data","text":"<p>Determine the data source you want to use for your map tiles. TileServer GL supports various data formats, including vector data in GeoJSON, Shapefile, or Mapbox Vector Tiles (MVT) formats, as well as raster data in formats like MBTiles or GeoTIFF.</p> <p>If your data is not already in a compatible format, you may need to convert it using tools like ogr2ogr, Tippecanoe or Tilemaker. Refer to the TileServer GL documentation for specific instructions on converting your data to the required format.</p>"},{"location":"serving-tiles/serving-vector-tiles-with-tileserver-gl/#Configure-TileServer-GL","title":"Configure TileServer GL","text":"<p>Create a JSON configuration file that defines your tile server's settings. This file specifies the data sources, map styles, and other server options. You can refer to the TileServer GL documentation for a detailed explanation of the configuration options.</p> <p>Define the map styles you want to use for rendering your tiles. You can use Mapbox Studio, Maputnik, or other map styling tools to create your custom styles in Mapbox GL Style JSON format.</p>"},{"location":"serving-tiles/serving-vector-tiles-with-tileserver-gl/#Start-TileServer-GL","title":"Start TileServer GL","text":"<p>Open your terminal or command prompt and navigate to the directory where your configuration file is located. Run the following command to start TileServer GL:</p> <pre><code>tileserver-gl &lt;config.json&gt;\n</code></pre> <p>Replace <code>&lt;config.json&gt;</code> with the path to your configuration file.</p> <p>Once TileServer GL is running, you can access it through your web browser or use it as a tile source in your mapping application. The server will provide endpoints for serving vector and raster tiles, which you can utilize based on your specific requirements.</p>"},{"location":"serving-tiles/serving-vector-tiles-with-tileserver-gl/#Customize-and-Integrate","title":"Customize and Integrate","text":"<p>TileServer GL allows you to customize the rendering of your map tiles by modifying the map styles and configuration settings. You can experiment with different styles, layer compositions, and interactions to achieve the desired visual representation.</p> <p>You can integrate the tile server into your web or mobile application using mapping libraries like Maplibre GL JS, Leaflet, OpenLayers, or other frameworks that support Mapbox GL Style JSON or raster tile sources.</p>"},{"location":"serving-tiles/serving-vector-tiles-with-tileserver-gl/#Running-server-using-Docker-container","title":"Running server using Docker container","text":"<p>Install an appropriate version of Tilemaker. In case of Ubuntu 18.04 it will be</p> <pre><code>cd /opt/osm/\nwget https://github.com/systemed/tilemaker/releases/download/v2.2.0/tilemaker-ubuntu-18.04.zip\n</code></pre> <p>For other operating systems, you can find the appropriate Tilemaker version on the GitHub repository: https://github.com/systemed/tilemaker/releases.</p> <p>Use one of the regional extracts for your data, for example</p> <pre><code>wget https://download.openstreetmap.fr/extracts/europe/ukraine/kiev-latest.osm.pbf\n</code></pre> <p>You can also create your own extract in different GIS formats using services similar to https://extract.bbbike.org.</p> <p>Copy the downloaded OSM data (<code>*.osm.pbf</code>) into the <code>/opt/osm/tilemaker/build/</code> folder:</p> <pre><code>cp *.osm.pbf /opt/osm/tilemaker/build/\n</code></pre> <p>and convert <code>*.osm.pbf</code> into MBTiles format using Tilemaker:</p> <pre><code>cd /opt/osm/tilemaker/build/\n./tilemaker \\\n    --input /opt/osm/tilemaker/build/kiev.osm.pbf \\\n    --output kiev.mbtiles \\\n    --process ../resources/process-example.lua \\\n    --config ../resources/config-example.json\n</code></pre> <p>Move the generated <code>*.mbtiles</code> file to the <code>/opt/osm/opentiles</code> folder:</p> <pre><code>mv kiev.mbtiles /opt/osm/opentiles/\n</code></pre> <p>and navigate back <code>/opt/osm/</code> folder</p> <pre><code>cd /opt/osm/\n</code></pre> <p>Start your tile server using Docker and the <code>klokantech/tileserver-gl</code> image:</p> <pre><code>docker run -d --rm -it -v $(pwd)/opentiles:/data -p 8080:80 klokantech/tileserver-gl:latest\n</code></pre> <p>Your tile server is now running, and you can access it at <code>http://[server_address]:8080/</code>.</p> <p>TileServer GL offers a flexible and scalable solution for serving your own map tiles. By following these steps, you can set up your tile server, configure data sources and map styles, and start serving vector or raster tiles to enhance your mapping applications. Refer to the TileServer GL documentation for more detailed instructions and advanced features to further customize your tile server setup.</p> <p>Tip</p> <p>It is also useful to mention an article \"How to deploy an OSM tile server\" written by Christophe Blefari. The article provides detailed instructions and guidance on deploying your own OpenStreetMap (OSM) tile server. It covers various aspects, including software installation, data preparation, styling, and server configuration.</p>"},{"location":"serving-tiles/serving-vector-tiles/","title":"Steps to Serve Vector Map Tiles","text":""},{"location":"serving-tiles/serving-vector-tiles/#Steps-to-Serve-Vector-Map-Tiles","title":"Steps to Serve Vector Map Tiles","text":"<p>To serve vector map tiles, you can follow these general steps:</p> Extract OSM Data Begin by obtaining the OpenStreetMap data for the region you want to serve as vector tiles. You can use tools like osm2pgsql or imposm to import OSM data into a database, such as PostgreSQL with the PostGIS extension. Generate Vector Tiles Next, you'll need to convert the OSM data into vector tiles. Tools like Tippecanoe, Tilemaker, or ogr2ogr with the Mapbox Vector Tiles (MVT) format can be used for this purpose. These tools allow you to specify the desired tile structure, zoom levels, and styling parameters. Set Up a Tile Server Once you have generated the vector tiles, you need to set up a tile server to serve them. There are several options available, including open-source projects like MapServer, GeoServer, or the more specialized software like Tegola or TileServer GL. These tile servers can handle requests for vector tiles and deliver them to clients. Customize Styling With the vector tile server set up, you can now customize the styling of your vector map tiles. This can be done using MapLibre GL JS, Leaflet with plugins like MapLibre GL Leaflet, or other mapping libraries that support vector tile rendering. You can define rules for how map features are styled based on their attributes, allowing you to create a unique and visually appealing map. Integration Finally, integrate the vector map tiles into your application or website. This involves configuring the mapping library you've chosen and pointing it to your tile server endpoint. You can then utilize the library's API to display and interact with the vector map tiles in your application."},{"location":"serving-tiles/updating-as-people-edit-osm2pgsql-replication/","title":"Updating your database as people edit OpenStreetMap","text":""},{"location":"serving-tiles/updating-as-people-edit-osm2pgsql-replication/#Updating-your-database-as-people-edit-OpenStreetMap-using-osm2pgsql","title":"Updating your database as people edit OpenStreetMap using osm2pgsql","text":"<p>Every day there are millions of new map updates, so to prevent a map becoming \"stale\" you can refresh the data used to create map tiles regularly.</p> <p>Using <code>osm2pgsql</code> (version 1.4.2 or above) it's now much easier to do this than it was previously. Version 1.6.0 is distributed as part of Ubuntu 22.04; version 1.8.0 as part of Debian 12; version 1.11.0 as part of Ubuntu 24.04, and it can also be obtained by following these instructions. With <code>osm2pgsql</code> comes osm2pgsql-replication - that provides a relatively simple way to keep a database up to date. A more flexible approach is to call <code>PyOsmium</code> directly - see this guide for how to do that.</p> <p>It's possible to set up replication from many different sources. OpenStreetMap itself provides minutely, hourly and daily updates, and other sources such as Geofabrik can provide daily updates that match the regional data extracts available at download.geofabrik.de.</p>"},{"location":"serving-tiles/updating-as-people-edit-osm2pgsql-replication/#A-worked-example-using-Geofabrik-data","title":"A worked example using Geofabrik data","text":"<p>In this example we'll download the data for London from Geofabrik, load a database with it, and then set up updates to it. The updates from Geofabrik will be limited to the region that you have downloaded and will be made available once per day.</p> <p>First, from whichever non-root account you are using, download the data:</p> <pre><code># if it doesn't already exist\nmkdir ~/data\ncd ~/data\nwget http://download.geofabrik.de/europe/great-britain/england/greater-london-latest.osm.pbf\n</code></pre> <p>Next, load the database. The numbers here for processes and memory can be varied to match the system being used:</p> <pre><code>sudo -u _renderd \\\n    osm2pgsql -d gis --create --slim  -G --hstore \\\n    --tag-transform-script \\\n        ~/src/openstreetmap-carto/openstreetmap-carto.lua \\\n    -C 3000 --number-processes 4 \\\n    -S ~/src/openstreetmap-carto/openstreetmap-carto.style \\\n    ~/data/greater-london-latest.osm.pbf\n</code></pre> <p>Important note - the tile expiry script used below assumes that tiles are written below <code>/var/cache/renderd/</code>. If <code>/etc/renderd.conf</code> specifies another location, you'll need to modify it before expiring tiles using the scripts you're going to create here.</p> <p>Then, initialise replication. As described here files downloaded from Geofabrik (and download.openstreetmap.fr) contain all the information needed for replication (the URL from which to download updates and what date to start from).</p> <pre><code>sudo -u _renderd \\\n    osm2pgsql-replication init \\\n    -d gis \\\n    --osm-file ~/data/greater-london-latest.osm.pbf\n</code></pre> <p>That produces output something like this:</p> <pre><code>2022-04-24 23:32:42 [INFO]: Initialised updates for service 'http://download.geofabrik.de/europe/great-britain/england/greater-london-updates'.\n2022-04-24 23:32:42 [INFO]: Starting at sequence 3314 (2022-04-23 20:21:53+00:00).\n</code></pre> <p>In this example, the date shown there corresponds to the date visible on this page when the data was downloaded.</p>"},{"location":"serving-tiles/updating-as-people-edit-osm2pgsql-replication/#Creating-scripts-to-apply-updates","title":"Creating scripts to apply updates","text":"<p>Next, we'll create somewhere for expiry logfiles to be written and scripts to apply any pending updates and expire any affected tiles. When we expire a tile we can rerender it, mark it as <code>dirty</code>, or delete it.</p> <pre><code>sudo mkdir /var/log/tiles\nsudo chown _renderd /var/log/tiles\nsudo nano /usr/local/sbin/expire_tiles.sh\n</code></pre> <p>An example of this script would be something like this:</p> expire_tiles.sh<pre><code>#!/bin/bash\nrender_expired --map=s2o --min-zoom=13 --max-zoom=20 \\\n    -s /run/renderd/renderd.sock &lt; /var/cache/renderd/dirty_tiles.txt\nrm /var/cache/renderd/dirty_tiles.txt\n</code></pre> <p>The <code>dirty</code> tile list needs to be writable by the <code>_renderd</code> account that we will run this script from. See the man page for possible settings for the other parameters. The example above will try and rerender all <code>dirty</code> tiles from zoom level 13 upwards. A more realistic example would be something like:</p> expire_tiles.sh<pre><code>#!/bin/bash\nrender_expired --map=s2o --min-zoom=13 --touch-from=13 --delete-from=19 --max-zoom=20 \\\n    -s /run/renderd/renderd.sock &lt; /var/cache/renderd/dirty_tiles.txt\nrm /var/cache/renderd/dirty_tiles.txt\n</code></pre> <p>which matches the defaults that the older osmosis scripts used - tiles up to zoom level 12 are ignored, tiles from zoom levels 13 to 19 are marked as <code>dirty</code> and zoom level 20 tiles are deleted. That example can also be found here.</p> <p>Next:</p> <pre><code>sudo nano /usr/local/sbin/update_tiles.sh\n</code></pre> <p>initially, this script should contain:</p> update_tiles.sh<pre><code>#!/bin/bash\nosm2pgsql-replication \\\n    update -d gis \\\n    --post-processing /usr/local/sbin/expire_tiles.sh \\\n    --max-diff-size 10  --  \\\n    -G --hstore \\\n    --tag-transform-script \\\n        /home/renderaccount/src/openstreetmap-carto/openstreetmap-carto.lua \\\n    -C 3000 --number-processes 4 \\\n    -S /home/renderaccount/src/openstreetmap-carto/openstreetmap-carto.style \\\n    --expire-tiles=1-20 \\\n    --expire-output=/var/cache/renderd/dirty_tiles.txt\n</code></pre> <p>Everything in the <code>osm2pgsql-replication update</code> line after <code>--</code> is passed as parameters to osm2pgsql - they will all need to match what the database was loaded with in the first place. Before the <code>--</code>, <code>-d gis</code> just defines what database we're using and <code>--max-diff-size 10</code> how much data to process at once, but note that <code>osm2pgsql-replication</code> will actually repeat downloading data and updating the database until there is no more to process, which may take some time. The <code>--max diff-size</code> determines how much data is fetched on each iteration. The <code>--post-processing /usr/local/sbin/expire_tiles.sh</code> just calls our other script.</p> <p>Make both scripts executable:</p> <pre><code>sudo chmod ugo+x /usr/local/sbin/update_tiles.sh\nsudo chmod ugo+x /usr/local/sbin/expire_tiles.sh\n</code></pre>"},{"location":"serving-tiles/updating-as-people-edit-osm2pgsql-replication/#Making-sure-that-you-can-see-debug-messages","title":"Making sure that you can see debug messages","text":"<p>It'd be really useful at this point to be able to see the output from the tile rendering process, to see that tiles marked as <code>dirty</code> are being processed. By default, with recent mod_tile versions, this is turned off. To turn it on:</p> <pre><code>sudo nano /usr/lib/systemd/system/renderd.service\n</code></pre> <p>If it's not already there below <code>[Service]</code>, add:</p> <pre><code>Environment=G_MESSAGES_DEBUG=all\n</code></pre> <p>Then run these commands to reload the configuration:</p> <pre><code>sudo systemctl daemon-reload\nsudo systemctl restart renderd\nsudo systemctl restart apache2\n</code></pre>"},{"location":"serving-tiles/updating-as-people-edit-osm2pgsql-replication/#Testing","title":"Testing","text":"<p>In another session:</p> <pre><code>sudo tail -f /var/log/syslog\n</code></pre> <p>or if you are using Debian 12, which does not have a \"syslog\" file by default:</p> <pre><code>sudo journalctl -ef\n</code></pre> <p>and you should now see some output corresponding to <code>mod_tile</code> requests.</p> <p>Run the script once:</p> <pre><code>sudo -u _renderd /usr/local/sbin/update_tiles.sh\n</code></pre> <p>If there are no pending updates (Geofabrik updates for these files appear daily) then something like this will be shown:</p> <pre><code>2023-07-02 16:57:03 [INFO]: Using replication service 'http://download.geofabrik.de/europe/britain-and-ireland-updates'. Current sequence 3743 (2023-07-01 20:21:30+00:00).\n2023-07-02 16:57:03 [INFO]: Database already up-to-date.\n</code></pre> <p>If there are pending updates, then instead you will see something like:</p> <pre><code>2022-06-05 16:29:32 [INFO]: Using replication service 'http://download.geofabrik.de/europe/great-britain/england/greater-london-updates'. Current sequence 3355 (2022-06-03 20:21:26+00:00).\n2022-06-05 16:29:33  osm2pgsql version 1.6.0\n2022-06-05 16:29:33  Database version: 14.3 (Ubuntu 14.3-0ubuntu0.22.04.1)\n2022-06-05 16:29:33  PostGIS version: 3.2\n2022-06-05 16:29:34  Setting up table 'planet_osm_point'\n2022-06-05 16:29:34  Setting up table 'planet_osm_line'\n2022-06-05 16:29:34  Setting up table 'planet_osm_polygon'\n2022-06-05 16:29:34  Setting up table 'planet_osm_roads'\n2022-06-05 16:29:51  Reading input files done in 17s.\n2022-06-05 16:29:51    Processed 4267 nodes in 7s - 610/s\n2022-06-05 16:29:51    Processed 1108 ways in 7s - 158/s\n2022-06-05 16:29:51    Processed 4 relations in 3s - 1/s\n2022-06-05 16:29:52  Going over 993 pending ways (using 4 threads)\nLeft to process: 0.....\n2022-06-05 16:29:57  Processing 993 pending ways took 5s at a rate of 198.60/s\n2022-06-05 16:29:57  Going over 129 pending relations (using 4 threads)\n...\n</code></pre> <p>When there is a tile to expire, a line like this will appear:</p> <pre><code>Read and expanded 42700 tiles from list.\nrender: file:///var/cache/renderd/tiles/s2o/18/17/245/244/200/0.meta\nRead and expanded 42800 tiles from list.\n</code></pre> <p>at the end totals will be printed:</p> <pre><code>Read and expanded 121200 tiles from list.\nRead and expanded 121300 tiles from list.\nWaiting for rendering threads to finish\n\nTotal for all tiles rendered\nMeta tiles rendered: Rendered 1 tiles in 18.19 seconds (0.05 tiles/s)\nTotal tiles rendered: Rendered 64 tiles in 18.19 seconds (3.52 tiles/s)\nTotal tiles in input: 121357\nTotal tiles expanded from input: 10766\nTotal meta tiles deleted: 0\nTotal meta tiles touched: 0\nTotal tiles ignored (not on disk): 10765\n2022-06-05 16:36:58 [INFO]: Data imported until 2022-06-04 20:21:41+00:00. Backlog remaining: 20:15:17.919969\n</code></pre> <p>In the log, output will include something like:</p> <pre><code>Jun  5 16:36:40 ubuntuvm75 renderd[5838]: Data is available now on 1 fds\nJun  5 16:36:40 ubuntuvm75 renderd[5838]: Got incoming connection, fd 5, number 0, total conns 1, total slots 1\nJun  5 16:36:40 ubuntuvm75 renderd[5838]: Data is available now on 1 fds\nJun  5 16:36:40 ubuntuvm75 renderd[5838]: Got incoming request with protocol version 2\nJun  5 16:36:40 ubuntuvm75 renderd[5838]: Got command RenderBulk fd(5) xml(s2o), z(18), x(131008), y(87168), mime(image/png), options()\nJun  5 16:36:40 ubuntuvm75 renderd[5838]: START TILE s2o 18 131008-131015 87168-87175, age 0.04 days\nJun  5 16:36:40 ubuntuvm75 renderd[5838]: Rendering projected coordinates 18 131008 87168 -&gt; -9783.939621|6710559.587216 -8560.947168|6711782.579668 to a 8 x 8 tile\nJun  5 16:36:58 ubuntuvm75 renderd[5838]: DONE TILE s2o 18 131008-131015 87168-87175 in 18.046 seconds\nJun  5 16:36:58 ubuntuvm75 renderd[5838]: Creating and writing a metatile to /var/cache/renderd/tiles/s2o/18/17/245/244/200/0.meta\nJun  5 16:36:58 ubuntuvm75 renderd[5838]: Sending message Done to 5\nJun  5 16:36:58 ubuntuvm75 renderd[5838]: Sending render cmd(3 s2o 18/131008/87168) with protocol version 2 to fd 5\nJun  5 16:36:58 ubuntuvm75 renderd[5838]: Data is available now on 1 fds\nJun  5 16:36:58 ubuntuvm75 renderd[5838]: Failed to read cmd on fd 5\nJun  5 16:36:58 ubuntuvm75 renderd[5838]: Connection 0, fd 5 closed, now 0 left, total slots 1\n</code></pre>"},{"location":"serving-tiles/updating-as-people-edit-osm2pgsql-replication/#Running-every-day","title":"Running every day","text":"<p>The script to perform the update can be added to root's crontab. First, amend <code>update_tiles.sh</code> to do some error checking at startup, and to append a summary to a logfile only. You can get a copy of that from here. Again, change <code>renderaccount</code> to the name of whatever non-root account you are using here. You can also adjust the number of threads and the amount of memory cache used.</p> <p>Then add to root's crontab:</p> <pre><code>04 04  *   *   *     sudo -u _renderd /usr/local/sbin/update_tiles.sh\n</code></pre> <p>This example runs once per day at 04:04 every morning. There's no point in running it more than once per day, since Geofabrik updates are only released daily.</p>"},{"location":"serving-tiles/updating-as-people-edit-osm2pgsql-replication/#Using-minutely-updates-from-openstreetmaporg","title":"Using minutely updates from openstreetmap.org","text":"<p>Updates are also available from openstreetmap.org. These are for anything anywhere in the world, and will therefore be larger than a set of updates for the same time period for a region from e.g. Geofabrik. To set this up</p> <pre><code>sudo -u _renderd \\\n    osm2pgsql-replication init -d gis  \\\n    --server https://planet.openstreetmap.org/replication/minute\n</code></pre> <p>that will return something like</p> <pre><code>2022-06-05 20:49:21 [INFO]: Initialised updates for service 'https://planet.openstreetmap.org/replication/minute'.\n2022-06-05 20:49:21 [INFO]: Starting at sequence 5088118 (2022-06-04 17:11:02+00:00).\n</code></pre> <p>The date that updates will start from is obtained by looking at the most recent way object in the database, which will typically be a little earlier than any \"this extract contains all OSM data up to\" cut-off date. If that comes from somewhere other than OSM, an error will occur. Hourly and daily updates are also available, so you could also run the hourly or daily versions instead:</p> <pre><code>sudo -u _renderd \\\n    osm2pgsql-replication init -d gis  \\\n    --server https://planet.openstreetmap.org/replication/hour\n</code></pre> <pre><code>sudo -u _renderd \\\n    osm2pgsql-replication init -d gis  \\\n    --server https://planet.openstreetmap.org/replication/day\n</code></pre> <p>Once initialisation has been done, set up the same scripts described in \"Creating scripts to apply updates\" above and test it in the same way:</p> <pre><code>sudo -u _renderd /usr/local/sbin/update_tiles.sh\n</code></pre> <p>Again, note that <code>osm2pgsql-replication</code> will actually repeat downloading data and updating the database until there is no more to process, and the <code>--max diff-size</code> in the script determines how much data is fetched on each iteration. Eventually, it will complete, ending with something like:</p> <pre><code>2022-06-05 22:30:47 [INFO]: Data imported until 2022-06-05 21:45:42+00:00. Backlog remaining: 0:45:05.948787\n</code></pre> <p>The script to perform the update can be edited as above to output a summary to a logfile and added to root's crontab:</p> <pre><code>*/5 *  *   *   *     sudo -u _renderd /usr/local/sbin/update_tiles.sh &gt;&gt; /var/log/tiles/run.log\n</code></pre> <p>As we're updating based on minutely updates, and we've made the script check that it is not already running before trying to apply updates, we can run this more often than once per day; in this case every 5 minutes.</p> <p>It's a good idea to clear the \"osm2pgsql-replication is running\" flag when <code>renderd</code> is restarted. To do that:</p> <pre><code>sudo nano /usr/lib/systemd/system/renderd.service\n</code></pre> <p>and add:</p> <pre><code>ExecStartPre=rm -f /var/cache/renderd/update_tiles.sh.running\n</code></pre> <p>in the \"[Service]\" section. Then:</p> <pre><code>sudo systemctl daemon-reload\nsudo systemctl restart renderd\n</code></pre> <p>It's also a good idea to use the \u201cosm2pgsql-replication is running\u201d flag to stop replication running when you're doing a database reimport - don't start the reimport if the flag is set, and set the flag while the reimport happens to prevent replication running then.</p>"},{"location":"serving-tiles/updating-as-people-edit-osmosis/","title":"Updating your database as people edit OpenStreetMap","text":""},{"location":"serving-tiles/updating-as-people-edit-osmosis/#Updating-your-database-as-people-edit-OpenStreetMap-using-Osmosis","title":"Updating your database as people edit OpenStreetMap using Osmosis","text":"<p>Every day there are millions of new map updates so to prevent a map becoming \"stale\" you can refresh the data used to create map tiles regularly.</p> <p>If you're using a recent version of osm2pgsql (version 1.4.2 or above) then you may be able to follow the new instructions. Those are especially useful if you want to use an update source that exactly matches your download area (for example, Geofabrik can provide daily updates for their download areas). If using <code>osm2pgsql</code> for replication is not an option for you, read on...</p> <p>Here, we'll use <code>osmosis</code> for this, which will also install Java. <code>osmosis</code> is a general-purpose OSM data utility, and one of the things that it can do is to update a database with recent changes from OSM. Other options are available, such as <code>osmium</code>.</p> <pre><code>sudo apt install osmosis\n</code></pre> <p>(that'll eventually say \"done.\")</p> <p>We'll use <code>trim_osc.py</code> from Zverik's \"regional\" scripts to trim down the updates from OpenStreetMap.org down to just the area that we're interested in. We do this so that the postgres database doesn't grow significantly as updates are applied to it. We will also need to fetch some dependencies for that.</p> <pre><code>cd ~/src\ngit clone https://github.com/zverik/regional\nchmod u+x ~/src/regional/trim_osc.py\n\nsudo apt install python3-shapely python3-lxml\n</code></pre> <p>If you have followed the Ubuntu instructions, you'll already have the scripts needed for the next part. For Debian, you'll need to fetch those manually:</p> <pre><code>cd ~/src\ngit clone -b switch2osm git://github.com/SomeoneElseOSM/mod_tile.git\ncd mod_tile\n</code></pre> <p>The <code>openstreetmap-tiles-update-expire</code> script is what will be used to fetch updates from OpenStreetMap. In there is:</p> <pre><code>TRIM_REGION_OPTIONS=\"-b -14.17 48.85 2.12 61.27\"\n</code></pre> <p>That corresponds roughly to the UK; you may want to edit it to contain different values. You can also use a <code>.poly</code> file to define the boundary.</p> <p>Also in there is:</p> <pre><code>ACCOUNT=renderaccount\n</code></pre> <p>That will need to be changed to whatever is the non-root username below which the <code>mod_tile</code> and \"regional\" source exists. On Debian 11 it will be different to the account that you are rendering tiles as.</p> <p>Also make sure that the script does NOT contain <code>-e$EXPIRY_METAZOOM:$EXPIRY_METAZOOM</code>. If it does, change the <code>:</code> to a <code>-</code>: <code>-e$EXPIRY_METAZOOM-$EXPIRY_METAZOOM</code>.</p> <p>Something else to consider is that you'll probably want to edit the OSM2PGSQL_OPTIONS to refer to the lua tag transform script that you used when loading the database, and the <code>.style</code> file that determines what columns are created. There may be other parameters that you need to pass here too depending on what you used when creating the database. Change <code>/path/to/</code> to the actual path, of course:</p> <pre><code>OSM2PGSQL_OPTIONS=\"-d $DBNAME --tag-transform-script /path/to/src/openstreetmap-carto/openstreetmap-carto.lua -S /path/to/src/openstreetmap-carto/openstreetmap-carto.style\"\n</code></pre> <p>Next, we'll create the log directory for tile expiry logs, and change the ownership to the username used for rendering tiles (for Debian 11, this will be <code>_renderd</code>). The script must also be run as this account, and because this account may be different to where the software is downloaded, we'll pass the complete location of the script - modify <code>/path/to</code> to whatever is correct.</p> <p>The parameter passed to <code>openstreetmap-tiles-update-expire</code> should be the age of the data originally loaded. If you downloaded data from Geofabrik it should be what the \"and contains all OSM data up\" date was on e.g. http://download.geofabrik.de/asia/azerbaijan.html when you downloaded the data.</p> <pre><code>sudo mkdir /var/log/tiles\nsudo chown renderaccount /var/log/tiles\nsudo -u renderaccount /path/to/src/mod_tile/openstreetmap-tiles-update-expire 2020-11-14T21:42:02Z\n</code></pre> <p>The last line of the output that you get should look something like</p> <pre><code>2020-11-15 23:50:16 (2.62 MB/s) - \u2018/var/lib/mod_tile/.osmosis/state.txt\u2019 saved [342/342]\n</code></pre> <p>That has created a directory <code>.osmosis</code> in <code>/var/lib/mod_tile</code> with details of the last imported data.</p> <p>On one ssh session to the server run:</p> <pre><code>tail -f /var/log/tiles/run.log\n</code></pre> <p>On another run:</p> <pre><code>sudo -u renderaccount /path/to/src/mod_tile/openstreetmap-tiles-update-expire\n</code></pre> <p>modifying that like with the correct account and path as was done previously; but this time with no parameter.</p> <p>If you see a message like:</p> <pre><code>openstreetmap-tiles-update-expire: 1: python: not found\n</code></pre> <p>don't worry - this is just a disk space check.</p> <p>The output into the log file should be something like:</p> <pre><code>[2020-11-15 23:58:28] 3850 start import from seq-nr 4283484, replag is 1 day(s) and 2 hour(s)\n[2020-11-15 23:58:28] 3850 downloading diff\n[2020-11-15 23:59:31] 3850 filtering diff\n[2020-11-15 23:59:58] 3850 importing diff\n[2020-11-16 00:01:23] 3850 expiring tiles\n[2020-11-16 00:01:23] 3850 Done with import\n</code></pre> <p>The <code>replag</code> value shown is the replication lag; by default, an hours-worth of data is taken in at a time. If this doesn't work properly, check that <code>osmosis</code> is correctly installed, and you can run it from the command line.</p> <p>Run <code>openstreetmap-tiles-update-expire</code> again in the same way; you should see that <code>replag</code> is an hour less than it was.</p> <p>Next, we'll set up <code>openstreetmap-tiles-update-expire</code> in crontab to run every few minutes. We'll want this to run from the crontab of the user that does the rendering, so on Debian 11 we'll need to do this:</p> <pre><code>sudo -u _renderd crontab -e\n</code></pre> <p>You may see a message \"problems with history file\" - don't worry if you do. On non-Debian 11 systems, we will probably be able to run <code>crontab -e</code> directly from the username that is rendering tiles. The first time you run <code>crontab -e</code> you may be asked to choose an editor. Go down to the end of the file. Lines starting with <code>#</code> are comments. The last comment line is:</p> <pre><code># m h  dom mon dow   command\n</code></pre> <p>These fields are <code>m</code>\u00a0\u2013 \"minutes\", <code>h</code>\u00a0\u2013\"hours\", <code>dom</code>\u00a0\u2013 \"day of month\", <code>mon</code>\u00a0\u2013 \"month\", <code>dow</code>\u00a0\u2013 \"day of week\" and <code>command</code>. We'll add the following line:</p> <pre><code>*/5  * *   *   *     /home/renderaccount/src/mod_tile/openstreetmap-tiles-update-expire\n</code></pre> <p>so that the script runs every 5 minutes. Replace <code>renderaccount</code> with the username below which the script is located. Monitor the output with <code>tail -f /var/log/tiles/run.log</code> and wait 5 minutes. Eventually it'll catch up, and new edits to OpenStreetMap will appear in your tiles too.</p>"},{"location":"serving-tiles/updating-as-people-edit-osmosis/#Potential-Problems-with-updates","title":"Potential Problems with updates","text":"<p>If an error such as \"Expiry failed\" appears in <code>/var/log/tiles/run.log</code> then the likely problem is that <code>render_expired</code>, one of the programs called from within there, has run out of memory. If that is the case, reduce <code>EXPIRY_MAXZOOM</code> in the script until it works. You can get more details about what has gone wrong from the other files in <code>/var/log/tiles/</code>.</p> <p>If an error such as \"rm: cannot remove '/var/lib/mod_tile/dirty_tiles.6877':\" occurs, it might mean that <code>osm2pgsql</code> failed, and it didn't produce a list of dirty tiles at the end of its run. The location of the logfile it creates is higher up in the script. By default, it is <code>/var/log/tiles/osm2pgsql.log</code>, and if you look in there you should see the actual error.</p>"},{"location":"serving-tiles/updating-as-people-edit-osmosis/#Configuring-munin","title":"Configuring munin","text":"<p>If you are using munin to report on <code>mod_tile</code> and <code>renderd</code> activity, you can configure it to display the database replication lag by looking at the <code>state.txt</code> file:</p> <pre><code>sudo nano /etc/munin/plugins/replication_delay\n</code></pre> <p>You can obtain the contents of the script from here. You may need to edit that so the the correct file location is used (typically either <code>/var/cache/renderd</code> or <code>/var/lib/mod_tile</code>). Then:</p> <pre><code>sudo /etc/init.d/munin-node restart\n</code></pre> <p>Shortly after doing that, <code>http://your.server.address/munin/renderd-day.html</code> should show a \"Data import lag\" graph. If it doesn't, look at the logs in <code>/var/log/munin</code>. If you need more help to understand what is going wrong, have a look here.</p>"},{"location":"serving-tiles/updating-as-people-edit-pyosmium/","title":"Updating your database as people edit OpenStreetMap","text":""},{"location":"serving-tiles/updating-as-people-edit-pyosmium/#Updating-your-database-as-people-edit-OpenStreetMap-using-PyOsmium","title":"Updating your database as people edit OpenStreetMap using PyOsmium","text":"<p>Every day there are millions of new map updates so to prevent a map becoming \"stale\" you can refresh the data used to create map tiles regularly.</p> <p>Using osm2pgsql (version 1.4.2 or above) it's now much easier to do this than it was previously. Suitable versions are distributed as part of Ubuntu 22.04 and 24.04, and Debian 12, and it can also be obtained by following these instructions.</p> <p>A simpler, but less flexible, method to update a database is to use <code>osm2pgsql-replication</code>, described here. In this example, we'll use <code>PyOsmium</code> to update a database initially loaded from Geofabrik with minutely updates from https://planet.openstreetmap.org.</p>"},{"location":"serving-tiles/updating-as-people-edit-pyosmium/#Making-sure-that-you-can-see-debug-messages","title":"Making sure that you can see debug messages","text":"<p>It'd be really useful at this point to be able to see the output from the tile rendering process, to see that tiles marked as dirty are being processed. By default, with recent mod_tile versions, this is turned off. To turn it on:</p> <pre><code>sudo nano /usr/lib/systemd/system/renderd.service\n</code></pre> <p>If it's not already there below <code>[Service]</code>, add:</p> <pre><code>Environment=G_MESSAGES_DEBUG=all\n</code></pre> <p>Then run these commands to reload the configuration:</p> <pre><code>sudo systemctl daemon-reload\nsudo systemctl restart renderd\nsudo systemctl restart apache2\n</code></pre>"},{"location":"serving-tiles/updating-as-people-edit-pyosmium/#Initialising-replication","title":"Initialising replication","text":"<p>Important note - the tile expiry script used below assumes that tiles are written below <code>/var/cache/renderd/</code>. If <code>/etc/renderd.conf</code> specifies another location, you'll need to modify it before expiring tiles using the scripts you're going to create here. Because that directory will always exist, we'll also use it for workfiles needed by <code>pyosmium</code>.</p> <p>For the sake of this example, we'll assume that you've loaded your database in this way:</p> <pre><code>sudo -u _renderd \\\n    osm2pgsql -d gis --create --slim  -G --hstore \\\n    --tag-transform-script \\\n        ~/src/openstreetmap-carto/openstreetmap-carto.lua \\\n    -C 3000 --number-processes 4 \\\n    -S ~/src/openstreetmap-carto/openstreetmap-carto.style \\\n    ~/data/greater-london-latest.osm.pbf\n</code></pre> <p>The data to load was obtained from a page such as this one, which says something like \"... and contains all OSM data up to 2023-07-02T20:21:43Z\". We'll use that date when setting up replication below:</p> <pre><code>sudo mkdir /var/cache/renderd/pyosmium\nsudo chown _renderd /var/cache/renderd/pyosmium\nsudo mkdir /var/log/tiles\nsudo chown _renderd /var/log/tiles\ncd /var/cache/renderd/pyosmium\nsudo apt install pyosmium\nsudo -u _renderd pyosmium-get-changes -D 2023-07-02T20:21:43Z -f sequence.state -v\n</code></pre> <p>The last line creates a <code>sequence.state</code> file. The actual date used in that line will need to match the data that you downloaded.</p>"},{"location":"serving-tiles/updating-as-people-edit-pyosmium/#Using-trim_oscpy-to-only-apply-updates-for-a-particular-area","title":"Using \"trim_osc.py\" to only apply updates for a particular area","text":"<p>(optional, but recommended if updating a database containing only a region of the planet)</p> <p>We\u2019ll use <code>trim_osc.py</code> from Zverik\u2019s \u201cregional\u201d scripts to trim down the updates from OpenStreetMap.org down to just the area that we\u2019re interested in. We do this so that the postgres database doesn\u2019t grow significantly as updates are applied to it. Furthermore, we will also need to fetch some dependencies for that. As whatever non-root user you are using:</p> <pre><code>cd ~/src\ngit clone https://github.com/zverik/regional\nchmod u+x ~/src/regional/trim_osc.py\n\nsudo apt install python3-shapely python3-lxml\n</code></pre>"},{"location":"serving-tiles/updating-as-people-edit-pyosmium/#Applying-updates","title":"Applying updates","text":"<p>A script to actually apply updates has been created here. A good place to create that is <code>/usr/local/sbin</code>. That will need some customisation:</p> <ul> <li> <p>If you're not using <code>trim_osc.py</code>, just remove the section of code between the \"Trim the downloaded changes\" comment and the \"The osm2pgsql append line\" one.</p> </li> <li> <p>If you are using <code>trim_osc.py</code> you'll need to make sure that TRIM_BIN points to the correct location and TRIM_REGION_OPTIONS matches the area that you are interested in (the default in the script covers IE+GB).</p> </li> <li> <p>The parameters to <code>osm2pgsql --append</code> will need customising to match the server you're using (amount of memory allocated, number of threads, etc.)</p> </li> <li> <p>The parameters passed to <code>render_expired</code> will need to be customised (how many zoom levels to process, and what to do with <code>dirty</code> tiles at each level)</p> </li> </ul> <p>A script to display the current database replication lag is available here, which is based on the <code>mod_tile</code> one that is shipped as an example with the mod_tile source. <code>pyosmium_replag</code> displays the replication lag in seconds; <code>pyosmium_replag -h</code> displays the replication lag in hours (or if less than an hour minutes, or seconds). It is suggested to also create that in <code>/usr/local/sbin</code>. Don't forget to make both scripts executable.</p> <p>To run the script once:</p> <pre><code>sudo -u _renderd /usr/local/sbin/call_pyosmium.sh\n</code></pre> <p>As it runs, it creates workfiles (and the verbose output from the commands that it runs) in <code>/var/cache/renderd/pyosmium</code>. At completion you should see something like:</p> <pre><code>Pyosmium update started:  Mon Jul 3 11:15:36 PM UTC 2023\nFiltering newchange.osc.gz\nImporting newchange.osc.gz\n2023-07-03 23:17:44  osm2pgsql took 45s overall.\nExpiring tiles\n\nTotal for all tiles rendered\nMeta tiles rendered: Rendered 0 tiles in 1.54 seconds (0.00 tiles/s)\nTotal tiles rendered: Rendered 0 tiles in 1.54 seconds (0.00 tiles/s)\nTotal tiles in input: 2334224\nTotal tiles expanded from input: 305839\nTotal meta tiles deleted: 0\nTotal meta tiles touched: 0\nTotal tiles ignored (not on disk): 305839\nDatabase Replication Lag: 1 day(s) and 1 hour(s)\n</code></pre> <p>The amount downloaded per run can be tuned in the script by changing the size (<code>-s</code>) parameter to <code>pyosmium-get-changes</code>. This size is in MB - the script is set to 20 by default, and if not specified 100MB at a time is downloaded.</p> <p>The script to perform the update can be added to the crontab of the <code>_renderd</code> account:</p> <pre><code>sudo -u _renderd crontab -e\n</code></pre> <p>and then add:</p> <pre><code>*/5 *  *   *   *     /usr/local/sbin/call_pyosmium.sh &gt;&gt; /var/log/tiles/run.log\n</code></pre> <p>The script checks that it is not already running before trying to apply updates, so can run it fairly frequently; in this case every 5 minutes.</p> <p>It's a good idea to clear the \"pyosmium is running\" flag when <code>renderd</code> is restarted. To do that:</p> <pre><code>sudo nano /usr/lib/systemd/system/renderd.service\n</code></pre> <p>and add:</p> <pre><code>ExecStartPre=rm -f /var/cache/renderd/pyosmium/call_pyosmium.running\n</code></pre> <p>in the \"[Service]\" section. Then:</p> <pre><code>sudo systemctl daemon-reload\nsudo systemctl restart renderd\n</code></pre> <p>It's also a good idea to use the \u201cosm2pgsql-replication is running\u201d flag to stop replication running when you're doing a database reimport - don't start the reimport if the flag is set, and set the flag while the reimport happens to prevent replication running then.</p>"},{"location":"serving-tiles/updating-as-people-edit-pyosmium/#Configuring-munin","title":"Configuring munin","text":"<p>If you are using munin to report on <code>mod_tile</code> and <code>renderd</code> activity, you can configure it to display the database replication lag by calling <code>pyosmium_replag.sh</code> as well:</p> <pre><code>sudo nano /etc/munin/plugins/replication_delay\n</code></pre> <p>You can obtain the contents of the script from here. It uses the <code>pyosmium_replag.sh</code> that we created earlier to obtain the replication delay in seconds. Make that script executable by anyone, then:</p> <pre><code>sudo /etc/init.d/munin-node restart\n</code></pre> <p>Shortly after doing that, <code>http://your.server.address/munin/renderd-day.html</code> should show a \"Data import lag\" graph. If it doesn't, look at the logs in <code>/var/log/munin</code>. If you need more help understanding what is going wrong, have a look here.</p>"},{"location":"serving-tiles/using-a-docker-container/","title":"Using a Docker container","text":""},{"location":"serving-tiles/using-a-docker-container/#Using-a-Docker-container","title":"Using a Docker container","text":"<p>If you just want to try things out, or you're using an OS other than Ubuntu, and you're using Docker for containerisation, you can try this (thanks to all the contributors there).  It's based on the instructions here, but is a pre-built container you can install.</p>"},{"location":"serving-tiles/using-a-docker-container/#Docker","title":"Docker","text":"<p>If you don't already have Docker installed, there are lots of \"how-tos\" around - see for example here.</p> <p>You'll need around 30GB of disk space for even a small data extract, because the worldwide boundary data that is added to the database is quite large.</p>"},{"location":"serving-tiles/using-a-docker-container/#OpenStreetmap-Data","title":"OpenStreetmap Data","text":"<p>In this example run-through I\u2019ll download data for Zambia and import it, but any OSM <code>.pbf</code> file should work.  For testing, try a small <code>.pbf</code> first.  When logged in as the non-root user that you run Docker from, download the data for Zambia:</p> <pre><code>cd\nwget https://download.geofabrik.de/africa/zambia-latest.osm.pbf\n</code></pre> <p>Create a docker volume for the data:</p> <pre><code>docker volume create osm-data\n</code></pre> <p>And install it and import the data:</p> <pre><code>time \\\n    docker run \\\n    -v /home/renderaccount/zambia-latest.osm.pbf:/data/region.osm.pbf \\\n    -v osm-data:/data/database/ \\\n    overv/openstreetmap-tile-server import\n</code></pre> <p>The path to the data file needs to be the absolute path to the data file - it can't be a relative path.  In this example it's in the root directory of the <code>renderaccount</code> user.Also, if something goes wrong, you'll need to <code>docker volume rm osm-data</code> and restart from <code>docker volume create osm-data</code> above. At the end of the process you should see:</p> <pre><code>INFO:root: Import complete\n</code></pre> <p>If you see something like:</p> <pre><code>/data/region.osm.pbf: Is a directory\n</code></pre> <p>or</p> <pre><code>createuser: error: creation of new role failed: ERROR: role \"renderer\" already exists\n</code></pre> <p>then something has gone wrong; you'll need to use <code>docker ps -a</code> to identify the failed container; <code>docker rm</code> (followed by the container id) to delete it, and then delete and recreate <code>osm-data</code> as described above.</p> <p>How long this takes depends very much on the local network speed and the size of the area that you are loading. Zambia, used in this example, is relatively small.</p> <p>Note that if something goes wrong the error messages may be somewhat cryptic, and unfortunately the import process can't be restarted after failure.  Also, note that newer versions of the Docker container might use newer versions of postgres, so an <code>osm-data</code> created with an earlier version might not work - you may need to remove it with <code>docker volume rm osm-data</code> and recreate.</p> <p>For more details about what it\u2019s actually doing, have a look at this file. You\u2019ll see that it closely matches the \u201cmanually building a tile server\u201d instructions here, with some minor changes such as the tile URL and the internal account used. Internally you can see that it\u2019s using Ubuntu 22.04.  You don\u2019t need to interact with that directly, but you can (via <code>docker exec -it mycontainernumber bash</code>) if you want to.</p> <p>To start the tile server running:</p> <pre><code>docker run \\\n    -p 8080:80 \\\n    -v osm-data:/data/database \\\n    -d overv/openstreetmap-tile-server \\\n    run\n</code></pre> <p>and to check that it\u2019s working, from a new incognito window browse to:</p> <p><code>http://your.server.ip.address/tile/0/0/0.png</code></p> <p>You should see a map of the world in your browser.  Then try:</p> <p><code>http://your.server.ip.address:8080</code></p> <p>for a map that you can zoom in and out of.  Tiles (especially at low zoom levels) will take a short period of time to appear.</p>"},{"location":"serving-tiles/using-a-docker-container/#More-Information","title":"More Information","text":"<p>This docker container actually supports a lot more than the simple example here \u2013 see the readme for more details about updates, performance tweaks, etc.</p>"},{"location":"serving-tiles/using-a-docker-container/#Viewing-tiles","title":"Viewing tiles","text":"<p>For a simple \u201cslippy map\u201d that you can modify, you can use an html file <code>sample_leaflet.html</code> which is here in mod_tile\u2019s <code>extra</code> folder. Edit <code>hot</code> in the URL in that file to read <code>tile</code>, and then just open that file in a web browser on the machine where you installed the docker container. If that isn\u2019t possible because you\u2019re installing on a server without a local web browser, you\u2019ll also need to edit it to replace <code>127.0.0.1</code> with the IP address of the server and copy it to below <code>/var/www/html</code> on that server.</p> <p>If you want to load a different area, just repeat the process from <code>wget</code> above. Unfortunately, it is necessary to delete and recreate <code>osm-data</code> every time you want to load some new data.</p>"},{"location":"using-tiles/","title":"Using Tiles","text":""},{"location":"using-tiles/#Using-Tiles","title":"Using Tiles","text":"<p>You can switch a website to OpenStreetMap in under an hour. Choose a JavaScript API and a tile provider, and you\u2019re ready to go. Then, as your needs increase, you can consider custom tiles, either from a specialist provider or generated yourself.</p>"},{"location":"using-tiles/#Choosing-an-APIlibrary","title":"Choosing an API/library","text":"<p>Unlike commercial online map providers, OpenStreetMap does not provide an \u201cofficial\u201d JavaScript library which you are required to use. Rather, you can use any library that meets your needs. The most popular is Leaflet, an open-source library. OpenLayers 3, another well know library, can also be a good fit.</p> <p>Getting started with Leaflet \u2013 a light web maps library</p> <p>Getting started with Openlayers \u2013 a full feature library for web maps</p> <p>Getting started with Maplibre</p>"},{"location":"using-tiles/#Choosing-a-tile-provider","title":"Choosing a tile provider","text":"<p>Apart from very limited testing purposes, you should not use the tiles supplied by OpenStreetMap.org itself. OpenStreetMap is a volunteer-run non-profit body and cannot supply tiles for large-scale commercial use. Rather, you should use a third party provider that makes tiles from OSM data, or generate your own.</p>"},{"location":"using-tiles/#Free-providers","title":"Free providers","text":"<p>You can get a list using the project Leaflet-provider preview although some of them are not free (require an API key).</p>"},{"location":"using-tiles/#Paid-for-providers","title":"Paid-for providers","text":"<p>See list. Or go on to find out how to generate and serve your own tiles.</p>"},{"location":"using-tiles/getting-started-with-leaflet/","title":"Getting started with Leaflet","text":""},{"location":"using-tiles/getting-started-with-leaflet/#Getting-started-with-Leaflet","title":"Getting started with Leaflet","text":""},{"location":"using-tiles/getting-started-with-leaflet/#Introduction","title":"Introduction","text":"<p>Leaflet is a lightweight JavaScript library for embedding maps. It uses a permissive BSD open-source license so can be incorporated into any site without legal worries. Its source code is available on GitHub.</p> <p>Here, we restrict ourselves to a small, self-contained example and refer to the official tutorials and documentation for elaborate usages.</p>"},{"location":"using-tiles/getting-started-with-leaflet/#Getting-started","title":"Getting started","text":"<p>Copy the following content to a file leaflet.html and open it in your browser:</p> leaflet.html<pre><code>&lt;!DOCTYPE HTML&gt;\n&lt;html lang=\"en\"&gt;\n  &lt;head&gt;\n    &lt;meta charset=\"utf-8\" /&gt;\n    &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt;\n    &lt;script src=\"https://unpkg.com/leaflet@1.9/dist/leaflet.js\"&gt;&lt;/script&gt;\n    &lt;link rel=\"stylesheet\" href=\"https://unpkg.com/leaflet@1.9/dist/leaflet.css\" /&gt;\n    &lt;style&gt;\n      html, body {\n        height: 100%;\n        padding: 0;\n        margin: 0;\n      }\n      #map {\n        /* configure the size of the map */\n        width: 100%;\n        height: 100%;\n      }\n    &lt;/style&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;div id=\"map\"&gt;&lt;/div&gt;\n    &lt;script&gt;\n      // initialize Leaflet\n      var map = L.map('map').setView({lon: 0, lat: 0}, 2);\n\n      // add the OpenStreetMap tiles\n      L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {\n        maxZoom: 19,\n        attribution: '&amp;copy; &lt;a href=\"https://openstreetmap.org/copyright\"&gt;OpenStreetMap contributors&lt;/a&gt;'\n      }).addTo(map);\n\n      // show the scale bar on the lower left corner\n      L.control.scale({imperial: true, metric: true}).addTo(map);\n\n      // show a marker on the map\n      L.marker({lon: 0, lat: 0}).bindPopup('The center of the world').addTo(map);\n    &lt;/script&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>See the official website for a detailed explanation of the code. <sup>1</sup></p>"},{"location":"using-tiles/getting-started-with-leaflet/#Further-links","title":"Further links","text":"<p>You want to \u2026</p> <ul> <li>use a different background? \u2192 Leaflet natively supports TMS and WMS. See there which options are supported in Leaflet.</li> <li>add all of your company's locations? \u2192 Provide them as GeoJSON and include them in the map.</li> <li>use a different map projection? \u2192 Use the Proj4Leaflet plugin.</li> </ul> <ol> <li> <p>Quick Start\u00a0\u2013 https://leafletjs.com/examples/quick-start/ \u21a9</p> </li> </ol>"},{"location":"using-tiles/getting-started-with-maplibre/","title":"Getting started with MapLibre GL","text":""},{"location":"using-tiles/getting-started-with-maplibre/#Getting-started-with-MapLibre-GL","title":"Getting started with MapLibre GL","text":""},{"location":"using-tiles/getting-started-with-maplibre/#Introduction","title":"Introduction","text":"<p>MapLibre GL JS is a TypeScript library that uses WebGL for embedding maps. It uses a permissive BSD open-source license so can be incorporated into any site without legal worries. Its source code is available on GitHub.</p> <p>Here, we restrict ourselves to a small, self-contained example and refer to the official tutorials and documentation for elaborate usages.</p>"},{"location":"using-tiles/getting-started-with-maplibre/#Getting-started","title":"Getting started","text":"<p>Displaying a map requires three things: a data source, map style, and site to host them all. We're going to use the OpenStreetMap Foundation Shortbread tiles, the Versatiles Colorful style, and a website you'll run.</p> <p>Hosting</p> <p>Some browser features require a page is served from a secure location. This is a website with HTTPS or your local computer. We're assuming you have a web host for \"example.com\" that lets you serve files from disk and that you know how to copy files to the web host.</p>"},{"location":"using-tiles/getting-started-with-maplibre/#Software-Installation","title":"Software Installation","text":"<p>We need Node.js 18 or later. If you have Ubuntu 24.04 or later or Debian 12 or later, you can install these with</p> <pre><code>sudo apt-get install nodejs\n</code></pre> <p>For other operating systems consult their documentation. You can check the version of Node.js you have with <code>node --version</code>. If it's below 18 you will need to install your own version of Node. One way to do this is with nvm.</p>"},{"location":"using-tiles/getting-started-with-maplibre/#Building-the-style","title":"Building the style","text":"<p>We're going to be using the VersaTiles colorful style, a basic style which uses Shortbread tiles. The Shortbread vector tile schema is a general-purpose vector tile schema for OpenStreetMap data. To get the tiles we're going to use the OpenStreetMap Foundation's Shortbread tile service.</p> <p>Usage of the vector tiles is governed by the vector tile usage policy. This web page will meet the requirements, but there is no SLA or guarantee with the vector tile service. If you need these you should host them yourself or use a commercial host.</p> <p>A style requires a style definition, sprite files for any icons, and glyph files for any fonts. We're going to build the style definition to point to our own sprite and glyph files.</p> <p>Start by making a new directory to store the files you'll be creating. We'll call it \"style\" in the documentation, but it can be whatever you want. Inside this directory we're going to build all the files we need and place them in a \"release\" subdirectory</p> <pre><code>mkdir style\ncd style\nmkdir release\n</code></pre> <p>Building sprites and glyphs can be a complicated process, but because we don't need to modify them we're going to use pre-built ones</p> <pre><code>curl -OL https://github.com/versatiles-org/versatiles-style/releases/download/v5.7.0/sprites.tar.gz\nmkdir -p release/sprites\ntar -C release/sprites -xzf sprites.tar.gz\n\ncurl -OL https://github.com/versatiles-org/versatiles-fonts/releases/download/v2.0.0/fonts.tar.gz\nmkdir -p release/fonts\ntar -C release/fonts -xzf fonts.tar.gz\n</code></pre> <p>We now need to build the style so it uses our new copy of the glyphs and sprites.</p> <p>Copy the following content to a file build.ts, but change \"example.com\" to the URL that you will serve the tiles from, including your domain name</p> build.ts<pre><code>import { colorful } from \"@versatiles/style\";\nimport { writeFileSync } from \"node:fs\";\n\nconst style = colorful({\n    baseUrl: \"https://example.com\",\n    glyphs: \"/fonts/{fontstack}/{range}.pbf\",\n    sprite: \"/sprites/basics/sprites\",\n    tiles: [\"https://vector.openstreetmap.org/shortbread_v1/{z}/{x}/{y}.mvt\"]\n});\nwriteFileSync(\"release/style.json\", JSON.stringify(style));\n</code></pre> <p>In the same directory install TypeScript and the VersaTiles styles, then run the script above to build your style.</p> <pre><code>npm install tsx @versatiles/style@~5.7.0\nnode_modules/.bin/tsx build.ts\n</code></pre> <p>Copy the following content to a file maplibre.html and put it in the release directory</p> maplibre.html<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n  &lt;meta name=\"viewport\" content=\"initial-scale=1,maximum-scale=1,user-scalable=no\" /&gt;\n  &lt;script src='https://unpkg.com/maplibre-gl@5.6/dist/maplibre-gl.js'&gt;&lt;/script&gt;\n  &lt;link href='https://unpkg.com/maplibre-gl@5.6/dist/maplibre-gl.css' rel='stylesheet' /&gt;\n\n  &lt;style&gt;\n    #map {position: absolute; top: 0; right: 0; bottom: 0; left: 0;}\n  &lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n  &lt;div id=\"map\"&gt;&lt;/div&gt;\n  &lt;script&gt;\n    maplibregl.setRTLTextPlugin(\n        'https://unpkg.com/@mapbox/mapbox-gl-rtl-text@0.3.0/dist/mapbox-gl-rtl-text.js',\n        true // Lazy load the plugin\n    );\n\n    const map = new maplibregl.Map({\n      style: new URL('style.json', window.location.href).href,\n      container: 'map',\n      center: [0, 0],\n      zoom: 1,\n      hash: true,\n      maxZoom: 19\n    });\n  &lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>"},{"location":"using-tiles/getting-started-with-maplibre/#Releasing-the-style","title":"Releasing the style","text":"<p>py the contents of the \"release\" directory to the location that you chose earlier, that you will serve the files from. Common ways of doing this are with a scp or rsync command, or through a web interface.</p>"},{"location":"using-tiles/getting-started-with-maplibre/#Common-problems","title":"Common problems","text":""},{"location":"using-tiles/getting-started-with-maplibre/#node_modulesbintsx-buildts-fails-to-run","title":"<code>node_modules/.bin/tsx build.ts</code> fails to run","text":"<p>If you have an outdated version of node, this command will fail to run. You can fix this by installing an up-to-date version with nvm as described earlier.</p>"},{"location":"using-tiles/getting-started-with-maplibre/#Nothing-loads-on-the-web-page","title":"Nothing loads on the web page","text":"<p>Open your browser's Developer Tools and look at the console. The most common cause of nothing displaying is incorrect URLs.</p>"},{"location":"using-tiles/getting-started-with-openlayers/","title":"Getting started with OpenLayers","text":""},{"location":"using-tiles/getting-started-with-openlayers/#Getting-started-with-OpenLayers","title":"Getting started with OpenLayers","text":""},{"location":"using-tiles/getting-started-with-openlayers/#Introduction","title":"Introduction","text":"<p>OpenLayers is a complete JavaScript library for embedding maps. It uses a permissive BSD open-source license so can be incorporated into any site without legal worries. Its source code is available on GitHub.</p>"},{"location":"using-tiles/getting-started-with-openlayers/#Getting-started","title":"Getting started","text":"<p>A map deployment example using the OpenLayers library is detailed in the Quick Start section of the OpenLayers documentation. It requires a bit of effort to install the node.js framework and install the library, so we won't go into that here.</p>"},{"location":"using-tiles/getting-started-with-openlayers/#Further-links","title":"Further links","text":"<p>You want to \u2026</p> <ul> <li>use a different background? \u2192 Openlayers natively supports TMS  and WMS . See Openlayers official examples and the API to see which options are supported.</li> <li>add all of your company's locations? \u2192 Provide them as GeoJSON and include them in the map.</li> <li>use a different map projection? \u2192 OpenLayers support all Proj4 projections as long as you include proj4js JavaScript library. Moreover, client-side raster reprojection is supported, so you can use OpenStreetMap tiles in your local projection.</li> </ul>"},{"location":"using-tiles/vector-map-tiles/","title":"Exploring the Power of Vector Map Tiles","text":""},{"location":"using-tiles/vector-map-tiles/#Exploring-the-Power-of-Vector-Map-Tiles","title":"Exploring the Power of Vector Map Tiles","text":""},{"location":"using-tiles/vector-map-tiles/#Introduction","title":"Introduction","text":"<p>OSM has emerged as a valuable resource for individuals and organizations looking to break away from proprietary map services and embrace the OpenStreetMap alternative. One of the key components in this transition is the utilization of vector map tiles. In this article, we delve into the world of vector map tiles, exploring their benefits, applications, and the significant advantages they bring to your system.</p>"},{"location":"using-tiles/vector-map-tiles/#Understanding-Vector-Map-Tiles","title":"Understanding Vector Map Tiles","text":"<p>Traditionally, raster map tiles have been the go-to format for displaying maps on the web. However, vector map tiles have gained popularity due to their versatility and superior rendering capabilities. Unlike raster tiles that are essentially images, vector tiles store map data in vector format. These tiles are compact, flexible, and can be dynamically styled and rendered in real-time, offering a seamless and interactive mapping experience.</p>"},{"location":"using-tiles/vector-map-tiles/#Advantages-of-Vector-Map-Tiles","title":"Advantages of Vector Map Tiles","text":"Dynamic Styling Vector tiles allow developers to apply dynamic styling options to map elements, including roads, buildings, and points of interest. This flexibility enables customization of map styles, providing a unique and tailored visual representation of data for specific use cases. Efficient Data Transfer Vector tiles are significantly smaller compared to their raster counterparts. This translates to faster loading times and reduced bandwidth requirements. The compact nature of vector tiles also allows for efficient data transfer, making them ideal for applications with limited internet connectivity or mobile devices. High Resolution and Scalability With vector tiles, maps can be rendered at any zoom level without compromising resolution. This scalability ensures that the map remains sharp and legible, regardless of the zoom level. It empowers users to zoom in for detailed exploration or zoom out for a broader perspective, providing an immersive mapping experience. Interactivity Vector map tiles allow for interactive features such as panning, zooming, and user interactions like click events. These tiles enable developers to build applications that respond dynamically to user actions, enhancing the user experience and enabling innovative functionality."},{"location":"using-tiles/vector-map-tiles/#Vector-Map-Tiles-Usage","title":"Vector Map Tiles Usage","text":"<p>Vector map tiles are extensively used in web mapping applications, allowing developers to create interactive and visually appealing maps. By utilizing libraries like Leaflet, Mapbox GL JS, or OpenLayers, developers can seamlessly integrate vector tiles into their web projects, offering a rich map experience to users.</p> <p>Vector map tiles are particularly valuable in mobile applications, where data size and performance are crucial considerations. The compact nature of vector tiles allows for smoother map rendering and reduces the storage footprint of the application, making them well-suited for mobile devices.</p> <p>Vector tiles are a game-changer for offline mapping. By pre-caching vector tiles, applications can provide map functionality even without an internet connection. This is particularly useful in remote areas or during travels when consistent network connectivity may not be available.</p>"},{"location":"using-tiles/vector-map-tiles/#Moving-forward","title":"Moving forward","text":"<p>Vector map tiles have revolutionized the way we interact with maps, offering dynamic styling, efficient data transfer, high resolution, and interactivity. Vector map tiles play a vital role in embracing OpenStreetMap and its open-source ethos. By leveraging the power of vector map tiles, individuals and organizations can unlock the full potential of OpenStreetMap, creating engaging and customized maps that cater to their specific needs. Switch2OSM provides resources and guidance to help users seamlessly integrate vector map tiles into their projects, encouraging the adoption of open mapping solutions and fostering a collaborative mapping community.</p>"},{"location":"uk/","title":"\u041f\u0435\u0440\u0435\u0445\u043e\u0434\u044c\u0442\u0435 \u043d\u0430 OpenStreetMap","text":""},{"location":"uk/#\u041f\u0435\u0440\u0435\u0445\u043e\u0434\u044c\u0442\u0435-\u043d\u0430-OpenStreetMap","title":"\u041f\u0435\u0440\u0435\u0445\u043e\u0434\u044c\u0442\u0435 \u043d\u0430 OpenStreetMap","text":"<p>\u0412\u0430\u0448\u0456 \u043c\u0430\u043f\u0438 \u043d\u0435 \u0432\u0456\u0434\u0440\u0456\u0437\u043d\u044f\u044e\u0442\u044c\u0441\u044f \u0432\u0456\u0434 \u0456\u043d\u0448\u0438\u0445? \u0412\u0438 \u043f\u043b\u0430\u0442\u0438\u0442\u0435 \u0437\u0430\u043d\u0430\u0434\u0442\u043e \u043b\u0438\u0448\u0435 \u0437\u0430 \u0442\u0435, \u0449\u043e\u0431 \u0434\u043e\u0434\u0430\u0442\u0438 \u043c\u0430\u043f\u0443 \u043d\u0430 \u0432\u0430\u0448 \u0432\u0435\u0431\u0441\u0430\u0439\u0442? \u041f\u0435\u0440\u0435\u0445\u043e\u0434\u044c\u0442\u0435 \u043d\u0430 OpenStreetMap \u0442\u0430 \u0434\u0456\u0437\u043d\u0430\u0439\u0442\u0435\u0441\u044f, \u044f\u043a \u043c\u043e\u0436\u043d\u0430 \u0441\u0442\u0432\u043e\u0440\u044e\u0432\u0430\u0442\u0438 \u043a\u0440\u0430\u0441\u0438\u0432\u0456 \u043c\u0430\u043f\u0438 \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0456 \u043d\u0430\u0439\u043a\u0440\u0430\u0449\u0438\u0445 \u0434\u0430\u043d\u0438\u0445 \u0443 \u0441\u0432\u0456\u0442\u0456.</p> <p>\u041c\u0430\u043f\u0438 OSM \u0412\u0430\u0448 \u0441\u0435\u0440\u0432\u0435\u0440</p> <p></p> <p></p> <p>\u041c\u0438 \u043d\u0430\u0434\u0430\u0454\u043c\u043e \u0446\u0456 \u0434\u0430\u043d\u0456 \u0432\u0456\u043b\u044c\u043d\u043e; \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0440\u043e\u0431\u0438\u0442\u0438 \u0437 \u043d\u0438\u043c\u0438 \u0432\u0441\u0435, \u0449\u043e \u0432\u0430\u043c \u0437\u0430\u043c\u0430\u043d\u0435\u0442\u044c\u0441\u044f. \u0410\u0431\u043e \u0441\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u0439\u0442\u0435\u0441\u044f \u0434\u043e\u0441\u0432\u0456\u0434\u043e\u043c \u0442\u0438\u0445, \u0445\u0442\u043e \u0432\u0436\u0435 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454 OpenStreetMap.</p> <p>\u0420\u043e\u0437\u043c\u0456\u0449\u0443\u0439\u0442\u0435 \u0457\u0445 \u043d\u0430 \u0432\u0430\u0448\u043e\u043c\u0443  \u0432\u043b\u0430\u0441\u043d\u043e\u043c\u0443 \u043e\u0431\u043b\u0430\u0434\u043d\u0430\u043d\u043d\u0456 \u0447\u0438  \u0434\u0435 \u0437\u0430\u0432\u0433\u043e\u0434\u043d\u043e. \u0412\u0441\u0435 \u043f\u0456\u0434 \u0432\u0430\u0448\u0438\u043c \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u0435\u043c.</p> <p>Switch2OSM \u0440\u043e\u0437\u043f\u043e\u0432\u0456\u0441\u0442\u044c \u0432\u0430\u043c, \u044f\u043a \u0437\u0440\u043e\u0431\u0438\u0442\u0438 \u0446\u0435\u0439 \u043f\u0435\u0440\u0435\u0445\u0456\u0434\u00a0\u2013 \u0432\u0456\u0434 \u0437\u0430\u0433\u0430\u043b\u044c\u043d\u0438\u0445 \u043f\u0440\u0438\u043d\u0446\u0438\u043f\u0456\u0432 \u0434\u043e \u043f\u043e\u043a\u0440\u043e\u043a\u043e\u0432\u0438\u0445 \u0442\u0435\u0445\u043d\u0456\u0447\u043d\u0438\u0445 \u0456\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0456\u0439.</p> <p></p>"},{"location":"uk/#\u0429\u043e-\u043a\u0430\u0436\u0443\u0442\u044c-\u043b\u044e\u0434\u0438-\u043f\u0440\u043e-OpenStreetMap","title":"\u0429\u043e \u043a\u0430\u0436\u0443\u0442\u044c \u043b\u044e\u0434\u0438 \u043f\u0440\u043e OpenStreetMap","text":"<p>\u00ab\u0422\u0430\u043a \u0441\u0430\u043c\u043e \u044f\u043a \u0412\u0456\u043a\u0456\u043f\u0435\u0434\u0456\u044f \u043a\u0438\u0434\u0430\u0454 \u0432\u0438\u043a\u043b\u0438\u043a \u0411\u0440\u0438\u0442\u0430\u043d\u0441\u044c\u043a\u0456\u0439 \u0435\u043d\u0446\u0438\u043a\u043b\u043e\u043f\u0435\u0434\u0456\u0457, \u0430 Linux \u043c\u0456\u0440\u044f\u0454\u0442\u044c\u0441\u044f \u0441\u0438\u043b\u0430\u043c\u0438 \u0437 Microsoft Windows, OpenStreetMap \u0437\u043c\u0430\u0433\u0430\u0454\u0442\u044c\u0441\u044f \u0437 Google Maps, \u0456, \u043f\u0440\u0438\u043d\u0430\u0439\u043c\u043d\u0456, \u0432 \u0434\u0435\u044f\u043a\u0438\u0445 \u0432\u0438\u043f\u0430\u0434\u043a\u0430\u0445, \u043f\u0435\u0440\u0435\u043c\u0430\u0433\u0430\u0454.\u00bb \u041f\u0438\u0448\u0435 Wired \u043f\u0440\u043e \u043f\u0435\u0440\u0435\u0445\u0456\u0434 \u043d\u0430 OpenStreetMap.</p> <p>\u00abOpenStreetMap\u00a0\u2014 \u0446\u0435 \u0432\u0441\u0435 \u043f\u0440\u043e \u043b\u044e\u0434\u0435\u0439, \u044f\u043a\u0456 \u0447\u0430\u0441\u0442\u043a\u0430 \u0437\u0430 \u0447\u0430\u0441\u0442\u043a\u043e\u044e, \u0441\u0442\u0432\u043e\u0440\u044e\u044e\u0442\u044c \u043d\u0435\u0439\u043c\u043e\u0432\u0456\u0440\u043d\u0438\u0439 \u0440\u0435\u0441\u0443\u0440\u0441 \u0434\u043b\u044f \u0432\u0441\u0456\u0445 \u0456\u043d\u0448\u0438\u0445.\u00bb \u0422\u0456\u043c \u0411\u0435\u0440\u043d\u0435\u0440\u0441-\u041b\u0456 (Tim Berners-Lee), \u0442\u0432\u043e\u0440\u0435\u0446\u044c \u0432\u0435\u0431\u0443, \u0440\u043e\u0437\u043f\u043e\u0432\u0456\u0434\u0430\u044e\u0447\u0438 \u043f\u0440\u043e OSM \u043d\u0430 TED 2009.</p>"},{"location":"uk/case-studies/","title":"\u0414\u043e\u0441\u0432\u0456\u0434 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f","text":""},{"location":"uk/case-studies/#\u0414\u043e\u0441\u0432\u0456\u0434-\u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f","title":"\u0414\u043e\u0441\u0432\u0456\u0434 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f","text":""},{"location":"uk/case-studies/#Nestoriacom","title":"Nestoria.com","text":"<p>\u201c\u041c\u0430\u043f\u0438 OSM \u043c\u0430\u044e\u0442\u044c \u0442\u0430\u043a\u0443 \u0436 \u0430\u0431\u043e \u043a\u0440\u0430\u0449\u0443 \u044f\u043a\u0456\u0441\u0442\u044c, \u044f\u043a \u0456 \u0431\u0443\u0434\u044c-\u044f\u043a\u0438\u0439 \u0456\u043d\u0448\u0438\u0439 \u0448\u0438\u0440\u043e\u043a\u043e \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0438\u0439 \u043a\u0430\u0440\u0442\u043e\u0433\u0440\u0430\u0444\u0456\u0447\u043d\u0438\u0439 \u0441\u0435\u0440\u0432\u0456\u0441. \u0412 \u0446\u0435\u0439 \u0447\u0430\u0441 \u043d\u0430\u0432\u043a\u043e\u043b\u043e OSM \u0456\u0441\u043d\u0443\u0454 \u0441\u043e\u043b\u0456\u0434\u043d\u0438\u0439 \u043d\u0430\u0431\u0456\u0440 \u0456\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u0456\u0432 \u0442\u0430 \u0441\u0435\u0440\u0432\u0456\u0441\u0456\u0432, \u044f\u043a\u0456 \u0440\u043e\u0431\u043b\u044f\u0442\u044c \u043f\u0435\u0440\u0435\u0445\u0456\u0434 \u043c\u043e\u0436\u043b\u0438\u0432\u0438\u043c. \u0412\u0441\u0435 \u0446\u0435 \u0432\u0438\u043a\u043b\u0438\u043a\u0430\u0454 \u043f\u0435\u0440\u0435\u043a\u043e\u043d\u043b\u0438\u0432\u0435 \u0432\u0456\u0434\u0447\u0443\u0442\u0442\u044f, \u0449\u043e \u0437\u0430\u0440\u0430\u0437 \u043d\u0430\u0441\u0442\u0430\u0432 \u0447\u0430\u0441 \u0434\u043b\u044f \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0443.\u201d</p> <p>\u041e\u0437\u043d\u0430\u0439\u043e\u043c\u0442\u0435\u0441\u044c \u0437 \u0456\u0441\u0442\u043e\u0440\u0456\u0454\u044e \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0443 Nestoria \u043d\u0430 OpenStreetMap \u0437 Google Maps.</p>"},{"location":"uk/case-studies/#StreetEasycom","title":"StreetEasy.com","text":"<p>\u201c\u041c\u0438 \u0432 StreetEasy \u0432\u0438\u0440\u0456\u0448\u0438\u043b\u0438 \u0441\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u0432\u043b\u0430\u0441\u043d\u0456 \u043c\u0430\u043f\u0438, \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u044e\u0447\u0438, \u0441\u0435\u0440\u0435\u0434 \u0456\u043d\u0448\u0438\u0445 \u0456\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u0456\u0432, OpenStreetMap, TileMill, MapBox \u0442\u0430 Leaflet, \u0437\u0430\u043c\u0456\u0441\u0442\u044c \u0442\u043e\u0433\u043e, \u0449\u043e\u0431 \u043d\u0435 \u043f\u043b\u0430\u0442\u0438\u0442\u0438 Google \u0441\u043e\u0442\u043d\u0456 \u0442\u0438\u0441\u044f\u0447\u0456 \u0442\u0438\u0441\u044f\u0447 \u0434\u043e\u043b\u0430\u0440\u0456\u0432 \u043d\u0430 \u0440\u0456\u043a. \u0422\u0430\u043a, \u0433\u0440\u043e\u0448\u0456 \u043f\u0456\u0434\u0448\u0442\u043e\u0432\u0445\u043d\u0443\u043b\u0438 \u043d\u0430\u0441 \u0434\u043e \u0446\u044c\u043e\u0433\u043e, \u0430\u043b\u0435 \u043c\u0438 \u0449\u0430\u0441\u043b\u0438\u0432\u0456\u0448\u0456 \u0432\u0456\u0434 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0443, \u043e\u0441\u043a\u0456\u043b\u044c\u043a\u0438 \u0442\u0435\u043f\u0435\u0440 \u043f\u043e\u0432\u043d\u0456\u0441\u0442\u044e \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044e\u0454\u043c\u043e \u0432\u043c\u0456\u0441\u0442 \u043d\u0430\u0448\u0438\u0445 \u043c\u0430\u043f.\u201d</p> <p>\u041e\u0437\u043d\u0430\u0439\u043e\u043c\u0442\u0435\u0441\u044c \u0437 \u0456\u0441\u0442\u043e\u0440\u0456\u0454\u044e \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0443 StreetEasy \u043d\u0430 OpenStreetMap \u0437 Google Maps.</p>"},{"location":"uk/case-studies/#Flickr","title":"Flickr","text":"<p>\u201c\u0424\u0430\u043d\u0442\u0430\u0441\u0442\u0438\u0447\u043d\u0438\u0439 \u043f\u0440\u043e\u0454\u043a\u0442, \u044f\u043a\u0438\u0439 \u043d\u0430\u0437\u0438\u0432\u0430\u0454\u0442\u044c\u0441\u044f OpenStreetMap\u00a0\u2014 \u0446\u0435 \u0431\u0435\u0437\u043a\u043e\u0448\u0442\u043e\u0432\u043d\u0430 \u043c\u0430\u043f\u0430 \u0441\u0432\u0456\u0442\u0443, \u0440\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u044f\u043a\u0443 \u043c\u043e\u0436\u0435 \u043a\u043e\u0436\u0435\u043d, \u0437\u0440\u043e\u0431\u043b\u0435\u043d\u0430 \u043b\u044e\u0434\u044c\u043c\u0438 \u0449\u043e \u0431\u0435\u0440\u0443\u0442\u044c \u0443\u0447\u0430\u0441\u0442\u044c \u0432 \u043f\u0440\u043e\u0454\u043a\u0442\u0456. \u042f\u043a\u0430 \u0437\u0430\u0445\u043e\u043f\u043b\u0438\u0432\u0430 \u043f\u0435\u0440\u0441\u043f\u0435\u043a\u0442\u0438\u0432\u0430 \u043c\u0430\u0442\u0438 \u0437\u043c\u043e\u0433\u0443 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0438 \u0436\u0438\u0432\u0456 \u043c\u0430\u043f\u0438, \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u0456 \u0437\u0430\u0432\u0437\u044f\u0442\u0438\u043c\u0438 \u043c\u0430\u043f\u0435\u0440\u0430\u043c\u0438 \u043f\u043e \u0432\u0441\u044c\u043e\u043c\u0443 \u0441\u0432\u0456\u0442\u0443. \u042f\u043a\u0430 \u0437\u0430\u0445\u043e\u043f\u043b\u0438\u0432\u0430 \u043f\u0435\u0440\u0441\u043f\u0435\u043a\u0442\u0438\u0432\u0430 \u043c\u0430\u0442\u0438 \u0437\u043c\u043e\u0433\u0443 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0446\u0456 \u043c\u0430\u043f\u0438 \u0443 Flickr! \u041c\u0438 \u0431\u043e\u0436\u0435\u0432\u043e\u043b\u0456\u043b\u0438 \u0432 \u043f\u043e\u0448\u0443\u043a\u0430\u0445 \u043c\u0430\u043f \u0434\u043b\u044f \u043c\u0456\u0441\u0446\u044f, \u043f\u0440\u043e \u044f\u043a\u0435 \u043c\u0438 \u0437\u043d\u0430\u043b\u0438, \u0449\u043e \u0443 \u043d\u0430\u0441 \u043d\u0435 \u0434\u0443\u0436\u0435 \u0433\u0430\u0440\u043d\u0456 \u043c\u0430\u043f\u0438 \u0437 \u043c\u0430\u0441\u0448\u0442\u0430\u0431\u043e\u043c \u043d\u0430 \u0440\u0456\u0432\u043d\u0456 \u0432\u0443\u043b\u0438\u0446\u044c, \u0456 \u0442\u0430\u043c \u0449\u043e\u0441\u044c \u0432\u0456\u0434\u0431\u0443\u0432\u0430\u0454\u0442\u044c\u0441\u044f \u043f\u0440\u044f\u043c\u043e \u0437\u0430\u0440\u0430\u0437 \u2026 \u041b\u0456\u0442\u043d\u0456 \u041e\u043b\u0456\u043c\u043f\u0456\u0439\u0441\u044c\u043a\u0456 \u0456\u0433\u0440\u0438 2008 \u0440\u043e\u043a\u0443! \u0412\u043e\u043d\u0438 \u0432\u0436\u0435 \u0440\u043e\u0437\u043f\u043e\u0447\u0430\u043b\u0438\u0441\u044f \u0432 \u041f\u0435\u043a\u0456\u043d\u0456!\u201d</p> <p>\u041e\u0437\u043d\u0430\u0439\u043e\u043c\u0442\u0435\u0441\u044c \u0437 \u043f\u0440\u0438\u0447\u0438\u043d\u0430\u043c\u0438, \u0449\u043e \u0441\u043f\u043e\u043d\u0443\u043a\u0430\u043b\u0438 Flickr \u0441\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u0442\u0438\u0441\u044f OpenStreetMap.</p>"},{"location":"uk/find-out-more/","title":"\u0414\u0456\u0437\u043d\u0430\u0442\u0438\u0441\u044f \u0431\u0456\u043b\u044c\u0448\u0435","text":""},{"location":"uk/find-out-more/#\u041e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u044f-\u0434\u043e\u043f\u043e\u043c\u043e\u0433\u0438","title":"\u041e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u044f \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u0438","text":"<p>OpenStreetMap\u00a0\u2013 \u0434\u0435\u0446\u0435\u043d\u0442\u0440\u0430\u043b\u0456\u0437\u043e\u0432\u0430\u043d\u0438\u0439 \u043f\u0440\u043e\u0454\u043a\u0442, \u044f\u043a\u0438\u0439 \u043f\u0440\u0430\u0446\u044e\u0454 \u043d\u0430 \u0432\u043e\u043b\u043e\u043d\u0442\u0435\u0440\u0441\u044c\u043a\u0438\u0445 \u0437\u0430\u0441\u0430\u0434\u0430\u0445, \u0442\u043e\u0436 \u0432\u0430\u0436\u043a\u043e \u043d\u0430\u0434\u0430\u0442\u0438 \u0454\u0434\u0438\u043d\u0443 \u0430\u0434\u0440\u0435\u0441\u0443 \u0435-\u043f\u043e\u0448\u0442\u0438 \u0434\u043b\u044f \u0437\u0432\u02bc\u044f\u0437\u043a\u0443. \u041d\u0430\u0442\u043e\u043c\u0456\u0441\u0442\u044c \u0437\u043d\u0430\u043d\u043d\u044f \u0432\u0441\u0456\u0454\u0457 \u0441\u043f\u0456\u043b\u044c\u043d\u043e\u0442\u0438 \u0434\u043e\u043f\u043e\u043c\u043e\u0436\u0443\u0442\u044c \u0432\u0430\u043c \u0440\u043e\u0437\u0432\u02bc\u044f\u0437\u0430\u0442\u0438 \u0431\u0443\u0434\u044c-\u044f\u043a\u0443 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0443.</p> <ul> <li>OpenStreetMap IRC (Internet Relay Chat): \u0446\u0456\u043b\u043e\u0434\u043e\u0431\u043e\u0432\u0438\u0439 \u0436\u0438\u0432\u0438\u0439 \u0447\u0430\u0442 OSM (\u043a\u0430\u043d\u0430\u043b\u0438 <code>#osm</code> \u0430\u0431\u043e <code>#osm-dev</code>)</li> <li>\u0424\u043e\u0440\u0443\u043c \u0441\u043f\u0456\u043b\u044c\u043d\u043e\u0442\u0438</li> <li>\u0427\u0430\u0441\u0442\u0456 \u043f\u0438\u0442\u0430\u043d\u043d\u044f \u0434\u043b\u044f \u0440\u043e\u0437\u0440\u043e\u0431\u043d\u0438\u043a\u0456\u0432</li> <li>\u0427\u0430\u0441\u0442\u0456 \u043f\u0438\u0442\u0430\u043d\u043d\u044f (\u0437\u0430\u0433\u0430\u043b\u044c\u043d\u0456)</li> </ul>"},{"location":"uk/find-out-more/#\u0406\u043d\u0448\u0456-\u0434\u043e\u0432\u0456\u0434\u043d\u0438\u043a\u0438-\u0449\u043e\u0434\u043e-\u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0443-\u043d\u0430-OSM","title":"\u0406\u043d\u0448\u0456 \u0434\u043e\u0432\u0456\u0434\u043d\u0438\u043a\u0438 \u0449\u043e\u0434\u043e \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0443 \u043d\u0430 OSM","text":"<ul> <li>\u041d\u0430\u0441\u0442\u0430\u043d\u043e\u0432\u0438 \u043f\u043e \u043a\u0430\u0440\u0442\u043e\u0433\u0440\u0430\u0444\u0456\u0457 \u0432\u0456\u0434 Kelso</li> <li>\u0420\u043e\u0437\u0433\u043e\u0440\u0442\u0430\u0454\u043c\u043e \u0441\u0435\u0440\u0432\u0435\u0440 \u0437 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f\u043c MapServer</li> </ul>"},{"location":"uk/find-out-more/#\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u043d\u043d\u044f-OpenStreetMap","title":"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u043d\u043d\u044f OpenStreetMap","text":"<ul> <li>LearnOSM.org\u00a0\u2013 \u0434\u043e\u0432\u0456\u0434\u043d\u0438\u043a \u043f\u043e\u0447\u0430\u0442\u043a\u0456\u0432\u0446\u044f</li> </ul>"},{"location":"uk/find-out-more/#\u041a\u043d\u0438\u0436\u043a\u0438","title":"\u041a\u043d\u0438\u0436\u043a\u0438","text":"<ul> <li>OpenStreetMap: Using and Enhancing the Free Map of the World (English/German)</li> <li>OpenStreetMap: Be Your Own Cartographer (English)</li> <li>OpenLayers 2.10 Beginners Guide (English)</li> </ul>"},{"location":"uk/find-out-more/#\u0420\u0435\u0441\u0443\u0440\u0441\u0438-\u0441\u043f\u0456\u043b\u044c\u043d\u043e\u0442\u0438","title":"\u0420\u0435\u0441\u0443\u0440\u0441\u0438 \u0441\u043f\u0456\u043b\u044c\u043d\u043e\u0442\u0438","text":"<ul> <li>\u0424\u0443\u043d\u0434\u0430\u0446\u0456\u044f OpenStreetMap</li> <li>\u0412\u0456\u043a\u0456 OpenStreetMap</li> <li>\u0421\u043f\u0438\u0441\u043a\u0438 \u0440\u043e\u0437\u0441\u0438\u043b\u043a\u0438 (\u0437 \u043c\u043e\u0436\u043b\u0438\u0432\u0456\u0441\u0442\u044e \u043f\u043e\u0448\u0443\u043a\u0443)</li> </ul>"},{"location":"uk/find-out-more/#\u0414\u043b\u044f-\u0417\u041c\u0406","title":"\u0414\u043b\u044f \u0417\u041c\u0406","text":"<p>\u0417\u0432\u0435\u0440\u043d\u0456\u0442\u044c\u0441\u044f \u0434\u043e \u0420\u043e\u0431\u043e\u0447\u043e\u0457 \u0433\u0440\u0443\u043f\u0438 \u0437 \u043a\u043e\u043c\u0443\u043d\u0456\u043a\u0430\u0446\u0456\u0439 \u0424\u0443\u043d\u0434\u0430\u0446\u0456\u0457 OpenStreetMap.</p>"},{"location":"uk/find-out-more/#\u041f\u0440\u043e-switch2osm","title":"\u041f\u0440\u043e switch2osm","text":"<p>Switch2osm\u00a0\u2013 \u0446\u0435 \u0441\u0430\u0439\u0442, \u043a\u0435\u0440\u043e\u0432\u0430\u043d\u0438\u0439 \u0441\u043f\u0456\u043b\u044c\u043d\u043e\u0442\u043e\u044e, \u044f\u043a\u0438\u0439 \u043a\u043e\u043e\u0440\u0434\u0438\u043d\u0443\u0454\u0442\u044c\u0441\u044f \u0420\u0456\u0447\u0430\u0440\u0434\u043e\u043c \u0424\u0435\u0440\u0445\u0435\u0440\u0441\u0442\u043e\u043c (Richard Fairhurst) \u0442\u0430 \u041f\u043e\u043b\u043e\u043c \u041d\u043e\u0440\u043c\u0430\u043d\u043e\u043c (Paul Norman) \u0437 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e \u0441\u043f\u0456\u043b\u044c\u043d\u043e\u0442\u0438 OpenStreetMap. \u0412\u0438 \u0442\u0430\u043a\u043e\u0436 \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u0437\u044f\u0442\u0438 \u0443\u0447\u0430\u0441\u0442\u044c \u0443 \u043f\u043e\u043a\u0440\u0430\u0449\u0435\u043d\u043d\u0456 \u0446\u044c\u043e\u0433\u043e \u0441\u0430\u0439\u0442\u0443 \u043d\u0430 GitHub (\u0430\u043d\u0433\u043b. \u0432\u0435\u0440\u0441\u0456\u044f). \u041f\u0435\u0440\u0435\u043a\u043b\u0430\u0434 \u0443\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u043e\u044e \u0432\u0438\u043a\u043e\u043d\u0430\u043d\u043e \u0443\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u043e\u044e \u0441\u043f\u0456\u043b\u044c\u043d\u043e\u0442\u043e\u044e. \u0412\u0438\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043d\u044f \u043f\u043e\u043c\u0438\u043b\u043e\u043a, \u043f\u0440\u043e\u043f\u043e\u0437\u0438\u0446\u0456\u0457 \u0449\u043e\u0434\u043e \u043f\u043e\u043a\u0440\u0430\u0449\u0435\u043d\u043d\u044f \u0442\u0435\u043a\u0441\u0442\u0443 \u0437\u0430\u0432\u0436\u0434\u0438 \u0432\u0456\u0442\u0430\u044e\u0442\u044c\u0441\u044f, \u0447\u0435\u043a\u0430\u0454\u043c\u043e \u0457\u0445 \u0442\u0430\u043a\u043e\u0436 \u043d\u0430 GitHub (osm-ua).</p> <p>\u041c\u0430\u0454\u0442\u0435 \u043f\u0440\u043e\u043f\u043e\u0437\u0438\u0446\u0456\u0457 \u0430\u0431\u043e \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0456? \u0417\u0432\u02bc\u044f\u0436\u0456\u0442\u044c\u0441\u044f \u0437 \u0430\u0432\u0442\u043e\u0440\u0430\u043c\u0438 \u0432 IRC.</p> <p>\u0411\u0430\u0436\u0430\u0454\u0442\u0435 \u043f\u043e\u0441\u043f\u0456\u043b\u043a\u0443\u0432\u0430\u0442\u0438\u0441\u044c \u0437 \u0443\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u043e\u044e \u0441\u043f\u0456\u043b\u044c\u043d\u043e\u0442\u043e\u044e: \u0437\u0432\u0435\u0440\u0442\u0430\u0439\u0442\u0435\u0441\u044c \u043d\u0430 \u0444\u043e\u0440\u0443\u043c, \u0432 \u0422\u0435\u043b\u0435\u0433\u0440\u0430\u043c \u0430\u0431\u043e Slack.</p>"},{"location":"uk/other-uses/","title":"\u0406\u043d\u0448\u0456 \u043f\u0440\u0438\u043a\u043b\u0430\u0434\u0438 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f","text":""},{"location":"uk/other-uses/#\u0406\u043d\u0448\u0456-\u043f\u0440\u0438\u043a\u043b\u0430\u0434\u0438-\u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f","title":"\u0406\u043d\u0448\u0456 \u043f\u0440\u0438\u043a\u043b\u0430\u0434\u0438 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f","text":"<p>\u041c\u0438 \u0437\u043e\u0441\u0435\u0440\u0435\u0434\u0436\u0443\u0432\u0430\u043b\u0438\u0441\u044c \u043d\u0430 \u0442\u0430\u0439\u043b\u0430\u0445, \u043f\u0440\u043e\u0442\u0435, OpenStreetMap\u00a0\u2013 \u0446\u0435 \u0443\u043d\u0456\u043a\u0430\u043b\u044c\u043d\u0435 \u0434\u0436\u0435\u0440\u0435\u043b\u043e \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u0457\u00a0\u2013 \u0434\u0430\u0454 \u043d\u0430\u043c \u0434\u043e\u0441\u0442\u0443\u043f \u0434\u043e \u2018\u0441\u0438\u0440\u0438\u0445\u2019 \u0434\u0430\u043d\u0438\u0445, \u044f\u043a\u0456 \u043c\u043e\u0436\u043d\u0430 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u044f\u043a \u0434\u043b\u044f \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u0431\u0443\u0434\u044c-\u044f\u043a\u043e\u0433\u043e \u0437\u0430\u0441\u0442\u043e\u0441\u0443\u043d\u043a\u0443 \u0437 \u0433\u0435\u043e\u043f\u043e\u0437\u0438\u0446\u0456\u044e\u0432\u0430\u043d\u043d\u044f\u043c, \u0442\u0430\u043a \u0456 \u0434\u043b\u044f \u0440\u043e\u0431\u043e\u0442\u0438 \u0437 \u043f\u0440\u043e\u0441\u0442\u043e\u0440\u043e\u0432\u0438\u043c\u0438 \u0434\u0430\u043d\u0438\u043c\u0438. \u041e\u0441\u044c \u043a\u0456\u043b\u044c\u043a\u0430 \u0440\u0435\u0447\u0435\u0439 \u0434\u043b\u044f \u043f\u043e\u0447\u0430\u0442\u043a\u0443; \u043f\u043e\u0432\u043d\u0438\u0439 \u043f\u0435\u0440\u0435\u043b\u0456\u043a \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0438\u0439 \u0432 OpenStreetMap Wiki.</p>"},{"location":"uk/other-uses/#\u0417\u0430\u0433\u0430\u043b\u044c\u043d\u0456-\u0456\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u0438","title":"\u0417\u0430\u0433\u0430\u043b\u044c\u043d\u0456 \u0456\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u0438","text":"<ul> <li>Osmosis\u00a0\u2013 \u0443\u043d\u0456\u0432\u0435\u0440\u0441\u0430\u043b\u044c\u043d\u0438\u0439 \u0437\u0430\u0441\u0442\u043e\u0441\u0443\u043d\u043e\u043a Java \u0434\u043b\u044f \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u0434\u0430\u043d\u0438\u0445 OSM \u0432 \u0431\u0430\u0437\u0443 \u0434\u0430\u043d\u0438\u0445. \u0411\u0456\u043b\u044c\u0448\u0456\u0441\u0442\u044c \u0437\u0430\u0441\u0442\u043e\u0441\u0443\u043d\u043a\u0456\u0432 \u043f\u0435\u0432\u043d\u0438\u043c \u0447\u0438\u043d\u043e\u043c \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u044e\u0442\u044c Osmosis \u0434\u043b\u044f \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u0434\u0430\u043d\u0438\u0445 OSM \u0437 \u043c\u0435\u0442\u043e\u044e \u043f\u043e\u0434\u0430\u043b\u044c\u0448\u043e\u0433\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f.</li> <li>Osmium\u00a0\u2013 \u0433\u043d\u0443\u0447\u043a\u0438\u0439 \u0456\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442, \u0449\u043e \u0448\u0432\u0438\u0434\u043a\u043e \u043d\u0430\u0431\u0443\u0432 \u0432\u0456\u0434\u043e\u043c\u043e\u0441\u0442\u0456, \u043f\u0440\u043e\u043f\u043e\u043d\u0443\u0454 \u0431\u0430\u0433\u0430\u0442\u043e \u0440\u0456\u0437\u043d\u0438\u0445 \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u044c, \u0454 \u0430\u043b\u044c\u0442\u0435\u0440\u043d\u0430\u0442\u0438\u0432\u043e\u044e Osmosis.</li> <li>Mapbox Studio\u00a0\u2013 \u0437\u0431\u0456\u0440\u043a\u0430 \u0456\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u0456\u0432 \u0434\u043b\u044f \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u2018\u0432\u0435\u043a\u0442\u043e\u0440\u043d\u0438\u0445 \u0442\u0430\u0439\u043b\u0456\u0432\u2019, \u044f\u043a\u0456 \u043c\u043e\u0436\u0443\u0442\u044c \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438\u0441\u044c \u044f\u043a \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0456, \u0442\u0430\u043a \u0456 \u043d\u0430 \u043a\u043b\u0456\u0454\u043d\u0442\u0456.</li> </ul>"},{"location":"uk/other-uses/#\u0421\u043b\u0443\u0436\u0431\u0438-\u0433\u0435\u043e\u043a\u043e\u0434\u0443\u0432\u0430\u043d\u043d\u044f","title":"\u0421\u043b\u0443\u0436\u0431\u0438 \u0433\u0435\u043e\u043a\u043e\u0434\u0443\u0432\u0430\u043d\u043d\u044f","text":"<ul> <li>Gisgraphy\u00a0\u2013 \u0433\u0435\u043e\u043a\u043e\u0434\u0435\u0440 \u0437 \u0432\u0456\u0434\u043a\u0440\u0438\u0442\u0438\u043c\u0438 \u0441\u0438\u0440\u0446\u044f\u043c\u0438, \u044f\u043a\u0438\u0439 \u043d\u0430\u0434\u0430\u0454 API/\u0432\u0435\u0431\u0441\u0435\u0440\u0432\u0456\u0441\u0438 \u0434\u043b\u044f \u043f\u0440\u044f\u043c\u043e\u0433\u043e \u0442\u0430 \u0437\u0432\u043e\u0440\u043e\u0442\u043d\u044c\u043e\u0433\u043e \u0433\u0435\u043e\u043a\u043e\u0434\u0443\u0432\u0430\u043d\u043d\u044f \u0437 \u0430\u0432\u0442\u043e\u0434\u043e\u043f\u043e\u0432\u043d\u0435\u043d\u043d\u044f\u043c, \u0456\u043d\u0442\u0435\u0440\u043f\u043e\u043b\u044f\u0446\u0456\u0454\u044e, \u0437 \u0432\u0456\u0434\u0445\u0438\u043b\u0435\u043d\u043d\u044f\u043c \u0440\u043e\u0437\u0442\u0430\u0448\u0443\u0432\u0430\u043d\u043d\u044f, \u043f\u043e\u0448\u0443\u043a\u043e\u043c \u043f\u043e\u0440\u0443\u0447, \u0432\u0441\u0435 \u0446\u0435 \u043c\u043e\u0436\u043d\u0430 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0442\u0438 \u044f\u043a \u043e\u0444\u043b\u0430\u0439\u043d, \u0442\u0430\u043a \u0456 \u0443 \u0432\u0438\u0433\u043b\u044f\u0434\u0456 \u0432\u0435\u0431-\u0441\u043b\u0443\u0436\u0431\u0438. \u0412\u0456\u043d \u043d\u0430\u0434\u0430\u0454 \u043c\u043e\u0436\u043b\u0438\u0432\u0456\u0441\u0442\u044c \u0456\u043c\u043f\u043e\u0440\u0442\u0443\u0432\u0430\u0442\u0438 \u0434\u0430\u043d\u0456 \u043d\u0435 \u0442\u0456\u043b\u044c\u043a\u0438 \u0437 OpenStreetMap, \u0430\u043b\u0435 \u0439 \u0437 Openadresses, Geonames \u0442\u0430 \u0456\u043d\u0448\u0438\u0445 \u0434\u0436\u0435\u0440\u0435\u043b.</li> <li>Nominatim\u00a0\u2013 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043d\u0435 \u0437\u0430\u0431\u0435\u0437\u043f\u0435\u0447\u0435\u043d\u043d\u044f, \u0449\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f \u0434\u043b\u044f \u0433\u0435\u043e\u043a\u043e\u0434\u0456\u043d\u0433\u0443 \u043d\u0430 \u0441\u0430\u0439\u0442\u0456 OpenStreetMap (\u043c\u0456\u0441\u0446\u0435 \u2194 \u043a\u043e\u043e\u0440\u0434\u0438\u043d\u0430\u0442\u0438).</li> <li>OpenCage\u00a0\u2013 \u043d\u0430\u0434\u0430\u0454 API \u0434\u043b\u044f \u0433\u0435\u043e\u043a\u043e\u0434\u0456\u043d\u0433\u0443, \u0449\u043e \u0430\u0433\u0440\u0435\u0433\u0443\u0454 \u0434\u0430\u043d\u0456 \u0437 Nominatim \u0442\u0430 \u0456\u043d\u0448\u0438\u0445 \u0432\u0456\u0434\u043a\u0440\u0438\u0442\u0438\u0445 \u0434\u0436\u0435\u0440\u0435\u043b.</li> <li>OSMNames \u2013 \u043c\u0456\u0441\u0442\u0438\u0442\u044c \u043f\u0435\u0440\u0435\u043b\u0456\u043a \u043c\u0456\u0441\u0446\u044c \u0437 OpenStreetMap. \u0414\u043e\u0441\u0442\u0443\u043f\u043d\u0438\u0439 \u0434\u043b\u044f \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f. \u041f\u043e\u0441\u043e\u0440\u0442\u043e\u0432\u0430\u043d\u0438\u0439. \u0417 \u043e\u043f\u0438\u0441\u043e\u043c \u0442\u0435\u0440\u0438\u0442\u043e\u0440\u0456\u0439 (bbox) \u0442\u0430 \u0456\u0454\u0440\u0430\u0440\u0445\u0456\u0439. \u041f\u0440\u0438\u0434\u0430\u0442\u043d\u0438\u0439 \u0434\u043b\u044f \u0433\u0435\u043e\u043a\u043e\u0434\u0443\u0432\u0430\u043d\u043d\u044f.</li> </ul>"},{"location":"uk/other-uses/#\u0420\u0443\u0448\u0456\u0457-\u0442\u0430-\u0441\u0435\u0440\u0432\u0456\u0441\u0438-\u043f\u0440\u043e\u043a\u043b\u0430\u0434\u0430\u043d\u043d\u044f-\u043c\u0430\u0440\u0448\u0440\u0443\u0442\u0456\u0432","title":"\u0420\u0443\u0448\u0456\u0457 \u0442\u0430 \u0441\u0435\u0440\u0432\u0456\u0441\u0438 \u043f\u0440\u043e\u043a\u043b\u0430\u0434\u0430\u043d\u043d\u044f \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u0456\u0432","text":"<ul> <li>OSRM\u00a0\u2013 \u0448\u0432\u0438\u0434\u043a\u0438\u0439 \u0440\u0443\u0448\u0456\u0439 \u043f\u0440\u043e\u043a\u043b\u0430\u0434\u0430\u043d\u043d\u044f \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u0456\u0432, \u044f\u043a\u0438\u0439 \u043f\u0440\u0430\u0446\u044e\u0454 \u0437 \u0434\u0430\u043d\u0438\u043c\u0438 \u0437 OSM.</li> <li>Graphhopper\u00a0\u2013 \u0448\u0432\u0438\u0434\u043a\u0438\u0439 \u0440\u0443\u0448\u0456\u0439 \u043f\u0440\u043e\u043a\u043b\u0430\u0434\u0430\u043d\u043d\u044f \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u0456\u0432 \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u0439 \u043d\u0430 Java, \u0449\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454 \u043d\u0435\u0432\u0435\u043b\u0438\u043a\u0438\u0439 \u043e\u0431\u0441\u044f\u0433 \u043f\u0430\u043c\u02bc\u044f\u0442\u0456.</li> <li>Valhalla\u00a0\u2013 \u043d\u0430\u0432\u0456\u0433\u0430\u0446\u0456\u0439\u043d\u0438\u0439 \u0440\u0443\u0448\u0456\u0439 \u0434\u043b\u044f \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0456\u043b\u0456\u0432 \u0442\u0430 \u0433\u0440\u043e\u043c\u0430\u0434\u0441\u044c\u043a\u043e\u0433\u043e \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0443 \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u0439 \u043d\u0430 C++.</li> <li>\u041f\u0443\u0431\u043b\u0456\u0447\u043d\u0456 API \u0434\u043b\u044f \u043f\u0440\u043e\u043a\u043b\u0430\u0434\u0430\u043d\u043d\u044f \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u0456\u0432 \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0456 \u0434\u0430\u043d\u0438\u0445 OSM \u0432\u0456\u0434 GraphHopper, MapQuest Open \u0442\u0430 Mapbox.</li> <li>\u0421\u043f\u0435\u0446\u0456\u0430\u043b\u0456\u0437\u043e\u0432\u0430\u043d\u0456 API \u043f\u0440\u043e\u043a\u043b\u0430\u0434\u0430\u043d\u043d\u044f \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u0456\u0432, \u0434\u043e \u044f\u043a\u0438\u0445 \u043d\u0430\u043b\u0435\u0436\u0438\u0442\u044c CycleStreets (\u0441\u0435\u0440\u0432\u0456\u0441 \u043f\u0440\u043e\u043a\u043b\u0430\u0434\u0430\u043d\u043d\u044f \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u0456\u0432 \u0434\u043b\u044f \u0432\u0435\u043b\u043e\u0441\u0438\u043f\u0435\u0434\u0438\u0441\u0442\u0456\u0432 \u0443 \u0412\u0435\u043b\u0438\u043a\u0456\u0439 \u0411\u0440\u0438\u0442\u0430\u043d\u0456\u0457 \u0442\u0430 \u0437\u0430 \u0457\u0457 \u043c\u0435\u0436\u0430\u043c\u0438)</li> </ul>"},{"location":"uk/other-uses/#\u0411\u0456\u0431\u043b\u0456\u043e\u0442\u0435\u043a\u0438-\u0434\u043b\u044f-\u0432\u0435\u043a\u0442\u043e\u0440\u043d\u0438\u0445-\u043c\u0430\u043f-mobile","title":"\u0411\u0456\u0431\u043b\u0456\u043e\u0442\u0435\u043a\u0438 \u0434\u043b\u044f \u0432\u0435\u043a\u0442\u043e\u0440\u043d\u0438\u0445 \u043c\u0430\u043f (mobile)","text":"<ul> <li>\u0411\u0456\u0431\u043b\u0456\u043e\u0442\u0435\u043a\u0438 \u0434\u043b\u044f Android: MapLibre Android SDK, Mapbox Android SDK, mapsforge, Nutiteq Maps SDK, Skobbler Android SDK \u0442\u0430 Tangram ES.</li> <li>\u0411\u0456\u0431\u043b\u0456\u043e\u0442\u0435\u043a\u0438 \u0434\u043b\u044f iOS: MapLibre iOS SDK, Mapbox iOS SDK, Nutiteq Maps SDK, Skobbler iOS SDK \u0442\u0430 Tangram ES.</li> </ul>"},{"location":"uk/other-uses/#\u0411\u0456\u0431\u043b\u0456\u043e\u0442\u0435\u043a\u0438-\u0434\u043b\u044f-\u0432\u0435\u043a\u0442\u043e\u0440\u043d\u0438\u0445-\u043c\u0430\u043f-Web","title":"\u0411\u0456\u0431\u043b\u0456\u043e\u0442\u0435\u043a\u0438 \u0434\u043b\u044f \u0432\u0435\u043a\u0442\u043e\u0440\u043d\u0438\u0445 \u043c\u0430\u043f (Web)","text":"<ul> <li>MapLibre GL JS, Mapbox GL JS \u0442\u0430 Tangram\u00a0\u2013 \u043f\u0440\u0430\u0446\u044e\u044e\u0442\u044c \u0437 \u0432\u0435\u043a\u0442\u043e\u0440\u043d\u0438\u043c\u0438 \u0442\u0430\u0439\u043b\u0430\u043c\u0438, \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u0438\u043c\u0438 \u0437 \u0434\u0430\u043d\u0438\u0445 OSM, \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u044e\u0447\u0438 WebGL \u0434\u043b\u044f \u043f\u043e\u043a\u0440\u0430\u0449\u0435\u043d\u043d\u044f \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0456.</li> </ul>"},{"location":"uk/providers/","title":"\u041f\u043e\u0441\u0442\u0430\u0447\u0430\u043b\u044c\u043d\u0438\u043a\u0438","text":""},{"location":"uk/providers/#\u041f\u043e\u0441\u0442\u0430\u0447\u0430\u043b\u044c\u043d\u0438\u043a\u0438","title":"\u041f\u043e\u0441\u0442\u0430\u0447\u0430\u043b\u044c\u043d\u0438\u043a\u0438","text":""},{"location":"uk/providers/#\u041f\u043e\u0441\u043b\u0443\u0433\u0438-\u0437-\u0440\u043e\u0437\u0440\u043e\u0431\u043a\u0438-\u0442\u0430-\u043d\u0430\u0434\u0430\u043d\u043d\u044f-\u043a\u043e\u043d\u0441\u0443\u043b\u044c\u0442\u0430\u0446\u0456\u0439","title":"\u041f\u043e\u0441\u043b\u0443\u0433\u0438 \u0437 \u0440\u043e\u0437\u0440\u043e\u0431\u043a\u0438 \u0442\u0430 \u043d\u0430\u0434\u0430\u043d\u043d\u044f \u043a\u043e\u043d\u0441\u0443\u043b\u044c\u0442\u0430\u0446\u0456\u0439","text":"<p>\u041a\u043e\u043c\u043f\u0430\u043d\u0456\u0457 \u0437 \u0446\u044c\u043e\u0433\u043e \u043f\u0435\u0440\u0435\u043b\u0456\u043a\u0443 \u043f\u0440\u043e\u043f\u043e\u043d\u0443\u044e\u0442\u044c \u0440\u043e\u0437\u0440\u043e\u0431\u043a\u0443 \u0441\u0435\u0440\u0432\u0456\u0441\u0456\u0432 \u0442\u0430 \u043d\u0430\u0434\u0430\u043d\u043d\u044f \u043a\u043e\u043d\u0441\u0443\u043b\u044c\u0442\u0430\u0446\u0456\u0439 \u0434\u043b\u044f \u0441\u0430\u0439\u0442\u0456\u0432, \u0449\u043e \u0431\u0430\u0436\u0430\u044e\u0442\u044c \u043f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 OpenStreetMap.</p> <ul> <li>Alantgeo, Australia</li> <li>Camptocamp, Switzerland</li> <li>Carto, US</li> <li>Champs-Libres, Belgium</li> <li>Geoapify, Germany</li> <li>Geofabrik, Germany</li> <li>Geokeo, India</li> <li>GeoJunxion (formerly AND), Netherlands</li> <li>GreenInfo Network, US (public interest groups only)</li> <li>Jawg, France</li> <li>Makina Corpus, France</li> <li>Mapbox, US</li> <li>MapTiler, Switzerland</li> <li>Maptoolkit, Germany/Austria</li> <li>mapz.com by Kober-K\u00fcmmerly+Frey, Germany</li> <li>SmartMaps by YellowMap, Germany</li> <li>Stadia Maps, US</li> <li>Stamen, US</li> <li>Syst\u00e8me D, UK</li> </ul>"},{"location":"uk/providers/#\u0425\u043e\u0441\u0442\u0438\u043d\u0433-\u0442\u0430\u0439\u043b\u0456\u0432","title":"\u0425\u043e\u0441\u0442\u0438\u043d\u0433 \u0442\u0430\u0439\u043b\u0456\u0432","text":"<p>\u041d\u0430\u0441\u0442\u0443\u043f\u043d\u0456 \u043a\u043e\u043c\u043f\u0430\u043d\u0456\u0457 \u043f\u0440\u043e\u043f\u043e\u043d\u0443\u044e\u0442\u044c \u0442\u0430\u0439\u043b\u0438 \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0456 \u0434\u0430\u043d\u0438\u0445 OpenStreetMap.</p>"},{"location":"uk/providers/#\u0414\u043e\u0437\u0432\u043e\u043b\u044f\u0454\u0442\u044c\u0441\u044f-\u0431\u0435\u0437\u043a\u043e\u0448\u0442\u043e\u0432\u043d\u0435-\u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f","title":"\u0414\u043e\u0437\u0432\u043e\u043b\u044f\u0454\u0442\u044c\u0441\u044f \u0431\u0435\u0437\u043a\u043e\u0448\u0442\u043e\u0432\u043d\u0435 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f","text":"<ul> <li>Carto, US</li> <li>Geoapify, Germany</li> <li>Jawg, France</li> <li>Mapbox, US</li> <li>MapTiler, Switzerland</li> <li>MapTiles API, US</li> <li>Maptoolkit, Germany/Austria</li> <li>Nextzen, US</li> <li>SmartMaps by YellowMap, Germany</li> <li>Stadia Maps, US</li> <li>Stamen, US</li> <li>Thunderforest, UK</li> <li>Tracestrack, Netherlands</li> <li>Esri, US</li> </ul>"},{"location":"uk/providers/#\u0422\u0456\u043b\u044c\u043a\u0438-\u0437\u0430-\u043f\u043b\u0430\u0442\u0443","title":"\u0422\u0456\u043b\u044c\u043a\u0438 \u0437\u0430 \u043f\u043b\u0430\u0442\u0443","text":"<ul> <li>Champs-Libres, Belgium</li> <li>Geofabrik, Germany</li> <li>Makina Corpus, France</li> <li>mapz.com by Kober-K\u00fcmmerly+Frey, Germany</li> </ul>"},{"location":"uk/the-basics/","title":"\u041e\u0441\u043d\u043e\u0432\u0438","text":""},{"location":"uk/the-basics/#\u041e\u0441\u043d\u043e\u0432\u0438","title":"\u041e\u0441\u043d\u043e\u0432\u0438","text":""},{"location":"uk/the-basics/#\u0417\u0430\u0432\u0434\u0430\u043d\u043d\u044f","title":"\u0417\u0430\u0432\u0434\u0430\u043d\u043d\u044f","text":"<p>\u0412\u0430\u0448 \u043f\u043e\u0442\u043e\u0447\u043d\u0438\u0439 \u043f\u043e\u0441\u0442\u0430\u0447\u0430\u043b\u044c\u043d\u0438\u043a \u043c\u0430\u043f \u043d\u0430\u0434\u0430\u0454 \u0432\u0430\u043c \u0434\u0432\u0456 \u0440\u0435\u0447\u0456:</p> <ul> <li>\u041d\u0430\u0431\u0456\u0440 <code>\u0442\u0430\u0439\u043b\u0456\u0432</code> (\u043a\u0432\u0430\u0434\u0440\u0430\u0442\u043d\u0438\u0445 \u0448\u043c\u0430\u0442\u043e\u0447\u043a\u0456\u0432 \u0456\u0437 \u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f\u043c), \u044f\u043a\u0456 \u0441\u043a\u043b\u0430\u0434\u0443\u044e\u0442\u044c\u0441\u044f \u0432 \u043c\u0430\u043f\u0443</li> <li>JavaScript API, \u0430\u0431\u043e \u043f\u043e\u0434\u0456\u0431\u043d\u0443 \u0431\u0456\u0431\u043b\u0456\u043e\u0442\u0435\u043a\u0443 \u0434\u043b\u044f \u043c\u043e\u0431\u0456\u043b\u044c\u043d\u0438\u0445 \u0437\u0430\u0441\u0442\u043e\u0441\u0443\u043d\u043a\u0456\u0432, \u0449\u043e\u0431 \u043f\u0435\u0440\u0435\u0433\u043b\u044f\u0434\u0430\u0442\u0438 \u0457\u0445</li> </ul> <p>\u0414\u043b\u044f \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0443 \u043d\u0430 OpenStreetMap, \u0442\u0440\u0435\u0431\u0430 \u0437\u0430\u043c\u0456\u043d\u0438\u0442\u0438 \u0457\u0445 \u043e\u0431\u0438\u0434\u0432\u0456.</p>"},{"location":"uk/the-basics/#\u0422\u0430\u0439\u043b\u0438","title":"\u0422\u0430\u0439\u043b\u0438","text":"<p> \u0422\u0430\u0439\u043b\u0438 \u043c\u0430\u043f\u0438, \u0446\u0435 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438 (\u0437\u0430\u0437\u0432\u0438\u0447\u0430\u0439) \u0440\u043e\u0437\u043c\u0456\u0440\u043e\u043c 256 x 256 \u043f\u0456\u043a\u0441\u0435\u043b\u0456\u0432 \u043a\u043e\u0436\u043d\u0430, \u044f\u043a\u0456 \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u0456 (\u201c\u0437\u0433\u0435\u043d\u0435\u0440\u043e\u0432\u0430\u043d\u0456\u201d) \u0437 \u0431\u0430\u0437\u0438 \u0434\u0430\u043d\u0438\u0445 \u043c\u0430\u043f\u0438.</p> <p>\u042f\u043a\u0449\u043e \u0432\u0438 \u0432\u0436\u0435 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u0435 \u041a\u0430\u0440\u0442\u0438 Google, \u0432\u0438, \u0441\u043a\u043e\u0440\u0456\u0448 \u0437\u0430 \u0432\u0441\u0435, \u043e\u0442\u0440\u0438\u043c\u0443\u0454\u0442\u0435 \u0442\u0430\u0439\u043b\u0438 \u043c\u0430\u043f Google \u0437 \u0441\u0430\u0439\u0442\u0443 google.com. \u041e\u0441\u043a\u0456\u043b\u044c\u043a\u0438 \u0424\u043e\u043d\u0434 OpenStreetMap\u00a0\u2013 \u0446\u0435 \u043d\u0435\u043f\u0440\u0438\u0431\u0443\u0442\u043a\u043e\u0432\u0430 \u043e\u0440\u0433\u0430\u043d\u0456\u0437\u0430\u0446\u0456\u044f \u0437 \u043e\u0431\u043c\u0435\u0436\u0435\u043d\u0438\u043c\u0438 \u0440\u0435\u0441\u0443\u0440\u0441\u0430\u043c\u0438, \u0432\u0438 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u0440\u043e\u0441\u0442\u043e \u0437\u0430\u043c\u0456\u043d\u0438\u0442\u0438 \u0442\u0430\u0439\u043b\u0438, \u044f\u043a\u0456 \u0432\u0438 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u043b\u0438, \u043d\u0430 \u0442\u0430\u0439\u043b\u0438 \u0437 openstreetmap.org (\u0434\u0438\u0432. \u041f\u0440\u0430\u0432\u0438\u043b\u0430 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f \u0442\u0430\u0439\u043b\u0456\u0432). \u041d\u0430\u0442\u043e\u043c\u0456\u0441\u0442\u044c \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435:</p> <ul> <li> <p>\u0421\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u0432\u0430\u0448\u0456 \u0432\u043b\u0430\u0441\u043d\u0456 \u0442\u0430\u0439\u043b\u0438, \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0432\u0448\u0438 \u0432\u0456\u043b\u044c\u043d\u0456 \u0434\u0430\u043d\u0456 \u0437 \u0431\u0430\u0437\u0438 OSM \u0442\u0430 \u0432\u0438\u043a\u043e\u043d\u0430\u0432\u0448\u0438 \u043f\u0440\u043e\u0446\u0435\u0441 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0456\u0457 \u0442\u0430\u0439\u043b\u0456\u0432 (\u0440\u0435\u043d\u0434\u0435\u0440\u0456\u043d\u0433);</p> </li> <li> <p>\u0421\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u0442\u0438\u0441\u044c \u043f\u043e\u0441\u043b\u0443\u0433\u0430\u043c\u0438 \u0456\u043d\u0448\u0438\u0445 (\u0445\u0442\u043e\u0441\u044c \u0431\u0435\u0440\u0435 \u0437\u0430 \u0446\u0435 \u0433\u0440\u043e\u0448\u0456, \u0430 \u0445\u0442\u043e\u0441\u044c\u00a0\u2013 \u043d\u0456)</p> </li> </ul> <p>\u0411\u0430\u0437\u0430 \u0434\u0430\u043d\u0438\u0445 OSM \u043d\u0430\u0437\u0438\u0432\u0430\u0454\u0442\u044c\u0441\u044f planet.osm. \u041f\u043e\u0432\u043d\u0438\u0439 \u043d\u0430\u0431\u0456\u0440 \u0434\u0430\u043d\u0438\u0445 \u0442\u0430 \u0440\u0435\u0433\u0443\u043b\u044f\u0440\u043d\u0456 \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0456 \u043d\u0430 planet.openstreetmap.org.</p> <p>\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u0432\u0430\u0448\u0438\u0445 \u0432\u043b\u0430\u0441\u043d\u0438\u0445 \u0442\u0430\u0439\u043b\u0456\u0432 \u0434\u0430\u0454 \u0432\u0430\u043c \u043f\u043e\u0432\u043d\u0438\u0439 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c \u043d\u0430\u0434 \u0457\u0445 \u0432\u0438\u0433\u043b\u044f\u0434\u043e\u043c. \u0412\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u0442\u0438 \u0432\u0438\u0433\u043b\u044f\u0434 \u043c\u0430\u043f\u0438 \u0441\u0430\u043c\u0435 \u0442\u0430\u043a, \u044f\u043a \u0442\u0440\u0435\u0431\u0430 \u0432\u0430\u043c. \u0410\u0431\u043e \u0436, \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0441\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u0442\u0438\u0441\u044c \u043f\u043e\u0441\u043b\u0443\u0433\u0430\u043c\u0438 \u0441\u0442\u043e\u0440\u043e\u043d\u043d\u0456\u0445 \u043f\u043e\u0441\u0442\u0430\u0447\u0430\u043b\u044c\u043d\u0438\u043a\u0456\u0432 \u0442\u0430\u0439\u043b\u0456\u0432, \u044f\u043a\u0456 \u043c\u0430\u044e\u0442\u044c \u0434\u043e\u0441\u0432\u0456\u0434 \u0432 \u0457\u0445 \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u0456 \u0442\u0430 \u043c\u043e\u0436\u0443\u0442\u044c \u043d\u0430\u0434\u0430\u0442\u0438 \u0432\u0430\u043c \u0433\u043e\u0442\u043e\u0432\u0456 \u0434\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f \u043c\u0430\u043f\u0438 \u0443 \u0440\u0456\u0437\u043d\u0438\u0445 \u0441\u0442\u0438\u043b\u044f\u0445.</p>"},{"location":"uk/the-basics/#\u0420\u0430\u0441\u0442\u0440\u043e\u0432\u0456-\u0447\u0438-\u0432\u0435\u043a\u0442\u043e\u0440\u043d\u0456-\u0442\u0430\u0439\u043b\u0438","title":"\u0420\u0430\u0441\u0442\u0440\u043e\u0432\u0456 \u0447\u0438 \u0432\u0435\u043a\u0442\u043e\u0440\u043d\u0456 \u0442\u0430\u0439\u043b\u0438","text":"<p>\u0412\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f \u0440\u0430\u0441\u0442\u0440\u043e\u0432\u0438\u0445 \u0442\u0430 \u0432\u0435\u043a\u0442\u043e\u0440\u043d\u0438\u0445 \u0442\u0430\u0439\u043b\u0456\u0432\u00a0\u2014 \u0446\u0435 \u0434\u0432\u0430 \u0440\u0456\u0437\u043d\u0456 \u043f\u0456\u0434\u0445\u043e\u0434\u0438 \u0434\u043e \u043f\u043e\u0434\u0430\u043d\u043d\u044f \u0442\u0430 \u0440\u043e\u0431\u043e\u0442\u0438 \u0437 \u043a\u0430\u0440\u0442\u043e\u0433\u0440\u0430\u0444\u0456\u0447\u043d\u0438\u043c\u0438 \u0434\u0430\u043d\u0438\u043c\u0438. \u041a\u043e\u0436\u0435\u043d \u043c\u0430\u0454 \u0441\u0432\u043e\u0457 \u043f\u0435\u0440\u0435\u0432\u0430\u0433\u0438 \u0442\u0430 \u0441\u0444\u0435\u0440\u0438 \u0437\u0430\u0441\u0442\u043e\u0441\u0443\u0432\u0430\u043d\u043d\u044f. \u0414\u043e\u0441\u043b\u0456\u0434\u0456\u043c\u043e \u0432\u0456\u0434\u043c\u0456\u043d\u043d\u043e\u0441\u0442\u0456 \u043c\u0456\u0436 \u0440\u0430\u0441\u0442\u0440\u043e\u0432\u0438\u043c\u0438 \u0442\u0430 \u0432\u0435\u043a\u0442\u043e\u0440\u043d\u0438\u043c\u0438 \u0442\u0430\u0439\u043b\u0430\u043c\u0438, \u0449\u043e\u0431 \u0437\u0440\u043e\u0437\u0443\u043c\u0456\u0442\u0438 \u0457\u0445\u043d\u0456 \u043f\u0435\u0440\u0435\u0432\u0430\u0433\u0438 \u0442\u0430 \u043e\u0431\u043c\u0435\u0436\u0435\u043d\u043d\u044f.</p> <p>\u0420\u0430\u0441\u0442\u0440\u043e\u0432\u0456 \u0442\u0430\u0439\u043b\u0438</p> <p>\u0420\u0430\u0441\u0442\u0440\u043e\u0432\u0456 \u0442\u0430\u0439\u043b\u0438\u00a0\u2014 \u0446\u0435, \u043f\u043e \u0441\u0443\u0442\u0456, \u0447\u0430\u0441\u0442\u0438\u043d\u0438 \u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f \u043a\u0430\u0440\u0442\u043e\u0433\u0440\u0430\u0444\u0456\u0447\u043d\u0438\u0445 \u0434\u0430\u043d\u0438\u0445. \u0412\u043e\u043d\u0438 \u043f\u043e\u043f\u0435\u0440\u0435\u0434\u043d\u044c\u043e \u0441\u0442\u0432\u043e\u0440\u044e\u044e\u0442\u044c\u0441\u044f \u0434\u043b\u044f \u0440\u0456\u0437\u043d\u0438\u0445 \u0440\u0456\u0432\u043d\u0456\u0432 \u043c\u0430\u0441\u0448\u0442\u0430\u0431\u0443\u0432\u0430\u043d\u043d\u044f \u0442\u0430 \u0437\u0431\u0435\u0440\u0456\u0433\u0430\u044e\u0442\u044c\u0441\u044f \u044f\u043a \u043e\u043a\u0440\u0435\u043c\u0456 \u0444\u0430\u0439\u043b\u0438 \u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u044c. \u041e\u0441\u044c \u0434\u0435\u044f\u043a\u0456 \u043a\u043b\u044e\u0447\u043e\u0432\u0456 \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438 \u0440\u0430\u0441\u0442\u0440\u043e\u0432\u0438\u0445 \u0442\u0430\u0439\u043b\u0456\u0432:</p> <ul> <li>\u0420\u0430\u0441\u0442\u0440\u043e\u0432\u0456 \u0442\u0430\u0439\u043b\u0438 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u044f\u044e\u0442\u044c \u0434\u0430\u043d\u0456 \u043c\u0430\u043f\u0438 \u0443 \u0432\u0438\u0433\u043b\u044f\u0434\u0456 \u0441\u0456\u0442\u043a\u0438 \u043f\u0456\u043a\u0441\u0435\u043b\u0456\u0432. \u041a\u043e\u0436\u0435\u043d \u0442\u0430\u0439\u043b\u00a0\u2014 \u0446\u0435 \u0441\u0442\u0430\u0442\u0438\u0447\u043d\u0435 \u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f, \u044f\u043a\u0435 \u043f\u043e\u043a\u0430\u0437\u0443\u0454 \u0447\u0430\u0441\u0442\u0438\u043d\u0443 \u043c\u0430\u043f\u0438 \u0434\u043b\u044f \u043f\u0435\u0432\u043d\u043e\u0433\u043e \u043c\u0430\u0441\u0448\u0442\u0430\u0431\u0443.</li> <li>\u0420\u0430\u0441\u0442\u0440\u043e\u0432\u0456 \u0442\u0430\u0439\u043b\u0438 \u043c\u0430\u044e\u0442\u044c \u0444\u0456\u043a\u0441\u043e\u0432\u0430\u043d\u0438\u0439 \u0432\u0438\u0433\u043b\u044f\u0434, \u043e\u0441\u043a\u0456\u043b\u044c\u043a\u0438 \u0432\u043e\u043d\u0438 \u0433\u0435\u043d\u0435\u0440\u0443\u044e\u0442\u044c\u0441\u044f \u0437 \u043f\u043e\u043f\u0435\u0440\u0435\u0434\u043d\u044c\u043e \u0432\u0438\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u043c\u0438 \u0441\u0442\u0438\u043b\u044f\u043c\u0438. \u0429\u043e\u0431 \u0437\u043c\u0456\u043d\u0438\u0442\u0438 \u0432\u0456\u0437\u0443\u0430\u043b\u044c\u043d\u0435 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043d\u044f \u043c\u0430\u043f\u0438, \u043d\u0435\u043e\u0431\u0445\u0456\u0434\u043d\u043e \u0441\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u043d\u043e\u0432\u0456 \u0442\u0430\u0439\u043b\u0438, \u0449\u043e \u043c\u043e\u0436\u0435 \u0432\u0438\u043c\u0430\u0433\u0430\u0442\u0438 \u0456\u043d\u0442\u0435\u043d\u0441\u0438\u0432\u043d\u0438\u0445 \u043e\u0431\u0447\u0438\u0441\u043b\u0435\u043d\u044c.</li> <li>\u0420\u0430\u0441\u0442\u0440\u043e\u0432\u0456 \u0442\u0430\u0439\u043b\u0438 \u043c\u043e\u0436\u0443\u0442\u044c \u043c\u0430\u0442\u0438 \u0431\u0456\u043b\u044c\u0448\u0438\u0439 \u0440\u043e\u0437\u043c\u0456\u0440 \u0444\u0430\u0439\u043b\u0443 \u043f\u043e\u0440\u0456\u0432\u043d\u044f\u043d\u043e \u0437 \u0432\u0435\u043a\u0442\u043e\u0440\u043d\u0438\u043c\u0438 \u0442\u0430\u0439\u043b\u0430\u043c\u0438, \u043e\u0441\u043a\u0456\u043b\u044c\u043a\u0438 \u0432\u043e\u043d\u0438 \u0437\u0431\u0435\u0440\u0456\u0433\u0430\u044e\u0442\u044c \u0434\u0435\u0442\u0430\u043b\u0456 \u043d\u0430 \u0440\u0456\u0432\u043d\u0456 \u043f\u0456\u043a\u0441\u0435\u043b\u0456\u0432 \u0434\u043b\u044f \u043a\u043e\u0436\u043d\u043e\u0433\u043e \u0442\u0430\u0439\u043b\u0443, \u0449\u043e \u043f\u0440\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u044c \u0434\u043e \u043f\u0456\u0434\u0432\u0438\u0449\u0435\u043d\u0438\u0445 \u0432\u0438\u043c\u043e\u0433 \u0434\u043e \u043e\u0431\u0441\u044f\u0433\u0456\u0432 \u043f\u0430\u043c\u02bc\u044f\u0442\u0456 \u0442\u0430 \u0437\u0431\u0456\u043b\u044c\u0448\u0443\u0454 \u0447\u0430\u0441 \u0457\u0445 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f.</li> <li>\u0420\u0430\u0441\u0442\u0440\u043e\u0432\u0456 \u0442\u0430\u0439\u043b\u0438 \u0434\u043e\u0431\u0440\u0435 \u043f\u0456\u0434\u0445\u043e\u0434\u044f\u0442\u044c \u0434\u043b\u044f \u043f\u043e\u043a\u0430\u0437\u0443 \u0441\u043a\u043b\u0430\u0434\u043d\u0438\u0445 \u043a\u0430\u0440\u0442\u043e\u0433\u0440\u0430\u0444\u0456\u0447\u043d\u0438\u0445 \u0441\u0442\u0438\u043b\u0456\u0432, \u0442\u0430\u043a\u0438\u0445 \u044f\u043a \u0442\u043e\u043f\u043e\u0433\u0440\u0430\u0444\u0456\u0447\u043d\u0456 \u043c\u0430\u043f\u0438 \u0430\u0431\u043e \u0441\u0443\u043f\u0443\u0442\u043d\u0438\u043a\u043e\u0432\u0456 \u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f, \u0434\u0435 \u0432\u0430\u0436\u043b\u0438\u0432\u0456 \u0434\u0440\u0456\u0431\u043d\u0456 \u0434\u0435\u0442\u0430\u043b\u0456.</li> <li>\u0420\u0430\u0441\u0442\u0440\u043e\u0432\u0456 \u0442\u0430\u0439\u043b\u0438 \u043f\u0440\u043e\u043f\u043e\u043d\u0443\u044e\u0442\u044c \u043e\u0431\u043c\u0435\u0436\u0435\u043d\u0456 \u043c\u043e\u0436\u043b\u0438\u0432\u043e\u0441\u0442\u0456 \u0456\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0456, \u044f\u043a\u0456 \u0432 \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u043c\u0443 \u043e\u0431\u043c\u0435\u0436\u0435\u043d\u0456 \u0437\u043c\u0456\u043d\u0435\u043d\u043d\u044f\u043c \u043c\u0430\u0441\u0448\u0442\u0430\u0431\u0443 \u0456 \u043f\u0435\u0440\u0435\u043c\u0456\u0449\u0435\u043d\u043d\u044f\u043c \u043c\u0430\u043f\u043e\u044e. \u0412\u0437\u0430\u0454\u043c\u043e\u0434\u0456\u044f \u0437 \u043e\u043a\u0440\u0435\u043c\u0438\u043c\u0438 \u043e\u0431\u02bc\u0454\u043a\u0442\u0430\u043c\u0438 \u043c\u0430\u043f\u0438 \u0430\u0431\u043e \u0434\u0438\u043d\u0430\u043c\u0456\u0447\u043d\u0435 \u0437\u043c\u0456\u043d\u0435\u043d\u043d\u044f \u0437\u043e\u0432\u043d\u0456\u0448\u043d\u044c\u043e\u0433\u043e \u0432\u0438\u0433\u043b\u044f\u0434\u0443 \u043c\u0430\u043f\u0438 \u0454 \u0441\u043a\u043b\u0430\u0434\u043d\u0438\u043c \u0437\u0430\u0432\u0434\u0430\u043d\u043d\u044f\u043c.</li> </ul> <p>\u0412\u0435\u043a\u0442\u043e\u0440\u043d\u0456 \u0442\u0430\u0439\u043b\u0438</p> <p>\u0412\u0435\u043a\u0442\u043e\u0440\u043d\u0456 \u0442\u0430\u0439\u043b\u0438, \u0437 \u0456\u043d\u0448\u043e\u0433\u043e \u0431\u043e\u043a\u0443, \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u044f\u044e\u0442\u044c \u0434\u0430\u043d\u0456 \u043c\u0430\u043f\u0438 \u044f\u043a \u043d\u0430\u0431\u0456\u0440 \u0433\u0435\u043e\u043c\u0435\u0442\u0440\u0438\u0447\u043d\u0438\u0445 \u043e\u0431\u02bc\u0454\u043a\u0442\u0456\u0432, \u0442\u0430\u043a\u0438\u0445 \u044f\u043a \u0442\u043e\u0447\u043a\u0438, \u043b\u0456\u043d\u0456\u0457 \u0442\u0430 \u0431\u0430\u0433\u0430\u0442\u043e\u043a\u0443\u0442\u043d\u0438\u043a\u0438. \u041e\u0441\u044c \u0432\u0456\u0434\u043c\u0456\u043d\u043d\u0456 \u0440\u0438\u0441\u0438 \u0432\u0435\u043a\u0442\u043e\u0440\u043d\u0438\u0445 \u0442\u0430\u0439\u043b\u0456\u0432:</p> <ul> <li>\u0412\u0435\u043a\u0442\u043e\u0440\u043d\u0456 \u0442\u0430\u0439\u043b\u0438 \u0437\u0431\u0435\u0440\u0456\u0433\u0430\u044e\u0442\u044c \u0434\u0430\u043d\u0456 \u043c\u0430\u043f\u0438 \u044f\u043a \u043e\u043a\u0440\u0435\u043c\u0456 \u0433\u0435\u043e\u043c\u0435\u0442\u0440\u0438\u0447\u043d\u0456 \u0435\u043b\u0435\u043c\u0435\u043d\u0442\u0438 \u0442\u0430 \u0457\u0445 \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u0438. \u0426\u0456 \u0435\u043b\u0435\u043c\u0435\u043d\u0442\u0438 \u043c\u043e\u0436\u043d\u0430 \u043c\u0430\u0441\u0448\u0442\u0430\u0431\u0443\u0432\u0430\u0442\u0438, \u043e\u0431\u0435\u0440\u0442\u0430\u0442\u0438 \u0442\u0430 \u0437\u043c\u0456\u043d\u044e\u0432\u0430\u0442\u0438 \u0457\u0445 \u0441\u0442\u0438\u043b\u044c \u0443 \u0440\u0435\u0430\u043b\u044c\u043d\u043e\u043c\u0443 \u0447\u0430\u0441\u0456, \u0437\u0430\u0431\u0435\u0437\u043f\u0435\u0447\u0443\u044e\u0447\u0438 \u0431\u0456\u043b\u044c\u0448\u0435 \u0433\u043d\u0443\u0447\u043a\u043e\u0441\u0442\u0456 \u0442\u0430 \u043c\u043e\u0436\u043b\u0438\u0432\u043e\u0441\u0442\u0435\u0439 \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f.</li> <li>\u0412\u0435\u043a\u0442\u043e\u0440\u043d\u0456 \u0442\u0430\u0439\u043b\u0438 \u0434\u043e\u0437\u0432\u043e\u043b\u044f\u044e\u0442\u044c \u0434\u0438\u043d\u0430\u043c\u0456\u0447\u043d\u043e \u043e\u0444\u043e\u0440\u043c\u043b\u044f\u0442\u0438 \u0442\u0430 \u0437\u043c\u0456\u043d\u044e\u0432\u0430\u0442\u0438 \u0435\u043b\u0435\u043c\u0435\u043d\u0442\u0438 \u043c\u0430\u043f\u0438. \u0421\u0442\u0438\u043b\u0456 \u043c\u043e\u0436\u043d\u0430 \u0437\u043c\u0456\u043d\u044e\u0432\u0430\u0442\u0438 \u043d\u0430 \u043b\u044c\u043e\u0442\u0443, \u0432\u043a\u043b\u044e\u0447\u0430\u044e\u0447\u0438 \u043a\u043e\u043b\u044c\u043e\u0440\u0438, \u0448\u0438\u0440\u0438\u043d\u0443 \u043b\u0456\u043d\u0456\u0439, \u0440\u043e\u0437\u0442\u0430\u0448\u0443\u0432\u0430\u043d\u043d\u044f \u043f\u0456\u0434\u043f\u0438\u0441\u0456\u0432 \u0442\u0430 \u0456\u043d\u0448\u0456 \u0432\u0456\u0437\u0443\u0430\u043b\u044c\u043d\u0456 \u0432\u043b\u0430\u0441\u0442\u0438\u0432\u043e\u0441\u0442\u0456.</li> <li>\u0412\u0435\u043a\u0442\u043e\u0440\u043d\u0456 \u0442\u0430\u0439\u043b\u0438, \u044f\u043a \u043f\u0440\u0430\u0432\u0438\u043b\u043e, \u043c\u0435\u043d\u0448\u0456 \u043f\u043e\u0440\u0456\u0432\u043d\u044f\u043d\u043e \u0437 \u0440\u0430\u0441\u0442\u0440\u043e\u0432\u0438\u043c\u0438. \u041e\u0441\u043a\u0456\u043b\u044c\u043a\u0438 \u0432\u043e\u043d\u0438 \u0437\u0431\u0435\u0440\u0456\u0433\u0430\u044e\u0442\u044c \u043b\u0438\u0448\u0435 \u0433\u0435\u043e\u043c\u0435\u0442\u0440\u0438\u0447\u043d\u0456 \u0434\u0430\u043d\u0456 \u0442\u0430 \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u0438, \u0432\u043e\u043d\u0438 \u043f\u043e\u0442\u0440\u0435\u0431\u0443\u044e\u0442\u044c \u043c\u0435\u043d\u0448\u0435 \u043c\u0456\u0441\u0446\u044f \u0434\u043b\u044f \u0437\u0431\u0435\u0440\u0456\u0433\u0430\u043d\u043d\u044f \u0442\u0430 \u043f\u043e\u0442\u0440\u0435\u0431\u0443\u044e\u0442\u044c \u043c\u0435\u043d\u0448\u0435 \u0447\u0430\u0441\u0443 \u0434\u043b\u044f \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0456.</li> <li>\u0412\u0435\u043a\u0442\u043e\u0440\u043d\u0456 \u0442\u0430\u0439\u043b\u0438 \u043f\u043e\u0442\u0440\u0435\u0431\u0443\u044e\u0442\u044c \u043c\u0435\u043d\u0448\u043e\u0457 \u043f\u0440\u043e\u043f\u0443\u0441\u043a\u043d\u043e\u0457 \u0437\u0434\u0430\u0442\u043d\u043e\u0441\u0442\u0456 \u0434\u043b\u044f \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0456, \u043e\u0441\u043a\u0456\u043b\u044c\u043a\u0438 \u043a\u043b\u0456\u0454\u043d\u0442\u0443 \u043d\u0430\u0434\u0441\u0438\u043b\u0430\u044e\u0442\u044c\u0441\u044f \u043b\u0438\u0448\u0435 \u0434\u0430\u043d\u0456 \u043c\u0430\u043f\u0438. \u0426\u0435 \u043e\u0441\u043e\u0431\u043b\u0438\u0432\u043e \u0432\u0438\u0433\u0456\u0434\u043d\u043e \u0434\u043b\u044f \u043c\u043e\u0431\u0456\u043b\u044c\u043d\u0438\u0445 \u0437\u0430\u0441\u0442\u043e\u0441\u0443\u043d\u043a\u0456\u0432 \u0430\u0431\u043e \u0440\u0435\u0433\u0456\u043e\u043d\u0456\u0432 \u0437 \u043e\u0431\u043c\u0435\u0436\u0435\u043d\u0438\u043c \u0434\u043e\u0441\u0442\u0443\u043f\u043e\u043c \u0434\u043e \u0406\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u0443.</li> <li>\u0412\u0435\u043a\u0442\u043e\u0440\u043d\u0456 \u0442\u0430\u0439\u043b\u0438 \u0437\u0430\u0431\u0435\u0437\u043f\u0435\u0447\u0443\u044e\u0442\u044c \u0440\u043e\u0437\u0448\u0438\u0440\u0435\u043d\u0443 \u0456\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u0456\u0441\u0442\u044c \u0437\u0430\u0432\u0434\u044f\u043a\u0438 \u0457\u0445 \u0440\u0435\u043d\u0434\u0435\u0440\u0438\u043d\u0433\u0443 \u0432 \u0440\u0435\u0430\u043b\u044c\u043d\u043e\u043c\u0443 \u0447\u0430\u0441\u0456. \u041a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0456 \u043c\u043e\u0436\u0443\u0442\u044c \u0432\u0437\u0430\u0454\u043c\u043e\u0434\u0456\u044f\u0442\u0438 \u0437 \u043e\u043a\u0440\u0435\u043c\u0438\u043c\u0438 \u043e\u0431\u02bc\u0454\u043a\u0442\u0430\u043c\u0438 \u043c\u0430\u043f\u0438, \u0432\u0438\u043a\u043e\u043d\u0443\u0432\u0430\u0442\u0438 \u0434\u0438\u043d\u0430\u043c\u0456\u0447\u043d\u0456 \u0437\u0430\u043f\u0438\u0442\u0438 \u0442\u0430 \u0437\u0430\u0441\u0442\u043e\u0441\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0432\u043b\u0430\u0441\u043d\u0456 \u0441\u0442\u0438\u043b\u0456 \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0456 \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u0456\u0432, \u043f\u0440\u043e\u043f\u043e\u043d\u0443\u044e\u0447\u0438 \u0431\u0456\u043b\u044c\u0448 \u0456\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u0443 \u0442\u0430 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u0456\u0437\u043e\u0432\u0430\u043d\u0443 \u0440\u043e\u0431\u043e\u0442\u0443 \u0437 \u043c\u0430\u043f\u043e\u044e.</li> </ul>"},{"location":"uk/the-basics/#\u0412\u0430\u0440\u0456\u0430\u043d\u0442\u0438-\u0437\u0430\u0441\u0442\u043e\u0441\u0443\u0432\u0430\u043d\u043d\u044f","title":"\u0412\u0430\u0440\u0456\u0430\u043d\u0442\u0438 \u0437\u0430\u0441\u0442\u043e\u0441\u0443\u0432\u0430\u043d\u043d\u044f","text":"<p>\u0412\u0438\u0431\u0456\u0440 \u043c\u0456\u0436 \u0440\u0430\u0441\u0442\u0440\u043e\u0432\u0438\u043c\u0438 \u0442\u0430 \u0432\u0435\u043a\u0442\u043e\u0440\u043d\u0438\u043c\u0438 \u0442\u0430\u0439\u043b\u0430\u043c\u0438 \u0437\u0430\u043b\u0435\u0436\u0438\u0442\u044c \u0432\u0456\u0434 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0433\u043e \u0432\u0438\u043f\u0430\u0434\u043a\u0443 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f \u0442\u0430 \u0432\u0438\u043c\u043e\u0433. \u041e\u0441\u044c \u043a\u0456\u043b\u044c\u043a\u0430 \u0441\u0446\u0435\u043d\u0430\u0440\u0456\u0457\u0432, \u0443 \u044f\u043a\u0438\u0445 \u043a\u043e\u0436\u0435\u043d \u0442\u0438\u043f \u043c\u0430\u0454 \u0441\u0432\u043e\u0457 \u043f\u0435\u0440\u0435\u0432\u0430\u0433\u0438:</p> <p>\u0420\u0430\u0441\u0442\u0440\u043e\u0432\u0456 \u0442\u0430\u0439\u043b\u0438</p> <ul> <li>\u0415\u0441\u0442\u0435\u0442\u0438\u0447\u043d\u043e \u0434\u0435\u0442\u0430\u043b\u0456\u0437\u043e\u0432\u0430\u043d\u0456 \u043c\u0430\u043f\u0438, \u0442\u0430\u043a\u0456 \u044f\u043a \u0442\u043e\u043f\u043e\u0433\u0440\u0430\u0444\u0456\u0447\u043d\u0456 \u043c\u0430\u043f\u0438 \u0430\u0431\u043e \u0441\u0443\u043f\u0443\u0442\u043d\u0438\u043a\u043e\u0432\u0456 \u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f.</li> <li>\u0421\u0442\u0430\u0442\u0438\u0447\u043d\u0456 \u043c\u0430\u043f\u0438, \u044f\u043a\u0456 \u043d\u0435 \u0432\u0438\u043c\u0430\u0433\u0430\u044e\u0442\u044c \u0456\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0456 \u0432 \u0440\u0435\u0430\u043b\u044c\u043d\u043e\u043c\u0443 \u0447\u0430\u0441\u0456 \u0430\u0431\u043e \u0447\u0430\u0441\u0442\u043e\u0433\u043e \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f.</li> <li>\u0412\u0438\u043f\u0430\u0434\u043a\u0438, \u043a\u043e\u043b\u0438 \u0434\u0430\u043d\u0456 \u043c\u0430\u043f\u0438 \u0454 \u0432\u0456\u0434\u043d\u043e\u0441\u043d\u043e \u0441\u0442\u0430\u0431\u0456\u043b\u044c\u043d\u0438\u043c\u0438 \u0442\u0430 \u043d\u0435 \u043f\u043e\u0442\u0440\u0435\u0431\u0443\u044e\u0442\u044c \u0447\u0430\u0441\u0442\u0438\u0445 \u043c\u043e\u0434\u0438\u0444\u0456\u043a\u0430\u0446\u0456\u0439 \u0430\u0431\u043e \u0437\u043c\u0456\u043d \u0441\u0442\u0438\u043b\u044e.</li> </ul> <p>\u0412\u0435\u043a\u0442\u043e\u0440\u043d\u0456 \u0442\u0430\u0439\u043b\u0438</p> <ul> <li>\u0414\u0438\u043d\u0430\u043c\u0456\u0447\u043d\u0456 \u043c\u0430\u043f\u0438, \u044f\u043a\u0456 \u0432\u0438\u043c\u0430\u0433\u0430\u044e\u0442\u044c \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f \u0442\u0430 \u0456\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0456 \u0432 \u0440\u0435\u0436\u0438\u043c\u0456 \u0440\u0435\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0447\u0430\u0441\u0443, \u044f\u043a-\u043e\u0442 \u0441\u0442\u0438\u043b\u044c \u0430\u0431\u043e \u0444\u0456\u043b\u044c\u0442\u0440\u0430\u0446\u0456\u044f, \u0432 \u0437\u0430\u043b\u0435\u0436\u043d\u043e\u0441\u0442\u0456 \u0432\u0456\u0434 \u0434\u0456\u0439 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430.</li> <li>\u041c\u043e\u0431\u0456\u043b\u044c\u043d\u0456 \u0437\u0430\u0441\u0442\u043e\u0441\u0443\u043d\u043a\u0438 \u0430\u0431\u043e \u0442\u0435\u0440\u0438\u0442\u043e\u0440\u0456\u0457 \u0437 \u043e\u0431\u043c\u0435\u0436\u0435\u043d\u043e\u044e \u043f\u0440\u043e\u043f\u0443\u0441\u043a\u043d\u043e\u044e \u0437\u0434\u0430\u0442\u043d\u0456\u0441\u0442\u044e \u0430\u0431\u043e \u0437 \u043e\u0431\u043c\u0435\u0436\u0435\u043d\u043d\u044f\u043c\u0438 \u0434\u043b\u044f \u0437\u0431\u0435\u0440\u0456\u0433\u0430\u043d\u043d\u044f \u0434\u0430\u043d\u0438\u0445.</li> <li>\u041c\u0430\u043f\u0438 \u0437 \u0434\u0430\u043d\u0438\u043c\u0438, \u044f\u043a\u0456 \u0447\u0430\u0441\u0442\u043e \u0437\u043c\u0456\u043d\u044e\u044e\u0442\u044c\u0441\u044f, \u0434\u0435 \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u043c\u0430\u044e\u0442\u044c \u043f\u043e\u043a\u0430\u0437\u0443\u0432\u0430\u0442\u0438\u0441\u044c \u0432 \u0440\u0435\u0436\u0438\u043c\u0456 \u0440\u0435\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0447\u0430\u0441\u0443.</li> </ul> <p>\u0406 \u0440\u0430\u0441\u0442\u0440\u043e\u0432\u0456 \u0442\u0430\u0439\u043b\u0438, \u0456 \u0432\u0435\u043a\u0442\u043e\u0440\u043d\u0456 \u0442\u0430\u0439\u043b\u0438 \u043c\u0430\u044e\u0442\u044c \u0441\u0432\u043e\u0457 \u043f\u0435\u0440\u0435\u0432\u0430\u0433\u0438 \u0437\u0430\u043b\u0435\u0436\u043d\u043e \u0432\u0456\u0434 \u0432\u0430\u0440\u0456\u0430\u043d\u0442\u0443 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f. \u0420\u0430\u0441\u0442\u0440\u043e\u0432\u0456 \u0442\u0430\u0439\u043b\u0438 \u043f\u0456\u0434\u0445\u043e\u0434\u044f\u0442\u044c \u0434\u043b\u044f \u0434\u0435\u0442\u0430\u043b\u044c\u043d\u043e\u0457 \u0432\u0456\u0437\u0443\u0430\u043b\u0456\u0437\u0430\u0446\u0456\u0457 \u0442\u0430 \u0441\u0442\u0430\u0442\u0438\u0447\u043d\u0438\u0445 \u0441\u0442\u0438\u043b\u0456\u0432 \u043c\u0430\u043f, \u0442\u043e\u0434\u0456 \u044f\u043a \u0432\u0435\u043a\u0442\u043e\u0440\u043d\u0456 \u0442\u0430\u0439\u043b\u0438 \u0432\u0456\u0434\u0440\u0456\u0437\u043d\u044f\u044e\u0442\u044c\u0441\u044f \u0434\u0438\u043d\u0430\u043c\u0456\u0447\u043d\u0438\u043c \u0441\u0442\u0438\u043b\u0435\u043c, \u0456\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u0456\u0441\u0442\u044e \u0442\u0430 \u0435\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u0438\u043c \u043f\u0435\u0440\u0435\u0434\u0430\u0432\u0430\u043d\u043d\u044f\u043c \u0434\u0430\u043d\u0438\u0445. \u0420\u043e\u0437\u0443\u043c\u0456\u044e\u0447\u0438 \u0432\u0456\u0434\u043c\u0456\u043d\u043d\u043e\u0441\u0442\u0456 \u043c\u0456\u0436 \u0446\u0438\u043c\u0438 \u0442\u0438\u043f\u0430\u043c\u0438 \u0442\u0430\u0439\u043b\u0456\u0432, \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u0440\u0438\u0439\u043d\u044f\u0442\u0438 \u043e\u0431\u0491\u0440\u0443\u043d\u0442\u043e\u0432\u0430\u043d\u0435 \u0440\u0456\u0448\u0435\u043d\u043d\u044f, \u0432\u0438\u0431\u0438\u0440\u0430\u044e\u0447\u0438 \u0444\u043e\u0440\u043c\u0430\u0442 \u0442\u0430\u0439\u043b\u0456\u0432, \u044f\u043a\u0438\u0439 \u043d\u0430\u0439\u0431\u0456\u043b\u044c\u0448\u0435 \u043f\u0456\u0434\u0445\u043e\u0434\u0438\u0442\u044c \u0434\u043b\u044f \u0432\u0430\u0448\u0438\u0445 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u0438\u0445 \u043f\u043e\u0442\u0440\u0435\u0431.</p>"},{"location":"uk/the-basics/#API\u0431\u0456\u0431\u043b\u0456\u043e\u0442\u0435\u043a\u0430","title":"API/\u0431\u0456\u0431\u043b\u0456\u043e\u0442\u0435\u043a\u0430","text":"<p>\u0412 OSM \u043d\u0435 \u0456\u0441\u043d\u0443\u0454 \u0454\u0434\u0438\u043d\u043e\u0457 \u043a\u0430\u043d\u043e\u043d\u0456\u0447\u043d\u043e\u0457 \u0431\u0456\u0431\u043b\u0456\u043e\u0442\u0435\u043a\u0438, \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u043e\u0431\u0440\u0430\u0442\u0438 \u0442\u0443, \u0449\u043e \u043d\u0430\u0439\u0431\u0456\u043b\u044c\u0448\u0435 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u0430\u0454 \u0432\u0430\u0448\u0438\u043c \u043f\u043e\u0442\u0440\u0435\u0431\u0430\u043c. \u0414\u0432\u043e\u043c\u0430 \u043d\u0430\u0439\u043f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u0456\u0448\u0438\u043c\u0438 \u0431\u0456\u0431\u043b\u0456\u043e\u0442\u0435\u043a\u0430\u043c\u0438 JavaScript \u0434\u043b\u044f \u043f\u043e\u043a\u0430\u0437\u0443 \u0442\u0430\u0439\u043b\u0456\u0432 OSM \u0454:</p> <ul> <li> <p>OpenLayers\u00a0\u2013 \u043f\u043e\u0442\u0443\u0436\u043d\u0430 \u0442\u0430 \u043f\u0435\u0440\u0435\u0432\u0456\u0440\u0435\u043d\u0430 \u0447\u0430\u0441\u043e\u043c</p> </li> <li> <p>Leaflet\u00a0\u2013 \u043b\u0435\u0433\u043a\u0430 \u0442\u0430 \u043f\u0440\u043e\u0441\u0442\u0430 \u0432 \u043e\u0441\u0432\u043e\u0454\u043d\u043d\u0456</p> </li> </ul> <p>\u0422\u0430\u043a\u043e\u0436 \u043d\u0430\u044f\u0432\u043d\u0456 API \u0439 \u0434\u043b\u044f \u043c\u043e\u0431\u0456\u043b\u044c\u043d\u0438\u0445 \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c, \u043d\u0430\u043f\u0440\u0438\u043a\u043b\u0430\u0434 Route-Me (iOS) \u0442\u0430 osmdroid (Android).</p>"},{"location":"uk/the-basics/#\u041b\u0456\u0446\u0435\u043d\u0437\u0456\u0439\u043d\u0456-\u0443\u043c\u043e\u0432\u0438","title":"\u041b\u0456\u0446\u0435\u043d\u0437\u0456\u0439\u043d\u0456 \u0443\u043c\u043e\u0432\u0438","text":"<p>\u041d\u0430 \u0432\u0456\u0434\u043c\u0456\u043d\u0443 \u0432\u0456\u0434 \u0434\u0430\u043d\u0438\u0445 \u043a\u043e\u043c\u0435\u0440\u0446\u0456\u0439\u043d\u0438\u0445 \u043f\u043e\u0441\u0442\u0430\u0447\u0430\u043b\u044c\u043d\u0438\u043a\u0456\u0432, OpenStreetMap\u00a0\u2013 \u0446\u0435 \u2018\u0432\u0456\u0434\u043a\u0440\u0438\u0442\u0456 \u0434\u0430\u043d\u0456\u2019. \u0414\u0430\u043d\u0456 \u043c\u0430\u043f\u0438 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0456 \u0434\u043b\u044f \u0432\u0430\u0441 \u0432\u0456\u043b\u044c\u043d\u043e (\u0431\u0435\u0437\u043f\u043b\u0430\u0442\u043d\u043e), \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u043a\u043e\u043f\u0456\u044e\u0432\u0430\u0442\u0438 \u0457\u0445 \u0442\u0430 \u0437\u043c\u0456\u043d\u044e\u0432\u0430\u0442\u0438. \u0414\u0430\u043d\u0456 OSM \u0440\u043e\u0437\u043f\u043e\u0432\u0441\u044e\u0434\u0436\u0443\u044e\u0442\u044c\u0441\u044f \u043d\u0430 \u0443\u043c\u043e\u0432\u0430\u0445 \u041b\u0456\u0446\u0435\u043d\u0437\u0456\u0457 ODbL (Open Database Licence).</p> <p>\u0412\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u044e\u0447\u0438 \u0434\u0430\u043d\u0456 OpenStreetMap \u0432\u0438 \u0437\u043e\u0431\u043e\u0432\u02bc\u044f\u0437\u0443\u0454\u0442\u0435\u0441\u044c:</p> <ul> <li> <p>\u0412\u043a\u0430\u0437\u0443\u0432\u0430\u0442\u0438 \u0430\u0432\u0442\u043e\u0440\u0441\u0442\u0432\u043e (\u0430\u0442\u0440\u0438\u0431\u0443\u0446\u0456\u044f). \u0412\u0438 \u043f\u043e\u0432\u0438\u043d\u043d\u0456 \u043f\u043e\u0441\u0438\u043b\u0430\u0442\u0438\u0441\u044c \u043d\u0430 OpenStreetMap, \u0442\u0438\u043c \u0441\u0430\u043c\u0438\u043c \u0447\u0438\u043d\u043e\u043c, \u044f\u043a \u0446\u0435 \u043c\u043e\u0436\u043d\u0430 \u0431\u0443\u043b\u043e \u0431 \u043e\u0447\u0456\u043a\u0443\u0432\u0430\u0442\u0438, \u044f\u043a\u0431\u0438 \u0432\u0438 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u043b\u0438\u0441\u044f \u043f\u043e\u0441\u043b\u0443\u0433\u0430\u043c\u0438 \u043a\u043e\u043c\u0435\u0440\u0446\u0456\u0439\u043d\u043e\u0433\u043e \u043f\u043e\u0441\u0442\u0430\u0447\u0430\u043b\u044c\u043d\u0438\u043a\u0430. \u0414\u0438\u0432\u0456\u0442\u044c\u0441\u044f \u041d\u0430\u0441\u0442\u0430\u043d\u043e\u0432\u0438 OSM \u043f\u0440\u043e \u0437\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f \u0430\u0432\u0442\u043e\u0440\u0441\u0442\u0432\u0430.</p> </li> <li> <p>\u0420\u043e\u0437\u043f\u043e\u0432\u0441\u044e\u0434\u0436\u0443\u0432\u0430\u0442\u0438 \u043f\u043e\u0445\u0456\u0434\u043d\u0456 \u0434\u0430\u043d\u0456 \u043d\u0430 \u043f\u043e\u0434\u0456\u0431\u043d\u0438\u0445 \u0443\u043c\u043e\u0432\u0430\u0445 (Share-Alike). \u042f\u043a\u0449\u043e \u0432\u0438 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u0435 \u0431\u0443\u0434\u044c-\u044f\u043a\u0443 \u043c\u043e\u0434\u0438\u0444\u0456\u043a\u043e\u0432\u0430\u043d\u0443 \u0432\u0435\u0440\u0441\u0456\u044e \u0434\u0430\u043d\u0438\u0445 OpenStreetMap, \u0430\u0431\u043e \u043f\u0440\u0430\u0446\u044e\u0454\u0442\u0435 \u0437 \u043d\u0438\u043c\u0438, \u0432\u0438 \u0442\u0430\u043a\u043e\u0436 \u043f\u043e\u0432\u0438\u043d\u043d\u0456 \u043d\u0430\u0434\u0430\u0432\u0430\u0442\u0438 \u0446\u0456 \u0430\u0434\u0430\u043f\u0442\u043e\u0432\u0430\u043d\u0456 \u0434\u0430\u043d\u0456 \u043d\u0430 \u0443\u043c\u043e\u0432\u0430\u0445 ODbL.</p> </li> </ul>"},{"location":"uk/why-switch/","title":"\u041d\u0430\u0432\u0456\u0449\u043e \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0438\u0442\u0438?","text":""},{"location":"uk/why-switch/#\u041d\u0430\u0432\u0456\u0449\u043e-\u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0438\u0442\u0438","title":"\u041d\u0430\u0432\u0456\u0449\u043e \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0438\u0442\u0438?","text":""},{"location":"uk/why-switch/#OpenStreetMap-\u043d\u0435-\u0432\u0438\u043c\u0430\u0433\u0430\u0442\u0438\u043c\u0435-\u0433\u0440\u043e\u0448\u0435\u0439-\u0432\u0456\u0434-\u0432\u0430\u0441","title":"OpenStreetMap \u043d\u0435 \u0432\u0438\u043c\u0430\u0433\u0430\u0442\u0438\u043c\u0435 \u0433\u0440\u043e\u0448\u0435\u0439 \u0432\u0456\u0434 \u0432\u0430\u0441","text":"<p>OpenStreetMap\u00a0\u2013 \u0446\u0435 \u0432\u0456\u0434\u043a\u0440\u0438\u0442\u0456 \u0434\u0430\u043d\u0456. \u041c\u0438 \u043d\u0435 \u0432\u0438\u043c\u0430\u0433\u0430\u0442\u0438\u043c\u0435\u043c\u043e \u043f\u043b\u0430\u0442\u0438 \u0437\u0430 \u043d\u0438\u0445\u00a0\u2013 \u043d\u0456\u043a\u043e\u043b\u0438. \u0423\u043c\u043e\u0432\u0438 \u043d\u0430\u0448\u043e\u0457 \u043b\u0456\u0446\u0435\u043d\u0437\u0456\u0457 \u0433\u043e\u0432\u043e\u0440\u044f\u0442\u044c, \u0449\u043e \u0432\u0438 \u0437\u0430\u0432\u0436\u0434\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0441\u043a\u043e\u043f\u0456\u044e\u0432\u0430\u0442\u0438 \u043d\u0430\u0448\u0456 \u0434\u0430\u043d\u0456 \u0431\u0435\u0437\u043a\u043e\u0448\u0442\u043e\u0432\u043d\u043e. \u0426\u0456 \u0434\u0430\u043d\u0456 \u043f\u0435\u0440\u0435\u0442\u0432\u043e\u0440\u044e\u044e\u0442\u044c\u0441\u044f \u0432 \u201c\u0442\u0430\u0439\u043b\u0438 \u043c\u0430\u043f\u0438\u201d, \u044f\u043a\u0456 \u0432\u0438 \u043f\u043e\u043a\u0430\u0437\u0443\u0454\u0442\u0435 \u043d\u0430 \u0432\u0430\u0448\u043e\u043c\u0443 \u0441\u0430\u0439\u0442\u0456. \u0412\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0437\u0440\u043e\u0431\u0438\u0442\u0438 \u0457\u0445 \u0441\u0430\u043c\u0456, \u0430\u0431\u043e \u0437\u043d\u0430\u0439\u0442\u0438 \u0456\u043d\u0448\u0438\u0445, \u0445\u0442\u043e \u0446\u0435 \u0437\u0440\u043e\u0431\u0438\u0442\u044c \u0434\u043b\u044f \u0432\u0430\u0441: \u0456\u043d\u043e\u0434\u0456 \u0437\u0430 \u043f\u0435\u0432\u043d\u0443 \u043f\u043b\u0430\u0442\u0443, \u0456\u043d\u043e\u0434\u0456\u00a0\u2013 \u0431\u0435\u0437. \u0410\u043b\u0435 OpenStreetMap \u043d\u0456\u043a\u043e\u043b\u0438 \u043d\u0435 \u0432\u0438\u043c\u0430\u0433\u0430\u0442\u0438\u043c\u0435 \u043f\u043b\u0430\u0442\u0438 \u0432\u0456\u0434 \u0432\u0430\u0441 \u0437\u0430 \u0441\u0432\u043e\u0457 \u0434\u0430\u043d\u0456.</p>"},{"location":"uk/why-switch/#\u0420\u043e\u0431\u0456\u0442\u044c-\u043c\u0430\u043f\u0438-\u044f\u043a\u0456-\u043f\u043e\u0442\u0440\u0456\u0431\u043d\u0456-\u0432\u0430\u043c","title":"\u0420\u043e\u0431\u0456\u0442\u044c \u043c\u0430\u043f\u0438, \u044f\u043a\u0456 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u0456 \u0432\u0430\u043c","text":"<p>\u042f\u043a\u0449\u043e \u0432\u0438 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0454\u0442\u0435\u0441\u044c \u043c\u0430\u043f\u0430\u043c\u0438 \u0432\u0456\u0434 \u0456\u043d\u0448\u0438\u0445 \u043f\u043e\u0441\u0442\u0430\u0447\u0430\u043b\u044c\u043d\u0438\u043a\u0456\u0432 \u043c\u0430\u043f, \u0432\u043e\u043d\u0438 \u0432\u0438\u0433\u043b\u044f\u0434\u0430\u0442\u0438\u043c\u0443\u0442\u044c \u0442\u0430\u043a, \u044f\u043a \u0446\u044c\u043e\u0433\u043e \u0445\u043e\u0447\u0435 \u0441\u0430\u043c \u043f\u043e\u0441\u0442\u0430\u0447\u0430\u043b\u044c\u043d\u0438\u043a. \u0417\u0432\u0456\u0441\u043d\u043e, \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0437\u0440\u043e\u0431\u0438\u0442\u0438 \u044f\u043a\u0443\u0441\u044c \u043d\u0435\u0437\u043d\u0430\u0447\u043d\u0443 \u043f\u0456\u0434\u0433\u043e\u043d\u043a\u0443 \u043a\u043e\u043b\u044c\u043e\u0440\u0456\u0432, \u0430\u043b\u0435 \u0446\u0435 \u0432\u0441\u0435 \u043e\u0434\u043d\u043e \u0431\u0443\u0434\u0435 \u043c\u0430\u043f\u0430 \u0443 \u0441\u0442\u0438\u043b\u0456 \u043f\u043e\u0441\u0442\u0430\u0447\u0430\u043b\u044c\u043d\u0438\u043a\u0430, \u043d\u0435 \u0432\u0430\u0448\u043e\u043c\u0443.</p> <p>\u0423 \u0432\u0438\u043f\u0430\u0434\u043a\u0443 OpenStreetMap, \u0432\u0441\u0435 \u0443 \u0432\u0430\u0448\u0438\u0445 \u0440\u0443\u043a\u0430\u0445. \u041f\u0435\u0440\u0435\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u0434\u0430\u043d\u0438\u0445 \u043d\u0430 \u0442\u0430\u0439\u043b\u0438 \u043c\u0430\u043f\u0438 \u0432\u0456\u0434\u0431\u0443\u0432\u0430\u0454\u0442\u044c\u0441\u044f \u0443 \u0441\u043f\u043e\u0441\u0456\u0431 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u0438\u0439 \u0441\u0430\u043c\u0435 \u0432\u0430\u043c. \u0411\u0430\u0436\u0430\u0454\u0442\u0435 \u0437\u0440\u043e\u0431\u0438\u0442\u0438 \u043d\u0430\u0433\u043e\u043b\u043e\u0441 \u043d\u0430 \u0432\u0435\u043b\u043e\u043c\u0430\u0440\u0448\u0440\u0443\u0442\u0430\u0445 \u0442\u0430 \u0437\u0440\u043e\u0431\u0438\u0442\u0438 \u0430\u0432\u0442\u043e\u0434\u043e\u0440\u043e\u0433\u0438 \u043c\u0435\u043d\u0448 \u043f\u043e\u043c\u0456\u0442\u043d\u0438\u043c\u0438?\u00a0\u2013 \u041d\u0435 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430. (\u0411\u0456\u043b\u044c\u0448\u0456\u0441\u0442\u044c \u0456\u043d\u0448\u0438\u0445 \u043c\u0430\u043f \u043d\u0430\u0432\u0456\u0442\u044c \u043d\u0435 \u043c\u0430\u044e\u0442\u044c \u0432\u0435\u043b\u043e\u043c\u0430\u0440\u0448\u0440\u0443\u0442\u0456\u0432). \u0411\u0430\u0436\u0430\u0454\u0442\u0435 \u043f\u043e\u043a\u0430\u0437\u0430\u0442\u0438 \u0437\u0443\u043f\u0438\u043d\u043a\u0438 \u043c\u0435\u0442\u0440\u043e, \u0430\u043b\u0435 \u043d\u0435 \u043f\u043e\u043a\u0430\u0437\u0443\u0432\u0430\u0442\u0438 \u0430\u0432\u0442\u043e\u0431\u0443\u0441\u043d\u0456 \u0437\u0443\u043f\u0438\u043d\u043a\u0438?\u00a0\u2013 \u041b\u0435\u0433\u043a\u043e!</p>"},{"location":"uk/why-switch/#\u041d\u0430\u0441\u0438\u0447\u0435\u043d\u0456-\u0442\u043e\u0447\u043d\u0456-\u0430\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u0456-\u0434\u0430\u043d\u0456-\u0434\u043b\u044f-\u043c\u0430\u043f","title":"\u041d\u0430\u0441\u0438\u0447\u0435\u043d\u0456, \u0442\u043e\u0447\u043d\u0456, \u0430\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u0456 \u0434\u0430\u043d\u0456 \u0434\u043b\u044f \u043c\u0430\u043f","text":"<p>\u0411\u0456\u043b\u044c\u0448\u0456\u0441\u0442\u044c \u043a\u043e\u043c\u0435\u0440\u0446\u0456\u0439\u043d\u0438\u0445 \u043f\u043e\u0441\u0442\u0430\u0447\u0430\u043b\u044c\u043d\u0438\u043a\u0456\u0432 \u043d\u0430\u0434\u0430\u044e\u0442\u044c \u0442\u0456\u043b\u044c\u043a\u0438 \u043c\u0430\u043f\u0438 \u0432\u0443\u043b\u0438\u0446\u044c. OpenStreetMap, \u0445\u043e\u0447\u0430 \u0439 \u043c\u0456\u0441\u0442\u0438\u0442\u044c \u201cstreet\u201d \u0443 \u0441\u0432\u043e\u0457\u0439 \u043d\u0430\u0437\u0432\u0456, \u043f\u0440\u043e\u043f\u043e\u043d\u0443\u0454 \u043d\u0430\u0431\u0430\u0433\u0430\u0442\u043e \u0431\u0456\u043b\u044c\u0448\u0435. \u041f\u0440\u0438\u0440\u043e\u0434\u043d\u0456 \u043e\u0431\u02bc\u0454\u043a\u0442\u0438, \u0430\u0432\u0442\u043e\u0431\u0443\u0441\u043d\u0456 \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u0438, \u0442\u0440\u043e\u0442\u0443\u0430\u0440\u0438 \u0442\u0430 \u0432\u0435\u043b\u043e\u0434\u043e\u0440\u0456\u0436\u043a\u0438, \u0430\u0434\u043c\u0456\u043d\u0456\u0441\u0442\u0440\u0430\u0442\u0438\u0432\u043d\u0456 \u043a\u043e\u0440\u0434\u043e\u043d\u0438, \u043c\u0430\u0433\u0430\u0437\u0438\u043d\u0438, \u0440\u0456\u043a\u0438 \u0442\u0430 \u043a\u0430\u043d\u0430\u043b\u0438\u2026 \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u0440\u043e\u0434\u043e\u0432\u0436\u0438\u0442\u0438 \u0441\u0430\u043c\u0456.</p> <p>\u042f\u043a\u0449\u043e \u0432\u0430\u043c \u043f\u043e\u0449\u0430\u0441\u0442\u0438\u0442\u044c, \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u043e\u0442\u0440\u0438\u043c\u0430\u0442\u0438 \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u043c\u0430\u043f \u0432\u0456\u0434 \u043a\u043e\u043c\u0435\u0440\u0446\u0456\u0439\u043d\u0438\u0445 \u043f\u043e\u0441\u0442\u0430\u0447\u0430\u043b\u044c\u043d\u0438\u043a\u0456\u0432 \u0440\u0430\u0437 \u043d\u0430 \u043c\u0456\u0441\u044f\u0446\u044c. \u041d\u043e\u0432\u0456 \u0434\u043e\u0440\u043e\u0433\u0438 \u0442\u0430 \u0431\u0443\u0434\u0456\u0432\u043b\u0456 \u043c\u043e\u0436\u0443\u0442\u044c \u0431\u0443\u0442\u0438 \u0432\u0456\u0434\u0441\u0443\u0442\u043d\u0456 \u0432 \u0457\u0445 \u043d\u0430\u0431\u043e\u0440\u0430\u0445 \u0434\u0430\u043d\u0438\u0445 \u0449\u0435 \u0434\u043e\u0432\u0433\u0438\u0439 \u043f\u0440\u043e\u043c\u0456\u0436\u043e\u043a \u0447\u0430\u0441\u0443 \u043f\u0456\u0441\u043b\u044f \u0442\u043e\u0433\u043e, \u044f\u043a \u0432\u043e\u043d\u0438 \u0437\u02bc\u044f\u0432\u0438\u043b\u0438\u0441\u044c. \u0414\u0430\u043d\u0456 OpenStreetMap \u043e\u043d\u043e\u0432\u043b\u044e\u044e\u0442\u044c\u0441\u044f \u0446\u0456\u043b\u043e\u0434\u043e\u0431\u043e\u0432\u043e, \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u043e\u0442\u0440\u0438\u043c\u0443\u0432\u0430\u0442\u0438 \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u043a\u043e\u0436\u043d\u043e\u0433\u043e \u0434\u043d\u044f, \u043a\u043e\u0436\u043d\u043e\u0457 \u0433\u043e\u0434\u0438\u043d\u0438 \u0442\u0430, \u043d\u0430\u0432\u0456\u0442\u044c, \u0437\u0430 \u043f\u043e\u0442\u0440\u0435\u0431\u0438, \u043a\u043e\u0436\u043d\u043e\u0457 \u0445\u0432\u0438\u043b\u0438\u043d\u0438.</p> <p>\u0412\u0441\u044c\u043e\u043c\u0443 \u0446\u044c\u043e\u043c\u0443 \u0441\u043f\u0440\u0438\u044f\u044e\u0442\u044c \u043d\u0430\u0448\u0456 \u0434\u043e\u0431\u0440\u043e\u0432\u043e\u043b\u044c\u0446\u0456 (\u043f\u043e\u043d\u0430\u0434 1 000 000 \u0437\u0430\u0440\u0435\u0454\u0441\u0442\u0440\u043e\u0432\u0430\u043d\u0438\u0445 \u043d\u0430 \u0446\u0435\u0439 \u0447\u0430\u0441 \u0443\u0447\u0430\u0441\u043d\u0438\u043a\u0456\u0432, \u0446\u044f \u0446\u0438\u0444\u0440\u0430 \u0437\u0440\u043e\u0441\u0442\u0430\u0454 \u0437 \u043a\u043e\u0436\u043d\u0438\u043c \u0434\u043d\u0435\u043c)\u00a0\u2013 \u043b\u044e\u0434\u0438, \u044f\u043a\u0456 \u0434\u043e\u0431\u0440\u0435 \u0437\u043d\u0430\u044e\u0442\u044c \u0441\u0432\u043e\u044e \u0442\u0435\u0440\u0438\u0442\u043e\u0440\u0456\u044e. \u041e\u0441\u044c \u0447\u043e\u043c\u0443 \u043d\u043e\u0432\u043e\u0431\u0443\u0434\u043e\u0432\u0438 \u0437\u02bc\u044f\u0432\u043b\u044f\u044e\u0442\u044c\u0441\u044f \u0432 OpenStreetMap \u0440\u0430\u043d\u0456\u0448\u0435 \u0437\u0430 \u0434\u0430\u043d\u0456 \u043a\u043e\u043c\u0435\u0440\u0446\u0456\u0439\u043d\u0438\u0445 \u043f\u043e\u0441\u0442\u0430\u0447\u0430\u043b\u044c\u043d\u0438\u043a\u0456\u0432.</p>"},{"location":"uk/why-switch/#\u0412\u0441\u0435-\u043f\u0440\u043e\u0441\u0442\u0456\u0448\u0435-\u043d\u0456\u0436-\u0432\u0438-\u0434\u0443\u043c\u0430\u0454\u0442\u0435","title":"\u0412\u0441\u0435 \u043f\u0440\u043e\u0441\u0442\u0456\u0448\u0435, \u043d\u0456\u0436 \u0432\u0438 \u0434\u0443\u043c\u0430\u0454\u0442\u0435","text":"<p>\u041d\u0435 \u0456\u0441\u043d\u0443\u0454 \u043e\u0431\u043c\u0435\u0436\u0435\u043d\u044c \u0442\u043e\u0433\u043e, \u0449\u043e \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0440\u043e\u0431\u0438\u0442\u0438 \u0437 OpenStreetMap. \u041d\u0430\u0432\u0456\u0442\u044c, \u044f\u043a\u0449\u043e \u0446\u0435 \u0432\u0438\u043c\u0430\u0433\u0430\u0442\u0438\u043c\u0435 \u0434\u043e\u0432\u0448\u043e\u0457 \u043f\u0456\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0438. \u0412\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f OpenStreetMap \u0437\u0430 \u0433\u043e\u0434\u0438\u043d\u0443 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u044e\u0447\u0438 Leaflet \u0442\u0430 \u043f\u043e\u0441\u0442\u0430\u0447\u0430\u043b\u044c\u043d\u0438\u043a\u0456\u0432 \u0431\u0435\u0437\u043a\u043e\u0448\u0442\u043e\u0432\u043d\u0438\u0445 \u0442\u0430\u0439\u043b\u0456\u0432. \u041e\u0437\u043d\u0430\u0439\u043e\u043c\u0442\u0435\u0441\u044c \u0437 \u0440\u0435\u0448\u0442\u043e\u044e \u043c\u0430\u0442\u0435\u0440\u0456\u0430\u043b\u0443 \u0437 \u043d\u0430\u0448\u043e\u0433\u043e \u0441\u0430\u0439\u0442\u0443 \u0434\u043b\u044f \u0442\u043e\u0433\u043e, \u0449\u043e\u0431 \u0440\u043e\u0437\u043f\u043e\u0447\u0430\u0442\u0438 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0432\u0441\u0456 \u043c\u043e\u0436\u043b\u0438\u0432\u043e\u0441\u0442\u0456.</p>"},{"location":"uk/serving-tiles/","title":"\u0420\u043e\u0431\u0438\u043c\u043e \u0432\u043b\u0430\u0441\u043d\u0456 \u0442\u0430\u0439\u043b\u0438","text":""},{"location":"uk/serving-tiles/#\u0420\u043e\u0431\u0438\u043c\u043e-\u0432\u043b\u0430\u0441\u043d\u0456-\u0442\u0430\u0439\u043b\u0438","title":"\u0420\u043e\u0431\u0438\u043c\u043e \u0432\u043b\u0430\u0441\u043d\u0456 \u0442\u0430\u0439\u043b\u0438","text":"<p>\u0422\u0430\u0439\u043b\u0438 \u0432\u0456\u0434 \u0441\u0442\u043e\u0440\u043e\u043d\u043d\u0456\u0445 \u043f\u043e\u0441\u0442\u0430\u0447\u0430\u043b\u044c\u043d\u0438\u043a\u0456\u0432\u00a0\u2013 \u0446\u0435 \u043d\u0430\u0439\u043f\u0440\u043e\u0441\u0442\u0456\u0448\u0438\u0439 \u0441\u043f\u043e\u0441\u0456\u0431 \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0443 \u043d\u0430 OpenStreetMap, \u0434\u043e \u0442\u043e\u0433\u043e \u0436 \u0432\u0456\u043d \u0434\u043e\u0437\u0432\u043e\u043b\u044f\u0454 \u0442\u043e\u0447\u043d\u043e \u0432\u0438\u043c\u0456\u0440\u044f\u0442\u0438 \u0432\u0430\u0448\u0456 \u0432\u0438\u0442\u0440\u0430\u0442\u0438. \u041e\u0434\u043d\u0430\u043a, \u044f\u043a\u0449\u043e \u0432\u0438 \u0431\u0430\u0436\u0430\u0454\u0442\u0435 \u043c\u0430\u0442\u0438 \u043f\u043e\u0432\u043d\u0438\u0439 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c \u043d\u0430\u0434 \u0434\u043e\u043b\u0435\u044e, \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0441\u0442\u0432\u043e\u0440\u044e\u0432\u0430\u0442\u0438 \u0442\u0430 \u0440\u043e\u0437\u043f\u043e\u0432\u0441\u044e\u0434\u0436\u0443\u0432\u0430\u0442\u0438 \u0432\u0430\u0448\u0456 \u0432\u043b\u0430\u0441\u043d\u0456 \u0442\u0430\u0439\u043b\u0438. \u0412 \u0446\u044c\u043e\u043c\u0443 \u0440\u043e\u0437\u0434\u0456\u043b\u0456 \u0439\u0434\u0435\u0442\u044c\u0441\u044f \u043f\u0440\u043e \u0442\u0435, \u044f\u043a \u0446\u0435 \u0437\u0440\u043e\u0431\u0438\u0442\u0438.</p>  \u0421\u0438\u0440\u0446\u0435\u0432\u0456 \u0434\u0430\u043d\u0456 OpenStreetMap  \u0412\u0430\u0448 \u0432\u043b\u0430\u0441\u043d\u0438\u0439 \u0442\u0430\u0439\u043b\u043e\u0432\u0438\u0439 \u0441\u0435\u0440\u0432\u0435\u0440  \u0412\u0456\u0434\u0432\u0456\u0434\u0443\u0432\u0430\u0447\u0456 \u043f\u0435\u0440\u0435\u0433\u043b\u044f\u0434\u0430\u044e\u0442\u044c \u043c\u0430\u043f\u0443 \u043d\u0430 \u0432\u0430\u0448\u043e\u043c\u0443 \u0432\u0435\u0431\u0441\u0430\u0439\u0442\u0456"},{"location":"uk/serving-tiles/#\u0412\u0438-\u0442\u043e\u0447\u043d\u043e-\u0446\u044c\u043e\u0433\u043e-\u0431\u0430\u0436\u0430\u0454\u0442\u0435","title":"\u0412\u0438 \u0442\u043e\u0447\u043d\u043e \u0446\u044c\u043e\u0433\u043e \u0431\u0430\u0436\u0430\u0454\u0442\u0435?","text":"<p>\u0406 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0456\u044f \u0442\u0430\u0439\u043b\u0456\u0432, \u0456 \u0457\u0445 \u0440\u043e\u0437\u043f\u043e\u0432\u0441\u044e\u0434\u0436\u0435\u043d\u043d\u044f \u0432\u0438\u043c\u0430\u0433\u0430\u044e\u0442\u044c \u043d\u0430\u044f\u0432\u043d\u043e\u0441\u0442\u0456 \u0434\u043e\u0432\u043e\u043b\u0456 \u043f\u043e\u0442\u0443\u0436\u043d\u043e\u0433\u043e \u043e\u0431\u043b\u0430\u0434\u043d\u0430\u043d\u043d\u044f, \u043e\u0441\u043e\u0431\u043b\u0438\u0432\u043e, \u044f\u043a\u0449\u043e \u0432\u0430\u043c \u0442\u0440\u0435\u0431\u0430 \u043c\u0430\u0442\u0438 \u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u0435 \u043f\u043e\u043a\u0440\u0438\u0442\u0442\u044f \u0442\u0430 \u0440\u0435\u0433\u0443\u043b\u044f\u0440\u043d\u0456 \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f.</p> <p>\u0414\u043b\u044f \u0440\u043e\u0437\u0433\u043e\u0440\u0442\u0430\u043d\u043d\u044f \u0432\u043b\u0430\u0441\u043d\u043e\u0433\u043e \u0442\u0430\u0439\u043b\u043e\u0432\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u043c\u0438 \u0440\u0430\u0434\u0438\u043c\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 Ubuntu Linux \u0430\u0431\u043e Debian.</p>"},{"location":"uk/serving-tiles/#\u0412\u0430\u0440\u0456\u0430\u043d\u0442\u0438","title":"\u0412\u0430\u0440\u0456\u0430\u043d\u0442\u0438","text":"<ol> <li> <p>\u0412\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u043d\u0430 Debian 13, Debian 12, Debian 11, Ubuntu 24.04, Ubuntu 22.04, Ubuntu 20.04 \u0430\u0431\u043e \u043d\u0430 Ubuntu 18.04.</p> </li> <li> <p>\u0412\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f docker.</p> </li> </ol>"},{"location":"uk/serving-tiles/#\u0421\u0438\u0441\u0442\u0435\u043c\u043d\u0456-\u0432\u0438\u043c\u043e\u0433\u0438","title":"\u0421\u0438\u0441\u0442\u0435\u043c\u043d\u0456 \u0432\u0438\u043c\u043e\u0433\u0438","text":"<p>\u041e\u0431\u0441\u043b\u0443\u0433\u043e\u0432\u0443\u0432\u0430\u043d\u043d\u044f \u0432\u043b\u0430\u0441\u043d\u0438\u0445 \u043c\u0430\u043f \u0446\u0435 \u0434\u043e\u0432\u043e\u043b\u0456 \u0432\u0438\u0442\u0440\u0430\u0442\u043d\u0435 \u0437\u0430\u0432\u0434\u0430\u043d\u043d\u044f. \u0412 \u0437\u0430\u043b\u0435\u0436\u043d\u043e\u0441\u0442\u0456 \u0432\u0456\u0434 \u0440\u043e\u0437\u043c\u0456\u0440\u0443 \u0442\u0435\u0440\u0438\u0442\u043e\u0440\u0456\u0457, \u044f\u043a\u0430 \u0432\u0430\u043c \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u0430 \u0442\u0430 \u043e\u0447\u0456\u043a\u0443\u0432\u0430\u043d\u043e\u0457 \u043a\u0456\u043b\u044c\u043a\u043e\u0441\u0442\u0456 \u0442\u0440\u0430\u0444\u0456\u043a\u0443, \u0432\u0438\u043c\u043e\u0433\u0438 \u0434\u043e \u043e\u0431\u043b\u0430\u0434\u043d\u0430\u043d\u043d\u044f \u043c\u043e\u0436\u0443\u0442\u044c \u0437\u043c\u0456\u043d\u044e\u0432\u0430\u0442\u0438\u0441\u044c \u0432 \u0448\u0438\u0440\u043e\u043a\u043e\u043c\u0443 \u0434\u0456\u0430\u043f\u0430\u0437\u043e\u043d\u0456. \u041f\u0435\u0440\u0435\u0432\u0430\u0436\u043d\u043e, \u0432\u0438\u043c\u0430\u0433\u0430\u0442\u0438\u043c\u0435\u0442\u044c\u0441\u044f \u043d\u0430\u044f\u0432\u043d\u0456\u0441\u0442\u044c \u0441\u0445\u043e\u0432\u0438\u0449\u0430 \u043d\u0430 10-20\u00a0\u0413\u0411, 4\u00a0\u0413\u0411 \u043e\u043f\u0435\u0440\u0430\u0442\u0438\u0432\u043d\u043e\u0457 \u043f\u0430\u043c\u02bc\u044f\u0442\u0456, \u0430 \u0442\u0430\u043a\u043e\u0436 \u0441\u0443\u0447\u0430\u0441\u043d\u043e\u0433\u043e \u0434\u0432\u043e\u044f\u0434\u0435\u0440\u043d\u043e\u0433\u043e \u043f\u0440\u043e\u0446\u0435\u0441\u043e\u0440\u0430 \u0434\u043b\u044f \u0440\u043e\u0431\u043e\u0442\u0438 \u0437 \u043c\u0430\u043f\u043e\u044e \u0441\u0435\u0440\u0435\u0434\u043d\u044c\u043e\u0433\u043e \u043c\u0456\u0441\u0442\u0430, \u0430\u0431\u043e \u0431\u0456\u043b\u044c\u0448\u0435 \u043d\u0456\u0436 1 \u0422\u0411 \u0434\u043b\u044f \u0441\u0445\u043e\u0432\u0438\u0449\u0430, 24+ \u0413\u0411 \u043e\u043f\u0435\u0440\u0430\u0442\u0438\u0432\u043d\u043e\u0457 \u043f\u0430\u043c\u02bc\u044f\u0442\u0456 \u0442\u0430 \u043d\u0435 \u043c\u0435\u043d\u0448 \u043d\u0456\u0436 \u0447\u043e\u0442\u0438\u0440\u0438\u044f\u0434\u0435\u0440\u043d\u0438\u0439 \u043f\u0440\u043e\u0446\u0435\u0441\u043e\u0440 \u0434\u043b\u044f \u0432\u0441\u0456\u0454\u0457 \u043f\u043b\u0430\u043d\u0435\u0442\u0438.</p> <p>\u041c\u0438 \u0440\u0430\u0434\u0438\u043c\u043e \u0432\u0430\u043c \u0440\u043e\u0437\u043f\u043e\u0447\u0430\u0442\u0438 \u0440\u043e\u0431\u043e\u0442\u0443 \u0437 \u043d\u0435\u0432\u0435\u043b\u0438\u0447\u043a\u0438\u0445 \u0447\u0430\u0441\u0442\u0438\u043d \u0434\u0430\u043d\u0438\u0445 OpenStreetMap\u00a0\u2013 \u0437 \u043c\u0456\u0441\u0442\u0430, \u0440\u0430\u0439\u043e\u043d\u0443 \u0447\u0438 \u043e\u0431\u043b\u0430\u0441\u0442\u0456. \u0426\u0435 \u043a\u0440\u0430\u0449\u0435 \u043d\u0456\u0436 \u0432\u0438\u0442\u0440\u0430\u0442\u0438\u0442\u0438 \u0442\u0438\u0436\u0434\u0435\u043d\u044c \u043d\u0430 \u0456\u043c\u043f\u043e\u0440\u0442 \u0432\u0441\u044c\u043e\u0433\u043e \u0441\u0432\u0456\u0442\u0443 (planet.osm) \u0456 \u043f\u043e\u0442\u0456\u043c \u043f\u043e\u0447\u0430\u0442\u0438 \u0432\u0441\u0435 \u043d\u0430\u043d\u043e\u0432\u043e \u043f\u0456\u0441\u043b\u044f \u0432\u0438\u044f\u0432\u043b\u0435\u043d\u043d\u044f \u043f\u043e\u043c\u0438\u043b\u043a\u0438 \u0432 \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f\u0445! \u0412\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u0434\u0430\u043d\u0456 \u0447\u0430\u0441\u0442\u0438\u043d\u0430\u043c\u0438 \u0437:</p> <ul> <li>Geofabrik (\u043a\u0440\u0430\u0457\u043d\u0438 \u0442\u0430 \u0440\u0435\u0433\u0456\u043e\u043d\u0438)</li> <li>Protomaps Extracts (\u0449\u043e\u0445\u0432\u0438\u043b\u0438\u043d\u043d\u0456 \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u043c\u0456\u0441\u0442 \u0442\u0430 \u043d\u0435\u0432\u0435\u043b\u0438\u0447\u043a\u0438\u0445 \u043a\u0440\u0430\u0457\u043d)</li> <li>download.openstreetmap.fr</li> </ul>"},{"location":"uk/serving-tiles/#\u0406\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u0430\u0440\u0456\u0439","title":"\u0406\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u0430\u0440\u0456\u0439","text":"<p>\u041c\u0438 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u043c\u043e \u0440\u0456\u0437\u043d\u0456 \u0456\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u0438 \u0434\u043b\u044f \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u0442\u0430 \u043e\u0431\u0441\u043b\u0443\u0433\u043e\u0432\u0443\u0432\u0430\u043d\u043d\u044f \u0442\u0430\u0439\u043b\u0456\u0432.</p> <p>Apache\u00a0\u2013 \u0441\u0435\u0440\u0432\u0435\u0440, \u044f\u043a\u0438\u0439 \u043e\u0431\u0441\u043b\u0443\u0433\u043e\u0432\u0443\u0454 \u0437\u0432\u0435\u0440\u043d\u0435\u043d\u043d\u044f \u0432\u0456\u0434 \u0432\u0430\u0448\u0438\u0445 \u0432\u0435\u0431\u043e\u0433\u043b\u044f\u0434\u0430\u0447\u0456\u0432 \u0442\u0430 \u043f\u0435\u0440\u0435\u0434\u0430\u0454 \u0457\u0445 \u0441\u0435\u0440\u0432\u0456\u0441\u0443 mod_tile. \u041a\u0440\u0456\u043c \u0446\u044c\u043e\u0433\u043e \u0432\u0435\u0431\u0441\u0435\u0440\u0432\u0435\u0440 Apache \u043c\u043e\u0436\u0435 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438\u0441\u044c \u0434\u043b\u044f \u043e\u0431\u0441\u043b\u0443\u0433\u043e\u0432\u0443\u0432\u0430\u043d\u043d\u044f \u0441\u0442\u0430\u0442\u0438\u0447\u043d\u043e\u0433\u043e \u0432\u0435\u0431\u043a\u043e\u043d\u0442\u0435\u043d\u0442\u0443, \u0442\u0430\u043a\u043e\u0433\u043e \u044f\u043a HTML, JavaScript \u0442\u0430 CSS \u0434\u043b\u044f \u0432\u0430\u0448\u043e\u0457 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0438 \u0437 \u043c\u0430\u043f\u043e\u044e.</p> <p>\u041f\u0456\u0441\u043b\u044f \u043d\u0430\u0434\u0445\u043e\u0434\u0436\u0435\u043d\u043d\u044f \u0432\u0456\u0434 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430 \u0437\u0430\u043f\u0438\u0442\u0443 Apache \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u044f\u0454 \u0437\u0430\u043f\u0438\u0442 \u0434\u043e mod_tile \u0434\u043b\u044f \u043f\u043e\u0434\u0430\u043b\u044c\u0448\u043e\u0457 \u043e\u0431\u0440\u043e\u0431\u043a\u0438. Mod_tile \u043f\u0435\u0440\u0435\u0432\u0456\u0440\u044f\u0454, \u0447\u0438 \u0442\u0430\u0439\u043b \u0432\u0436\u0435 \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043e \u0456 \u0432\u0456\u043d \u0433\u043e\u0442\u043e\u0432\u0438\u0439 \u0434\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f \u0430\u0431\u043e \u0432\u0456\u043d \u0432\u0438\u043c\u0430\u0433\u0430\u0454 \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u0447\u0435\u0440\u0435\u0437 \u0439\u043e\u0433\u043e \u0432\u0456\u0434\u0441\u0443\u0442\u043d\u0456\u0441\u0442\u044c \u0432 \u043a\u0435\u0448\u0456. \u042f\u043a\u0449\u043e \u0442\u0430\u0439\u043b \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0438\u0439 \u0456 \u043d\u0435 \u043f\u043e\u0442\u0440\u0435\u0431\u0443\u0454 \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f, \u0432\u0456\u043d \u043d\u0435\u0433\u0430\u0439\u043d\u043e \u043d\u0430\u0434\u0441\u0438\u043b\u0430\u0454\u0442\u044c\u0441\u044f \u043a\u043b\u0456\u0454\u043d\u0442\u0443. \u0423 \u0432\u0438\u043f\u0430\u0434\u043a\u0443 \u043f\u043e\u0442\u0440\u0435\u0431\u0438 \u0443 \u0439\u043e\u0433\u043e \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u0456, \u0442\u0430\u0439\u043b \u0434\u043e\u0434\u0430\u0454\u0442\u044c\u0441\u044f \u0432 \u201c\u0447\u0435\u0440\u0433\u0443 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0456\u0457\u201d, \u0456 \u043a\u043e\u043b\u0438 \u043d\u0430\u0441\u0442\u0430\u0454 \u0439\u043e\u0433\u043e \u0447\u0435\u0440\u0433\u0430, \u043f\u0440\u043e\u0446\u0435\u0441 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0456\u0457 \u0442\u0430\u0439\u043b\u0456\u0432 (\u0440\u0435\u043d\u0434\u0435\u0440) \u0441\u0442\u0432\u043e\u0440\u044e\u0454 \u0439\u043e\u0433\u043e \u0442\u0430 \u043d\u0430\u0434\u0441\u0438\u043b\u0430\u0454 \u043a\u043b\u0456\u0454\u043d\u0442\u0443.</p> <p>\u0414\u043b\u044f \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u0442\u0430\u0439\u043b\u0456\u0432 \u043c\u0438 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u043c\u043e \u0456\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442 \u0437 \u043d\u0430\u0437\u0432\u043e\u044e Mapnik. \u0412\u0456\u043d \u0431\u0435\u0440\u0435 \u0437\u0430\u043f\u0438\u0442\u0438 \u0437 \u0447\u0435\u0440\u0433\u0438, \u044f\u043a \u0442\u0456\u043b\u044c\u043a\u0438 \u0432\u043e\u043d\u0438 \u0442\u0430\u043c \u0437\u02bc\u044f\u0432\u043b\u044f\u044e\u0442\u044c\u0441\u044f, \u0432\u0438\u0442\u044f\u0433\u0443\u0454 \u0434\u0430\u043d\u0456 \u0456\u0437 \u0440\u0456\u0437\u043d\u043e\u043c\u0430\u043d\u0456\u0442\u043d\u0438\u0445 \u0434\u0436\u0435\u0440\u0435\u043b, \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u043d\u043e \u0434\u043e \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u0457 \u043f\u0440\u043e \u0441\u0442\u0438\u043b\u044c, \u0442\u0430 \u0433\u0435\u043d\u0435\u0440\u0443\u0454 \u0442\u0430\u0439\u043b\u0438. \u0422\u0430\u0439\u043b \u043d\u0430\u0434\u0441\u0438\u043b\u0430\u0454\u0442\u044c\u0441\u044f \u0434\u043e \u043a\u043b\u0456\u0454\u043d\u0442\u0430, \u0430 Mapnik \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0438\u0442\u044c \u0434\u043e \u043d\u0430\u0441\u0442\u0443\u043f\u043d\u043e\u0433\u043e \u0435\u043b\u0435\u043c\u0435\u043d\u0442\u0430 \u0432 \u0447\u0435\u0440\u0437\u0456.</p> <p>\u0414\u043b\u044f \u043f\u043e\u0442\u0440\u0435\u0431 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0456\u0457 \u0442\u0430\u0439\u043b\u0456\u0432, \u0434\u0430\u043d\u0456 OpenStreetMap \u0437\u0431\u0435\u0440\u0456\u0433\u0430\u044e\u0442\u044c\u0441\u044f \u0432 \u0431\u0430\u0437\u0456 \u0434\u0430\u043d\u0438\u0445, \u044f\u043a\u0430 \u043e\u0431\u0441\u043b\u0443\u0433\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c \u0431\u0430\u0437 \u0434\u0430\u043d\u0438\u0445 PostgreSQL. \u0414\u043b\u044f \u043f\u0435\u0440\u0435\u043c\u0456\u0449\u0435\u043d\u043d\u044f \u0434\u0430\u043d\u0438\u0445 \u0432 \u0431\u0430\u0437\u0443 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f osm2pgsql. \u0426\u0456 \u0434\u0432\u0430 \u0456\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u0438 \u043f\u0440\u0430\u0446\u044e\u044e\u0442\u044c \u0440\u0430\u0437\u043e\u043c \u0449\u043e\u0431 \u0432 \u0435\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u0438\u0439 \u0441\u043f\u043e\u0441\u0456\u0431 \u043e\u0442\u0440\u0438\u043c\u0443\u0432\u0430\u0442\u0438 \u0433\u0435\u043e\u043f\u0440\u043e\u0441\u0442\u043e\u0440\u043e\u0432\u0456 \u0434\u0430\u043d\u0456 OpenStreetMap. \u0412\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u0456\u0434\u0442\u0440\u0438\u043c\u0443\u0432\u0430\u0442\u0438 \u0430\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u0456\u0441\u0442\u044c \u0432\u0430\u0448\u043e\u0457 \u0431\u0430\u0437\u0438 \u0434\u0430\u043d\u0438\u0445 PostgreSQL \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u044e\u0447\u0438\u0441\u044c \u043f\u043e\u0442\u043e\u043a\u043e\u043c diff-\u0444\u0430\u0439\u043b\u0456\u0432, \u044f\u043a\u0456 \u0441\u0442\u0432\u043e\u0440\u044e\u044e\u0442\u044c\u0441\u044f \u043a\u043e\u0436\u043d\u0456 60 \u0441\u0435\u043a\u0443\u043d\u0434 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0456 OpenStreetMap.</p>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-debian-11/","title":"\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u0442\u0430\u0439\u043b\u043e\u0432\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0432\u0440\u0443\u0447\u043d\u0443 (Debian 11)","text":""},{"location":"uk/serving-tiles/manually-building-a-tile-server-debian-11/#\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f-\u0442\u0430\u0439\u043b\u043e\u0432\u043e\u0433\u043e-\u0441\u0435\u0440\u0432\u0435\u0440\u0430-\u0432\u0440\u0443\u0447\u043d\u0443-Debian-11","title":"\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u0442\u0430\u0439\u043b\u043e\u0432\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0432\u0440\u0443\u0447\u043d\u0443 (Debian 11)","text":"<p>\u041d\u0430 \u0446\u0456\u0439 \u0441\u0442\u043e\u0440\u0456\u043d\u0446\u0456 \u043c\u0456\u0441\u0442\u0438\u0442\u044c\u0441\u044f \u043e\u043f\u0438\u0441 \u0437\u0456 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f, \u0440\u043e\u0437\u0433\u043e\u0440\u0442\u0430\u043d\u043d\u044f \u0442\u0430 \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f \u0432\u0441\u044c\u043e\u0433\u043e \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e\u0433\u043e \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043d\u043e\u0433\u043e \u0437\u0430\u0431\u0435\u0437\u043f\u0435\u0447\u0435\u043d\u043d\u044f \u0434\u043b\u044f \u0440\u043e\u0431\u043e\u0442\u0438 \u0432\u0430\u0448\u043e\u0433\u043e \u0442\u0430\u0439\u043b\u043e\u0432\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430. \u041f\u043e\u043a\u0440\u043e\u043a\u043e\u0432\u0456 \u0456\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0456\u0457 \u043e\u043f\u0438\u0441\u0443\u044e\u0442\u044c \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u0442\u0430\u0439\u043b\u043e\u0432\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u043d\u0430 Debian Linux 11 (bullseye), \u0432\u043e\u043d\u0438 \u0431\u0443\u043b\u0438 \u043f\u0435\u0440\u0435\u0432\u0456\u0440\u0435\u043d\u0456 \u0443 \u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434\u0456 2020.</p>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-debian-11/#\u0412\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f-\u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043d\u043e\u0433\u043e-\u0437\u0430\u0431\u0435\u0437\u043f\u0435\u0447\u0435\u043d\u043d\u044f","title":"\u0412\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043d\u043e\u0433\u043e \u0437\u0430\u0431\u0435\u0437\u043f\u0435\u0447\u0435\u043d\u043d\u044f","text":"<p>\u0422\u0430\u0439\u043b\u043e\u0432\u0438\u0439 \u0441\u0435\u0440\u0432\u0435\u0440 OpenStreetMap\u00a0\u2013 \u0446\u0435 \u043d\u0430\u0431\u0456\u0440 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043d\u043e\u0433\u043e \u0437\u0430\u0431\u0435\u0437\u043f\u0435\u0447\u0435\u043d\u043d\u044f \u0442\u0430 \u0431\u0456\u0431\u043b\u0456\u043e\u0442\u0435\u043a, \u044f\u043a\u0456 \u043f\u0440\u0430\u0446\u044e\u044e\u0442\u044c \u0440\u0430\u0437\u043e\u043c \u0433\u0435\u043d\u0435\u0440\u0443\u044e\u0447\u0438 \u0442\u0430\u0439\u043b\u0438. \u042f\u043a \u0446\u0435 \u0442\u0440\u0430\u043f\u043b\u044f\u0454\u0442\u044c\u0441\u044f \u0434\u043e\u0432\u043e\u043b\u0456 \u0447\u0430\u0441\u0442\u043e \u0432 OpenStreetMap, \u0456\u0441\u043d\u0443\u0454 \u043a\u0456\u043b\u044c\u043a\u0430 \u0440\u0456\u0437\u043d\u0438\u0445 \u0448\u043b\u044f\u0445\u0456\u0432 \u0434\u043b\u044f \u0434\u043e\u0441\u044f\u0433\u043d\u0435\u043d\u043d\u044f \u043c\u0435\u0442\u0438 \u0442\u0430 \u043c\u0430\u0439\u0436\u0435 \u043a\u043e\u0436\u0435\u043d \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442 \u043c\u0430\u0454 \u0430\u043b\u044c\u0442\u0435\u0440\u043d\u0430\u0442\u0438\u0432\u0443, \u0437 \u0432\u043b\u0430\u0441\u043d\u0438\u043c\u0438 \u043d\u0435\u0434\u043e\u043b\u0456\u043a\u0430\u043c\u0438 \u0442\u0430 \u043f\u0435\u0440\u0435\u0432\u0430\u0433\u0430\u043c\u0438. \u0426\u0435\u0439 \u043f\u043e\u0441\u0456\u0431\u043d\u0438\u043a \u043e\u043f\u0438\u0441\u0443\u0454 \u043d\u0430\u0439\u0431\u0456\u043b\u044c\u0448 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u0443 \u0432\u0435\u0440\u0441\u0456\u044e, \u0449\u043e \u0441\u0445\u043e\u0436\u0430 \u043d\u0430 \u0442\u0435, \u0449\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f \u0433\u043e\u043b\u043e\u0432\u043d\u0438\u043c \u0442\u0430\u0439\u043b\u043e\u0432\u0438\u043c \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c OpenStreetMap.</p> <p>\u0422\u0430\u0439\u043b\u043e\u0432\u0438\u0439 \u0441\u0435\u0440\u0432\u0435\u0440 \u0441\u043a\u043b\u0430\u0434\u0430\u0454\u0442\u044c\u0441\u044f \u0437 \u043f\u02bc\u044f\u0442\u0438 \u0433\u043e\u043b\u043e\u0432\u043d\u0438\u0445 \u0447\u0430\u0441\u0442\u0438\u043d: <code>mod_tile</code>, <code>renderd</code>, <code>mapnik</code>, <code>osm2pgsql</code> \u0442\u0430 \u0431\u0430\u0437\u0430 \u0434\u0430\u043d\u0438\u0445 <code>postgresql/postgis</code>. Mod_tile\u00a0\u2013 \u043c\u043e\u0434\u0443\u043b\u044c \u0441\u0435\u0440\u0432\u0435\u0440\u0430 Apache, \u044f\u043a\u0438\u0439 \u043e\u0431\u0441\u043b\u0443\u0433\u043e\u0432\u0443\u0454 \u0442\u0430\u0439\u043b\u043e\u0432\u0438\u0439 \u043a\u0435\u0448 \u0442\u0430 \u0432\u0438\u0437\u043d\u0430\u0447\u0430\u0454 \u044f\u043a\u0456 \u0442\u0430\u0439\u043b\u0438 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u043f\u0435\u0440\u0435\u0433\u0435\u043d\u0435\u0440\u0443\u0432\u0430\u0442\u0438, \u0447\u0435\u0440\u0435\u0437 \u0457\u0445 \u0432\u0456\u0434\u0441\u0443\u0442\u043d\u0456\u0441\u0442\u044c \u0443 \u043a\u0435\u0448\u0456 \u0430\u0431\u043e \u0442\u043e\u043c\u0443, \u0449\u043e \u0432\u043e\u043d\u0438 \u0437\u0430\u0441\u0442\u0430\u0440\u0456\u043b\u0438. Renderd \u0432\u0438\u0437\u043d\u0430\u0447\u0430\u0454 \u043f\u0440\u0456\u043e\u0440\u0438\u0442\u0435\u0442\u0438 \u0432 \u0447\u0435\u0440\u0433\u0430\u0445 \u0440\u0456\u0437\u043d\u043e\u0433\u043e \u0448\u0442\u0438\u0431\u0443 \u0437\u0430\u043f\u0438\u0442\u0456\u0432 \u0434\u043b\u044f \u0437\u0433\u043b\u0430\u0434\u0436\u0443\u0432\u0430\u043d\u043d\u044f \u043d\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f. Mapnik\u00a0\u2013 \u0431\u0456\u0431\u043b\u0456\u043e\u0442\u0435\u043a\u0430, \u044f\u043a\u0430 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u0430\u0454 \u0431\u0435\u0437\u043f\u043e\u0441\u0435\u0440\u0435\u0434\u043d\u044c\u043e \u0437\u0430 \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u0442\u0430\u0439\u043b\u0456\u0432 \u0437 \u0447\u0435\u0440\u0433\u0438, \u044f\u043a\u043e\u044e \u043a\u0435\u0440\u0443\u0454 <code>renderd</code>.</p> <p>\u0417\u0430\u0432\u0434\u044f\u043a\u0438 \u0440\u043e\u0431\u043e\u0442\u0456, \u0432\u0438\u043a\u043e\u043d\u0430\u043d\u0456\u0439 \u0441\u0443\u043f\u0440\u043e\u0432\u043e\u0434\u0436\u0443\u0432\u0430\u0447\u0430\u043c\u0438 Debian, \u043f\u043e \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u043d\u044e \u043e\u0441\u0442\u0430\u043d\u043d\u0456\u0445 \u0432\u0435\u0440\u0441\u0456\u0439 \u0446\u0438\u0445 \u043f\u0430\u043a\u0443\u043d\u043a\u0456\u0432 \u0443 Debian 11, \u0446\u044f \u0456\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0456\u044f \u0454 \u0434\u0435\u0449\u043e \u043a\u043e\u0440\u043e\u0442\u0448\u043e\u044e, \u043d\u0456\u0436 \u0457\u0457 \u043f\u043e\u043f\u0435\u0440\u0435\u0434\u043d\u0456 \u0432\u0435\u0440\u0441\u0456\u0457.</p> <p>\u0417\u0430\u0443\u0432\u0430\u0436\u0442\u0435, \u0449\u043e \u0446\u0435 \u043a\u0435\u0440\u0456\u0432\u043d\u0438\u0446\u0442\u0432\u043e \u0431\u0443\u043b\u043e \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u0435 \u0442\u0430 \u043f\u0440\u043e\u0442\u0435\u0441\u0442\u043e\u0432\u0430\u043d\u0435 \u0437 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f\u043c \u043d\u043e\u0432\u043e\u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0437 \u043e\u043f\u0435\u0440\u0430\u0446\u0456\u0439\u043d\u043e\u044e \u0441\u0438\u0441\u0442\u0435\u043c\u043e\u044e Debian 11. \u042f\u043a\u0449\u043e \u0443 \u0432\u0430\u0441 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0456 \u0456\u043d\u0448\u0456 \u0432\u0435\u0440\u0441\u0456\u0457 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043d\u043e\u0433\u043e \u0437\u0430\u0431\u0435\u0437\u043f\u0435\u0447\u0435\u043d\u043d\u044f (\u043c\u043e\u0436\u043b\u0438\u0432\u043e \u0432\u0438 \u043e\u043d\u043e\u0432\u0438\u043b\u0438\u0441\u044c \u0437 \u043f\u043e\u043f\u0435\u0440\u0435\u0434\u043d\u044c\u043e\u0457 \u0432\u0435\u0440\u0441\u0456\u0457, \u0430\u0431\u043e \u0443 \u0432\u0430\u0441 \u043f\u0456\u0434\u02bc\u0454\u0434\u043d\u0430\u043d\u0456 \u0456\u043d\u0448\u0456 \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0456\u0457 PPA), \u043c\u043e\u0436\u043b\u0438\u0432\u043e \u0432\u0430\u043c \u0434\u043e\u0432\u0435\u0434\u0435\u0442\u044c\u0441\u044f \u0432\u043d\u0435\u0441\u0442\u0438 \u043f\u0435\u0432\u043d\u0456 \u0437\u043c\u0456\u043d\u0438.</p> <p>\u0414\u043b\u044f \u0442\u043e\u0433\u043e, \u0449\u043e\u0431 \u0441\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u0432\u0441\u0456 \u0446\u0456 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0438, \u0432\u0430\u043c \u0441\u043f\u043e\u0447\u0430\u0442\u043a\u0443 \u0442\u0440\u0435\u0431\u0430 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0438 \u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0456 \u0437\u0430\u043b\u0435\u0436\u043d\u043e\u0441\u0442\u0456.</p> <p>Debian \u0437 \u0442\u0438\u043f\u043e\u0432\u0438\u043c\u0438 \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f\u043c\u0438 \u043d\u0435 \u043c\u0456\u0441\u0442\u0438\u0442\u044c \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043e\u0457 \u0443\u0442\u0438\u043b\u0456\u0442\u0438 <code>sudo</code>, \u0442\u043e\u0436 \u043d\u0430\u043c \u0434\u043e\u0432\u0435\u0434\u0435\u0442\u044c\u0441\u044f \u0441\u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0442\u0438\u0441\u044c \u043f\u0440\u0430\u0432\u0430\u043c\u0438 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430 <code>root</code>, \u0449\u043e\u0431 \u0434\u043e\u0434\u0430\u0442\u0438 \u0457\u0457 \u0442\u0430 \u0456\u043d\u0448\u0456 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u0456 \u043d\u0430\u043c \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0438:</p> <pre><code>su -\napt install \\\n    sudo screen locate libapache2-mod-tile \\\n    renderd git tar unzip wget bzip2 apache2 \\\n    lua5.1 mapnik-utils python3-mapnik \\\n    python3-psycopg2 python3-yaml gdal-bin \\\n    npm fonts-noto-cjk fonts-noto-hinted \\\n    fonts-noto-unhinted ttf-unifont\n</code></pre> <p>\u041f\u0435\u0440\u0435\u0431\u0443\u0432\u0430\u044e\u0447\u0438 \u0432 \u043e\u0442\u043e\u0447\u0435\u043d\u0456 root \u043f\u0435\u0440\u0435\u0432\u0456\u0440\u0438\u043c\u043e, \u0447\u0438 \u043c\u0438 \u043c\u043e\u0436\u0435\u043c\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0443\u0442\u0438\u043b\u0456\u0442\u0443 <code>sudo</code> \u0432 \u043e\u0442\u043e\u0447\u0435\u043d\u0456 \u043d\u0430\u0448\u043e\u0433\u043e \u0437\u0432\u0438\u0447\u0430\u0439\u043d\u043e\u0433\u043e \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430. \u0417\u0430\u043c\u0456\u043d\u0456\u0442\u044c <code>youruseraccount</code> \u043d\u0430 \u0432\u0430\u0448 \u043e\u0431\u043b\u0456\u043a\u043e\u0432\u0438\u0439 \u0437\u0430\u043f\u0438\u0441 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0456. \u041d\u0435 \u043d\u0430\u043c\u0430\u0433\u0430\u0439\u0442\u0435\u0441\u044c \u0442\u0430 \u043d\u0435 \u0440\u043e\u0431\u0456\u0442\u044c \u0432\u0441\u0435 \u0432 \u043e\u0442\u043e\u0447\u0435\u043d\u0456 <code>root</code>; \u0441\u0438\u0441\u0442\u0435\u043c\u0430 \u043d\u0435 \u0431\u0443\u0434\u0435 \u043f\u0440\u0430\u0446\u044e\u0432\u0430\u0442\u0438.</p> <pre><code>usermod -aG sudo youruseraccount\nexit\n</code></pre> <p>\u041f\u043e\u0432\u0435\u0440\u043d\u0443\u0432\u0448\u0438\u0441\u044c \u0432 \u043e\u0442\u043e\u0447\u0435\u043d\u043d\u044f \u0437\u0432\u0438\u0447\u0430\u0439\u043d\u043e\u0433\u043e \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430 \u0432\u0438\u043a\u043e\u043d\u0430\u0439\u0442\u0435 \u0432\u0438\u0445\u0456\u0434 \u0442\u0430 \u0432\u0445\u0456\u0434 \u0434\u043e \u0432\u0430\u0448\u043e\u0433\u043e \u043e\u0442\u043e\u0447\u0435\u043d\u043d\u044f, \u043f\u0456\u0441\u043b\u044f \u0447\u043e\u0433\u043e \u043f\u0435\u0440\u0435\u0432\u0456\u0440\u0438\u0442\u0435 \u0440\u043e\u0431\u043e\u0442\u0443 \u0443\u0442\u0438\u043b\u0456\u0442\u0438 \"sudo\":</p> <pre><code>sudo whoami\n</code></pre> <p>\u0423 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u044c \u0432\u0438 \u043c\u0430\u0454\u0442\u0435 \u043e\u0442\u0440\u0438\u043c\u0430\u0442\u0438 <code>root</code>.</p> <p>\u041d\u0430 \u0446\u044c\u043e\u043c\u0443 \u0435\u0442\u0430\u043f\u0456 \u0431\u0443\u043b\u043e \u0434\u043e\u0434\u0430\u043d\u043e \u043a\u0456\u043b\u044c\u043a\u0430 \u043d\u043e\u0432\u0438\u0445 \u043e\u0431\u043b\u0456\u043a\u043e\u0432\u0438\u0445 \u0437\u0430\u043f\u0438\u0441\u0456\u0432. \u0412\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u043e\u0437\u043d\u0430\u0439\u043e\u043c\u0438\u0442\u0438\u0441\u044c \u0437 \u043d\u0438\u043c\u0438 \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e <code>tail /etc/passwd</code>. <code>postgres</code>\u00a0\u2013 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f \u0434\u043b\u044f \u043a\u0435\u0440\u0443\u0432\u0430\u043d\u043d\u044f \u0431\u0430\u0437\u0430\u043c\u0438 \u0434\u0430\u043d\u0438\u0445, \u044f\u043a\u0456 \u043c\u0438 \u0431\u0443\u0434\u0435\u043c\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0434\u043b\u044f \u0437\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u043d\u044f \u0434\u0430\u043d\u0438\u0445 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u0438\u0445 \u043d\u0430\u043c \u0434\u043b\u044f \u0440\u0435\u043d\u0434\u0435\u0440\u0456\u043d\u0433\u0443. <code>_renderd</code>\u00a0\u2013 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f \u0444\u043e\u043d\u043e\u0432\u043e\u044e \u0441\u043b\u0443\u0436\u0431\u043e\u044e <code>renderd</code>, \u0456 \u043d\u0430\u043c \u0434\u0430\u043b\u0456 \u0434\u043e\u0432\u0435\u0434\u0435\u0442\u044c\u0441\u044f \u043f\u0435\u0440\u0435\u043a\u043e\u043d\u0430\u0442\u0438\u0441\u044c, \u0449\u043e \u0431\u0456\u043b\u044c\u0448\u0456\u0441\u0442\u044c \u043a\u043e\u043c\u0430\u043d\u0434 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u044e\u0442\u044c\u0441\u044f \u0441\u0430\u043c\u0435 \u0446\u0438\u043c \u043e\u0431\u043b\u0456\u043a\u043e\u0432\u0438\u043c \u0437\u0430\u043f\u0438\u0441\u043e\u043c.</p> <p>\u0422\u0435\u043f\u0435\u0440 \u0432\u0430\u043c \u0442\u0440\u0435\u0431\u0430 \u0441\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u0431\u0430\u0437\u0443 \u0434\u0430\u043d\u0438\u0445 postgis. \u0422\u0438\u043f\u043e\u0432\u0456 \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f \u0440\u0456\u0437\u043d\u043e\u043c\u0430\u043d\u0456\u0442\u043d\u0438\u0445 \u043f\u0440\u043e\u0433\u0440\u0430\u043c \u043e\u0447\u0456\u043a\u0443\u044e\u0442\u044c \u0449\u043e \u0431\u0430\u0437\u0430 \u0434\u0430\u043d\u0438\u0445 \u043d\u0430\u0437\u0438\u0432\u0430\u0442\u0438\u043c\u0435\u0442\u044c\u0441\u044f <code>gis</code>, \u0442\u043e\u0436 \u043c\u0438 \u0431\u0443\u0434\u0435\u043c\u043e \u0434\u043e\u0442\u0440\u0438\u043c\u0443\u0432\u0430\u0442\u0438\u0441\u044c \u0446\u0456\u0454\u0457 \u0443\u0433\u043e\u0434\u0438 \u0432 \u0446\u0456\u043c \u043a\u0435\u0440\u0456\u0432\u043d\u0438\u0446\u0442\u0432\u0456, \u0445\u043e\u0447\u0430 \u0446\u0435 \u0439 \u043d\u0435 \u043e\u0431\u043e\u0432\u02bc\u044f\u0437\u043a\u043e\u0432\u043e. \u0417\u0432\u0435\u0440\u043d\u0456\u0442\u044c \u0443\u0432\u0430\u0433\u0443, \u0449\u043e <code>_renderd</code> \u043d\u0438\u0436\u0447\u0435 \u0437\u0431\u0456\u0433\u0430\u0454\u0442\u044c\u0441\u044f \u0437 \u0456\u043c\u0435\u043d\u0435\u043c \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430, \u044f\u043a\u0438\u0439 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f \u0434\u043b\u044f \u0444\u043e\u043d\u043e\u0432\u043e\u0457 \u0441\u043b\u0443\u0436\u0431\u0438 <code>renderd</code>.</p> <pre><code>sudo -u postgres -i\ncreateuser _renderd\ncreatedb -E UTF8 -O _renderd gis\n</code></pre> <p>\u041f\u043e\u043a\u0438 \u0432\u0438 \u043f\u0440\u0430\u0446\u044e\u0454\u0442\u0435 \u044f\u043a \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447 <code>postgres</code>, \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u0456\u0442\u044c PostGIS \u0432 \u0431\u0430\u0437\u0443 \u0434\u0430\u043d\u0438\u0445 PostgreSQL:</p> <pre><code>psql\n</code></pre> <p>(\u0446\u0435 \u043f\u0440\u0438\u0437\u0432\u0435\u0434\u0435 \u0434\u043e \u043f\u043e\u044f\u0432\u0438 <code>postgres=#</code> \u043d\u0430 \u043f\u043e\u0447\u0430\u0442\u043a\u0443 \u0440\u044f\u0434\u043a\u0430 \u043a\u043e\u043d\u0441\u043e\u043b\u0456)</p> <pre><code>\\c gis\n</code></pre> <p>(\u0443 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u044c \u0432\u0438 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0435: \"You are now connected to database 'gis' as user 'postgres'\"[\"\u0422\u0435\u043f\u0435\u0440 \u0432\u0438 \u043f\u0456\u0434\u02bc\u0454\u0434\u043d\u0430\u043d\u0456 \u0434\u043e \u0431\u0430\u0437\u0438 \u0434\u0430\u043d\u0438\u0445 'gis' \u044f\u043a \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447 'postgres'\"])</p> <pre><code>CREATE EXTENSION postgis;\n</code></pre> <p>(\u0443 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u044c \u0432\u0438 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0435: CREATE EXTENSION)</p> <pre><code>CREATE EXTENSION hstore;\n</code></pre> <p>(\u0443 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u044c \u0432\u0438 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0435: CREATE EXTENSION)</p> <pre><code>ALTER TABLE geometry_columns OWNER TO _renderd;\n</code></pre> <p>(\u0443 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u044c \u0432\u0438 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0435: ALTER TABLE)</p> <pre><code>ALTER TABLE spatial_ref_sys OWNER TO _renderd;\n</code></pre> <p>(\u0443 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u044c \u0432\u0438 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0435: ALTER TABLE)</p> <pre><code>\\q\n</code></pre> <p>(\u0446\u0435 \u043f\u0440\u0438\u0437\u0432\u0435\u0434\u0435 \u0434\u043e \u0432\u0438\u0445\u043e\u0434\u0443 \u0437 \u0441\u0435\u0441\u0456\u0457 psql \u0442\u0430 \u043f\u043e\u0432\u0435\u0440\u043d\u0435\u043d\u043d\u044f \u043d\u0430\u0437\u0430\u0434 \u0443 \u043a\u043e\u043d\u0441\u043e\u043b\u044c Linux)</p> <pre><code>exit\n</code></pre> <p>(\u043f\u043e\u0432\u0435\u0440\u043d\u0435\u043d\u043d\u044f \u043d\u0430\u0437\u0430\u0434 \u0434\u043e \u0441\u0435\u0441\u0456\u0457 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430, \u0432 \u044f\u043a\u0456\u0439 \u043c\u0438 \u0437\u043d\u0430\u0445\u043e\u0434\u0438\u043b\u0438\u0441\u044c \u0434\u043e \u0432\u0438\u043a\u043e\u043d\u0430\u043d\u043d\u044f \u043a\u043e\u043c\u0430\u043d\u0434\u0438 <code>sudo -u postgres -i</code> \u0432\u0438\u0449\u0435)</p>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-debian-11/#Mapnik","title":"Mapnik","text":"<p>Mapnik \u043c\u0438 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u043b\u0438 \u0440\u0430\u043d\u0456\u0448\u0435, \u0440\u0430\u0437\u043e\u043c \u0456\u0437 \"sudo\", \u043f\u0435\u0440\u0435\u0432\u0456\u0440\u0438\u043c\u043e \u0447\u0438 \u0432\u0456\u043d \u043f\u0440\u0430\u0446\u044e\u0454:</p> <pre><code>python3\n&gt;&gt;&gt; import mapnik\n&gt;&gt;&gt;\n</code></pre> <p>\u042f\u043a\u0449\u043e python \u0443 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u044c \u0432\u0438\u0434\u0430\u0454 \u0442\u0456\u043b\u044c\u043a\u0438 <code>&gt;&gt;&gt;</code> \u0431\u0435\u0437 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f \u043f\u0440\u043e \u043f\u043e\u043c\u0438\u043b\u043a\u0438, \u0437\u043d\u0430\u0447\u0438\u0442\u044c \u0431\u0456\u0431\u043b\u0456\u043e\u0442\u0435\u043a\u0430 Mapnik \u0454 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e\u044e \u0432 Python. \u0412\u0456\u0442\u0430\u0454\u043c\u043e! \u0414\u043b\u044f \u0432\u0438\u0445\u043e\u0434\u0443 \u0456\u0437 \u0441\u0435\u0441\u0456\u0457 Python \u0441\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u0439\u0442\u0435\u0441\u044c \u043d\u0430\u0441\u0442\u0443\u043f\u043d\u043e\u044e \u043a\u043e\u043c\u0430\u043d\u0434\u043e\u044e:</p> <pre><code>&gt;&gt;&gt; quit()\n</code></pre>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-debian-11/#\u041d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f-\u0441\u0442\u0438\u043b\u0456\u0432","title":"\u041d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f \u0441\u0442\u0438\u043b\u0456\u0432","text":"<p>\u0422\u0435\u043f\u0435\u0440, \u043f\u0456\u0441\u043b\u044f \u0442\u043e\u0433\u043e, \u044f\u043a \u0432\u0441\u0435 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u0435 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043d\u0435 \u0437\u0430\u0431\u0435\u0437\u043f\u0435\u0447\u0435\u043d\u043d\u044f \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0435, \u0432\u0430\u043c \u0442\u0440\u0435\u0431\u0430 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u0442\u0430 \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u0442\u0438 \u0441\u0442\u0438\u043b\u0456.</p> <p>\u0421\u0442\u0438\u043b\u044c, \u044f\u043a\u0438\u0439 \u043c\u0438 \u0431\u0443\u0434\u0435\u043c\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438,\u00a0\u2013 \u0446\u0435 \u0441\u0442\u0438\u043b\u044c \u044f\u043a\u0438\u0439 \u0437\u0430\u0441\u0442\u043e\u0441\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f \u0434\u043b\u044f \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \"\u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u043e\u0433\u043e\" \u0448\u0430\u0440\u0443 \u043d\u0430 \u0441\u0430\u0439\u0442\u0456 openstreetmap.org. \u041c\u0438 \u043e\u0431\u0440\u0430\u043b\u0438 \u0439\u043e\u0433\u043e \u0447\u0435\u0440\u0435\u0437 \u0433\u0430\u0440\u043d\u0443 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0456\u044e \u0456 \u0442\u0435, \u0449\u043e \u0432\u0456\u043d \u0437\u0434\u0430\u0442\u0435\u043d \u043f\u0440\u0430\u0446\u044e\u0432\u0430\u0442\u0438 \u0434\u043b\u044f \u0431\u0443\u0434\u044c-\u044f\u043a\u043e\u0457 \u0447\u0430\u0441\u0442\u0438\u043d\u0438 \u0441\u0432\u0456\u0442\u0443, \u043d\u0430\u0432\u0456\u0442\u044c \u0442\u0430\u043c \u0434\u0435 \u043d\u0435 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f \u043b\u0430\u0442\u0438\u043d\u043a\u0430. \u0410\u043b\u0435 \u0443 \u043d\u044c\u043e\u0433\u043e \u0454 \u0439 \u043f\u0435\u0432\u043d\u0456 \u043d\u0435\u0434\u043e\u043b\u0456\u043a\u0438\u00a0\u2013 \u0446\u0435 \u043a\u043e\u043c\u043f\u0440\u043e\u043c\u0456\u0441\u043d\u0456 \u0440\u0456\u0448\u0435\u043d\u043d\u044f \u0434\u043b\u044f \u0442\u043e\u0433\u043e, \u0449\u043e\u0431 \u043f\u0440\u0430\u0446\u044e\u0432\u0430\u0442\u0438 \u0432 \u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u0438\u0445 \u043c\u0430\u0441\u0448\u0442\u0430\u0431\u0430\u0445, \u0432\u0456\u043d \u0434\u0443\u0436\u0435 \u0441\u043a\u043b\u0430\u0434\u043d\u0438\u0439 \u0434\u043b\u044f \u0440\u043e\u0437\u0443\u043c\u0456\u043d\u043d\u044f \u0442\u0430 \u0432\u043d\u0435\u0441\u0435\u043d\u043d\u044f \u0437\u043c\u0456\u043d, \u044f\u043a\u0449\u043e \u0432\u0430\u043c \u0434\u043e\u0432\u0435\u0434\u0435\u0442\u044c\u0441\u044f \u0457\u0445 \u0432\u043d\u043e\u0441\u0438\u0442\u0438.</p> <p>\u041a\u043e\u0434 \u0441\u0442\u0438\u043b\u044e \"OpenStreetMap Carto\" \u0437 \u0432\u0435\u0431\u0441\u0430\u0439\u0442\u0443 openstreetmap.org \u0437\u043d\u0430\u0445\u043e\u0434\u0438\u0442\u044c\u0441\u044f \u043d\u0430 GitHub\u00a0\u2013 https://github.com/gravitystorm/openstreetmap-carto/ \u0442\u0430 \u0442\u0430\u043a\u043e\u0436 \u043c\u0430\u0454 \u0432\u043b\u0430\u0441\u043d\u0456 \u0456\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0456\u0457 \u0437\u0456 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f\u00a0\u2013 https://github.com/gravitystorm/openstreetmap-carto/blob/master/INSTALL.md. \u041f\u0440\u043e \u0442\u0435, \u0449\u043e \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0437\u0440\u043e\u0431\u0438\u0442\u0438, \u043c\u0438 \u0440\u043e\u0437\u043f\u043e\u0432\u0456\u043c\u043e \u0442\u0443\u0442.</p> <p>\u041f\u0435\u0440\u0435\u0434\u0431\u0430\u0447\u0430\u0454\u0442\u044c\u0441\u044f \u0449\u043e \u043c\u0438 \u0440\u043e\u0437\u043c\u0456\u0449\u0443\u0454\u043c\u043e \u0441\u0442\u0438\u043b\u044c \u0432 \u0442\u0435\u0446\u0456 <code>~/src</code> \u0434\u043e\u043c\u0430\u0448\u043d\u044c\u043e\u0457 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0456\u0457 \u0437\u0432\u0438\u0447\u0430\u0439\u043d\u043e\u0433\u043e \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430 (\u043d\u0435 root):</p> <pre><code>mkdir ~/src\ncd ~/src\ngit clone https://github.com/gravitystorm/openstreetmap-carto\ncd openstreetmap-carto\ngit pull --all\ngit switch --detach v5.9.0\n</code></pre> <p>\"git switch\" \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0432\u0438\u043a\u043e\u043d\u0430\u0442\u0438 \u0442\u043e\u043c\u0443, \u0449\u043e \u0446\u0435 \u043e\u0441\u0442\u0430\u043d\u043d\u044f \u0432\u0435\u0440\u0441\u0456\u044f, \u044f\u043a\u0443 \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0438 \u043d\u0430 OpenStreetMap, \u0430\u043b\u0435 OSM Carto \u043f\u0435\u0440\u0435\u0431\u0443\u0432\u0430\u0454 \u0443 \u043f\u0440\u043e\u0446\u0435\u0441\u0456 \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0443 \u043d\u0430 \u0456\u043d\u0448\u0438\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u0431\u0430\u0437\u0438 \u0434\u0430\u043d\u0438\u0445. \u0414\u0438\u0432\u0456\u0442\u044c\u0441\u044f [INSTALL.md] (https://github.com/gravitystorm/openstreetmap-carto/blob/master/INSTALL.md) \u0434\u043b\u044f \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u044f \u043d\u043e\u0432\u043e\u0457 \u0432\u0435\u0440\u0441\u0456\u0457 OSM Carto.</p> <p>\u0414\u0430\u043b\u0456, \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u043c\u043e \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u0443 \u0432\u0435\u0440\u0441\u0456\u044e \u043a\u043e\u043c\u043f\u0456\u043b\u044f\u0442\u043e\u0440\u0430 <code>carto</code>.</p> <pre><code>sudo npm install -g carto\ncarto -v\n</code></pre> <p>\u0423 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u044c \u043c\u0438 \u043c\u0430\u0454\u043c\u043e \u043e\u0442\u0440\u0438\u043c\u0430\u0442\u0438 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044e \u043f\u0440\u043e \u043d\u043e\u043c\u0435\u0440 \u0432\u0435\u0440\u0441\u0456\u0457, \u044f\u043a\u0430 \u043c\u0430\u0454 \u0431\u0443\u0442\u0438 \u043d\u0435 \u043c\u0435\u043d\u0448\u0435 \u043d\u0456\u0436:</p> <pre><code>1.2.0\n</code></pre> <p>\u041f\u0456\u0441\u043b\u044f \u0446\u044c\u043e\u0433\u043e \u043c\u0438 \u043f\u0435\u0440\u0435\u0442\u0432\u043e\u0440\u0438\u043c\u043e \u043f\u0440\u043e\u0454\u043a\u0442 carto \u0443 \u0437\u0440\u043e\u0437\u0443\u043c\u0456\u043b\u0438\u0439 \u0434\u043b\u044f Mapnik \u0432\u0438\u0433\u043b\u044f\u0434:</p> <pre><code>carto project.mml &gt; mapnik.xml\n</code></pre> <p>\u0422\u0435\u043f\u0435\u0440 \u0443 \u043d\u0430\u0441 \u0454 \u0441\u0442\u0438\u043b\u044c Mapnik XML\u00a0\u2013 <code>/home/youraccountname/src/openstreetmap-carto/mapnik.xml</code>.</p>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-debian-11/#\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f-\u0434\u0430\u043d\u0438\u0445","title":"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u0434\u0430\u043d\u0438\u0445","text":"<p>\u0414\u043b\u044f \u043f\u043e\u0447\u0430\u0442\u043a\u0443, \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u043c\u043e \u043d\u0435\u0432\u0435\u043b\u0438\u0447\u043a\u0443 \u0447\u0430\u0441\u0442\u0438\u043d\u0443 \u0442\u0435\u0441\u0442\u043e\u0432\u0438\u0445 \u0434\u0430\u043d\u0438\u0445. \u0421\u0435\u0440\u0435\u0434 \u0440\u0456\u0437\u043d\u043e\u043c\u0430\u0457\u0442\u0442\u044f \u043c\u0456\u0441\u0446\u044c \u0434\u043b\u044f \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u044f \u0434\u0430\u043d\u0438\u0445, \u043e\u0431\u0435\u0440\u0435\u043c\u043e <code>download.geofabrik.de</code>, \u0449\u043e \u043c\u0456\u0441\u0442\u0438\u0442\u044c \u0432\u0435\u043b\u0438\u043a\u0438\u0439 \u043f\u0435\u0440\u0435\u043b\u0456\u043a \u0440\u0456\u0437\u043d\u0438\u0445 \u0432\u0430\u0440\u0456\u0430\u043d\u0442\u0456\u0432 \u0434\u043b\u044f \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f. \u0412\u0456\u0437\u044c\u043c\u0456\u043c\u043e \u0434\u043b\u044f \u043f\u0440\u0438\u043a\u043b\u0430\u0434\u0443 \u0410\u0437\u0435\u0440\u0431\u0430\u0439\u0434\u0436\u0430\u043d (~32.4 \u041c\u0431).</p> <p>\u041f\u0435\u0440\u0435\u0439\u0434\u0456\u0442\u044c \u0437\u0430 \u043f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f\u043c https://download.geofabrik.de/asia/azerbaijan.html \u0442\u0430 \u0437\u0432\u0435\u0440\u043d\u0456\u0442\u044c \u0443\u0432\u0430\u0433\u0443 \u043d\u0430 \u0434\u0430\u0442\u0443 \"This file was last modified\" (\u0449\u043e\u0441\u044c \u0441\u0445\u043e\u0436\u0435 \u043d\u0430 \"2020-11-13T21:42:03Z\"). \u0412\u043e\u043d\u0430 \u043d\u0430\u043c \u0437\u043d\u0430\u0434\u043e\u0431\u0438\u0442\u044c\u0441\u044f \u043f\u043e\u0442\u0456\u043c, \u043a\u043e\u043b\u0438 \u0443 \u043d\u0430\u0441 \u0432\u0438\u043d\u0438\u043a\u043d\u0435 \u043f\u043e\u0442\u0440\u0435\u0431\u0430 \u043e\u043d\u043e\u0432\u0438\u0442\u0438 \u043d\u0430\u0448\u0456 \u0434\u0430\u043d\u0456 \u0434\u0430\u043d\u0438\u043c\u0438, \u044f\u043a\u0456 \u0443\u0447\u0430\u0441\u043d\u0438\u043a\u0438 OpenStreetMap \u0434\u043e\u0434\u0430\u043b\u0438 \u0437 \u043c\u043e\u043c\u0435\u043d\u0442\u0443 \u043d\u0430\u0448\u043e\u0433\u043e \u0456\u043c\u043f\u043e\u0440\u0442\u0443. \u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u043c\u043e \u0434\u0430\u043d\u0456:</p> <pre><code>mkdir ~/data\ncd ~/data\nwget https://download.geofabrik.de/asia/azerbaijan-latest.osm.pbf\n</code></pre> <p>\u041d\u0430\u0441\u0442\u0443\u043f\u043d\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0436\u0435 \u0432\u0430\u043c \u043f\u0435\u0440\u0435\u043d\u0435\u0441\u0442\u0438 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u0456 \u0434\u0430\u043d\u0456 \u0434\u043e \u0432\u0430\u0448\u043e\u0457 \u0431\u0430\u0437\u0438 \u0434\u0430\u043d\u0438\u0445. \u041d\u0430 \u0446\u044c\u043e\u043c\u0443 \u0435\u0442\u0430\u043f\u0456 \u0437\u0440\u043e\u0441\u0442\u0435 \u043d\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u043d\u0430 \u0434\u0438\u0441\u043a\u043e\u0432\u0456 \u043e\u043f\u0435\u0440\u0430\u0446\u0456\u0457 \u0447\u0435\u0440\u0435\u0437 \u043f\u043e\u0442\u0440\u0435\u0431\u0443 \u043f\u0435\u0440\u0435\u043d\u0435\u0441\u0435\u043d\u043d\u044f \u0437\u043d\u0430\u0447\u043d\u043e\u0433\u043e \u043e\u0431\u0441\u044f\u0433\u0443 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u0457; \u0456\u043c\u043f\u043e\u0440\u0442 \u0432\u0441\u0456\u0454\u0457 \u043f\u043b\u0430\u043d\u0435\u0442\u0438 \u043c\u043e\u0436\u0435 \u0442\u0440\u0438\u0432\u0430\u0442\u0438 \u043a\u0456\u043b\u044c\u043a\u0430 \u0433\u043e\u0434\u0438\u043d, \u0434\u043d\u0456\u0432 \u0442\u0430 \u043d\u0430\u0432\u0456\u0442\u044c \u0442\u0438\u0436\u043d\u0456\u0432, \u0432 \u0437\u0430\u043b\u0435\u0436\u043d\u043e\u0441\u0442\u0456 \u0432\u0456\u0434 \u043f\u043e\u0442\u0443\u0436\u043d\u043e\u0441\u0442\u0435\u0439 \u0432\u0430\u0448\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u043d\u043e\u0433\u043e \u043e\u0431\u043b\u0430\u0434\u043d\u0430\u043d\u043d\u044f. \u0417\u0440\u043e\u0437\u0443\u043c\u0456\u043b\u043e, \u0449\u043e \u0434\u043b\u044f \u043d\u0435\u0432\u0435\u043b\u0438\u043a\u0438\u0445 \u0447\u0430\u0441\u0442\u0438\u043d \u0434\u0430\u043d\u0438\u0445 \u0456\u043c\u043f\u043e\u0440\u0442 \u0432\u0456\u0434\u0431\u0443\u0432\u0430\u0454\u0442\u044c\u0441\u044f \u0437\u043d\u0430\u0447\u043d\u043e \u0448\u0432\u0438\u0434\u0448\u0435, \u043c\u043e\u0436\u043b\u0438\u0432\u043e \u0432\u0430\u043c \u0434\u043e\u0432\u0435\u0434\u0435\u0442\u044c\u0441\u044f \u043f\u043e\u0435\u043a\u0441\u043f\u0435\u0440\u0438\u043c\u0435\u043d\u0442\u0443\u0432\u0430\u0442\u0438 \u0437\u0456 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f\u043c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430 <code>-C</code>, \u0449\u043e\u0431 \u0432\u043a\u043b\u0430\u0441\u0442\u0438\u0441\u044c \u0443 \u043d\u0430\u044f\u0432\u043d\u0443 \u043e\u043f\u0435\u0440\u0430\u0442\u0438\u0432\u043d\u0443 \u043f\u0430\u043c\u02bc\u044f\u0442\u044c \u0432\u0430\u0448\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430. \u0417\u0432\u0435\u0440\u043d\u0456\u0442\u044c \u0443\u0432\u0430\u0433\u0443, \u0449\u043e \u043c\u0438 \u0440\u043e\u0431\u0438\u043c\u043e \u0446\u0435 \u0432 \u043e\u0442\u043e\u0447\u0435\u043d\u0456 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430 <code>_renderd</code>.</p> <pre><code>sudo -u _renderd osm2pgsql \\\n    -d gis --create --slim  -G --hstore \\\n    --tag-transform-script \\\n        ~/src/openstreetmap-carto/openstreetmap-carto.lua \\\n    -C 2500 --number-processes 1 \\\n    -S ~/src/openstreetmap-carto/openstreetmap-carto.style \\\n    ~/data/azerbaijan-latest.osm.pbf\n</code></pre> <p>\u0420\u043e\u0437\u0431\u0435\u0440\u0456\u043c\u043e\u0441\u044f \u0449\u043e \u043e\u0437\u043d\u0430\u0447\u0430\u044e\u0442\u044c \u0432\u0441\u0456 \u0446\u0456 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0438:</p> <code>-d gis</code> \u0411\u0430\u0437\u0430 \u0434\u0430\u043d\u0438\u0445, \u0437 \u044f\u043a\u043e\u044e \u043c\u0438 \u043f\u0440\u0430\u0446\u044e\u0454\u043c\u043e (\u0442\u0438\u043f\u043e\u0432\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f <code>gis</code>; \u0442\u0443\u0442 \u0442\u0440\u0435\u0431\u0430 \u0432\u043a\u0430\u0437\u0430\u0442\u0438 \u0457\u0457 \u044f\u0432\u043d\u043e). <code>--create</code> \u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u0434\u0430\u043d\u0456 \u0432 \u043f\u0443\u0441\u0442\u0443 \u0431\u0430\u0437\u0443 \u0434\u0430\u043d\u0438\u0445, \u0437\u0430\u043c\u0456\u0441\u0442\u044c \u0441\u043f\u0440\u043e\u0431 \u0434\u043e\u0434\u0430\u0442\u0438 \u0457\u0445 \u0434\u043e \u043d\u0430\u044f\u0432\u043d\u0438\u0445. <code>--slim</code> osm2pgsql \u043c\u043e\u0436\u0435 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0440\u0456\u0437\u043d\u043e\u043c\u0430\u043d\u0456\u0442\u043d\u0456 \u0441\u0445\u0435\u043c\u0438 \u0442\u0430\u0431\u043b\u0438\u0446\u044c; <code>slim</code> \u0433\u043e\u0434\u0438\u0442\u044c\u0441\u044f \u0434\u043b\u044f \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0456\u0457 \u0442\u0430\u0439\u043b\u0456\u0432. <code>-G</code> \u0412\u0438\u0437\u043d\u0430\u0447\u0430\u0454, \u044f\u043a\u0438\u043c \u0447\u0438\u043d\u043e\u043c \u0431\u0443\u0434\u0443\u0442\u044c \u043e\u0431\u0440\u043e\u0431\u043b\u044f\u0442\u0438\u0441\u044c \u043c\u0443\u043b\u044c\u0442\u0438\u043f\u043e\u043b\u0456\u0433\u043e\u043d\u0438. <code>--hstore</code> \u0414\u043e\u0437\u0432\u043e\u043b\u044f\u0454 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0434\u043b\u044f \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0456\u0457 \u0442\u0430\u0439\u043b\u0456\u0432 \u0442\u0435\u0491\u0438, \u0434\u043b\u044f \u044f\u043a\u0438\u0445 \u043d\u0435\u043c\u0430\u0454 \u043e\u043a\u0440\u0435\u043c\u0438\u0445 \u0441\u0442\u043e\u0432\u043f\u0446\u0456\u0432 \u0432 \u0431\u0430\u0437\u0456 \u0434\u0430\u043d\u0438\u0445. <code>--tag-transform-script ~/src/openstreetmap-carto/openstreetmap-carto.lua</code> \u0412\u0438\u0437\u043d\u0430\u0447\u0430\u0454 \u0441\u043a\u0440\u0438\u043f\u0442 lua, \u044f\u043a\u0438\u0439 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f \u0434\u043b\u044f \u043e\u0431\u0440\u043e\u0431\u043a\u0438 \u0442\u0435\u0491\u0456\u0432. \u0426\u0435 \u043f\u0440\u043e\u0441\u0442\u0438\u0439 \u0441\u043f\u043e\u0441\u0456\u0431 \u043e\u0431\u0440\u043e\u0431\u043a\u0438 \u0442\u0435\u0491\u0456\u0432 OSM \u0434\u043e \u0442\u043e\u0433\u043e, \u044f\u043a \u0432\u043e\u043d\u0438 \u0431\u0443\u0434\u0443\u0442\u044c \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u0456 \u0432 \u0441\u0442\u0438\u043b\u0456, \u0449\u043e \u0441\u043f\u0440\u043e\u0449\u0443\u0454 \u043b\u043e\u0433\u0456\u043a\u0443 \u0441\u0430\u043c\u043e\u0433\u043e \u0441\u0442\u0438\u043b\u044e. <code>-C 2500</code> \u0412\u0438\u0434\u0456\u043b\u044f\u0454 2.5 \u0413\u0431 \u043e\u043f\u0435\u0440\u0430\u0442\u0438\u0432\u043d\u043e\u0457 \u043f\u0430\u043c\u02bc\u044f\u0442\u0456 \u0434\u043b\u044f osm2pgsql \u043d\u0430 \u0432\u0438\u043a\u043e\u043d\u0430\u043d\u043d\u044f \u0456\u043c\u043f\u043e\u0440\u0442\u0443. \u042f\u043a\u0449\u043e \u0443 \u0432\u0430\u0441 \u043c\u0435\u043d\u0448\u0435 \u043e\u043f\u0435\u0440\u0430\u0442\u0438\u0432\u043d\u043e\u0457 \u043f\u0430\u043c\u02bc\u044f\u0442\u0456, \u0441\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043c\u0435\u043d\u0448\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f. \u042f\u043a\u0449\u043e \u043f\u0440\u043e\u0446\u0435\u0441 \u0456\u043c\u043f\u043e\u0440\u0442\u0443 \u0431\u0443\u0434\u0435 \u0437\u043d\u0438\u0449\u0435\u043d\u0438\u0439 \u0447\u0435\u0440\u0435\u0437 \u043d\u0435\u0441\u0442\u0430\u0447\u0443 \u043e\u043f\u0435\u0440\u0430\u0442\u0438\u0432\u043d\u043e\u0457 \u043f\u0430\u043c\u02bc\u044f\u0442\u0456, \u0441\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0437\u043c\u0435\u043d\u0448\u0438\u0442\u0438 \u0446\u0435 \u0447\u0438\u0441\u043b\u043e \u0430\u0431\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0439\u0442\u0435 \u043c\u0435\u043d\u0448\u0438\u0439 \u043e\u0431\u0441\u044f\u0433 \u0434\u0430\u043d\u0438\u0445. <code>--number-processes 1</code> \u0412\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u043e\u0434\u043d\u0435 \u044f\u0434\u0440\u043e \u043f\u0440\u043e\u0446\u0435\u0441\u043e\u0440\u0430. \u042f\u043a\u0449\u043e \u0443 \u0432\u0430\u0441 \u0431\u0430\u0433\u0430\u0442\u043e\u044f\u0434\u0435\u0440\u043d\u0438\u0439 \u043f\u0440\u043e\u0446\u0435\u0441\u043e\u0440 \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0431\u0456\u043b\u044c\u0448\u0443 \u043a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u044f\u0434\u0435\u0440. <code>-S ~/src/openstreetmap-carto/openstreetmap-carto.style</code> \u0421\u0442\u0432\u043e\u0440\u044e\u0432\u0430\u0442\u0438 \u0441\u0442\u043e\u0432\u043f\u0446\u0456 \u0432 \u0431\u0430\u0437\u0456 \u0434\u0430\u043d\u0438\u0445 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u044e\u0447\u0438 \u0432\u043a\u0430\u0437\u0430\u043d\u0438\u0439 \u0444\u0430\u0439\u043b (\u0432 \u043d\u0430\u0448\u043e\u043c\u0443 \u0432\u0438\u043f\u0430\u0434\u043a\u0443 \u0432\u0456\u043d \u043d\u0456\u0447\u0438\u043c \u043d\u0435 \u0432\u0456\u0434\u0440\u0456\u0437\u043d\u044f\u0454\u0442\u044c\u0441\u044f \u0432\u0456\u0434 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u043e\u0433\u043e \"openstreetmap-carto\") <code>~/data/azerbaijan-latest.osm.pbf</code> \u041e\u0441\u0442\u0430\u043d\u043d\u0456\u0439 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u00a0\u2013 \u0446\u0435 \u0444\u0430\u0439\u043b \u0437 \u0434\u0430\u043d\u0438\u043c\u0438 \u0434\u043b\u044f \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u0432 \u0431\u0430\u0437\u0443. <p>\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u043c \u0440\u043e\u0431\u043e\u0442\u0438 \u0446\u0456\u0454\u0457 \u043a\u043e\u043c\u0430\u043d\u0434\u0438 \u043c\u0430\u0454 \u0431\u0443\u0442\u0438 \u0449\u043e\u0441\u044c \u0441\u0445\u043e\u0436\u0435 \u043d\u0430 \"Osm2pgsql took 238s overall\".</p>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-debian-11/#\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f-\u0456\u043d\u0434\u0435\u043a\u0441\u0456\u0432","title":"\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u0456\u043d\u0434\u0435\u043a\u0441\u0456\u0432","text":"<p>\u041f\u043e\u0447\u0438\u043d\u0430\u044e\u0447\u0438 \u0437 \u0432\u0435\u0440\u0441\u0456\u0457 5.3.0, \u0434\u0435\u044f\u043a\u0456 \u0434\u043e\u0434\u0430\u0442\u043a\u043e\u0432\u0456 \u0456\u043d\u0434\u0435\u043a\u0441\u0438 \u043c\u0430\u044e\u0442\u044c \u0431\u0443\u0442\u0438 \u0437\u0430\u0441\u0442\u043e\u0441\u043e\u0432\u0430\u043d\u0456 \u0432\u0440\u0443\u0447\u043d\u0443:.</p> <pre><code>cd ~/src/openstreetmap-carto/\nsudo -u _renderd psql -d gis -f indexes.sql\n</code></pre> <p>\u0421\u043a\u0440\u0438\u043f\u0442 \u043c\u0430\u0454 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u0438\u0442\u0438 <code>CREATE INDEX</code> 16 \u0440\u0430\u0437\u0456\u0432.</p>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-debian-11/#\u0424\u0443\u043d\u043a\u0446\u0456\u0457-\u0431\u0430\u0437\u0438-\u0434\u0430\u043d\u0438\u0445","title":"\u0424\u0443\u043d\u043a\u0446\u0456\u0457 \u0431\u0430\u0437\u0438 \u0434\u0430\u043d\u0438\u0445","text":"<p>\u0423 \u0432\u0435\u0440\u0441\u0456\u0457 5.9.0 \u00abOSM Carto\u00bb (\u0432\u0438\u043f\u0443\u0449\u0435\u043d\u0430 \u0432 \u0436\u043e\u0432\u0442\u043d\u0456 2024 \u0440\u043e\u043a\u0443) \u0434\u0435\u044f\u043a\u0456 \u0444\u0443\u043d\u043a\u0446\u0456\u0457 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0443\u0432\u0430\u0442\u0438 \u0432 \u0431\u0430\u0437\u0443 \u0434\u0430\u043d\u0438\u0445 \u0432\u0440\u0443\u0447\u043d\u0443. \u0412\u043e\u043d\u0438 \u043c\u043e\u0436\u0443\u0442\u044c \u0431\u0443\u0442\u0438 \u0434\u043e\u0434\u0430\u043d\u0456/\u043f\u0435\u0440\u0435\u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u0456 \u0432 \u0431\u0443\u0434\u044c-\u044f\u043a\u0438\u0439 \u043c\u043e\u043c\u0435\u043d\u0442 \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e:</p> <pre><code>cd ~/src/openstreetmap-carto/\nsudo -u _renderd psql -d gis -f functions.sql\n</code></pre>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-debian-11/#\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f-Shapefile","title":"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f Shapefile","text":"<p>\u041f\u043e\u043f\u0440\u0438 \u0442\u0435, \u0449\u043e \u0431\u0456\u043b\u044c\u0448\u0456\u0441\u0442\u044c \u0434\u0430\u043d\u0438\u0445 \u0434\u043b\u044f \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u043c\u0430\u043f\u0438 \u0431\u0435\u0440\u0435\u0442\u044c\u0441\u044f \u0437 \u0444\u0430\u0439\u043b\u0443 \u0437 \u0434\u0430\u043d\u0438\u043c\u0438 OpenStreetMap, \u044f\u043a\u0438\u0439 \u0432\u0438 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u043b\u0438 \u0440\u0430\u043d\u0456\u0448\u0435, \u0434\u0435\u044f\u043a\u0456 \u0444\u0430\u0439\u043b\u0438 \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0456 shapefile \u0432\u0441\u0435 \u0436 \u0442\u0430\u043a\u0456 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u0456 \u0434\u043b\u044f \u0442\u0430\u043a\u0438\u0445 \u0440\u0435\u0447\u0435\u0439, \u043d\u0430\u043f\u0440\u0438\u043a\u043b\u0430\u0434, \u044f\u043a \u043a\u043e\u0440\u0434\u043e\u043d\u0438 \u043a\u0440\u0430\u0457\u043d \u043d\u0430 \u0432\u0435\u043b\u0438\u043a\u0438\u0445 \u043c\u0430\u0441\u0448\u0442\u0430\u0431\u0430\u0445. \u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0442\u0435 \u0457\u0445 \u0442\u0430 \u043f\u0440\u043e\u0456\u043d\u0434\u0435\u043a\u0441\u0443\u0439\u0442\u0435:</p> <pre><code>cd ~/src/openstreetmap-carto/\nmkdir data\nsudo chown _renderd data\nsudo -u _renderd scripts/get-external-data.py\n</code></pre> <p>\u0426\u0435\u0439 \u043f\u0440\u043e\u0446\u0435\u0441 \u0432\u0438\u043c\u0430\u0433\u0430\u0454 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u0432\u0435\u043b\u0438\u043a\u043e\u0457 \u043f\u043e\u0440\u0446\u0456\u0457 \u0434\u0430\u043d\u0438\u0445 \u0442\u0430 \u0442\u0440\u0438\u0432\u0430\u0442\u0438\u043c\u0435 \u0434\u0435\u044f\u043a\u0438\u0439 \u0447\u0430\u0441 \u0431\u0435\u0437 \u0431\u0443\u0434\u044c-\u044f\u043a\u0438\u0445 \u043f\u043e\u043c\u0456\u0442\u043d\u0438\u0445 \u0437\u043c\u0456\u043d \u043d\u0430 \u0435\u043a\u0440\u0430\u043d\u0456. \u0427\u0430\u0441\u0442\u0438\u043d\u0430 \u0434\u0430\u043d\u0438\u0445 \u0437\u0430\u043f\u0438\u0441\u0443\u0454\u0442\u044c\u0441\u044f \u0431\u0435\u0437\u043f\u043e\u0441\u0435\u0440\u0435\u0434\u043d\u044c\u043e \u0443 \u0431\u0430\u0437\u0443 \u0434\u0430\u043d\u0438\u0445, \u0430 \u0456\u043d\u0448\u0430 \u0443 \u043f\u0456\u0434\u0442\u0435\u043a\u0443 \"data\" \u0432 \"openstreetmap-carto\". \u042f\u043a\u0449\u043e \u0443 \u0432\u0430\u0441 \u0442\u0443\u0442 \u0432\u0438\u043d\u0438\u043a\u043d\u0443\u0442\u044c \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0438, \u0442\u043e \u0446\u0435 \u0441\u043a\u043e\u0440\u0456\u0448\u0435 \u0447\u0435\u0440\u0435\u0437 \u0442\u0435, \u0449\u043e \u0434\u0430\u043d\u0456 Natural Earth \u043c\u043e\u0436\u0443\u0442\u044c \u0431\u0443\u0442\u0438 \u043d\u0435 \u0432 \u0442\u043e\u043c\u0443 \u043c\u0456\u0441\u0446\u0456. \u042f\u043a\u0449\u043e \u0432\u0430\u043c \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0437\u043c\u0456\u043d\u0438\u0442\u0438 \u043c\u0456\u0441\u0446\u0435 \u043a\u0443\u0434\u0438 \u0432\u0438 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0443\u0454\u0442\u0435 \u0434\u0430\u043d\u0456 Natural Earth\u00a0\u2013 \u0432\u043d\u0435\u0441\u0456\u0442\u044c \u0437\u043c\u0456\u043d\u0438 \u0443 \u0432\u043b\u0430\u0441\u043d\u0443 \u043a\u043e\u043f\u0456\u044e \u0446\u044c\u043e\u0433\u043e \u0444\u0430\u0439\u043b\u0443.</p>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-debian-11/#\u0428\u0440\u0438\u0444\u0442\u0438","title":"\u0428\u0440\u0438\u0444\u0442\u0438","text":"<p>\u041f\u043e\u0447\u0438\u043d\u0430\u044e\u0447\u0438 \u0437 \u0432\u0435\u0440\u0441\u0456\u0457 v5.6.0 \u0448\u0440\u0438\u0444\u0442\u0438 \u0434\u043b\u044f Carto \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0438 \u0432\u0440\u0443\u0447\u043d\u0443:</p> <pre><code>cd ~/src/openstreetmap-carto/\nscripts/get-fonts.sh\n</code></pre> <p>\u041d\u0430\u0448\u0456 \u0442\u0435\u0441\u0442\u043e\u0432\u0456 \u0434\u0430\u043d\u0456 (\u0410\u0437\u0435\u0440\u0431\u0430\u0439\u0434\u0436\u0430\u043d) \u0431\u0443\u043b\u0438 \u043e\u0431\u0440\u0430\u043d\u0456 \u0447\u0435\u0440\u0435\u0437 \u0457\u0445 \u043d\u0435\u0432\u0435\u043b\u0438\u043a\u0438\u0439 \u043e\u0431\u0441\u044f\u0433, \u0430 \u0442\u0430\u043a\u043e\u0436 \u0447\u0435\u0440\u0435\u0437 \u0442\u0435, \u0449\u043e \u0430\u0440\u043c\u044f\u043d\u0441\u044c\u043a\u0430 \u043f\u0438\u0441\u0435\u043c\u043d\u0456\u0441\u0442\u044c \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454 \u0432\u043b\u0430\u0441\u043d\u0443 \u0430\u0431\u0435\u0442\u043a\u0443.</p>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-debian-11/#\u041d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f-\u0432\u0435\u0431\u0441\u0435\u0440\u0432\u0435\u0440\u0430","title":"\u041d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f \u0432\u0435\u0431\u0441\u0435\u0440\u0432\u0435\u0440\u0430","text":""},{"location":"uk/serving-tiles/manually-building-a-tile-server-debian-11/#\u041a\u043e\u043d\u0444\u0456\u0433\u0443\u0440\u0430\u0446\u0456\u044f-renderd","title":"\u041a\u043e\u043d\u0444\u0456\u0433\u0443\u0440\u0430\u0446\u0456\u044f renderd","text":"<p>\u041d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f <code>renderd</code> \u0432 Debian 11 \u0437\u043d\u0430\u0445\u043e\u0434\u044f\u0442\u044c\u0441\u044f \u0443 \u0444\u0430\u0439\u043b\u0456 <code>/etc/renderd.conf</code>. \u0412\u0456\u0434\u0440\u0435\u0434\u0430\u0433\u0443\u0454\u043c\u043e \u0439\u043e\u0433\u043e \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u043e\u0433\u043e \u0440\u0435\u0434\u0430\u043a\u0442\u043e\u0440\u0430, \u0442\u0430\u043a\u043e\u0433\u043e \u044f\u043a nano:</p> <pre><code>sudo nano /etc/renderd.conf\n</code></pre> <p>\u0414\u043e\u0434\u0430\u0439\u0442\u0435 \u0440\u043e\u0437\u0434\u0456\u043b, \u043f\u043e\u0434\u0456\u0431\u043d\u0438\u0439 \u043d\u0430\u0432\u0435\u0434\u0435\u043d\u043e\u043c\u0443, \u0432 \u043a\u0456\u043d\u0435\u0446\u044c \u0444\u0430\u0439\u043b\u0443 \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u044c:</p> <pre><code>[s2o]\nURI=/hot/\nTILEDIR=/var/lib/mod_tile\nXML=/home/accountname/src/openstreetmap-carto/mapnik.xml\nHOST=localhost\nTILESIZE=256\nMAXZOOM=20\n</code></pre> <p>\u041c\u043e\u0436\u043b\u0438\u0432\u043e \u0440\u043e\u0437\u0442\u0430\u0448\u0443\u0432\u0430\u043d\u043d\u044f \u0444\u0430\u0439\u043b\u0443 XML <code>/home/accountname/src/openstreetmap-carto/mapnik.xml</code> \u0434\u043e\u0432\u0435\u0434\u0435\u0442\u044c\u0441\u044f \u0437\u043c\u0456\u043d\u0438\u0442\u0438 \u043d\u0430 \u0442\u0435, \u0449\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f \u0443 \u0432\u0430\u0448\u0456\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u0456. \u0412\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0437\u043c\u0456\u043d\u0438\u0442\u0438 <code>[s2o]</code> \u0442\u0430 <code>URI=/hot/</code> \u043d\u0430 \u0442\u0435, \u0449\u043e \u0432\u0430\u043c \u0442\u0440\u0435\u0431\u0430. \u042f\u043a\u0449\u043e \u0432\u0438 \u0431\u0430\u0436\u0430\u0454\u0442\u0435 \u0440\u0435\u043d\u0434\u0435\u0440\u0438\u0442\u0438 \u0431\u0456\u043b\u044c\u0448\u0435 \u043e\u0434\u043d\u043e\u0433\u043e \u043d\u0430\u0431\u043e\u0440\u0443 \u0442\u0430\u0439\u043b\u0456\u0432 \u043d\u0430 \u043e\u0434\u043d\u043e\u043c\u0443 \u0441\u0435\u0440\u0432\u0435\u0440\u0456, \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0434\u043e\u0434\u0430\u0442\u0438 \u0449\u0435 \u043e\u0434\u0438\u043d \u0440\u043e\u0437\u0434\u0456\u043b, \u043f\u043e\u0434\u0456\u0431\u043d\u0438\u0439 \u0434\u043e <code>[s2o]</code>, \u0437 \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f\u043c\u0438 \u0434\u043b\u044f \u0456\u043d\u0448\u043e\u0433\u043e \u0441\u0442\u0438\u043b\u044e. \u042f\u043a\u0449\u043e \u0432\u0438 \u0431\u0430\u0436\u0430\u0454\u0442\u0435, \u0449\u043e\u0431 \u0432\u0456\u043d \u043f\u043e\u0441\u0438\u043b\u0430\u0432\u0441\u044f \u043d\u0430 \u0456\u043d\u0448\u0443 \u0431\u0430\u0437\u0443 \u0437\u0430\u043c\u0456\u0441\u0442\u044c \u0442\u0438\u043f\u043e\u0432\u043e\u0457 <code>gis</code>, \u0432\u0438 \u0442\u0430\u043a\u043e\u0436 \u043c\u043e\u0436\u0435\u0442\u0435 \u0437\u0440\u043e\u0431\u0438\u0442\u0438 \u0446\u0435, \u0430\u043b\u0435 \u043f\u043e\u044f\u0441\u043d\u0435\u043d\u043d\u044f \u0442\u043e\u0433\u043e, \u044f\u043a \u0446\u0435 \u0440\u043e\u0431\u0438\u0442\u0438 \u0432\u0438\u0445\u043e\u0434\u0438\u0442\u044c \u0437\u0430 \u043c\u0435\u0436\u0456 \u0446\u044c\u043e\u0433\u043e \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430. \u042f\u043a\u0449\u043e \u0443 \u0432\u0430\u0441 \u0434\u0435\u0441\u044c 2 \u0413\u0431 \u043e\u043f\u0435\u0440\u0430\u0442\u0438\u0432\u043d\u043e\u0457 \u043f\u0430\u043c\u02bc\u044f\u0442\u0456, \u043c\u043e\u0436\u043b\u0438\u0432\u043e \u0432\u0430\u043c \u0434\u043e\u0432\u0435\u0434\u0435\u0442\u044c\u0441\u044f \u0437\u043c\u0435\u043d\u0448\u0438\u0442\u0438 \u043a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u043f\u043e\u0442\u043e\u043a\u0456\u0432 (<code>num_threads</code>) \u0434\u043e 2. <code>URI=/hot/</code> \u0431\u0443\u043b\u043e \u043e\u0431\u0440\u0430\u043d\u043e \u0434\u043b\u044f \u0442\u043e\u0433\u043e \u0449\u043e\u0431\u0438 \u0431\u0443\u043b\u043e \u043f\u0440\u043e\u0441\u0442\u0456\u0448\u0435 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0432\u0430\u0448\u0456 \u0442\u0430\u0439\u043b\u0438 \u0437\u0430\u043c\u0456\u0441\u0442\u044c \u0448\u0430\u0440\u0443 Humanitarian \u0437 \u0441\u0430\u0439\u0442\u0443 OpenStreetMap.org. \u0412\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u043a\u0430\u0437\u0430\u0442\u0438 \u0449\u043e\u0441\u044c \u0456\u043d\u0448\u0435, \u0430\u043b\u0435 <code>/hot/</code> \u0442\u0430\u043a\u043e\u0436 \u0433\u043e\u0434\u0438\u0442\u044c\u0441\u044f.</p> <p>\u041f\u0456\u0434 \u0447\u0430\u0441 \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u043d\u044f \u0446\u0456\u0454\u0457 \u0456\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0456\u0457, \u0432\u0435\u0440\u0441\u0456\u044f Mapnik \u0432 Debian \u0431\u0443\u043b\u0430 3.0, \u0430 \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f <code>plugins_dir</code>\u00a0\u2013 \u0432 \u0440\u043e\u0437\u0434\u0456\u043b\u0456 <code>[mapnik]</code> \u0444\u0430\u0439\u043b\u0443 <code>/usr/lib/mapnik/3.0/input</code>. \u041d\u0430 \u043c\u043e\u043c\u0435\u043d\u0442 \u0432\u043d\u0435\u0441\u0435\u043d\u043d\u044f \u0434\u043e\u043f\u043e\u0432\u043d\u0435\u043d\u044c \u0432\u043e\u043d\u0430 \u0441\u0442\u0430\u043b\u0430 3.1, \u0442\u043e\u0436 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u043d\u043e \u0437\u043c\u0456\u043d\u0438\u0432\u0441\u044f \u0439 \u0448\u043b\u044f\u0445 <code>/usr/lib/mapnik/3.1/input</code>. \u0422\u0430\u043a\u0456 \u0437\u043c\u0456\u043d\u0438 \u043c\u043e\u0436\u0443\u0442\u044c \u0432\u0456\u0434\u0431\u0443\u0432\u0430\u0442\u0438\u0441\u044c \u0434\u0430\u043b\u0456. \u0423 \u0440\u0430\u0437\u0456 \u0432\u0438\u043d\u0438\u043a\u043d\u0435\u043d\u043d\u044f \u043f\u043e\u043c\u0438\u043b\u043a\u0438 \u043f\u0456\u0434 \u0447\u0430\u0441 \u0441\u043f\u0440\u043e\u0431 \u0440\u0435\u043d\u0434\u0435\u0440\u0456\u043d\u0433\u0443 \u0442\u0430\u0439\u043b\u0456\u0432, \u043d\u0430 \u043a\u0448\u0442\u0430\u043b\u0442 \u0446\u0456\u0454\u0457:</p> <p>An error occurred while loading the map layer 's2o': Could not create datasource for type: 'postgis' (no datasource plugin directories have been successfully registered)  encountered during parsing of layer 'landcover-low-zoom'</p> <p>\u043f\u0435\u0440\u0435\u0432\u0456\u0440\u0442\u0435 <code>/usr/lib/mapnik</code> \u0442\u0430 \u043f\u043e\u0434\u0438\u0432\u0456\u0442\u044c\u0441\u044f, \u044f\u043a\u0430 \u0432\u0435\u0440\u0441\u0456\u044f \u0432 \u043d\u0430\u0437\u0432\u0456 \u0442\u0435\u043a\u0438, \u0430 \u0442\u0430\u043a\u043e\u0436 \u043f\u043e\u0433\u043b\u044f\u043d\u044c\u0442\u0435 \u043d\u0430 <code>/usr/lib/mapnik/(version)/input</code>, \u0449\u043e\u0431 \u043f\u0435\u0440\u0435\u043a\u043e\u043d\u0430\u0442\u0438\u0441\u044c, \u0449\u043e \u0444\u0430\u0439\u043b <code>postgis.input</code> \u0437\u043d\u0430\u0445\u043e\u0434\u0438\u0442\u044c\u0441\u044f \u0442\u0430\u043c.</p>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-debian-11/#\u041a\u043e\u043d\u0444\u0456\u0433\u0443\u0440\u0430\u0446\u0456\u044f-Apache","title":"\u041a\u043e\u043d\u0444\u0456\u0433\u0443\u0440\u0430\u0446\u0456\u044f Apache","text":"<pre><code>sudo mkdir /var/lib/mod_tile\nsudo chown _renderd /var/lib/mod_tile\n</code></pre> <p>\u041f\u043e\u0442\u0456\u043c \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u0442\u0456\u0442\u044c \u0441\u043b\u0443\u0436\u0431\u0443 <code>renderd</code>:</p> <pre><code>sudo /etc/init.d/renderd restart\n</code></pre> <p>\u042f\u043a\u0449\u043e \u0432\u0438 \u0433\u043b\u044f\u043d\u0435\u0442\u0435 \u0443 <code>/var/log/syslog</code>, \u0432\u0438 \u043c\u0430\u0454\u0442\u0435 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0438 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f \u0432\u0456\u0434 \u0441\u043b\u0443\u0436\u0431\u0438 <code>renderd</code>. \u041c\u043e\u0436\u043b\u0438\u0432\u043e \u0442\u0430\u043c \u0431\u0443\u0434\u0443\u0442\u044c \u0442\u0456\u043b\u044c\u043a\u0438 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f \u043f\u0440\u043e \u043f\u043e\u043c\u0438\u043b\u043a\u0438, \u043d\u0435 \u043f\u0435\u0440\u0435\u0439\u043c\u0430\u0439\u0442\u0435\u0441\u044c \u0437\u0430\u0440\u0430\u0437 \u0446\u0438\u043c. \u0414\u0430\u043b\u0456:</p> <pre><code>sudo /etc/init.d/apache2 restart\n</code></pre> <p>\u0412 <code>syslog</code> \u043c\u0430\u0454 \u0431\u0443\u0442\u0438 \u0449\u043e\u0441\u044c \u043f\u043e\u0434\u0456\u0431\u043d\u0435 \u0434\u043e \u043d\u0430\u0441\u0442\u0443\u043f\u043d\u043e\u0433\u043e:</p> <pre><code>Nov 14 14:24:55 servername apachectl[19119]: [Sat Nov 14 14:24:55.526717 2020] [tile:notice] [pid 19119:tid 140525098995008] Loading tile config s2o at /hot/ for zooms 0 - 20 from tile directory /var/lib/mod_tile with extension .png and mime type image/png\n</code></pre> <p>\u0414\u0430\u043b\u0456, \u0432\u0456\u0434\u043a\u0440\u0438\u0439\u0442\u0435 \u0432 \u043e\u0433\u043b\u044f\u0434\u0430\u0447\u0456 <code>http://ip.\u0432\u0430\u0448\u043e\u0433\u043e.\u0441\u0435\u0440\u0432\u0435\u0440\u0430/index.html</code> (\u0437\u0430\u043c\u0456\u043d\u0456\u0442\u044c <code>ip.\u0432\u0430\u0448\u043e\u0433\u043e.\u0441\u0435\u0440\u0432\u0435\u0440\u0430</code> \u043d\u0430 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u043d\u0443 \u0430\u0434\u0440\u0435\u0441\u0443). \u0412\u0438 \u043c\u0430\u0454\u0442\u0435 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0438 \u0442\u0438\u043f\u043e\u0432\u0443 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0443 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 Apache2 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043e\u0433\u043e \u0432 Debian.</p> <p>\u041f\u043e\u0440\u0430\u0434\u0430</p> <p>\u044f\u043a\u0449\u043e \u0432\u0438 \u043d\u0435 \u0437\u043d\u0430\u0454\u0442\u0435 IP \u0430\u0434\u0440\u0435\u0441\u0443 \u043f\u0440\u0438\u0437\u043d\u0430\u0447\u0435\u043d\u0443 \u0441\u0435\u0440\u0432\u0435\u0440\u0443, \u0457\u0457 \u043c\u043e\u0436\u043d\u0430 \u0434\u0456\u0437\u043d\u0430\u0442\u0438\u0441\u044c \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e \u043a\u043e\u043c\u0430\u043d\u0434\u0438 <code>ifconfig</code>\u00a0\u2013 \u044f\u043a\u0449\u043e \u043c\u0435\u0440\u0435\u0436\u0435\u0432\u0456 \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f \u043d\u0435 \u043d\u0430\u0434\u0442\u043e \u0441\u043a\u043b\u0430\u0434\u043d\u0456, \u0442\u043e \u0446\u0435 \u043c\u0430\u0454 \u0431\u0443\u0442\u0438 \u0449\u043e\u0441\u044c \u0442\u0438\u043f\u0443 <code>inet addr</code> \u0432\u0456\u0434\u043c\u0456\u043d\u043d\u0435 \u0432\u0456\u0434 <code>127.0.0.1</code>.</p> <p>\u042f\u043a\u0449\u043e \u0432\u0438 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u0435 \u0441\u0435\u0440\u0432\u0435\u0440 \u043f\u043e\u0441\u0442\u0430\u0447\u0430\u043b\u044c\u043d\u0438\u043a\u0430 \u043f\u043e\u0441\u043b\u0443\u0433 \u0445\u043e\u0441\u0442\u0438\u043d\u0433\u0443, \u0442\u043e, \u0448\u0432\u0438\u0434\u0448\u0435 \u0437\u0430 \u0432\u0441\u0435, \u0432\u043d\u0443\u0442\u0440\u0456\u0448\u043d\u044f \u0430\u0434\u0440\u0435\u0441\u0430 \u0432\u0430\u0448\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0431\u0443\u0434\u0435 \u0432\u0456\u0434\u0440\u0456\u0437\u043d\u044f\u0442\u0438\u0441\u044f \u0432\u0456\u0434 \u0437\u043e\u0432\u043d\u0456\u0448\u043d\u044c\u043e\u0457 \u0430\u0434\u0440\u0435\u0441\u0438, \u044f\u043a\u0430 \u0431\u0443\u043b\u0430 \u043d\u0430\u0434\u0430\u043d\u0430 \u0432\u0430\u043c, \u0430\u043b\u0435 \u0446\u044f \u0437\u043e\u0432\u043d\u0456\u0448\u043d\u044f IP-\u0430\u0434\u0440\u0435\u0441\u0430 \u0432\u0436\u0435 \u0431\u0443\u0434\u0435 \u043d\u0430\u0434\u0456\u0441\u043b\u0430\u043d\u0430 \u0432\u0430\u043c, \u0456, \u0439\u043c\u043e\u0432\u0456\u0440\u043d\u043e, \u0432\u0438 \u0457\u0457 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u0435 \u0437\u0430\u0440\u0430\u0437 \u0434\u043b\u044f \u0434\u043e\u0441\u0442\u0443\u043f\u0443 \u0434\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430.</p> <p>\u0417\u0430\u0443\u0432\u0430\u0436\u0442\u0435, \u0449\u043e \u0446\u0435 \u043b\u0438\u0448\u0435 \u0441\u0430\u0439\u0442 <code>http</code> (\u043f\u043e\u0440\u0442 80)\u00a0\u2013 \u0432\u0430\u043c \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0432\u0438\u0442\u0440\u0430\u0442\u0438\u0442\u0438 \u0442\u0440\u043e\u0445\u0438 \u0431\u0456\u043b\u044c\u0448\u0435 \u0447\u0430\u0441\u0443 \u0434\u043b\u044f \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f Apache \u043d\u0430 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f <code>https</code>, \u0430\u043b\u0435 \u0446\u0435 \u0432\u0438\u0445\u043e\u0434\u0438\u0442\u044c \u0437\u0430 \u043c\u0435\u0436\u0456 \u0446\u0438\u0445 \u0456\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0456\u0439. \u041e\u0434\u043d\u0430\u043a \u044f\u043a\u0449\u043e \u0432\u0438 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u0435 \"Let's Encrypt\" \u0434\u043b\u044f \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u044f \u0441\u0435\u0440\u0442\u0438\u0444\u0456\u043a\u0430\u0442\u0456\u0432, \u0456\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0456\u044f \u0437\u0456 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u043c\u043e\u0436\u0435 \u0442\u0430\u043a\u043e\u0436 \u043c\u0456\u0441\u0442\u0438\u0442\u0438 \u043f\u043e\u0440\u0430\u0434\u0438 \u0449\u043e\u0434\u043e \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f \u0441\u0430\u0439\u0442\u0443 Apache \u0434\u043b\u044f \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f https.</p> <p>\u0414\u0430\u043b\u0456, \u0432 \u043e\u0433\u043b\u044f\u0434\u0430\u0447\u0456 \u0432\u0456\u0434\u043a\u0440\u0438\u0439\u0442\u0435 \u043f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f: <code>http://ip.\u0432\u0430\u0448\u043e\u0433\u043e.\u0441\u0435\u0440\u0432\u0435\u0440\u0430/hot/0/0/0.png</code></p> <p>\u042f\u043a\u0449\u043e \u0432\u0438 \u0432\u0438\u0449\u0435 \u043f\u043e\u043c\u0456\u043d\u044f\u043b\u0438 <code>URI=/hot/</code> \u0432\u0430\u043c \u0434\u043e\u0432\u0435\u0434\u0435\u0442\u044c\u0441\u044f \u043f\u0456\u0434\u043f\u0440\u0430\u0432\u0438\u0442\u0438 \u043f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f. \u0412\u0438 \u043c\u0430\u0454\u0442\u0435 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0438 \u043c\u0430\u043b\u0435\u043d\u044c\u043a\u0443 \u043c\u0430\u043f\u0443 \u0441\u0432\u0456\u0442\u0443. \u042f\u043a\u0449\u043e \u0457\u0457 \u043d\u0435\u043c\u0430\u0454, \u043f\u0435\u0440\u0435\u0432\u0456\u0440\u0442\u0435 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f \u043f\u0440\u043e \u043f\u043e\u043c\u0438\u043b\u043a\u0438 \u0432 \u043a\u043e\u043d\u0441\u043e\u043b\u0456. \u0421\u043a\u043e\u0440\u0456\u0448 \u0437\u0430 \u0432\u0441\u0435 \u0432\u0438 \u0449\u043e\u0441\u044c \u043d\u0430\u043f\u043b\u0443\u0442\u0430\u043b\u0438 \u0437 \u0434\u043e\u0437\u0432\u043e\u043b\u0430\u043c\u0438, \u0430\u0431\u043e \u0432\u0438 \u043f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u043b\u0438 \u044f\u043a\u0438\u0439\u0441\u044c \u043a\u0440\u043e\u043a \u0437 \u0456\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0456\u0457. \u042f\u043a\u0449\u043e \u0432\u0438 \u043d\u0435 \u043e\u0442\u0440\u0438\u043c\u0430\u043b\u0438 \u0442\u0430\u0439\u043b \u0442\u0430 \u043e\u0442\u0440\u0438\u043c\u0443\u0454\u0442\u0435 \u0456\u043d\u0448\u0456 \u043f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f, \u0441\u043a\u043e\u043f\u0456\u044e\u0439\u0442\u0435 \u0432\u0438\u0432\u0456\u0434 \u0432 Pastebin, \u0442\u0430 \u0437\u0432\u0435\u0440\u043d\u0456\u0442\u044c\u0441\u044f \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e, \u043d\u0430\u043f\u0440\u0438\u043a\u043b\u0430\u0434, \u0432 <code>community.openstreetmap.org</code>.</p>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-debian-11/#\u041f\u0435\u0440\u0435\u0433\u043b\u044f\u0434-\u0442\u0430\u0439\u043b\u0456\u0432","title":"\u041f\u0435\u0440\u0435\u0433\u043b\u044f\u0434 \u0442\u0430\u0439\u043b\u0456\u0432","text":"<p>\u0414\u043b\u044f \u0442\u043e\u0433\u043e, \u0449\u043e\u0431 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0438 \u0442\u0430\u0439\u043b\u0438, \u043c\u0438 \u0442\u0440\u043e\u0445\u0438 \u0437\u043c\u0430\u0445\u043b\u044e\u0454\u043c\u043e \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u044e\u0447\u0438\u0441\u044c \u0444\u0430\u0439\u043b\u043e\u043c <code>sample_leaflet.html</code> \u0437 \u0442\u0435\u043a\u0438 \u201cextras\u201d \u0432 mod_tile.</p> <pre><code>cd /var/www/html\nsudo wget https://raw.githubusercontent.com/SomeoneElseOSM/mod_tile/switch2osm/extra/sample_leaflet.html\nsudo nano sample_leaflet.html\n</code></pre> <p>\u0417\u043c\u0456\u043d\u0456\u0442\u044c \u0439\u043e\u0433\u043e \u0442\u0430\u043a, \u0449\u043e\u0431 IP-\u0430\u0434\u0440\u0435\u0441\u0430 \u0431\u0443\u043b\u0430 <code>ip.\u0432\u0430\u0448\u043e\u0433\u043e.\u0441\u0435\u0440\u0432\u0435\u0440\u0430</code>, \u0430 \u043d\u0435 \u043f\u0440\u043e\u0441\u0442\u043e <code>127.0.0.1</code>. \u0426\u0435 \u043f\u043e\u0432\u0438\u043d\u043d\u043e \u0434\u043e\u0437\u0432\u043e\u043b\u0438\u0442\u0438 \u0432\u0430\u043c \u043e\u0442\u0440\u0438\u043c\u0430\u0442\u0438 \u0434\u043e\u0441\u0442\u0443\u043f \u0434\u043e \u0446\u044c\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430. \u041f\u043e\u0442\u0456\u043c \u043f\u0435\u0440\u0435\u0439\u0434\u0456\u0442\u044c \u0434\u043e <code>http://ip.\u0432\u0430\u0448\u043e\u0433\u043e.\u0441\u0435\u0440\u0432\u0435\u0440\u0430/sample_leaflet.html</code>.</p> <p>\u0417\u0433\u043e\u0434\u043e\u043c \u0432\u0438 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0435 \u043c\u0430\u043f\u0443. \u0412\u0438 \u0437\u043c\u043e\u0436\u0435\u0442\u0435 \u0437\u0431\u0456\u043b\u044c\u0448\u0443\u0432\u0430\u0442\u0438 \u0442\u0430 \u0437\u043c\u0435\u043d\u0448\u0443\u0432\u0430\u0442\u0438 \u0457\u0457 \u043c\u0430\u0441\u0448\u0442\u0430\u0431, \u0430\u043b\u0435 \u0432 \u0437\u0430\u043b\u0435\u0436\u043d\u043e\u0441\u0442\u0456 \u0432\u0456\u0434 \u043f\u043e\u0442\u0443\u0436\u043d\u043e\u0441\u0442\u0435\u0439 \u0441\u0435\u0440\u0432\u0435\u0440\u0430, \u0434\u0435\u044f\u043a\u0456 \u0442\u0430\u0439\u043b\u0438 \u043c\u043e\u0436\u0443\u0442\u044c \u0431\u0443\u0442\u0438 \u0441\u0456\u0440\u0438\u043c\u0438 (\u0432\u043e\u043d\u0438 \u0449\u0435 \u043d\u0435 \u0432\u0441\u0442\u0438\u0433\u043b\u0438 \u043e\u0431\u0440\u043e\u0431\u0438\u0442\u0438\u0441\u044c \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c). \u041e\u0434\u043d\u0430\u043a, \u044f\u043a \u0442\u0456\u043b\u044c\u043a\u0438 \u0457\u0445 \u043e\u0431\u0440\u043e\u0431\u043a\u0430 \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c\u0441\u044f, \u0432\u043e\u043d\u0438 \u0431\u0443\u0434\u0443\u0442\u044c \u0433\u043e\u0442\u043e\u0432\u0456 \u0434\u043b\u044f \u043f\u0435\u0440\u0435\u0433\u043b\u044f\u0434\u0443. \u042f\u043a\u0449\u043e \u0432\u0438 \u043f\u043e\u0434\u0438\u0432\u0438\u0442\u0435\u0441\u044c \u0443 <code>/var/log/syslog</code>, \u0432\u0438 \u043c\u0430\u0454\u0442\u0435 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0438 \u0437\u0430\u043f\u0438\u0442\u0438 \u043d\u0430 \u043f\u043e\u043a\u0430\u0437 \u0442\u0430\u0439\u043b\u0456\u0432.</p> <p>\u0417\u0430 \u0431\u0430\u0436\u0430\u043d\u043d\u044f\u043c, \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0437\u0431\u0456\u043b\u044c\u0448\u0438\u0442\u0438 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f <code>ModTileMissingRequestTimeout</code> \u0443 <code>/etc/apache2/conf-available/renderd.conf</code> \u0437 10 \u0441\u0435\u043a\u0443\u043d\u0434 \u0434\u043e, \u0441\u043a\u0430\u0436\u0456\u043c\u043e, 30 \u0430\u0431\u043e 60, \u0434\u043b\u044f \u0442\u043e\u0433\u043e, \u0449\u043e\u0431 \u0434\u0430\u0442\u0438 \u0431\u0456\u043b\u044c\u0448\u0435 \u0447\u0430\u0441\u0443 \u0441\u0435\u0440\u0432\u0435\u0440\u0443 \u043d\u0430 \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u0442\u0430\u0439\u043b\u0456\u0432 \u043f\u0435\u0440\u0435\u0434 \u0442\u0438\u043c \u044f\u043a \u043f\u043e\u043a\u0430\u0437\u0430\u0442\u0438 \u0441\u0456\u0440\u0438\u0439 \u0444\u043e\u043d \u043d\u0430 \u0437\u0430\u043c\u0456\u0441\u0442\u044c \u043d\u0438\u0445. \u041f\u0435\u0440\u0435\u0432\u0456\u0440\u0442\u0435, \u0449\u043e \u0432\u0438 \u0432\u0438\u043a\u043e\u043d\u0430\u043b\u0438 \u043a\u043e\u043c\u0430\u043d\u0434\u0438 <code>service renderd restart</code> \u0442\u0430 <code>service apache2 restart</code> \u043f\u0456\u0441\u043b\u044f \u0432\u043d\u0435\u0441\u0435\u043d\u043d\u044f \u0437\u043c\u0456\u043d.</p> <p>\u0412\u0456\u0442\u0430\u0454\u043c\u043e! \u0422\u0435\u043f\u0435\u0440 \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u0432\u0435\u0440\u043d\u0443\u0442\u0438\u0441\u044c \u0434\u043e \u0440\u043e\u0437\u0434\u0456\u043b\u0443 \u0412\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f \u0442\u0430\u0439\u043b\u0456\u0432 \u0434\u043b\u044f \u0434\u043e\u0434\u0430\u0432\u0430\u043d\u043d\u044f \u043c\u0430\u043f\u0438, \u0449\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454 \u0432\u0430\u0448 \u043d\u043e\u0432\u0438\u0439 \u0442\u0430\u0439\u043b\u043e\u0432\u0438\u0439 \u0441\u0435\u0440\u0432\u0435\u0440.</p>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-debian-12/","title":"\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u0442\u0430\u0439\u043b\u043e\u0432\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0432\u0440\u0443\u0447\u043d\u0443 (Debian 12)","text":""},{"location":"uk/serving-tiles/manually-building-a-tile-server-debian-12/#\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f-\u0442\u0430\u0439\u043b\u043e\u0432\u043e\u0433\u043e-\u0441\u0435\u0440\u0432\u0435\u0440\u0430-\u0432\u0440\u0443\u0447\u043d\u0443-Debian-12","title":"\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u0442\u0430\u0439\u043b\u043e\u0432\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0432\u0440\u0443\u0447\u043d\u0443 (Debian 12)","text":"<p>\u041d\u0430 \u0446\u0456\u0439 \u0441\u0442\u043e\u0440\u0456\u043d\u0446\u0456 \u043c\u0456\u0441\u0442\u0438\u0442\u044c\u0441\u044f \u043e\u043f\u0438\u0441 \u0437\u0456 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f, \u0440\u043e\u0437\u0433\u043e\u0440\u0442\u0430\u043d\u043d\u044f \u0442\u0430 \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f \u0432\u0441\u044c\u043e\u0433\u043e \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e\u0433\u043e \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043d\u043e\u0433\u043e \u0437\u0430\u0431\u0435\u0437\u043f\u0435\u0447\u0435\u043d\u043d\u044f \u0434\u043b\u044f \u0440\u043e\u0431\u043e\u0442\u0438 \u0432\u0430\u0448\u043e\u0433\u043e \u0442\u0430\u0439\u043b\u043e\u0432\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430. \u041f\u043e\u043a\u0440\u043e\u043a\u043e\u0432\u0456 \u0456\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0456\u0457 \u043e\u043f\u0438\u0441\u0443\u044e\u0442\u044c \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u0442\u0430\u0439\u043b\u043e\u0432\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u043d\u0430 Debian Linux 12 (bookworm), \u0432\u043e\u043d\u0438 \u0431\u0443\u043b\u0438 \u043f\u0435\u0440\u0435\u0432\u0456\u0440\u0435\u043d\u0456 \u0443 \u043b\u0438\u043f\u043d\u0456 2023.</p>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-debian-12/#\u0412\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f-\u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043d\u043e\u0433\u043e-\u0437\u0430\u0431\u0435\u0437\u043f\u0435\u0447\u0435\u043d\u043d\u044f","title":"\u0412\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043d\u043e\u0433\u043e \u0437\u0430\u0431\u0435\u0437\u043f\u0435\u0447\u0435\u043d\u043d\u044f","text":"<p>\u0422\u0430\u0439\u043b\u043e\u0432\u0438\u0439 \u0441\u0435\u0440\u0432\u0435\u0440 OpenStreetMap\u00a0\u2013 \u0446\u0435 \u043d\u0430\u0431\u0456\u0440 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043d\u043e\u0433\u043e \u0437\u0430\u0431\u0435\u0437\u043f\u0435\u0447\u0435\u043d\u043d\u044f \u0442\u0430 \u0431\u0456\u0431\u043b\u0456\u043e\u0442\u0435\u043a, \u044f\u043a\u0456 \u043f\u0440\u0430\u0446\u044e\u044e\u0442\u044c \u0440\u0430\u0437\u043e\u043c \u0433\u0435\u043d\u0435\u0440\u0443\u044e\u0447\u0438 \u0442\u0430\u0439\u043b\u0438. \u042f\u043a \u0446\u0435 \u0442\u0440\u0430\u043f\u043b\u044f\u0454\u0442\u044c\u0441\u044f \u0434\u043e\u0432\u043e\u043b\u0456 \u0447\u0430\u0441\u0442\u043e \u0432 OpenStreetMap, \u0456\u0441\u043d\u0443\u0454 \u043a\u0456\u043b\u044c\u043a\u0430 \u0440\u0456\u0437\u043d\u0438\u0445 \u0448\u043b\u044f\u0445\u0456\u0432 \u0434\u043b\u044f \u0434\u043e\u0441\u044f\u0433\u043d\u0435\u043d\u043d\u044f \u043c\u0435\u0442\u0438 \u0442\u0430 \u043c\u0430\u0439\u0436\u0435 \u043a\u043e\u0436\u0435\u043d \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442 \u043c\u0430\u0454 \u0430\u043b\u044c\u0442\u0435\u0440\u043d\u0430\u0442\u0438\u0432\u0443, \u0437 \u0432\u043b\u0430\u0441\u043d\u0438\u043c\u0438 \u043d\u0435\u0434\u043e\u043b\u0456\u043a\u0430\u043c\u0438 \u0442\u0430 \u043f\u0435\u0440\u0435\u0432\u0430\u0433\u0430\u043c\u0438. \u0426\u0435\u0439 \u043f\u043e\u0441\u0456\u0431\u043d\u0438\u043a \u043e\u043f\u0438\u0441\u0443\u0454 \u043d\u0430\u0439\u0431\u0456\u043b\u044c\u0448 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u0443 \u0432\u0435\u0440\u0441\u0456\u044e, \u0449\u043e \u0441\u0445\u043e\u0436\u0430 \u043d\u0430 \u0442\u0435, \u0449\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f \u0433\u043e\u043b\u043e\u0432\u043d\u0438\u043c \u0442\u0430\u0439\u043b\u043e\u0432\u0438\u043c \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c OpenStreetMap.</p> <p>\u0422\u0430\u0439\u043b\u043e\u0432\u0438\u0439 \u0441\u0435\u0440\u0432\u0435\u0440 \u0441\u043a\u043b\u0430\u0434\u0430\u0454\u0442\u044c\u0441\u044f \u0437 \u043f\u02bc\u044f\u0442\u0438 \u0433\u043e\u043b\u043e\u0432\u043d\u0438\u0445 \u0447\u0430\u0441\u0442\u0438\u043d: <code>mod_tile</code>, <code>renderd</code>, <code>mapnik</code>, <code>osm2pgsql</code> \u0442\u0430 \u0431\u0430\u0437\u0430 \u0434\u0430\u043d\u0438\u0445 <code>postgresql/postgis</code>. Mod_tile\u00a0\u2013 \u043c\u043e\u0434\u0443\u043b\u044c \u0441\u0435\u0440\u0432\u0435\u0440\u0430 Apache, \u044f\u043a\u0438\u0439 \u043e\u0431\u0441\u043b\u0443\u0433\u043e\u0432\u0443\u0454 \u0442\u0430\u0439\u043b\u043e\u0432\u0438\u0439 \u043a\u0435\u0448 \u0442\u0430 \u0432\u0438\u0437\u043d\u0430\u0447\u0430\u0454 \u044f\u043a\u0456 \u0442\u0430\u0439\u043b\u0438 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u043f\u0435\u0440\u0435\u0433\u0435\u043d\u0435\u0440\u0443\u0432\u0430\u0442\u0438, \u0447\u0435\u0440\u0435\u0437 \u0457\u0445 \u0432\u0456\u0434\u0441\u0443\u0442\u043d\u0456\u0441\u0442\u044c \u0443 \u043a\u0435\u0448\u0456 \u0430\u0431\u043e \u0442\u043e\u043c\u0443, \u0449\u043e \u0432\u043e\u043d\u0438 \u0437\u0430\u0441\u0442\u0430\u0440\u0456\u043b\u0438. Renderd \u0432\u0438\u0437\u043d\u0430\u0447\u0430\u0454 \u043f\u0440\u0456\u043e\u0440\u0438\u0442\u0435\u0442\u0438 \u0432 \u0447\u0435\u0440\u0433\u0430\u0445 \u0440\u0456\u0437\u043d\u043e\u0433\u043e \u0448\u0442\u0438\u0431\u0443 \u0437\u0430\u043f\u0438\u0442\u0456\u0432 \u0434\u043b\u044f \u0437\u0433\u043b\u0430\u0434\u0436\u0443\u0432\u0430\u043d\u043d\u044f \u043d\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f. Mapnik\u00a0\u2013 \u0431\u0456\u0431\u043b\u0456\u043e\u0442\u0435\u043a\u0430, \u044f\u043a\u0430 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u0430\u0454 \u0431\u0435\u0437\u043f\u043e\u0441\u0435\u0440\u0435\u0434\u043d\u044c\u043e \u0437\u0430 \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u0442\u0430\u0439\u043b\u0456\u0432 \u0437 \u0447\u0435\u0440\u0433\u0438, \u044f\u043a\u043e\u044e \u043a\u0435\u0440\u0443\u0454 <code>renderd</code>.</p> <p>\u0417\u0430\u0443\u0432\u0430\u0436\u0442\u0435, \u0449\u043e \u0446\u0435 \u043a\u0435\u0440\u0456\u0432\u043d\u0438\u0446\u0442\u0432\u043e \u0431\u0443\u043b\u043e \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u0435 \u0442\u0430 \u043f\u0440\u043e\u0442\u0435\u0441\u0442\u043e\u0432\u0430\u043d\u0435 \u0437 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f\u043c \u043d\u043e\u0432\u043e\u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0437 \u043e\u043f\u0435\u0440\u0430\u0446\u0456\u0439\u043d\u043e\u044e \u0441\u0438\u0441\u0442\u0435\u043c\u043e\u044e Debian 12. \u042f\u043a\u0449\u043e \u0443 \u0432\u0430\u0441 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0456 \u0456\u043d\u0448\u0456 \u0432\u0435\u0440\u0441\u0456\u0457 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043d\u043e\u0433\u043e \u0437\u0430\u0431\u0435\u0437\u043f\u0435\u0447\u0435\u043d\u043d\u044f (\u043c\u043e\u0436\u043b\u0438\u0432\u043e \u0432\u0438 \u043e\u043d\u043e\u0432\u0438\u043b\u0438\u0441\u044c \u0437 \u043f\u043e\u043f\u0435\u0440\u0435\u0434\u043d\u044c\u043e\u0457 \u0432\u0435\u0440\u0441\u0456\u0457 Ubuntu, \u0430\u0431\u043e \u0443 \u0432\u0430\u0441 \u043f\u0456\u0434\u02bc\u0454\u0434\u043d\u0430\u043d\u0456 \u0456\u043d\u0448\u0456 \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0456\u0457 PPA), \u043c\u043e\u0436\u043b\u0438\u0432\u043e \u0432\u0430\u043c \u0434\u043e\u0432\u0435\u0434\u0435\u0442\u044c\u0441\u044f \u0432\u043d\u0435\u0441\u0442\u0438 \u043f\u0435\u0432\u043d\u0456 \u0437\u043c\u0456\u043d\u0438.</p> <p>\u0414\u043b\u044f \u0442\u043e\u0433\u043e, \u0449\u043e\u0431 \u0441\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u0432\u0441\u0456 \u0446\u0456 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0438, \u0432\u0430\u043c \u0441\u043f\u043e\u0447\u0430\u0442\u043a\u0443 \u0442\u0440\u0435\u0431\u0430 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0438 \u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0456 \u0437\u0430\u043b\u0435\u0436\u043d\u043e\u0441\u0442\u0456.</p> <p>Debian \u0437 \u0442\u0438\u043f\u043e\u0432\u0438\u043c\u0438 \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f\u043c\u0438 \u043d\u0435 \u043c\u0456\u0441\u0442\u0438\u0442\u044c \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043e\u0457 \u0443\u0442\u0438\u043b\u0456\u0442\u0438 <code>sudo</code>, \u0442\u043e\u0436 \u043d\u0430\u043c \u0434\u043e\u0432\u0435\u0434\u0435\u0442\u044c\u0441\u044f \u0441\u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0442\u0438\u0441\u044c \u043f\u0440\u0430\u0432\u0430\u043c\u0438 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430 <code>root</code>, \u0449\u043e\u0431 \u0434\u043e\u0434\u0430\u0442\u0438 \u0457\u0457 \u0442\u0430 \u0456\u043d\u0448\u0456 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u0456 \u043d\u0430\u043c \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0438:</p> <pre><code>su -\napt install \\\n    sudo screen locate libapache2-mod-tile \\\n    renderd git tar unzip wget bzip2 apache2 \\\n    lua5.1 mapnik-utils python3-mapnik \\\n    python3-psycopg2 python3-yaml gdal-bin \\\n    node-carto postgresql postgresql-contrib \\\n    postgis postgresql-15-postgis-3 \\\n    postgresql-15-postgis-3-scripts osm2pgsql \\\n    net-tools curl\n</code></pre> <p>\u041f\u0435\u0440\u0435\u0431\u0443\u0432\u0430\u044e\u0447\u0438 \u0432 \u043e\u0442\u043e\u0447\u0435\u043d\u0456 root \u043f\u0435\u0440\u0435\u0432\u0456\u0440\u0438\u043c\u043e, \u0447\u0438 \u043c\u0438 \u043c\u043e\u0436\u0435\u043c\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0443\u0442\u0438\u043b\u0456\u0442\u0443 <code>sudo</code> \u0432 \u043e\u0442\u043e\u0447\u0435\u043d\u0456 \u043d\u0430\u0448\u043e\u0433\u043e \u0437\u0432\u0438\u0447\u0430\u0439\u043d\u043e\u0433\u043e \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430. \u0417\u0430\u043c\u0456\u043d\u0456\u0442\u044c <code>youruseraccount</code> \u043d\u0430 \u0432\u0430\u0448 \u043e\u0431\u043b\u0456\u043a\u043e\u0432\u0438\u0439 \u0437\u0430\u043f\u0438\u0441 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0456. \u041d\u0435 \u043d\u0430\u043c\u0430\u0433\u0430\u0439\u0442\u0435\u0441\u044c \u0442\u0430 \u043d\u0435 \u0440\u043e\u0431\u0456\u0442\u044c \u0432\u0441\u0435 \u0432 \u043e\u0442\u043e\u0447\u0435\u043d\u0456 <code>root</code>; \u0441\u0438\u0441\u0442\u0435\u043c\u0430 \u043d\u0435 \u0431\u0443\u0434\u0435 \u043f\u0440\u0430\u0446\u044e\u0432\u0430\u0442\u0438.</p> <pre><code>usermod -aG sudo youruseraccount\nexit\n</code></pre> <p>\u041f\u043e\u0432\u0435\u0440\u043d\u0443\u0432\u0448\u0438\u0441\u044c \u0432 \u043e\u0442\u043e\u0447\u0435\u043d\u043d\u044f \u0437\u0432\u0438\u0447\u0430\u0439\u043d\u043e\u0433\u043e \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430 \u0432\u0438\u043a\u043e\u043d\u0430\u0439\u0442\u0435 \u0432\u0438\u0445\u0456\u0434 \u0442\u0430 \u0432\u0445\u0456\u0434 \u0434\u043e \u0432\u0430\u0448\u043e\u0433\u043e \u043e\u0442\u043e\u0447\u0435\u043d\u043d\u044f, \u043f\u0456\u0441\u043b\u044f \u0447\u043e\u0433\u043e \u043f\u0435\u0440\u0435\u0432\u0456\u0440\u0438\u0442\u0435 \u0440\u043e\u0431\u043e\u0442\u0443 \u0443\u0442\u0438\u043b\u0456\u0442\u0438 \"sudo\":</p> <pre><code>sudo whoami\n</code></pre> <p>\u0423 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u044c \u0432\u0438 \u043c\u0430\u0454\u0442\u0435 \u043e\u0442\u0440\u0438\u043c\u0430\u0442\u0438 <code>root</code>.</p> <p>\u041d\u0430 \u0446\u044c\u043e\u043c\u0443 \u0435\u0442\u0430\u043f\u0456 \u0431\u0443\u043b\u043e \u0434\u043e\u0434\u0430\u043d\u043e \u043a\u0456\u043b\u044c\u043a\u0430 \u043d\u043e\u0432\u0438\u0445 \u043e\u0431\u043b\u0456\u043a\u043e\u0432\u0438\u0445 \u0437\u0430\u043f\u0438\u0441\u0456\u0432. \u0412\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u043e\u0437\u043d\u0430\u0439\u043e\u043c\u0438\u0442\u0438\u0441\u044c \u0437 \u043d\u0438\u043c\u0438 \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e <code>tail /etc/passwd</code>. <code>postgres</code>\u00a0\u2013 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f \u0434\u043b\u044f \u043a\u0435\u0440\u0443\u0432\u0430\u043d\u043d\u044f \u0431\u0430\u0437\u0430\u043c\u0438 \u0434\u0430\u043d\u0438\u0445, \u044f\u043a\u0456 \u043c\u0438 \u0431\u0443\u0434\u0435\u043c\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0434\u043b\u044f \u0437\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u043d\u044f \u0434\u0430\u043d\u0438\u0445 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u0438\u0445 \u043d\u0430\u043c \u0434\u043b\u044f \u0440\u0435\u043d\u0434\u0435\u0440\u0438\u043d\u0433\u0443. <code>_renderd</code>\u00a0\u2013 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f \u0444\u043e\u043d\u043e\u0432\u043e\u044e \u0441\u043b\u0443\u0436\u0431\u043e\u044e <code>renderd</code>, \u0456 \u043d\u0430\u043c \u0434\u0430\u043b\u0456 \u0434\u043e\u0432\u0435\u0434\u0435\u0442\u044c\u0441\u044f \u043f\u0435\u0440\u0435\u043a\u043e\u043d\u0430\u0442\u0438\u0441\u044c, \u0449\u043e \u0431\u0456\u043b\u044c\u0448\u0456\u0441\u0442\u044c \u043a\u043e\u043c\u0430\u043d\u0434 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u044e\u0442\u044c\u0441\u044f \u0441\u0430\u043c\u0435 \u0446\u0438\u043c \u043e\u0431\u043b\u0456\u043a\u043e\u0432\u0438\u043c \u0437\u0430\u043f\u0438\u0441\u043e\u043c.</p> <p>\u0422\u0435\u043f\u0435\u0440 \u0432\u0430\u043c \u0442\u0440\u0435\u0431\u0430 \u0441\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u0431\u0430\u0437\u0443 \u0434\u0430\u043d\u0438\u0445 postgis. \u0422\u0438\u043f\u043e\u0432\u0456 \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f \u0440\u0456\u0437\u043d\u043e\u043c\u0430\u043d\u0456\u0442\u043d\u0438\u0445 \u043f\u0440\u043e\u0433\u0440\u0430\u043c \u043e\u0447\u0456\u043a\u0443\u044e\u0442\u044c \u0449\u043e \u0431\u0430\u0437\u0430 \u0434\u0430\u043d\u0438\u0445 \u043d\u0430\u0437\u0438\u0432\u0430\u0442\u0438\u043c\u0435\u0442\u044c\u0441\u044f <code>gis</code>, \u0442\u043e\u0436 \u043c\u0438 \u0431\u0443\u0434\u0435\u043c\u043e \u0434\u043e\u0442\u0440\u0438\u043c\u0443\u0432\u0430\u0442\u0438\u0441\u044c \u0446\u0456\u0454\u0457 \u0443\u0433\u043e\u0434\u0438 \u0432 \u0446\u0456\u043c \u043a\u0435\u0440\u0456\u0432\u043d\u0438\u0446\u0442\u0432\u0456, \u0445\u043e\u0447\u0430 \u0446\u0435 \u0439 \u043d\u0435 \u043e\u0431\u043e\u0432\u02bc\u044f\u0437\u043a\u043e\u0432\u043e. \u0417\u0432\u0435\u0440\u043d\u0456\u0442\u044c \u0443\u0432\u0430\u0433\u0443, \u0449\u043e <code>_renderd</code> \u043d\u0438\u0436\u0447\u0435 \u0437\u0431\u0456\u0433\u0430\u0454\u0442\u044c\u0441\u044f \u0437 \u0456\u043c\u0435\u043d\u0435\u043c \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430, \u044f\u043a\u0438\u0439 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f \u0434\u043b\u044f \u0444\u043e\u043d\u043e\u0432\u043e\u0457 \u0441\u043b\u0443\u0436\u0431\u0438 <code>renderd</code>.</p> <pre><code>sudo -u postgres -i\ncreateuser _renderd\ncreatedb -E UTF8 -O _renderd gis\n</code></pre> <p>\u041f\u043e\u043a\u0438 \u0432\u0438 \u043f\u0440\u0430\u0446\u044e\u0454\u0442\u0435 \u044f\u043a \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447 <code>postgres</code>, \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u0456\u0442\u044c PostGIS \u0432 \u0431\u0430\u0437\u0443 \u0434\u0430\u043d\u0438\u0445 PostgreSQL:</p> <pre><code>psql\n</code></pre> <p>(\u0446\u0435 \u043f\u0440\u0438\u0437\u0432\u0435\u0434\u0435 \u0434\u043e \u043f\u043e\u044f\u0432\u0438 <code>postgres=#</code> \u043d\u0430 \u043f\u043e\u0447\u0430\u0442\u043a\u0443 \u0440\u044f\u0434\u043a\u0430 \u043a\u043e\u043d\u0441\u043e\u043b\u0456)</p> <pre><code>\\c gis\n</code></pre> <p>(\u0443 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u044c \u0432\u0438 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0435: \"You are now connected to database <code>'gis'</code> as user <code>'postgres'</code>\" [\"\u0422\u0435\u043f\u0435\u0440 \u0432\u0438 \u043f\u0456\u0434\u02bc\u0454\u0434\u043d\u0430\u043d\u0456 \u0434\u043e \u0431\u0430\u0437\u0438 \u0434\u0430\u043d\u0438\u0445 <code>'gis'</code> \u044f\u043a \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447 <code>'postgres'</code>\"])</p> <pre><code>CREATE EXTENSION postgis;\n</code></pre> <p>(\u0443 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u044c \u0432\u0438 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0435: CREATE EXTENSION)</p> <pre><code>CREATE EXTENSION hstore;\n</code></pre> <p>(\u0443 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u044c \u0432\u0438 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0435: CREATE EXTENSION)</p> <pre><code>ALTER TABLE geometry_columns OWNER TO _renderd;\n</code></pre> <p>(\u0443 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u044c \u0432\u0438 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0435: ALTER TABLE)</p> <pre><code>ALTER TABLE spatial_ref_sys OWNER TO _renderd;\n</code></pre> <p>(\u0443 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u044c \u0432\u0438 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0435: ALTER TABLE)</p> <pre><code>\\q\n</code></pre> <p>(\u0446\u0435 \u043f\u0440\u0438\u0437\u0432\u0435\u0434\u0435 \u0434\u043e \u0432\u0438\u0445\u043e\u0434\u0443 \u0437 \u0441\u0435\u0441\u0456\u0457 psql \u0442\u0430 \u043f\u043e\u0432\u0435\u0440\u043d\u0435\u043d\u043d\u044f \u043d\u0430\u0437\u0430\u0434 \u0443 \u043a\u043e\u043d\u0441\u043e\u043b\u044c Linux)</p> <pre><code>exit\n</code></pre> <p>(\u043f\u043e\u0432\u0435\u0440\u043d\u0435\u043d\u043d\u044f \u043d\u0430\u0437\u0430\u0434 \u0434\u043e \u0441\u0435\u0441\u0456\u0457 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430, \u0432 \u044f\u043a\u0456\u0439 \u043c\u0438 \u0437\u043d\u0430\u0445\u043e\u0434\u0438\u043b\u0438\u0441\u044c \u0434\u043e \u0432\u0438\u043a\u043e\u043d\u0430\u043d\u043d\u044f \u043a\u043e\u043c\u0430\u043d\u0434\u0438 <code>sudo -u postgres -i</code> \u0432\u0438\u0449\u0435)</p>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-debian-12/#Mapnik","title":"Mapnik","text":"<p>Mapnik \u043c\u0438 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u043b\u0438 \u0440\u0430\u043d\u0456\u0448\u0435, \u0440\u0430\u0437\u043e\u043c \u0456\u0437 \"sudo\", \u043f\u0435\u0440\u0435\u0432\u0456\u0440\u0438\u043c\u043e \u0447\u0438 \u0432\u0456\u043d \u043f\u0440\u0430\u0446\u044e\u0454:</p> <pre><code>python3\n&gt;&gt;&gt; import mapnik\n&gt;&gt;&gt;\n</code></pre> <p>\u042f\u043a\u0449\u043e python \u0443 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u044c \u0432\u0438\u0434\u0430\u0454 \u0442\u0456\u043b\u044c\u043a\u0438 <code>&gt;&gt;&gt;</code> \u0431\u0435\u0437 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f \u043f\u0440\u043e \u043f\u043e\u043c\u0438\u043b\u043a\u0438, \u0437\u043d\u0430\u0447\u0438\u0442\u044c \u0431\u0456\u0431\u043b\u0456\u043e\u0442\u0435\u043a\u0430 Mapnik \u0454 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e\u044e \u0432 Python. \u0412\u0456\u0442\u0430\u0454\u043c\u043e! \u0414\u043b\u044f \u0432\u0438\u0445\u043e\u0434\u0443 \u0456\u0437 \u0441\u0435\u0441\u0456\u0457 Python \u0441\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u0439\u0442\u0435\u0441\u044c \u043d\u0430\u0441\u0442\u0443\u043f\u043d\u043e\u044e \u043a\u043e\u043c\u0430\u043d\u0434\u043e\u044e:</p> <pre><code>&gt;&gt;&gt; quit()\n</code></pre>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-debian-12/#\u041d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f-\u0441\u0442\u0438\u043b\u0456\u0432","title":"\u041d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f \u0441\u0442\u0438\u043b\u0456\u0432","text":"<p>\u0422\u0435\u043f\u0435\u0440, \u043f\u0456\u0441\u043b\u044f \u0442\u043e\u0433\u043e, \u044f\u043a \u0432\u0441\u0435 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u0435 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043d\u0435 \u0437\u0430\u0431\u0435\u0437\u043f\u0435\u0447\u0435\u043d\u043d\u044f \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0435, \u0432\u0430\u043c \u0442\u0440\u0435\u0431\u0430 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u0442\u0430 \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u0442\u0438 \u0441\u0442\u0438\u043b\u0456.</p> <p>\u0421\u0442\u0438\u043b\u044c, \u044f\u043a\u0438\u0439 \u043c\u0438 \u0431\u0443\u0434\u0435\u043c\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438,\u00a0\u2013 \u0446\u0435 \u0441\u0442\u0438\u043b\u044c \u044f\u043a\u0438\u0439 \u0437\u0430\u0441\u0442\u043e\u0441\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f \u0434\u043b\u044f \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \"\u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u043e\u0433\u043e\" \u0448\u0430\u0440\u0443 \u043d\u0430 \u0441\u0430\u0439\u0442\u0456 openstreetmap.org. \u041c\u0438 \u043e\u0431\u0440\u0430\u043b\u0438 \u0439\u043e\u0433\u043e \u0447\u0435\u0440\u0435\u0437 \u0433\u0430\u0440\u043d\u0443 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0456\u044e \u0456 \u0442\u0435, \u0449\u043e \u0432\u0456\u043d \u0437\u0434\u0430\u0442\u0435\u043d \u043f\u0440\u0430\u0446\u044e\u0432\u0430\u0442\u0438 \u0434\u043b\u044f \u0431\u0443\u0434\u044c-\u044f\u043a\u043e\u0457 \u0447\u0430\u0441\u0442\u0438\u043d\u0438 \u0441\u0432\u0456\u0442\u0443, \u043d\u0430\u0432\u0456\u0442\u044c \u0442\u0430\u043c \u0434\u0435 \u043d\u0435 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f \u043b\u0430\u0442\u0438\u043d\u043a\u0430. \u0410\u043b\u0435 \u0443 \u043d\u044c\u043e\u0433\u043e \u0454 \u0439 \u043f\u0435\u0432\u043d\u0456 \u043d\u0435\u0434\u043e\u043b\u0456\u043a\u0438\u00a0\u2013 \u0446\u0435 \u043a\u043e\u043c\u043f\u0440\u043e\u043c\u0456\u0441\u043d\u0456 \u0440\u0456\u0448\u0435\u043d\u043d\u044f \u0434\u043b\u044f \u0442\u043e\u0433\u043e, \u0449\u043e\u0431 \u043f\u0440\u0430\u0446\u044e\u0432\u0430\u0442\u0438 \u0432 \u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u0438\u0445 \u043c\u0430\u0441\u0448\u0442\u0430\u0431\u0430\u0445, \u0432\u0456\u043d \u0434\u0443\u0436\u0435 \u0441\u043a\u043b\u0430\u0434\u043d\u0438\u0439 \u0434\u043b\u044f \u0440\u043e\u0437\u0443\u043c\u0456\u043d\u043d\u044f \u0442\u0430 \u0432\u043d\u0435\u0441\u0435\u043d\u043d\u044f \u0437\u043c\u0456\u043d, \u044f\u043a\u0449\u043e \u0432\u0430\u043c \u0434\u043e\u0432\u0435\u0434\u0435\u0442\u044c\u0441\u044f \u0457\u0445 \u0432\u043d\u043e\u0441\u0438\u0442\u0438.</p> <p>\u041a\u043e\u0434 \u0441\u0442\u0438\u043b\u044e \"OpenStreetMap Carto\" \u0437 \u0432\u0435\u0431\u0441\u0430\u0439\u0442\u0443 openstreetmap.org \u0437\u043d\u0430\u0445\u043e\u0434\u0438\u0442\u044c\u0441\u044f \u043d\u0430 GitHub\u00a0\u2013 https://github.com/gravitystorm/openstreetmap-carto/ \u0442\u0430 \u0442\u0430\u043a\u043e\u0436 \u043c\u0430\u0454 \u0432\u043b\u0430\u0441\u043d\u0456 \u0456\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0456\u0457 \u0437\u0456 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f\u00a0\u2013 https://github.com/gravitystorm/openstreetmap-carto/blob/master/INSTALL.md. \u041f\u0440\u043e \u0442\u0435, \u0449\u043e \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0437\u0440\u043e\u0431\u0438\u0442\u0438, \u043c\u0438 \u0440\u043e\u0437\u043f\u043e\u0432\u0456\u043c\u043e \u0442\u0443\u0442.</p> <p>\u041f\u0435\u0440\u0435\u0434\u0431\u0430\u0447\u0430\u0454\u0442\u044c\u0441\u044f \u0449\u043e \u043c\u0438 \u0440\u043e\u0437\u043c\u0456\u0449\u0443\u0454\u043c\u043e \u0441\u0442\u0438\u043b\u044c \u0432 \u0442\u0435\u0446\u0456 <code>~/src</code> \u0434\u043e\u043c\u0430\u0448\u043d\u044c\u043e\u0457 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0456\u0457 \u0437\u0432\u0438\u0447\u0430\u0439\u043d\u043e\u0433\u043e \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430 (\u043d\u0435 root):</p> <pre><code>mkdir ~/src\ncd ~/src\ngit clone https://github.com/gravitystorm/openstreetmap-carto\ncd openstreetmap-carto\ngit pull --all\ngit switch --detach v5.9.0\n</code></pre> <p>\"git switch\" \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0432\u0438\u043a\u043e\u043d\u0430\u0442\u0438 \u0442\u043e\u043c\u0443, \u0449\u043e \u0446\u0435 \u043e\u0441\u0442\u0430\u043d\u043d\u044f \u0432\u0435\u0440\u0441\u0456\u044f, \u044f\u043a\u0443 \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0438 \u043d\u0430 OpenStreetMap, \u0430\u043b\u0435 OSM Carto \u043f\u0435\u0440\u0435\u0431\u0443\u0432\u0430\u0454 \u0443 \u043f\u0440\u043e\u0446\u0435\u0441\u0456 \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0443 \u043d\u0430 \u0456\u043d\u0448\u0438\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u0431\u0430\u0437\u0438 \u0434\u0430\u043d\u0438\u0445. \u0414\u0438\u0432\u0456\u0442\u044c\u0441\u044f [INSTALL.md] (https://github.com/gravitystorm/openstreetmap-carto/blob/master/INSTALL.md) \u0434\u043b\u044f \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u044f \u043d\u043e\u0432\u043e\u0457 \u0432\u0435\u0440\u0441\u0456\u0457 OSM Carto.</p> <p>\u0414\u0430\u043b\u0456, \u043f\u0435\u0440\u0435\u0432\u0456\u0440\u0438\u043c\u043e \u0447\u0438 \u0432 \u043d\u0430\u044f\u0432\u043d\u043e\u0441\u0442\u0456 \u0443 \u043d\u0430\u0441 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u0430 \u0432\u0435\u0440\u0441\u0456\u044f \u043a\u043e\u043c\u043f\u0456\u043b\u044f\u0442\u043e\u0440\u0430 <code>carto</code>.</p> <pre><code>carto -v\n</code></pre> <p>\u0423 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u044c \u043c\u0438 \u043c\u0430\u0454\u043c\u043e \u043e\u0442\u0440\u0438\u043c\u0430\u0442\u0438 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044e \u043f\u0440\u043e \u043d\u043e\u043c\u0435\u0440 \u0432\u0435\u0440\u0441\u0456\u0457, \u044f\u043a\u0430 \u043c\u0430\u0454 \u0431\u0443\u0442\u0438 \u043d\u0435 \u043c\u0435\u043d\u0448\u0435 \u043d\u0456\u0436:</p> <pre><code>1.2.0\n</code></pre> <p>\u041f\u0456\u0441\u043b\u044f \u0446\u044c\u043e\u0433\u043e \u043c\u0438 \u043f\u0435\u0440\u0435\u0442\u0432\u043e\u0440\u0438\u043c\u043e \u043f\u0440\u043e\u0454\u043a\u0442 carto \u0443 \u0437\u0440\u043e\u0437\u0443\u043c\u0456\u043b\u0438\u0439 \u0434\u043b\u044f Mapnik \u0432\u0438\u0433\u043b\u044f\u0434:</p> <pre><code>carto project.mml &gt; mapnik.xml\n</code></pre> <p>\u0422\u0435\u043f\u0435\u0440 \u0443 \u043d\u0430\u0441 \u0454 \u0441\u0442\u0438\u043b\u044c Mapnik XML\u00a0\u2013 <code>/home/youraccountname/src/openstreetmap-carto/mapnik.xml</code>.</p>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-debian-12/#\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f-\u0434\u0430\u043d\u0438\u0445","title":"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u0434\u0430\u043d\u0438\u0445","text":"<p>\u0414\u043b\u044f \u043f\u043e\u0447\u0430\u0442\u043a\u0443, \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u043c\u043e \u043d\u0435\u0432\u0435\u043b\u0438\u0447\u043a\u0443 \u0447\u0430\u0441\u0442\u0438\u043d\u0443 \u0442\u0435\u0441\u0442\u043e\u0432\u0438\u0445 \u0434\u0430\u043d\u0438\u0445. \u0421\u0435\u0440\u0435\u0434 \u0440\u0456\u0437\u043d\u043e\u043c\u0430\u0457\u0442\u0442\u044f \u043c\u0456\u0441\u0446\u044c \u0434\u043b\u044f \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u044f \u0434\u0430\u043d\u0438\u0445, \u043e\u0431\u0435\u0440\u0435\u043c\u043e <code>download.geofabrik.de</code>, \u0449\u043e \u043c\u0456\u0441\u0442\u0438\u0442\u044c \u0432\u0435\u043b\u0438\u043a\u0438\u0439 \u043f\u0435\u0440\u0435\u043b\u0456\u043a \u0440\u0456\u0437\u043d\u0438\u0445 \u0432\u0430\u0440\u0456\u0430\u043d\u0442\u0456\u0432 \u0434\u043b\u044f \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f. \u0412\u0456\u0437\u044c\u043c\u0456\u043c\u043e \u0434\u043b\u044f \u043f\u0440\u0438\u043a\u043b\u0430\u0434\u0443 \u0410\u0437\u0435\u0440\u0431\u0430\u0439\u0434\u0436\u0430\u043d (~32.4 \u041c\u0431).</p> <p>\u041f\u0435\u0440\u0435\u0439\u0434\u0456\u0442\u044c \u0437\u0430 \u043f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f\u043c https://download.geofabrik.de/asia/azerbaijan.html \u0442\u0430 \u0437\u0432\u0435\u0440\u043d\u0456\u0442\u044c \u0443\u0432\u0430\u0433\u0443 \u043d\u0430 \u0434\u0430\u0442\u0443 \"This file was last modified\" (\u0449\u043e\u0441\u044c \u0441\u0445\u043e\u0436\u0435 \u043d\u0430 \"2020-11-13T21:42:03Z\"). \u0412\u043e\u043d\u0430 \u043d\u0430\u043c \u0437\u043d\u0430\u0434\u043e\u0431\u0438\u0442\u044c\u0441\u044f \u043f\u043e\u0442\u0456\u043c, \u043a\u043e\u043b\u0438 \u0443 \u043d\u0430\u0441 \u0432\u0438\u043d\u0438\u043a\u043d\u0435 \u043f\u043e\u0442\u0440\u0435\u0431\u0430 \u043e\u043d\u043e\u0432\u0438\u0442\u0438 \u043d\u0430\u0448\u0456 \u0434\u0430\u043d\u0456 \u0434\u0430\u043d\u0438\u043c\u0438, \u044f\u043a\u0456 \u0443\u0447\u0430\u0441\u043d\u0438\u043a\u0438 OpenStreetMap \u0434\u043e\u0434\u0430\u043b\u0438 \u0437 \u043c\u043e\u043c\u0435\u043d\u0442\u0443 \u043d\u0430\u0448\u043e\u0433\u043e \u0456\u043c\u043f\u043e\u0440\u0442\u0443. \u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u043c\u043e \u0434\u0430\u043d\u0456:</p> <pre><code>mkdir ~/data\ncd ~/data\nwget https://download.geofabrik.de/asia/azerbaijan-latest.osm.pbf\n</code></pre> <p>\u0414\u0430\u043b\u0456 \u043d\u0430\u043c \u0442\u0440\u0435\u0431\u0430 \u043f\u0435\u0440\u0435\u043a\u043e\u043d\u0430\u0442\u0438\u0441\u044c, \u0449\u043e \u043e\u0431\u043b\u0456\u043a\u043e\u0432\u0438\u0439 \u0437\u0430\u043f\u0438\u0441 <code>_renderd</code> \u043c\u0430\u0454 \u0434\u043e\u0441\u0442\u0443\u043f \u0434\u043e \u0441\u0442\u0438\u043b\u044e. \u0419\u043e\u043c\u0443 \u043f\u043e\u0442\u0440\u0456\u0431\u0435\u043d \u0434\u043e\u0441\u0442\u0443\u043f \u0434\u043e \u0432\u0441\u044c\u043e\u0433\u043e, \u0449\u043e \u0432\u0438 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u043b\u0438 \u0434\u043b\u044f \u043d\u044c\u043e\u0433\u043e, \u0430\u043b\u0435, \u0442\u0438\u043f\u043e\u0432\u043e, \u0432\u0456\u043d \u043d\u0435 \u043f\u043e\u0432\u0438\u043d\u0435\u043d \u043c\u0430\u0442\u0438 \u0434\u043e\u0441\u0442\u0443\u043f\u0443 \u0434\u043e \u0432\u0430\u0448\u043e\u0457 \u0434\u043e\u043c\u0430\u0448\u043d\u044c\u043e\u0457 \u0442\u0435\u043a\u0438. \u042f\u043a\u0449\u043e \u043c\u0438 \u043f\u0435\u0440\u0435\u0434\u0431\u0430\u0447\u0430\u0454\u043c\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0442\u0435\u043a\u0443 <code>src</code>, \u0449\u043e \u0437\u043d\u0430\u0445\u043e\u0434\u0438\u0442\u044c\u0441\u044f \u0432 \u0441\u0435\u0440\u0435\u0434\u0438\u043d\u0456 \u0442\u0435\u043a\u0438 \u0432\u0430\u0448\u043e\u0433\u043e \u043e\u0431\u043b\u0456\u043a\u043e\u0432\u043e\u0433\u043e \u0437\u0430\u043f\u0438\u0441\u0443, \u0434\u043b\u044f \u0446\u044c\u043e\u0433\u043e \u043f\u0435\u0440\u0435\u0439\u0434\u0456\u0442\u044c \u0434\u043e \u043d\u0435\u0457 \u0442\u0430 \u0432\u0438\u043a\u043e\u043d\u0430\u0439\u0442\u0435 \u043a\u043e\u043c\u0430\u043d\u0434\u0443</p> <pre><code>chmod o+rx ~\n</code></pre> <p>\u042f\u043a\u0449\u043e \u0432\u0438 \u043d\u0435 \u0431\u0430\u0436\u0430\u0454\u0442\u0435 \u0440\u043e\u0431\u0438\u0442\u0438 \u0446\u044c\u043e\u0433\u043e, \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u0435\u0440\u0435\u043c\u0456\u0441\u0442\u0438\u0442\u0438 \u0441\u0442\u0438\u043b\u044c \u0432 \u0456\u043d\u0448\u0435 \u043c\u0456\u0441\u0446\u0435 \u0442\u0430 \u0437\u043c\u0456\u043d\u0438\u0442\u0438 \u043f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f \u043d\u0430 \u0440\u043e\u0437\u0442\u0430\u0448\u0443\u0432\u0430\u043d\u043d\u044f \u0444\u0430\u0439\u043b\u0456\u0432 \u0443 \u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0438\u0445 \u043a\u043e\u043c\u0430\u043d\u0434\u0430\u0445.</p> <p>\u041d\u0430\u0441\u0442\u0443\u043f\u043d\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0436\u0435 \u0432\u0430\u043c \u043f\u0435\u0440\u0435\u043d\u0435\u0441\u0442\u0438 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u0456 \u0434\u0430\u043d\u0456 \u0434\u043e \u0432\u0430\u0448\u043e\u0457 \u0431\u0430\u0437\u0438 \u0434\u0430\u043d\u0438\u0445. \u041d\u0430 \u0446\u044c\u043e\u043c\u0443 \u0435\u0442\u0430\u043f\u0456 \u0437\u0440\u043e\u0441\u0442\u0435 \u043d\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u043d\u0430 \u0434\u0438\u0441\u043a\u043e\u0432\u0456 \u043e\u043f\u0435\u0440\u0430\u0446\u0456\u0457 \u0447\u0435\u0440\u0435\u0437 \u043f\u043e\u0442\u0440\u0435\u0431\u0443 \u043f\u0435\u0440\u0435\u043d\u0435\u0441\u0435\u043d\u043d\u044f \u0437\u043d\u0430\u0447\u043d\u043e\u0433\u043e \u043e\u0431\u0441\u044f\u0433\u0443 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u0457; \u0456\u043c\u043f\u043e\u0440\u0442 \u0432\u0441\u0456\u0454\u0457 \u043f\u043b\u0430\u043d\u0435\u0442\u0438 \u043c\u043e\u0436\u0435 \u0442\u0440\u0438\u0432\u0430\u0442\u0438 \u043a\u0456\u043b\u044c\u043a\u0430 \u0433\u043e\u0434\u0438\u043d, \u0434\u043d\u0456\u0432 \u0442\u0430 \u043d\u0430\u0432\u0456\u0442\u044c \u0442\u0438\u0436\u043d\u0456\u0432, \u0432 \u0437\u0430\u043b\u0435\u0436\u043d\u043e\u0441\u0442\u0456 \u0432\u0456\u0434 \u043f\u043e\u0442\u0443\u0436\u043d\u043e\u0441\u0442\u0435\u0439 \u0432\u0430\u0448\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u043d\u043e\u0433\u043e \u043e\u0431\u043b\u0430\u0434\u043d\u0430\u043d\u043d\u044f. \u0417\u0440\u043e\u0437\u0443\u043c\u0456\u043b\u043e, \u0449\u043e \u0434\u043b\u044f \u043d\u0435\u0432\u0435\u043b\u0438\u043a\u0438\u0445 \u0447\u0430\u0441\u0442\u0438\u043d \u0434\u0430\u043d\u0438\u0445 \u0456\u043c\u043f\u043e\u0440\u0442 \u0432\u0456\u0434\u0431\u0443\u0432\u0430\u0454\u0442\u044c\u0441\u044f \u0437\u043d\u0430\u0447\u043d\u043e \u0448\u0432\u0438\u0434\u0448\u0435, \u043c\u043e\u0436\u043b\u0438\u0432\u043e \u0432\u0430\u043c \u0434\u043e\u0432\u0435\u0434\u0435\u0442\u044c\u0441\u044f \u043f\u043e\u0435\u043a\u0441\u043f\u0435\u0440\u0438\u043c\u0435\u043d\u0442\u0443\u0432\u0430\u0442\u0438 \u0437\u0456 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f\u043c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430 <code>-C</code>, \u0449\u043e\u0431 \u0432\u043a\u043b\u0430\u0441\u0442\u0438\u0441\u044c \u0443 \u043d\u0430\u044f\u0432\u043d\u0443 \u043e\u043f\u0435\u0440\u0430\u0442\u0438\u0432\u043d\u0443 \u043f\u0430\u043c\u02bc\u044f\u0442\u044c \u0432\u0430\u0448\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430. \u0417\u0432\u0435\u0440\u043d\u0456\u0442\u044c \u0443\u0432\u0430\u0433\u0443, \u0449\u043e \u043c\u0438 \u0440\u043e\u0431\u0438\u043c\u043e \u0446\u0435 \u0432 \u043e\u0442\u043e\u0447\u0435\u043d\u0456 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430 <code>_renderd</code>.</p> <pre><code>sudo -u _renderd osm2pgsql \\\n    -d gis --create --slim  -G --hstore \\\n    --tag-transform-script \\\n        ~/src/openstreetmap-carto/openstreetmap-carto.lua \\\n    -C 2500 --number-processes 1 \\\n    -S ~/src/openstreetmap-carto/openstreetmap-carto.style \\\n    ~/data/azerbaijan-latest.osm.pbf\n</code></pre> <p>\u0420\u043e\u0437\u0431\u0435\u0440\u0456\u043c\u043e\u0441\u044f \u0449\u043e \u043e\u0437\u043d\u0430\u0447\u0430\u044e\u0442\u044c \u0432\u0441\u0456 \u0446\u0456 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0438:</p> <code>-d gis</code> \u0411\u0430\u0437\u0430 \u0434\u0430\u043d\u0438\u0445, \u0437 \u044f\u043a\u043e\u044e \u043c\u0438 \u043f\u0440\u0430\u0446\u044e\u0454\u043c\u043e (\u0442\u0438\u043f\u043e\u0432\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f <code>gis</code>; \u0442\u0443\u0442 \u0442\u0440\u0435\u0431\u0430 \u0432\u043a\u0430\u0437\u0430\u0442\u0438 \u0457\u0457 \u044f\u0432\u043d\u043e). <code>--create</code> \u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u0434\u0430\u043d\u0456 \u0432 \u043f\u0443\u0441\u0442\u0443 \u0431\u0430\u0437\u0443 \u0434\u0430\u043d\u0438\u0445, \u0437\u0430\u043c\u0456\u0441\u0442\u044c \u0441\u043f\u0440\u043e\u0431 \u0434\u043e\u0434\u0430\u0442\u0438 \u0457\u0445 \u0434\u043e \u043d\u0430\u044f\u0432\u043d\u0438\u0445. <code>--slim</code> osm2pgsql \u043c\u043e\u0436\u0435 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0440\u0456\u0437\u043d\u043e\u043c\u0430\u043d\u0456\u0442\u043d\u0456 \u0441\u0445\u0435\u043c\u0438 \u0442\u0430\u0431\u043b\u0438\u0446\u044c; <code>slim</code> \u0433\u043e\u0434\u0438\u0442\u044c\u0441\u044f \u0434\u043b\u044f \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0456\u0457 \u0442\u0430\u0439\u043b\u0456\u0432. <code>-G</code> \u0412\u0438\u0437\u043d\u0430\u0447\u0430\u0454, \u044f\u043a\u0438\u043c \u0447\u0438\u043d\u043e\u043c \u0431\u0443\u0434\u0443\u0442\u044c \u043e\u0431\u0440\u043e\u0431\u043b\u044f\u0442\u0438\u0441\u044c \u043c\u0443\u043b\u044c\u0442\u0438\u043f\u043e\u043b\u0456\u0433\u043e\u043d\u0438. <code>--hstore</code> \u0414\u043e\u0437\u0432\u043e\u043b\u044f\u0454 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0434\u043b\u044f \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0456\u0457 \u0442\u0430\u0439\u043b\u0456\u0432 \u0442\u0435\u0491\u0438, \u0434\u043b\u044f \u044f\u043a\u0438\u0445 \u043d\u0435\u043c\u0430\u0454 \u043e\u043a\u0440\u0435\u043c\u0438\u0445 \u0441\u0442\u043e\u0432\u043f\u0446\u0456\u0432 \u0432 \u0431\u0430\u0437\u0456 \u0434\u0430\u043d\u0438\u0445. <code>--tag-transform-script ~/src/openstreetmap-carto/openstreetmap-carto.lua</code> \u0412\u0438\u0437\u043d\u0430\u0447\u0430\u0454 \u0441\u043a\u0440\u0438\u043f\u0442 lua, \u044f\u043a\u0438\u0439 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f \u0434\u043b\u044f \u043e\u0431\u0440\u043e\u0431\u043a\u0438 \u0442\u0435\u0491\u0456\u0432. \u0426\u0435 \u043f\u0440\u043e\u0441\u0442\u0438\u0439 \u0441\u043f\u043e\u0441\u0456\u0431 \u043e\u0431\u0440\u043e\u0431\u043a\u0438 \u0442\u0435\u0491\u0456\u0432 OSM \u0434\u043e \u0442\u043e\u0433\u043e, \u044f\u043a \u0432\u043e\u043d\u0438 \u0431\u0443\u0434\u0443\u0442\u044c \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u0456 \u0432 \u0441\u0442\u0438\u043b\u0456, \u0449\u043e \u0441\u043f\u0440\u043e\u0449\u0443\u0454 \u043b\u043e\u0433\u0456\u043a\u0443 \u0441\u0430\u043c\u043e\u0433\u043e \u0441\u0442\u0438\u043b\u044e. <code>-C 2500</code> \u0412\u0438\u0434\u0456\u043b\u044f\u0454 2.5 \u0413\u0431 \u043e\u043f\u0435\u0440\u0430\u0442\u0438\u0432\u043d\u043e\u0457 \u043f\u0430\u043c\u02bc\u044f\u0442\u0456 \u0434\u043b\u044f osm2pgsql \u043d\u0430 \u0432\u0438\u043a\u043e\u043d\u0430\u043d\u043d\u044f \u0456\u043c\u043f\u043e\u0440\u0442\u0443. \u042f\u043a\u0449\u043e \u0443 \u0432\u0430\u0441 \u043c\u0435\u043d\u0448\u0435 \u043e\u043f\u0435\u0440\u0430\u0442\u0438\u0432\u043d\u043e\u0457 \u043f\u0430\u043c\u02bc\u044f\u0442\u0456, \u0441\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043c\u0435\u043d\u0448\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f. \u042f\u043a\u0449\u043e \u043f\u0440\u043e\u0446\u0435\u0441 \u0456\u043c\u043f\u043e\u0440\u0442\u0443 \u0431\u0443\u0434\u0435 \u0437\u043d\u0438\u0449\u0435\u043d\u0438\u0439 \u0447\u0435\u0440\u0435\u0437 \u043d\u0435\u0441\u0442\u0430\u0447\u0443 \u043e\u043f\u0435\u0440\u0430\u0442\u0438\u0432\u043d\u043e\u0457 \u043f\u0430\u043c\u02bc\u044f\u0442\u0456, \u0441\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0437\u043c\u0435\u043d\u0448\u0438\u0442\u0438 \u0446\u0435 \u0447\u0438\u0441\u043b\u043e \u0430\u0431\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0439\u0442\u0435 \u043c\u0435\u043d\u0448\u0438\u0439 \u043e\u0431\u0441\u044f\u0433 \u0434\u0430\u043d\u0438\u0445. <code>--number-processes 1</code> \u0412\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u043e\u0434\u043d\u0435 \u044f\u0434\u0440\u043e \u043f\u0440\u043e\u0446\u0435\u0441\u043e\u0440\u0430. \u042f\u043a\u0449\u043e \u0443 \u0432\u0430\u0441 \u0431\u0430\u0433\u0430\u0442\u043e\u044f\u0434\u0435\u0440\u043d\u0438\u0439 \u043f\u0440\u043e\u0446\u0435\u0441\u043e\u0440 \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0431\u0456\u043b\u044c\u0448\u0443 \u043a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u044f\u0434\u0435\u0440. <code>-S ~/src/openstreetmap-carto/openstreetmap-carto.style</code> \u0421\u0442\u0432\u043e\u0440\u044e\u0432\u0430\u0442\u0438 \u0441\u0442\u043e\u0432\u043f\u0446\u0456 \u0432 \u0431\u0430\u0437\u0456 \u0434\u0430\u043d\u0438\u0445 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u044e\u0447\u0438 \u0432\u043a\u0430\u0437\u0430\u043d\u0438\u0439 \u0444\u0430\u0439\u043b (\u0432 \u043d\u0430\u0448\u043e\u043c\u0443 \u0432\u0438\u043f\u0430\u0434\u043a\u0443 \u0432\u0456\u043d \u043d\u0456\u0447\u0438\u043c \u043d\u0435 \u0432\u0456\u0434\u0440\u0456\u0437\u043d\u044f\u0454\u0442\u044c\u0441\u044f \u0432\u0456\u0434 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u043e\u0433\u043e \"openstreetmap-carto\") <code>~/data/azerbaijan-latest.osm.pbf</code> \u041e\u0441\u0442\u0430\u043d\u043d\u0456\u0439 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u00a0\u2013 \u0446\u0435 \u0444\u0430\u0439\u043b \u0437 \u0434\u0430\u043d\u0438\u043c\u0438 \u0434\u043b\u044f \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u0432 \u0431\u0430\u0437\u0443. <p>\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u043c \u0440\u043e\u0431\u043e\u0442\u0438 \u0446\u0456\u0454\u0457 \u043a\u043e\u043c\u0430\u043d\u0434\u0438 \u043c\u0430\u0454 \u0431\u0443\u0442\u0438 \u0449\u043e\u0441\u044c \u0441\u0445\u043e\u0436\u0435 \u043d\u0430 \"Osm2pgsql took 238s overall\".</p>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-debian-12/#\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f-\u0456\u043d\u0434\u0435\u043a\u0441\u0456\u0432","title":"\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u0456\u043d\u0434\u0435\u043a\u0441\u0456\u0432","text":"<p>\u041f\u043e\u0447\u0438\u043d\u0430\u044e\u0447\u0438 \u0437 \u0432\u0435\u0440\u0441\u0456\u0457 5.3.0, \u0434\u0435\u044f\u043a\u0456 \u0434\u043e\u0434\u0430\u0442\u043a\u043e\u0432\u0456 \u0456\u043d\u0434\u0435\u043a\u0441\u0438 \u043c\u0430\u044e\u0442\u044c \u0431\u0443\u0442\u0438 \u0437\u0430\u0441\u0442\u043e\u0441\u043e\u0432\u0430\u043d\u0456 \u0432\u0440\u0443\u0447\u043d\u0443:.</p> <pre><code>cd ~/src/openstreetmap-carto/\nsudo -u _renderd psql -d gis -f indexes.sql\n</code></pre> <p>\u0421\u043a\u0440\u0438\u043f\u0442 \u043c\u0430\u0454 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u0438\u0442\u0438 <code>CREATE INDEX</code> 16 \u0440\u0430\u0437\u0456\u0432.</p>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-debian-12/#\u0424\u0443\u043d\u043a\u0446\u0456\u0457-\u0431\u0430\u0437\u0438-\u0434\u0430\u043d\u0438\u0445","title":"\u0424\u0443\u043d\u043a\u0446\u0456\u0457 \u0431\u0430\u0437\u0438 \u0434\u0430\u043d\u0438\u0445","text":"<p>\u0423 \u0432\u0435\u0440\u0441\u0456\u0457 5.9.0 \u00abOSM Carto\u00bb (\u0432\u0438\u043f\u0443\u0449\u0435\u043d\u0430 \u0432 \u0436\u043e\u0432\u0442\u043d\u0456 2024 \u0440\u043e\u043a\u0443) \u0434\u0435\u044f\u043a\u0456 \u0444\u0443\u043d\u043a\u0446\u0456\u0457 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0443\u0432\u0430\u0442\u0438 \u0432 \u0431\u0430\u0437\u0443 \u0434\u0430\u043d\u0438\u0445 \u0432\u0440\u0443\u0447\u043d\u0443. \u0412\u043e\u043d\u0438 \u043c\u043e\u0436\u0443\u0442\u044c \u0431\u0443\u0442\u0438 \u0434\u043e\u0434\u0430\u043d\u0456/\u043f\u0435\u0440\u0435\u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u0456 \u0432 \u0431\u0443\u0434\u044c-\u044f\u043a\u0438\u0439 \u043c\u043e\u043c\u0435\u043d\u0442 \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e:</p> <pre><code>cd ~/src/openstreetmap-carto/\nsudo -u _renderd psql -d gis -f functions.sql\n</code></pre>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-debian-12/#\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f-Shapefile","title":"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f Shapefile","text":"<p>\u041f\u043e\u043f\u0440\u0438 \u0442\u0435, \u0449\u043e \u0431\u0456\u043b\u044c\u0448\u0456\u0441\u0442\u044c \u0434\u0430\u043d\u0438\u0445 \u0434\u043b\u044f \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u043c\u0430\u043f\u0438 \u0431\u0435\u0440\u0435\u0442\u044c\u0441\u044f \u0437 \u0444\u0430\u0439\u043b\u0443 \u0437 \u0434\u0430\u043d\u0438\u043c\u0438 OpenStreetMap, \u044f\u043a\u0438\u0439 \u0432\u0438 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u043b\u0438 \u0440\u0430\u043d\u0456\u0448\u0435, \u0434\u0435\u044f\u043a\u0456 \u0444\u0430\u0439\u043b\u0438 \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0456 shapefile \u0432\u0441\u0435 \u0436 \u0442\u0430\u043a\u0456 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u0456 \u0434\u043b\u044f \u0442\u0430\u043a\u0438\u0445 \u0440\u0435\u0447\u0435\u0439, \u043d\u0430\u043f\u0440\u0438\u043a\u043b\u0430\u0434, \u044f\u043a \u043a\u043e\u0440\u0434\u043e\u043d\u0438 \u043a\u0440\u0430\u0457\u043d \u043d\u0430 \u0432\u0435\u043b\u0438\u043a\u0438\u0445 \u043c\u0430\u0441\u0448\u0442\u0430\u0431\u0430\u0445. \u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0442\u0435 \u0457\u0445 \u0442\u0430 \u043f\u0440\u043e\u0456\u043d\u0434\u0435\u043a\u0441\u0443\u0439\u0442\u0435:</p> <pre><code>cd ~/src/openstreetmap-carto/\nmkdir data\nsudo chown _renderd data\nsudo -u _renderd scripts/get-external-data.py\n</code></pre> <p>\u0426\u0435\u0439 \u043f\u0440\u043e\u0446\u0435\u0441 \u0432\u0438\u043c\u0430\u0433\u0430\u0454 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u0432\u0435\u043b\u0438\u043a\u043e\u0457 \u043f\u043e\u0440\u0446\u0456\u0457 \u0434\u0430\u043d\u0438\u0445 \u0442\u0430 \u0442\u0440\u0438\u0432\u0430\u0442\u0438\u043c\u0435 \u0434\u0435\u044f\u043a\u0438\u0439 \u0447\u0430\u0441 \u0431\u0435\u0437 \u0431\u0443\u0434\u044c-\u044f\u043a\u0438\u0445 \u043f\u043e\u043c\u0456\u0442\u043d\u0438\u0445 \u0437\u043c\u0456\u043d \u043d\u0430 \u0435\u043a\u0440\u0430\u043d\u0456. \u0427\u0430\u0441\u0442\u0438\u043d\u0430 \u0434\u0430\u043d\u0438\u0445 \u0437\u0430\u043f\u0438\u0441\u0443\u0454\u0442\u044c\u0441\u044f \u0431\u0435\u0437\u043f\u043e\u0441\u0435\u0440\u0435\u0434\u043d\u044c\u043e \u0443 \u0431\u0430\u0437\u0443 \u0434\u0430\u043d\u0438\u0445, \u0430 \u0456\u043d\u0448\u0430 \u0443 \u043f\u0456\u0434\u0442\u0435\u043a\u0443 \"data\" \u0432 \"openstreetmap-carto\". \u042f\u043a\u0449\u043e \u0443 \u0432\u0430\u0441 \u0442\u0443\u0442 \u0432\u0438\u043d\u0438\u043a\u043d\u0443\u0442\u044c \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0438, \u0442\u043e \u0446\u0435 \u0441\u043a\u043e\u0440\u0456\u0448\u0435 \u0447\u0435\u0440\u0435\u0437 \u0442\u0435, \u0449\u043e \u0434\u0430\u043d\u0456 Natural Earth \u043c\u043e\u0436\u0443\u0442\u044c \u0431\u0443\u0442\u0438 \u043d\u0435 \u0432 \u0442\u043e\u043c\u0443 \u043c\u0456\u0441\u0446\u0456. \u042f\u043a\u0449\u043e \u0432\u0430\u043c \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0437\u043c\u0456\u043d\u0438\u0442\u0438 \u043c\u0456\u0441\u0446\u0435 \u043a\u0443\u0434\u0438 \u0432\u0438 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0443\u0454\u0442\u0435 \u0434\u0430\u043d\u0456 Natural Earth\u00a0\u2013 \u0432\u043d\u0435\u0441\u0456\u0442\u044c \u0437\u043c\u0456\u043d\u0438 \u0443 \u0432\u043b\u0430\u0441\u043d\u0443 \u043a\u043e\u043f\u0456\u044e \u0446\u044c\u043e\u0433\u043e \u0444\u0430\u0439\u043b\u0443.</p>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-debian-12/#\u0428\u0440\u0438\u0444\u0442\u0438","title":"\u0428\u0440\u0438\u0444\u0442\u0438","text":"<p>\u041f\u043e\u0447\u0438\u043d\u0430\u044e\u0447\u0438 \u0437 \u0432\u0435\u0440\u0441\u0456\u0457 v5.6.0 \u0448\u0440\u0438\u0444\u0442\u0438 \u0434\u043b\u044f Carto \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0438 \u0432\u0440\u0443\u0447\u043d\u0443:</p> <pre><code>cd ~/src/openstreetmap-carto/\nscripts/get-fonts.sh\n</code></pre> <p>\u0427\u0435\u0440\u0435\u0437 \u043f\u043e\u0442\u043e\u0447\u043d\u0443 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0443 \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u043e\u0442\u0440\u0438\u043c\u0430\u0442\u0438 \u043f\u043e\u043c\u0438\u043b\u043a\u0443 \u0432 \u0441\u0430\u043c\u043e\u043c\u0443 \u043a\u0456\u043d\u0446\u0456, \u0430\u043b\u0435 \u0446\u0435 \u043d\u0435 \u0432\u043f\u043b\u0438\u043d\u0435 \u043d\u0430 \u0432\u0456\u0434\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f \u043f\u043e\u0442\u043e\u0447\u043d\u0438\u0445 \u0434\u0430\u043d\u0438\u0445 OSM.</p> <p>\u041d\u0430\u0448\u0456 \u0442\u0435\u0441\u0442\u043e\u0432\u0456 \u0434\u0430\u043d\u0456 (\u0410\u0437\u0435\u0440\u0431\u0430\u0439\u0434\u0436\u0430\u043d) \u0431\u0443\u043b\u0438 \u043e\u0431\u0440\u0430\u043d\u0456 \u0447\u0435\u0440\u0435\u0437 \u0457\u0445 \u043d\u0435\u0432\u0435\u043b\u0438\u043a\u0438\u0439 \u043e\u0431\u0441\u044f\u0433, \u0430 \u0442\u0430\u043a\u043e\u0436 \u0447\u0435\u0440\u0435\u0437 \u0442\u0435, \u0449\u043e \u0430\u0440\u043c\u044f\u043d\u0441\u044c\u043a\u0430 \u043f\u0438\u0441\u0435\u043c\u043d\u0456\u0441\u0442\u044c \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454 \u0432\u043b\u0430\u0441\u043d\u0443 \u0430\u0431\u0435\u0442\u043a\u0443.</p>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-debian-12/#\u041d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f-\u0432\u0435\u0431\u0441\u0435\u0440\u0432\u0435\u0440\u0430","title":"\u041d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f \u0432\u0435\u0431\u0441\u0435\u0440\u0432\u0435\u0440\u0430","text":""},{"location":"uk/serving-tiles/manually-building-a-tile-server-debian-12/#\u041a\u043e\u043d\u0444\u0456\u0433\u0443\u0440\u0430\u0446\u0456\u044f-renderd","title":"\u041a\u043e\u043d\u0444\u0456\u0433\u0443\u0440\u0430\u0446\u0456\u044f renderd","text":"<p>\u041d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f <code>renderd</code> \u0432 Debian 12 \u0437\u043d\u0430\u0445\u043e\u0434\u044f\u0442\u044c\u0441\u044f \u0443 \u0444\u0430\u0439\u043b\u0456 <code>/etc/renderd.conf</code>. \u0412\u0456\u0434\u0440\u0435\u0434\u0430\u0433\u0443\u0454\u043c\u043e \u0439\u043e\u0433\u043e \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u043e\u0433\u043e \u0440\u0435\u0434\u0430\u043a\u0442\u043e\u0440\u0430, \u0442\u0430\u043a\u043e\u0433\u043e \u044f\u043a nano:</p> <pre><code>sudo nano /etc/renderd.conf\n</code></pre> <p>\u0414\u043e\u0434\u0430\u0439\u0442\u0435 \u0440\u043e\u0437\u0434\u0456\u043b, \u043f\u043e\u0434\u0456\u0431\u043d\u0438\u0439 \u043d\u0430\u0432\u0435\u0434\u0435\u043d\u043e\u043c\u0443, \u0432 \u043a\u0456\u043d\u0435\u0446\u044c \u0444\u0430\u0439\u043b\u0443 \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u044c:</p> <pre><code>[s2o]\nURI=/hot/\nTILEDIR=/var/lib/mod_tile\nXML=/home/accountname/src/openstreetmap-carto/mapnik.xml\nHOST=localhost\nTILESIZE=256\nMAXZOOM=20\n</code></pre> <p>\u041c\u043e\u0436\u043b\u0438\u0432\u043e \u0440\u043e\u0437\u0442\u0430\u0448\u0443\u0432\u0430\u043d\u043d\u044f \u0444\u0430\u0439\u043b\u0443 XML <code>/home/accountname/src/openstreetmap-carto/mapnik.xml</code> \u0434\u043e\u0432\u0435\u0434\u0435\u0442\u044c\u0441\u044f \u0437\u043c\u0456\u043d\u0438\u0442\u0438 \u043d\u0430 \u0442\u0435, \u0449\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f \u0443 \u0432\u0430\u0448\u0456\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u0456. \u0412\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0437\u043c\u0456\u043d\u0438\u0442\u0438 <code>[s2o]</code> \u0442\u0430 <code>URI=/hot/</code> \u043d\u0430 \u0442\u0435, \u0449\u043e \u0432\u0430\u043c \u0442\u0440\u0435\u0431\u0430. \u042f\u043a\u0449\u043e \u0432\u0438 \u0431\u0430\u0436\u0430\u0454\u0442\u0435 \u0440\u0435\u043d\u0434\u0435\u0440\u0438\u0442\u0438 \u0431\u0456\u043b\u044c\u0448\u0435 \u043e\u0434\u043d\u043e\u0433\u043e \u043d\u0430\u0431\u043e\u0440\u0443 \u0442\u0430\u0439\u043b\u0456\u0432 \u043d\u0430 \u043e\u0434\u043d\u043e\u043c\u0443 \u0441\u0435\u0440\u0432\u0435\u0440\u0456, \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0434\u043e\u0434\u0430\u0442\u0438 \u0449\u0435 \u043e\u0434\u0438\u043d \u0440\u043e\u0437\u0434\u0456\u043b, \u043f\u043e\u0434\u0456\u0431\u043d\u0438\u0439 \u0434\u043e <code>[s2o]</code>, \u0437 \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f\u043c\u0438 \u0434\u043b\u044f \u0456\u043d\u0448\u043e\u0433\u043e \u0441\u0442\u0438\u043b\u044e. \u042f\u043a\u0449\u043e \u0432\u0438 \u0431\u0430\u0436\u0430\u0454\u0442\u0435, \u0449\u043e\u0431 \u0432\u0456\u043d \u043f\u043e\u0441\u0438\u043b\u0430\u0432\u0441\u044f \u043d\u0430 \u0456\u043d\u0448\u0443 \u0431\u0430\u0437\u0443 \u0437\u0430\u043c\u0456\u0441\u0442\u044c \u0442\u0438\u043f\u043e\u0432\u043e\u0457 <code>gis</code>, \u0432\u0438 \u0442\u0430\u043a\u043e\u0436 \u043c\u043e\u0436\u0435\u0442\u0435 \u0437\u0440\u043e\u0431\u0438\u0442\u0438 \u0446\u0435, \u0430\u043b\u0435 \u043f\u043e\u044f\u0441\u043d\u0435\u043d\u043d\u044f \u0442\u043e\u0433\u043e, \u044f\u043a \u0446\u0435 \u0440\u043e\u0431\u0438\u0442\u0438 \u0432\u0438\u0445\u043e\u0434\u0438\u0442\u044c \u0437\u0430 \u043c\u0435\u0436\u0456 \u0446\u044c\u043e\u0433\u043e \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430. \u042f\u043a\u0449\u043e \u0443 \u0432\u0430\u0441 \u0434\u0435\u0441\u044c 2 \u0413\u0431 \u043e\u043f\u0435\u0440\u0430\u0442\u0438\u0432\u043d\u043e\u0457 \u043f\u0430\u043c\u02bc\u044f\u0442\u0456, \u043c\u043e\u0436\u043b\u0438\u0432\u043e \u0432\u0430\u043c \u0434\u043e\u0432\u0435\u0434\u0435\u0442\u044c\u0441\u044f \u0437\u043c\u0435\u043d\u0448\u0438\u0442\u0438 \u043a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u043f\u043e\u0442\u043e\u043a\u0456\u0432 (<code>num_threads</code>) \u0434\u043e 2. <code>URI=/hot/</code> \u0431\u0443\u043b\u043e \u043e\u0431\u0440\u0430\u043d\u043e \u0434\u043b\u044f \u0442\u043e\u0433\u043e \u0449\u043e\u0431\u0438 \u0431\u0443\u043b\u043e \u043f\u0440\u043e\u0441\u0442\u0456\u0448\u0435 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0432\u0430\u0448\u0456 \u0442\u0430\u0439\u043b\u0438 \u0437\u0430\u043c\u0456\u0441\u0442\u044c \u0448\u0430\u0440\u0443 Humanitarian \u0437 \u0441\u0430\u0439\u0442\u0443 OpenStreetMap.org. \u0412\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u043a\u0430\u0437\u0430\u0442\u0438 \u0449\u043e\u0441\u044c \u0456\u043d\u0448\u0435, \u0430\u043b\u0435 <code>/hot/</code> \u0442\u0430\u043a\u043e\u0436 \u0433\u043e\u0434\u0438\u0442\u044c\u0441\u044f.</p> <p>\u0412\u0435\u0440\u0441\u0456\u044f Mapnik \u0432 Debian 12 \u0431\u0443\u043b\u0430 3.1, \u0442\u043e\u043c\u0443 \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f <code>plugins_dir</code> \u0443 \u0447\u0430\u0441\u0442\u0438\u043d\u0456 <code>[mapnik]</code> \u0444\u0430\u0439\u043b\u0443 \u0431\u0443\u043b\u043e <code>/usr/lib/mapnik/3.1/input</code>. \u0426\u0435 \u043c\u043e\u0436\u0435 \u0437\u043c\u0456\u043d\u0438\u0442\u0438\u0441\u044f \u0432 \u043c\u0430\u0439\u0431\u0443\u0442\u043d\u044c\u043e\u043c\u0443. \u0423 \u0440\u0430\u0437\u0456 \u0432\u0438\u043d\u0438\u043a\u043d\u0435\u043d\u043d\u044f \u043f\u043e\u043c\u0438\u043b\u043a\u0438 \u043f\u0456\u0434 \u0447\u0430\u0441 \u0441\u043f\u0440\u043e\u0431 \u0440\u0435\u043d\u0434\u0435\u0440\u0438\u043d\u0433\u0443 \u0442\u0430\u0439\u043b\u0456\u0432, \u043d\u0430 \u043a\u0448\u0442\u0430\u043b\u0442 \u0446\u0456\u0454\u0457:</p> <p>An error occurred while loading the map layer 's2o': Could not create datasource for type: 'postgis' (no datasource plugin directories have been successfully registered)  encountered during parsing of layer 'landcover-low-zoom'</p> <p>\u043f\u0435\u0440\u0435\u0432\u0456\u0440\u0442\u0435 <code>/usr/lib/mapnik</code> \u0442\u0430 \u043f\u043e\u0434\u0438\u0432\u0456\u0442\u044c\u0441\u044f, \u044f\u043a\u0430 \u0432\u0435\u0440\u0441\u0456\u044f \u0432 \u043d\u0430\u0437\u0432\u0456 \u0442\u0435\u043a\u0438, \u0430 \u0442\u0430\u043a\u043e\u0436 \u043f\u043e\u0433\u043b\u044f\u043d\u044c\u0442\u0435 \u043d\u0430 <code>/usr/lib/mapnik/(version)/input</code>, \u0449\u043e\u0431 \u043f\u0435\u0440\u0435\u043a\u043e\u043d\u0430\u0442\u0438\u0441\u044c, \u0449\u043e \u0444\u0430\u0439\u043b <code>postgis.input</code> \u0437\u043d\u0430\u0445\u043e\u0434\u0438\u0442\u044c\u0441\u044f \u0442\u0430\u043c.</p> <p>\u0422\u0435\u043f\u0435\u0440, \u043a\u043e\u043b\u0438 \u043c\u0438 \u0432\u043a\u0430\u0437\u0430\u043b\u0438 <code>renderd</code>, \u044f\u043a \u0440\u0435\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u043d\u0430 \u0437\u0430\u043f\u0438\u0442\u0438 \u0440\u0435\u043d\u0434\u0435\u0440\u0438\u043d\u0433\u0443 \u0442\u0430\u0439\u043b\u0456\u0432, \u043d\u0430\u043c \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u0438\u0442\u0438 \u0432\u0435\u0431\u0441\u0435\u0440\u0432\u0435\u0440\u0443 Apache, \u0449\u043e \u0432\u0456\u043d \u043c\u043e\u0436\u0435 \u043d\u0430\u0434\u0441\u0438\u043b\u0430\u0442\u0438 \u0457\u0445. \u041d\u0430 \u0436\u0430\u043b\u044c, \u043a\u043e\u043d\u0444\u0456\u0433\u0443\u0440\u0430\u0446\u0456\u044e \u0434\u043b\u044f \u0446\u044c\u043e\u0433\u043e \u0431\u0443\u043b\u043e \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043e \u0437 \u043e\u0441\u0442\u0430\u043d\u043d\u0456\u0445 \u0432\u0435\u0440\u0441\u0456\u0439 <code>mod_tile</code>. \u041e\u0434\u043d\u0430\u043a \u0437\u0430\u0440\u0430\u0437 \u0457\u0457 \u043c\u043e\u0436\u043d\u0430 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0438 \u0437\u0432\u0456\u0434\u0441\u0438:</p> <pre><code>cd /etc/apache2/conf-available/\nsudo wget https://raw.githubusercontent.com/openstreetmap/mod_tile/python-implementation/etc/apache2/renderd.conf\nsudo a2enconf renderd\nsudo systemctl reload apache2\n</code></pre>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-debian-12/#\u041f\u0435\u0440\u0435\u043a\u043e\u043d\u0430\u0439\u0442\u0435\u0441\u044f-\u0449\u043e-\u0443-\u0432\u0430\u0441-\u0454-\u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f-\u0434\u043b\u044f-\u0432\u0456\u0434\u043b\u0430\u0433\u043e\u0434\u0436\u0435\u043d\u043d\u044f","title":"\u041f\u0435\u0440\u0435\u043a\u043e\u043d\u0430\u0439\u0442\u0435\u0441\u044f, \u0449\u043e \u0443 \u0432\u0430\u0441 \u0454 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f \u0434\u043b\u044f \u0432\u0456\u0434\u043b\u0430\u0433\u043e\u0434\u0436\u0435\u043d\u043d\u044f","text":"<p>\u041d\u0430 \u0446\u044c\u043e\u043c\u0443 \u0435\u0442\u0430\u043f\u0456 \u0431\u0443\u043b\u043e \u0431 \u0434\u0443\u0436\u0435 \u043a\u043e\u0440\u0438\u0441\u043d\u043e \u043c\u0430\u0442\u0438 \u043c\u043e\u0436\u043b\u0438\u0432\u0456\u0441\u0442\u044c \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0438 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u043f\u0440\u043e\u0446\u0435\u0441\u0443 \u0440\u0435\u043d\u0434\u0435\u0440\u0438\u043d\u0433\u0443 \u0442\u0430\u0439\u043b\u0456\u0432, \u0432\u043a\u043b\u044e\u0447\u043d\u043e \u0437 \u0431\u0443\u0434\u044c-\u044f\u043a\u0438\u043c\u0438 \u043f\u043e\u043c\u0438\u043b\u043a\u0430\u043c\u0438. \u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u043e \u0432 \u043e\u0441\u0442\u0430\u043d\u043d\u0456\u0445 \u0432\u0435\u0440\u0441\u0456\u044f\u0445 <code>mod_tile</code> \u0446\u044e \u043c\u043e\u0436\u043b\u0438\u0432\u0456\u0441\u0442\u044c \u0432\u0438\u043c\u043a\u043d\u0435\u043d\u043e. \u0429\u043e\u0431 \u0457\u0457 \u0443\u0432\u0456\u043c\u043a\u043d\u0443\u0442\u0438:</p> <pre><code>sudo nano /usr/lib/systemd/system/renderd.service\n</code></pre> <p>\u042f\u043a\u0449\u043e \u0446\u044c\u043e\u0433\u043e \u0449\u0435 \u043d\u0435\u043c\u0430\u0454 \u043d\u0438\u0436\u0447\u0435 <code>[Service]</code>, \u0434\u043e\u0434\u0430\u0439\u0442\u0435:</p> <pre><code>Environment=G_MESSAGES_DEBUG=all\n</code></pre> <p>\u041f\u043e\u0442\u0456\u043c \u0432\u0438\u043a\u043e\u043d\u0430\u0439\u0442\u0435 \u0446\u0456 \u043a\u043e\u043c\u0430\u043d\u0434\u0438, \u0449\u043e\u0431 \u043f\u0435\u0440\u0435\u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u043a\u043e\u043d\u0444\u0456\u0433\u0443\u0440\u0430\u0446\u0456\u044e:</p> <pre><code>sudo systemctl daemon-reload\nsudo systemctl restart renderd\nsudo systemctl restart apache2\n</code></pre>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-debian-12/#\u041a\u043e\u043d\u0444\u0456\u0433\u0443\u0440\u0430\u0446\u0456\u044f-Apache","title":"\u041a\u043e\u043d\u0444\u0456\u0433\u0443\u0440\u0430\u0446\u0456\u044f Apache","text":"<pre><code>sudo mkdir /var/lib/mod_tile\nsudo chown _renderd /var/lib/mod_tile\n</code></pre> <p>\u041f\u043e\u0442\u0456\u043c \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u0442\u0456\u0442\u044c \u0441\u043b\u0443\u0436\u0431\u0443 <code>renderd</code>:</p> <pre><code>sudo /etc/init.d/renderd restart\n</code></pre> <p>\u042f\u043a\u0449\u043e \u0432\u0438 \u043f\u043e\u0434\u0438\u0432\u0456\u0442\u044c\u0441\u044f \u0443 \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u0438\u0439 \u0436\u0443\u0440\u043d\u0430\u043b, \u0432\u0438 \u043f\u043e\u0432\u0438\u043d\u043d\u0456 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0438 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f \u0432\u0456\u0434 \u0441\u043b\u0443\u0436\u0431\u0438 <code>renderd</code>. \u0417\u0430\u0443\u0432\u0430\u0436\u0442\u0435, \u0449\u043e \u0443 Debian 12, \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f \u0431\u0456\u043b\u044c\u0448\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u043e \u043d\u0435 \u0437\u0430\u043f\u0438\u0441\u0443\u044e\u0442\u044c\u0441\u044f \u0432 <code>/var/log/syslog</code> \u2013 \u0449\u043e\u0431 \u0441\u0442\u0435\u0436\u0438\u0442\u0438 \u0437\u0430 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f\u043c\u0438, \u043a\u043e\u043b\u0438 \u0432\u043e\u043d\u0438 \u0442\u0430\u043c \u0437\u02bc\u044f\u0432\u043b\u044f\u044e\u0442\u044c\u0441\u044f, \u0432\u0438\u043a\u043e\u043d\u0430\u0439\u0442\u0435 \u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0435:</p> <pre><code>sudo journalctl -ef\n</code></pre> <p>\u0414\u0438\u0432\u0456\u0442\u044c\u0441\u044f \u0442\u0443\u0442: \u0434\u043b\u044f \u043e\u0437\u043d\u0430\u0439\u043e\u043c\u043b\u0435\u043d\u043d\u044f \u0437 \u0434\u0435\u0442\u0430\u043b\u044f\u043c\u0438.</p> <pre><code>sudo /etc/init.d/apache2 restart\n</code></pre> <p>\u0412\u0438\u043a\u043e\u043d\u0430\u0432\u0448\u0438 \u043a\u043e\u043c\u0430\u043d\u0434\u0443 <code>sudo journalctl -ef</code> \u0432\u0438 \u043c\u0430\u0454\u0442\u0435 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0438 \u0440\u044f\u0434\u043e\u043a \u043f\u043e\u0434\u0456\u0431\u043d\u0438\u0439 \u0434\u043e \u0446\u044c\u043e\u0433\u043e:</p> <pre><code>Jul 01 01:50:28 h4-debian-16gb-fsn1-1 apachectl[34625]: [Sat Jul 01 01:50:28.260957 2023] [tile:notice] [pid 34625:tid 281473357369376] Loading tile config s2o at /hot/ for zooms 0 - 20 from tile directory /var/cache/renderd/tiles with extension .png and mime type image/png\n</code></pre> <p>\u042f\u043a\u0449\u043e \u0432\u0438 \u043d\u0435 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0435 \u043d\u0456\u0447\u043e\u0433\u043e \u043f\u043e\u0434\u0456\u0431\u043d\u043e\u0433\u043e, \u0446\u0435, \u0439\u043c\u043e\u0432\u0456\u0440\u043d\u043e, \u043e\u0437\u043d\u0430\u0447\u0430\u0442\u0438\u043c\u0435, \u0449\u043e \u0444\u0430\u0439\u043b \u043a\u043e\u043d\u0444\u0456\u0433\u0443\u0440\u0430\u0446\u0456\u0457 \u0434\u043b\u044f mod_tile <code>/etc/apache2/conf-available/renderd.conf</code> \u0430\u0431\u043e \u043d\u0435 \u043d\u0430\u043b\u0430\u0448\u0442\u043e\u0432\u0430\u043d\u043e, \u0430\u0431\u043e \u0432\u0432\u0456\u043c\u043a\u043d\u0435\u043d\u043e \u043d\u0430\u043b\u0435\u0436\u043d\u0438\u043c \u0447\u0438\u043d\u043e\u043c \u2014 \u0434\u0438\u0432\u0456\u0442\u044c\u0441\u044f \u0440\u043e\u0437\u0434\u0456\u043b <code>wget</code> \u0432\u0438\u0449\u0435.</p> <p>\u0414\u0430\u043b\u0456, \u0432\u0456\u0434\u043a\u0440\u0438\u0439\u0442\u0435 \u0432 \u043e\u0433\u043b\u044f\u0434\u0430\u0447\u0456 <code>http://ip.\u0432\u0430\u0448\u043e\u0433\u043e.\u0441\u0435\u0440\u0432\u0435\u0440\u0430/index.html</code> (\u0437\u0430\u043c\u0456\u043d\u0456\u0442\u044c <code>ip.\u0432\u0430\u0448\u043e\u0433\u043e.\u0441\u0435\u0440\u0432\u0435\u0440\u0430</code> \u043d\u0430 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u043d\u0443 \u0430\u0434\u0440\u0435\u0441\u0443). \u0412\u0438 \u043c\u0430\u0454\u0442\u0435 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0438 \u0442\u0438\u043f\u043e\u0432\u0443 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0443 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 Apache2 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043e\u0433\u043e \u0432 Debian.</p> <p>\u041f\u043e\u0440\u0430\u0434\u0430</p> <p>\u044f\u043a\u0449\u043e \u0432\u0438 \u043d\u0435 \u0437\u043d\u0430\u0454\u0442\u0435 IP \u0430\u0434\u0440\u0435\u0441\u0443 \u043f\u0440\u0438\u0437\u043d\u0430\u0447\u0435\u043d\u0443 \u0441\u0435\u0440\u0432\u0435\u0440\u0443, \u0457\u0457 \u043c\u043e\u0436\u043d\u0430 \u0434\u0456\u0437\u043d\u0430\u0442\u0438\u0441\u044c \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e \u043a\u043e\u043c\u0430\u043d\u0434\u0438 <code>ifconfig</code>\u00a0\u2013 \u044f\u043a\u0449\u043e \u043c\u0435\u0440\u0435\u0436\u0435\u0432\u0456 \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f \u043d\u0435 \u043d\u0430\u0434\u0442\u043e \u0441\u043a\u043b\u0430\u0434\u043d\u0456, \u0442\u043e \u0446\u0435 \u043c\u0430\u0454 \u0431\u0443\u0442\u0438 \u0449\u043e\u0441\u044c \u0442\u0438\u043f\u0443 <code>inet addr</code> \u0432\u0456\u0434\u043c\u0456\u043d\u043d\u0435 \u0432\u0456\u0434 <code>127.0.0.1</code>.</p> <p>\u042f\u043a\u0449\u043e \u0432\u0438 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u0435 \u0441\u0435\u0440\u0432\u0435\u0440 \u043f\u043e\u0441\u0442\u0430\u0447\u0430\u043b\u044c\u043d\u0438\u043a\u0430 \u043f\u043e\u0441\u043b\u0443\u0433 \u0445\u043e\u0441\u0442\u0438\u043d\u0433\u0443, \u0442\u043e, \u0448\u0432\u0438\u0434\u0448\u0435 \u0437\u0430 \u0432\u0441\u0435, \u0432\u043d\u0443\u0442\u0440\u0456\u0448\u043d\u044f \u0430\u0434\u0440\u0435\u0441\u0430 \u0432\u0430\u0448\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0431\u0443\u0434\u0435 \u0432\u0456\u0434\u0440\u0456\u0437\u043d\u044f\u0442\u0438\u0441\u044f \u0432\u0456\u0434 \u0437\u043e\u0432\u043d\u0456\u0448\u043d\u044c\u043e\u0457 \u0430\u0434\u0440\u0435\u0441\u0438, \u044f\u043a\u0430 \u0431\u0443\u043b\u0430 \u043d\u0430\u0434\u0430\u043d\u0430 \u0432\u0430\u043c, \u0430\u043b\u0435 \u0446\u044f \u0437\u043e\u0432\u043d\u0456\u0448\u043d\u044f IP-\u0430\u0434\u0440\u0435\u0441\u0430 \u0432\u0436\u0435 \u0431\u0443\u0434\u0435 \u043d\u0430\u0434\u0456\u0441\u043b\u0430\u043d\u0430 \u0432\u0430\u043c, \u0456, \u0439\u043c\u043e\u0432\u0456\u0440\u043d\u043e, \u0432\u0438 \u0457\u0457 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u0435 \u0437\u0430\u0440\u0430\u0437 \u0434\u043b\u044f \u0434\u043e\u0441\u0442\u0443\u043f\u0443 \u0434\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430.</p> <p>\u0417\u0430\u0443\u0432\u0430\u0436\u0442\u0435, \u0449\u043e \u0446\u0435 \u043b\u0438\u0448\u0435 \u0441\u0430\u0439\u0442 <code>http</code> (\u043f\u043e\u0440\u0442 80)\u00a0\u2013 \u0432\u0430\u043c \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0432\u0438\u0442\u0440\u0430\u0442\u0438\u0442\u0438 \u0442\u0440\u043e\u0445\u0438 \u0431\u0456\u043b\u044c\u0448\u0435 \u0447\u0430\u0441\u0443 \u0434\u043b\u044f \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f Apache \u043d\u0430 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f <code>https</code>, \u0430\u043b\u0435 \u0446\u0435 \u0432\u0438\u0445\u043e\u0434\u0438\u0442\u044c \u0437\u0430 \u043c\u0435\u0436\u0456 \u0446\u0438\u0445 \u0456\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0456\u0439. \u041e\u0434\u043d\u0430\u043a \u044f\u043a\u0449\u043e \u0432\u0438 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u0435 \"Let's Encrypt\" \u0434\u043b\u044f \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u044f \u0441\u0435\u0440\u0442\u0438\u0444\u0456\u043a\u0430\u0442\u0456\u0432, \u0456\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0456\u044f \u0437\u0456 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u043c\u043e\u0436\u0435 \u0442\u0430\u043a\u043e\u0436 \u043c\u0456\u0441\u0442\u0438\u0442\u0438 \u043f\u043e\u0440\u0430\u0434\u0438 \u0449\u043e\u0434\u043e \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f \u0441\u0430\u0439\u0442\u0443 Apache \u0434\u043b\u044f \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f https.</p> <p>\u0414\u0430\u043b\u0456, \u0432 \u043e\u0433\u043b\u044f\u0434\u0430\u0447\u0456 \u0432\u0456\u0434\u043a\u0440\u0438\u0439\u0442\u0435 \u043f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f: <code>http://ip.\u0432\u0430\u0448\u043e\u0433\u043e.\u0441\u0435\u0440\u0432\u0435\u0440\u0430/hot/0/0/0.png</code></p> <p>\u042f\u043a\u0449\u043e \u0432\u0438 \u0432\u0438\u0449\u0435 \u043f\u043e\u043c\u0456\u043d\u044f\u043b\u0438 <code>URI=/hot/</code> \u0432\u0430\u043c \u0434\u043e\u0432\u0435\u0434\u0435\u0442\u044c\u0441\u044f \u043f\u0456\u0434\u043f\u0440\u0430\u0432\u0438\u0442\u0438 \u043f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f. \u0412\u0438 \u043c\u0430\u0454\u0442\u0435 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0438 \u043c\u0430\u043b\u0435\u043d\u044c\u043a\u0443 \u043c\u0430\u043f\u0443 \u0441\u0432\u0456\u0442\u0443. \u042f\u043a\u0449\u043e \u0457\u0457 \u043d\u0435\u043c\u0430\u0454, \u043f\u0435\u0440\u0435\u0432\u0456\u0440\u0442\u0435 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f \u043f\u0440\u043e \u043f\u043e\u043c\u0438\u043b\u043a\u0438 \u0432 \u043a\u043e\u043d\u0441\u043e\u043b\u0456. \u0421\u043a\u043e\u0440\u0456\u0448 \u0437\u0430 \u0432\u0441\u0435 \u0432\u0438 \u0449\u043e\u0441\u044c \u043d\u0430\u043f\u043b\u0443\u0442\u0430\u043b\u0438 \u0437 \u0434\u043e\u0437\u0432\u043e\u043b\u0430\u043c\u0438, \u0430\u0431\u043e \u0432\u0438 \u043f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u043b\u0438 \u044f\u043a\u0438\u0439\u0441\u044c \u043a\u0440\u043e\u043a \u0437 \u0456\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0456\u0457. \u042f\u043a\u0449\u043e \u0432\u0438 \u043d\u0435 \u043e\u0442\u0440\u0438\u043c\u0430\u043b\u0438 \u0442\u0430\u0439\u043b \u0442\u0430 \u043e\u0442\u0440\u0438\u043c\u0443\u0454\u0442\u0435 \u0456\u043d\u0448\u0456 \u043f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f, \u0441\u043a\u043e\u043f\u0456\u044e\u0439\u0442\u0435 \u0432\u0438\u0432\u0456\u0434 \u0432 Pastebin, \u0442\u0430 \u0437\u0432\u0435\u0440\u043d\u0456\u0442\u044c\u0441\u044f \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e, \u043d\u0430\u043f\u0440\u0438\u043a\u043b\u0430\u0434, \u0432 <code>community.openstreetmap.org</code>.</p>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-debian-12/#\u041f\u0435\u0440\u0435\u0433\u043b\u044f\u0434-\u0442\u0430\u0439\u043b\u0456\u0432","title":"\u041f\u0435\u0440\u0435\u0433\u043b\u044f\u0434 \u0442\u0430\u0439\u043b\u0456\u0432","text":"<p>\u0414\u043b\u044f \u0442\u043e\u0433\u043e, \u0449\u043e\u0431 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0438 \u0442\u0430\u0439\u043b\u0438, \u043c\u0438 \u0442\u0440\u043e\u0445\u0438 \u0437\u043c\u0430\u0445\u043b\u044e\u0454\u043c\u043e \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u044e\u0447\u0438\u0441\u044c \u0444\u0430\u0439\u043b\u043e\u043c <code>sample_leaflet.html</code> \u0437 \u0442\u0435\u043a\u0438 \u201cextras\u201d \u0432 mod_tile.</p> <pre><code>cd /var/www/html\nsudo wget https://raw.githubusercontent.com/SomeoneElseOSM/mod_tile/switch2osm/extra/sample_leaflet.html\nsudo nano sample_leaflet.html\n</code></pre> <p>\u0417\u043c\u0456\u043d\u0456\u0442\u044c \u0439\u043e\u0433\u043e \u0442\u0430\u043a, \u0449\u043e\u0431 IP-\u0430\u0434\u0440\u0435\u0441\u0430 \u0431\u0443\u043b\u0430 <code>ip.\u0432\u0430\u0448\u043e\u0433\u043e.\u0441\u0435\u0440\u0432\u0435\u0440\u0430</code>, \u0430 \u043d\u0435 \u043f\u0440\u043e\u0441\u0442\u043e <code>127.0.0.1</code>. \u0426\u0435 \u043f\u043e\u0432\u0438\u043d\u043d\u043e \u0434\u043e\u0437\u0432\u043e\u043b\u0438\u0442\u0438 \u0432\u0430\u043c \u043e\u0442\u0440\u0438\u043c\u0430\u0442\u0438 \u0434\u043e\u0441\u0442\u0443\u043f \u0434\u043e \u0446\u044c\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430. \u041f\u043e\u0442\u0456\u043c \u043f\u0435\u0440\u0435\u0439\u0434\u0456\u0442\u044c \u0434\u043e <code>http://ip.\u0432\u0430\u0448\u043e\u0433\u043e.\u0441\u0435\u0440\u0432\u0435\u0440\u0430/sample_leaflet.html</code>.</p> <p>\u0417\u0433\u043e\u0434\u043e\u043c \u0432\u0438 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0435 \u043c\u0430\u043f\u0443. \u0412\u0438 \u0437\u043c\u043e\u0436\u0435\u0442\u0435 \u0437\u0431\u0456\u043b\u044c\u0448\u0443\u0432\u0430\u0442\u0438 \u0442\u0430 \u0437\u043c\u0435\u043d\u0448\u0443\u0432\u0430\u0442\u0438 \u0457\u0457 \u043c\u0430\u0441\u0448\u0442\u0430\u0431, \u0430\u043b\u0435 \u0432 \u0437\u0430\u043b\u0435\u0436\u043d\u043e\u0441\u0442\u0456 \u0432\u0456\u0434 \u043f\u043e\u0442\u0443\u0436\u043d\u043e\u0441\u0442\u0435\u0439 \u0441\u0435\u0440\u0432\u0435\u0440\u0430, \u0434\u0435\u044f\u043a\u0456 \u0442\u0430\u0439\u043b\u0438 \u043c\u043e\u0436\u0443\u0442\u044c \u0431\u0443\u0442\u0438 \u0441\u0456\u0440\u0438\u043c\u0438 (\u0432\u043e\u043d\u0438 \u0449\u0435 \u043d\u0435 \u0432\u0441\u0442\u0438\u0433\u043b\u0438 \u043e\u0431\u0440\u043e\u0431\u0438\u0442\u0438\u0441\u044c \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c). \u041e\u0434\u043d\u0430\u043a, \u044f\u043a \u0442\u0456\u043b\u044c\u043a\u0438 \u0457\u0445 \u043e\u0431\u0440\u043e\u0431\u043a\u0430 \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c\u0441\u044f, \u0432\u043e\u043d\u0438 \u0431\u0443\u0434\u0443\u0442\u044c \u0433\u043e\u0442\u043e\u0432\u0456 \u0434\u043b\u044f \u043f\u0435\u0440\u0435\u0433\u043b\u044f\u0434\u0443. \u042f\u043a\u0449\u043e \u0432\u0438 \u043f\u043e\u0434\u0438\u0432\u0438\u0442\u0435\u0441\u044c \u0443 \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u0438\u0439 \u043b\u043e\u0433, \u0432\u0438 \u043c\u0430\u0454\u0442\u0435 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0438 \u0437\u0430\u043f\u0438\u0442\u0438 \u043d\u0430 \u043f\u043e\u043a\u0430\u0437 \u0442\u0430\u0439\u043b\u0456\u0432.</p> <p>\u0417\u0430 \u0431\u0430\u0436\u0430\u043d\u043d\u044f\u043c, \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0437\u0431\u0456\u043b\u044c\u0448\u0438\u0442\u0438 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f <code>ModTileRequestTimeout</code> \u0442\u0430 <code>ModTileMissingRequestTimeout</code> \u0443 <code>/etc/apache2/conf-available/renderd.conf</code> \u0437 3 \u0442\u0430 10 \u0441\u0435\u043a\u0443\u043d\u0434 \u0434\u043e, \u0441\u043a\u0430\u0436\u0456\u043c\u043e, 30 \u0430\u0431\u043e 60, \u0434\u043b\u044f \u0442\u043e\u0433\u043e, \u0449\u043e\u0431 \u0434\u0430\u0442\u0438 \u0431\u0456\u043b\u044c\u0448\u0435 \u0447\u0430\u0441\u0443 \u0441\u0435\u0440\u0432\u0435\u0440\u0443 \u043d\u0430 \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u0442\u0430\u0439\u043b\u0456\u0432 \u043f\u0435\u0440\u0435\u0434 \u0442\u0438\u043c \u044f\u043a \u043f\u043e\u043a\u0430\u0437\u0430\u0442\u0438 \u0441\u0456\u0440\u0438\u0439 \u0444\u043e\u043d \u043d\u0430 \u0437\u0430\u043c\u0456\u0441\u0442\u044c \u043d\u0438\u0445. \u041f\u0435\u0440\u0435\u0432\u0456\u0440\u0442\u0435, \u0449\u043e \u0432\u0438 \u0432\u0438\u043a\u043e\u043d\u0430\u043b\u0438 \u043a\u043e\u043c\u0430\u043d\u0434\u0438 <code>service renderd restart</code> \u0442\u0430 <code>service apache2 restart</code> \u043f\u0456\u0441\u043b\u044f \u0432\u043d\u0435\u0441\u0435\u043d\u043d\u044f \u0437\u043c\u0456\u043d.</p> <p>\u0412\u0456\u0442\u0430\u0454\u043c\u043e! \u0422\u0435\u043f\u0435\u0440 \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u0432\u0435\u0440\u043d\u0443\u0442\u0438\u0441\u044c \u0434\u043e \u0440\u043e\u0437\u0434\u0456\u043b\u0443 \u0412\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f \u0442\u0430\u0439\u043b\u0456\u0432 \u0434\u043b\u044f \u0434\u043e\u0434\u0430\u0432\u0430\u043d\u043d\u044f \u043c\u0430\u043f\u0438, \u0449\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454 \u0432\u0430\u0448 \u043d\u043e\u0432\u0438\u0439 \u0442\u0430\u0439\u043b\u043e\u0432\u0438\u0439 \u0441\u0435\u0440\u0432\u0435\u0440.</p>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-debian-13/","title":"\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u0442\u0430\u0439\u043b\u043e\u0432\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0432\u0440\u0443\u0447\u043d\u0443 (Debian 13)","text":""},{"location":"uk/serving-tiles/manually-building-a-tile-server-debian-13/#\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f-\u0442\u0430\u0439\u043b\u043e\u0432\u043e\u0433\u043e-\u0441\u0435\u0440\u0432\u0435\u0440\u0430-\u0432\u0440\u0443\u0447\u043d\u0443-Debian-13","title":"\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u0442\u0430\u0439\u043b\u043e\u0432\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0432\u0440\u0443\u0447\u043d\u0443 (Debian 13)","text":"<p>\u041d\u0430 \u0446\u0456\u0439 \u0441\u0442\u043e\u0440\u0456\u043d\u0446\u0456 \u043c\u0456\u0441\u0442\u0438\u0442\u044c\u0441\u044f \u043e\u043f\u0438\u0441 \u0437\u0456 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f, \u0440\u043e\u0437\u0433\u043e\u0440\u0442\u0430\u043d\u043d\u044f \u0442\u0430 \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f \u0432\u0441\u044c\u043e\u0433\u043e \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e\u0433\u043e \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043d\u043e\u0433\u043e \u0437\u0430\u0431\u0435\u0437\u043f\u0435\u0447\u0435\u043d\u043d\u044f \u0434\u043b\u044f \u0440\u043e\u0431\u043e\u0442\u0438 \u0432\u0430\u0448\u043e\u0433\u043e \u0442\u0430\u0439\u043b\u043e\u0432\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430. \u041f\u043e\u043a\u0440\u043e\u043a\u043e\u0432\u0456 \u0456\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0456\u0457 \u043e\u043f\u0438\u0441\u0443\u044e\u0442\u044c \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u0442\u0430\u0439\u043b\u043e\u0432\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u043d\u0430 Debian Linux 13 (trixie), \u0432\u043e\u043d\u0438 \u0431\u0443\u043b\u0438 \u043f\u0435\u0440\u0435\u0432\u0456\u0440\u0435\u043d\u0456 \u0443 \u0441\u0435\u0440\u043f\u043d\u0456 2025.</p>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-debian-13/#\u0412\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f-\u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043d\u043e\u0433\u043e-\u0437\u0430\u0431\u0435\u0437\u043f\u0435\u0447\u0435\u043d\u043d\u044f","title":"\u0412\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043d\u043e\u0433\u043e \u0437\u0430\u0431\u0435\u0437\u043f\u0435\u0447\u0435\u043d\u043d\u044f","text":"<p>\u0422\u0430\u0439\u043b\u043e\u0432\u0438\u0439 \u0441\u0435\u0440\u0432\u0435\u0440 OpenStreetMap\u00a0\u2013 \u0446\u0435 \u043d\u0430\u0431\u0456\u0440 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043d\u043e\u0433\u043e \u0437\u0430\u0431\u0435\u0437\u043f\u0435\u0447\u0435\u043d\u043d\u044f \u0442\u0430 \u0431\u0456\u0431\u043b\u0456\u043e\u0442\u0435\u043a, \u044f\u043a\u0456 \u043f\u0440\u0430\u0446\u044e\u044e\u0442\u044c \u0440\u0430\u0437\u043e\u043c \u0433\u0435\u043d\u0435\u0440\u0443\u044e\u0447\u0438 \u0442\u0430\u0439\u043b\u0438. \u042f\u043a \u0446\u0435 \u0442\u0440\u0430\u043f\u043b\u044f\u0454\u0442\u044c\u0441\u044f \u0434\u043e\u0432\u043e\u043b\u0456 \u0447\u0430\u0441\u0442\u043e \u0432 OpenStreetMap, \u0456\u0441\u043d\u0443\u0454 \u043a\u0456\u043b\u044c\u043a\u0430 \u0440\u0456\u0437\u043d\u0438\u0445 \u0448\u043b\u044f\u0445\u0456\u0432 \u0434\u043b\u044f \u0434\u043e\u0441\u044f\u0433\u043d\u0435\u043d\u043d\u044f \u043c\u0435\u0442\u0438 \u0442\u0430 \u043c\u0430\u0439\u0436\u0435 \u043a\u043e\u0436\u0435\u043d \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442 \u043c\u0430\u0454 \u0430\u043b\u044c\u0442\u0435\u0440\u043d\u0430\u0442\u0438\u0432\u0443, \u0437 \u0432\u043b\u0430\u0441\u043d\u0438\u043c\u0438 \u043d\u0435\u0434\u043e\u043b\u0456\u043a\u0430\u043c\u0438 \u0442\u0430 \u043f\u0435\u0440\u0435\u0432\u0430\u0433\u0430\u043c\u0438. \u0426\u0435\u0439 \u043f\u043e\u0441\u0456\u0431\u043d\u0438\u043a \u043e\u043f\u0438\u0441\u0443\u0454 \u043d\u0430\u0439\u0431\u0456\u043b\u044c\u0448 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u0443 \u0432\u0435\u0440\u0441\u0456\u044e, \u0449\u043e \u0441\u0445\u043e\u0436\u0430 \u043d\u0430 \u0442\u0435, \u0449\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f \u0433\u043e\u043b\u043e\u0432\u043d\u0438\u043c \u0442\u0430\u0439\u043b\u043e\u0432\u0438\u043c \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c OpenStreetMap.</p> <p>\u0422\u0430\u0439\u043b\u043e\u0432\u0438\u0439 \u0441\u0435\u0440\u0432\u0435\u0440 \u0441\u043a\u043b\u0430\u0434\u0430\u0454\u0442\u044c\u0441\u044f \u0437 \u043f\u02bc\u044f\u0442\u0438 \u0433\u043e\u043b\u043e\u0432\u043d\u0438\u0445 \u0447\u0430\u0441\u0442\u0438\u043d: <code>mod_tile</code>, <code>renderd</code>, <code>mapnik</code>, <code>osm2pgsql</code> \u0442\u0430 \u0431\u0430\u0437\u0430 \u0434\u0430\u043d\u0438\u0445 <code>postgresql/postgis</code>. Mod_tile\u00a0\u2013 \u043c\u043e\u0434\u0443\u043b\u044c \u0441\u0435\u0440\u0432\u0435\u0440\u0430 Apache, \u044f\u043a\u0438\u0439 \u043e\u0431\u0441\u043b\u0443\u0433\u043e\u0432\u0443\u0454 \u0442\u0430\u0439\u043b\u043e\u0432\u0438\u0439 \u043a\u0435\u0448 \u0442\u0430 \u0432\u0438\u0437\u043d\u0430\u0447\u0430\u0454 \u044f\u043a\u0456 \u0442\u0430\u0439\u043b\u0438 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u043f\u0435\u0440\u0435\u0433\u0435\u043d\u0435\u0440\u0443\u0432\u0430\u0442\u0438, \u0447\u0435\u0440\u0435\u0437 \u0457\u0445 \u0432\u0456\u0434\u0441\u0443\u0442\u043d\u0456\u0441\u0442\u044c \u0443 \u043a\u0435\u0448\u0456 \u0430\u0431\u043e \u0442\u043e\u043c\u0443, \u0449\u043e \u0432\u043e\u043d\u0438 \u0437\u0430\u0441\u0442\u0430\u0440\u0456\u043b\u0438. Renderd \u0432\u0438\u0437\u043d\u0430\u0447\u0430\u0454 \u043f\u0440\u0456\u043e\u0440\u0438\u0442\u0435\u0442\u0438 \u0432 \u0447\u0435\u0440\u0433\u0430\u0445 \u0440\u0456\u0437\u043d\u043e\u0433\u043e \u0448\u0442\u0438\u0431\u0443 \u0437\u0430\u043f\u0438\u0442\u0456\u0432 \u0434\u043b\u044f \u0437\u0433\u043b\u0430\u0434\u0436\u0443\u0432\u0430\u043d\u043d\u044f \u043d\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f. Mapnik\u00a0\u2013 \u0431\u0456\u0431\u043b\u0456\u043e\u0442\u0435\u043a\u0430, \u044f\u043a\u0430 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u0430\u0454 \u0431\u0435\u0437\u043f\u043e\u0441\u0435\u0440\u0435\u0434\u043d\u044c\u043e \u0437\u0430 \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u0442\u0430\u0439\u043b\u0456\u0432 \u0437 \u0447\u0435\u0440\u0433\u0438, \u044f\u043a\u043e\u044e \u043a\u0435\u0440\u0443\u0454 <code>renderd</code>.</p> <p>\u0417\u0430\u0443\u0432\u0430\u0436\u0442\u0435, \u0449\u043e \u0446\u0435 \u043a\u0435\u0440\u0456\u0432\u043d\u0438\u0446\u0442\u0432\u043e \u0431\u0443\u043b\u043e \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u0435 \u0442\u0430 \u043f\u0440\u043e\u0442\u0435\u0441\u0442\u043e\u0432\u0430\u043d\u0435 \u0437 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f\u043c \u043d\u043e\u0432\u043e\u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0437 \u043e\u043f\u0435\u0440\u0430\u0446\u0456\u0439\u043d\u043e\u044e \u0441\u0438\u0441\u0442\u0435\u043c\u043e\u044e Debian 13. \u042f\u043a\u0449\u043e \u0443 \u0432\u0430\u0441 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0456 \u0456\u043d\u0448\u0456 \u0432\u0435\u0440\u0441\u0456\u0457 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043d\u043e\u0433\u043e \u0437\u0430\u0431\u0435\u0437\u043f\u0435\u0447\u0435\u043d\u043d\u044f (\u043c\u043e\u0436\u043b\u0438\u0432\u043e, \u0432\u0438 \u043d\u0435\u0449\u043e\u0434\u0430\u0432\u043d\u043e \u043e\u043d\u043e\u0432\u0438\u043b\u0438\u0441\u044c \u0437 \u043f\u043e\u043f\u0435\u0440\u0435\u0434\u043d\u044c\u043e\u0457 \u0432\u0435\u0440\u0441\u0456\u0457 \u0430\u0431\u043e \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043b\u0438 \u0434\u0435\u044f\u043a\u0456 PPA \u0434\u043b\u044f \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f), \u043c\u043e\u0436\u043b\u0438\u0432\u043e \u0432\u0430\u043c \u0434\u043e\u0432\u0435\u0434\u0435\u0442\u044c\u0441\u044f \u0432\u043d\u0435\u0441\u0442\u0438 \u043f\u0435\u0432\u043d\u0456 \u0437\u043c\u0456\u043d\u0438.</p> <p>\u0414\u043b\u044f \u0442\u043e\u0433\u043e, \u0449\u043e\u0431 \u0441\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u0432\u0441\u0456 \u0446\u0456 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0438, \u0432\u0430\u043c \u0441\u043f\u043e\u0447\u0430\u0442\u043a\u0443 \u0442\u0440\u0435\u0431\u0430 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0438 \u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0456 \u0437\u0430\u043b\u0435\u0436\u043d\u043e\u0441\u0442\u0456.</p> <p>Debian \u0437 \u0442\u0438\u043f\u043e\u0432\u0438\u043c\u0438 \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f\u043c\u0438 \u043d\u0435 \u043c\u0456\u0441\u0442\u0438\u0442\u044c \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043e\u0457 \u0443\u0442\u0438\u043b\u0456\u0442\u0438 <code>sudo</code>, \u0442\u043e\u0436 \u043d\u0430\u043c \u0434\u043e\u0432\u0435\u0434\u0435\u0442\u044c\u0441\u044f \u0441\u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0442\u0438\u0441\u044c \u043f\u0440\u0430\u0432\u0430\u043c\u0438 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430 <code>root</code>, \u0449\u043e\u0431 \u0432\u0438\u043a\u043e\u043d\u0430\u0442\u0438 \u043f\u0435\u0440\u0448\u0443 \u0447\u0430\u0441\u0442\u0438\u043d\u0443:</p> <pre><code>su -\napt install \\\n    sudo screen locate libapache2-mod-tile \\\n    renderd git tar unzip wget bzip2 apache2 \\\n    lua5.1 mapnik-utils python3-mapnik \\\n    python3-psycopg2 python3-yaml gdal-bin \\\n    node-carto postgresql postgresql-contrib \\\n    postgis postgresql-17-postgis-3 \\\n    postgresql-17-postgis-3-scripts osm2pgsql \\\n    net-tools curl\n</code></pre> <p>\u041f\u0435\u0440\u0435\u0431\u0443\u0432\u0430\u044e\u0447\u0438 \u0432 \u043e\u0442\u043e\u0447\u0435\u043d\u0456 root \u043f\u0435\u0440\u0435\u0432\u0456\u0440\u0438\u043c\u043e, \u0447\u0438 \u043c\u0438 \u043c\u043e\u0436\u0435\u043c\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0443\u0442\u0438\u043b\u0456\u0442\u0443 <code>sudo</code> \u0432 \u043e\u0442\u043e\u0447\u0435\u043d\u0456 \u043d\u0430\u0448\u043e\u0433\u043e \u0437\u0432\u0438\u0447\u0430\u0439\u043d\u043e\u0433\u043e \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430. \u0417\u0430\u043c\u0456\u043d\u0456\u0442\u044c <code>youruseraccount</code> \u043d\u0430 \u0432\u0430\u0448 \u043e\u0431\u043b\u0456\u043a\u043e\u0432\u0438\u0439 \u0437\u0430\u043f\u0438\u0441 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0456. \u041d\u0435 \u043d\u0430\u043c\u0430\u0433\u0430\u0439\u0442\u0435\u0441\u044c \u0442\u0430 \u043d\u0435 \u0440\u043e\u0431\u0456\u0442\u044c \u0432\u0441\u0435 \u0432 \u043e\u0442\u043e\u0447\u0435\u043d\u0456 <code>root</code>; \u0441\u0438\u0441\u0442\u0435\u043c\u0430 \u043d\u0435 \u0431\u0443\u0434\u0435 \u043f\u0440\u0430\u0446\u044e\u0432\u0430\u0442\u0438.</p> <pre><code>usermod -aG sudo youruseraccount\nexit\n</code></pre> <p>\u041f\u043e\u0432\u0435\u0440\u043d\u0443\u0432\u0448\u0438\u0441\u044c \u0432 \u043e\u0442\u043e\u0447\u0435\u043d\u043d\u044f \u0437\u0432\u0438\u0447\u0430\u0439\u043d\u043e\u0433\u043e \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430 \u0432\u0438\u043a\u043e\u043d\u0430\u0439\u0442\u0435 \u0432\u0438\u0445\u0456\u0434 \u0442\u0430 \u0432\u0445\u0456\u0434 \u0434\u043e \u0432\u0430\u0448\u043e\u0433\u043e \u043e\u0442\u043e\u0447\u0435\u043d\u043d\u044f, \u043f\u0456\u0441\u043b\u044f \u0447\u043e\u0433\u043e \u043f\u0435\u0440\u0435\u0432\u0456\u0440\u0438\u0442\u0435 \u0440\u043e\u0431\u043e\u0442\u0443 \u0443\u0442\u0438\u043b\u0456\u0442\u0438 \"sudo\":</p> <pre><code>sudo whoami\n</code></pre> <p>\u0423 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u044c \u0432\u0438 \u043c\u0430\u0454\u0442\u0435 \u043e\u0442\u0440\u0438\u043c\u0430\u0442\u0438 <code>root</code>.</p> <p>\u041d\u0430 \u0446\u044c\u043e\u043c\u0443 \u0435\u0442\u0430\u043f\u0456 \u0431\u0443\u043b\u043e \u0434\u043e\u0434\u0430\u043d\u043e \u043a\u0456\u043b\u044c\u043a\u0430 \u043d\u043e\u0432\u0438\u0445 \u043e\u0431\u043b\u0456\u043a\u043e\u0432\u0438\u0445 \u0437\u0430\u043f\u0438\u0441\u0456\u0432. \u0412\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u043e\u0437\u043d\u0430\u0439\u043e\u043c\u0438\u0442\u0438\u0441\u044c \u0437 \u043d\u0438\u043c\u0438 \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e <code>tail /etc/passwd</code>. <code>postgres</code>\u00a0\u2013 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f \u0434\u043b\u044f \u043a\u0435\u0440\u0443\u0432\u0430\u043d\u043d\u044f \u0431\u0430\u0437\u0430\u043c\u0438 \u0434\u0430\u043d\u0438\u0445, \u044f\u043a\u0456 \u043c\u0438 \u0431\u0443\u0434\u0435\u043c\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0434\u043b\u044f \u0437\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u043d\u044f \u0434\u0430\u043d\u0438\u0445 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u0438\u0445 \u043d\u0430\u043c \u0434\u043b\u044f \u0440\u0435\u043d\u0434\u0435\u0440\u0438\u043d\u0433\u0443. <code>_renderd</code>\u00a0\u2013 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f \u0444\u043e\u043d\u043e\u0432\u043e\u044e \u0441\u043b\u0443\u0436\u0431\u043e\u044e <code>renderd</code>, \u0456 \u043d\u0430\u043c \u0434\u0430\u043b\u0456 \u0434\u043e\u0432\u0435\u0434\u0435\u0442\u044c\u0441\u044f \u043f\u0435\u0440\u0435\u043a\u043e\u043d\u0430\u0442\u0438\u0441\u044c, \u0449\u043e \u0431\u0456\u043b\u044c\u0448\u0456\u0441\u0442\u044c \u043a\u043e\u043c\u0430\u043d\u0434 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u044e\u0442\u044c\u0441\u044f \u0441\u0430\u043c\u0435 \u0446\u0438\u043c \u043e\u0431\u043b\u0456\u043a\u043e\u0432\u0438\u043c \u0437\u0430\u043f\u0438\u0441\u043e\u043c.</p> <p>\u0422\u0435\u043f\u0435\u0440 \u0432\u0430\u043c \u0442\u0440\u0435\u0431\u0430 \u0441\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u0431\u0430\u0437\u0443 \u0434\u0430\u043d\u0438\u0445 postgis. \u0422\u0438\u043f\u043e\u0432\u0456 \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f \u0440\u0456\u0437\u043d\u043e\u043c\u0430\u043d\u0456\u0442\u043d\u0438\u0445 \u043f\u0440\u043e\u0433\u0440\u0430\u043c \u043e\u0447\u0456\u043a\u0443\u044e\u0442\u044c \u0449\u043e \u0431\u0430\u0437\u0430 \u0434\u0430\u043d\u0438\u0445 \u043d\u0430\u0437\u0438\u0432\u0430\u0442\u0438\u043c\u0435\u0442\u044c\u0441\u044f <code>gis</code>, \u0442\u043e\u0436 \u043c\u0438 \u0431\u0443\u0434\u0435\u043c\u043e \u0434\u043e\u0442\u0440\u0438\u043c\u0443\u0432\u0430\u0442\u0438\u0441\u044c \u0446\u0456\u0454\u0457 \u0443\u0433\u043e\u0434\u0438 \u0432 \u0446\u0456\u043c \u043a\u0435\u0440\u0456\u0432\u043d\u0438\u0446\u0442\u0432\u0456, \u0445\u043e\u0447\u0430 \u0446\u0435 \u0439 \u043d\u0435 \u043e\u0431\u043e\u0432\u02bc\u044f\u0437\u043a\u043e\u0432\u043e. \u0417\u0432\u0435\u0440\u043d\u0456\u0442\u044c \u0443\u0432\u0430\u0433\u0443, \u0449\u043e <code>_renderd</code> \u043d\u0438\u0436\u0447\u0435 \u0437\u0431\u0456\u0433\u0430\u0454\u0442\u044c\u0441\u044f \u0437 \u0456\u043c\u0435\u043d\u0435\u043c \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430, \u044f\u043a\u0438\u0439 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f \u0434\u043b\u044f \u0444\u043e\u043d\u043e\u0432\u043e\u0457 \u0441\u043b\u0443\u0436\u0431\u0438 <code>renderd</code>.</p> <pre><code>sudo -u postgres -i\ncreateuser _renderd\ncreatedb -E UTF8 -O _renderd gis\n</code></pre> <p>\u041f\u043e\u043a\u0438 \u0432\u0438 \u043f\u0440\u0430\u0446\u044e\u0454\u0442\u0435 \u044f\u043a \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447 <code>postgres</code>, \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u0456\u0442\u044c PostGIS \u0432 \u0431\u0430\u0437\u0443 \u0434\u0430\u043d\u0438\u0445 PostgreSQL:</p> <pre><code>psql\n</code></pre> <p>(\u0446\u0435 \u043f\u0440\u0438\u0437\u0432\u0435\u0434\u0435 \u0434\u043e \u043f\u043e\u044f\u0432\u0438 <code>postgres=#</code> \u043d\u0430 \u043f\u043e\u0447\u0430\u0442\u043a\u0443 \u0440\u044f\u0434\u043a\u0430 \u043a\u043e\u043d\u0441\u043e\u043b\u0456)</p> <pre><code>\\c gis\n</code></pre> <p>(\u0443 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u044c \u0432\u0438 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0435: \"You are now connected to database <code>'gis'</code> as user <code>'postgres'</code>\" [\"\u0422\u0435\u043f\u0435\u0440 \u0432\u0438 \u043f\u0456\u0434\u02bc\u0454\u0434\u043d\u0430\u043d\u0456 \u0434\u043e \u0431\u0430\u0437\u0438 \u0434\u0430\u043d\u0438\u0445 <code>'gis'</code> \u044f\u043a \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447 <code>'postgres'</code>\"])</p> <pre><code>CREATE EXTENSION postgis;\n</code></pre> <p>(\u0443 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u044c \u0432\u0438 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0435: CREATE EXTENSION)</p> <pre><code>CREATE EXTENSION hstore;\n</code></pre> <p>(\u0443 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u044c \u0432\u0438 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0435: CREATE EXTENSION)</p> <pre><code>ALTER TABLE geometry_columns OWNER TO _renderd;\n</code></pre> <p>(\u0443 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u044c \u0432\u0438 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0435: ALTER TABLE)</p> <pre><code>ALTER TABLE spatial_ref_sys OWNER TO _renderd;\n</code></pre> <p>(\u0443 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u044c \u0432\u0438 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0435: ALTER TABLE)</p> <pre><code>\\q\n</code></pre> <p>(\u0446\u0435 \u043f\u0440\u0438\u0437\u0432\u0435\u0434\u0435 \u0434\u043e \u0432\u0438\u0445\u043e\u0434\u0443 \u0437 \u0441\u0435\u0441\u0456\u0457 psql \u0442\u0430 \u043f\u043e\u0432\u0435\u0440\u043d\u0435\u043d\u043d\u044f \u043d\u0430\u0437\u0430\u0434 \u0443 \u043a\u043e\u043d\u0441\u043e\u043b\u044c Linux)</p> <pre><code>exit\n</code></pre> <p>(\u043f\u043e\u0432\u0435\u0440\u043d\u0435\u043d\u043d\u044f \u043d\u0430\u0437\u0430\u0434 \u0434\u043e \u0441\u0435\u0441\u0456\u0457 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430, \u0432 \u044f\u043a\u0456\u0439 \u043c\u0438 \u0437\u043d\u0430\u0445\u043e\u0434\u0438\u043b\u0438\u0441\u044c \u0434\u043e \u0432\u0438\u043a\u043e\u043d\u0430\u043d\u043d\u044f \u043a\u043e\u043c\u0430\u043d\u0434\u0438 <code>sudo -u postgres -i</code> \u0432\u0438\u0449\u0435)</p>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-debian-13/#Mapnik","title":"Mapnik","text":"<p>Mapnik \u043c\u0438 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u043b\u0438 \u0440\u0430\u043d\u0456\u0448\u0435, \u0440\u0430\u0437\u043e\u043c \u0456\u0437 \"sudo\", \u043f\u0435\u0440\u0435\u0432\u0456\u0440\u0438\u043c\u043e \u0447\u0438 \u0432\u0456\u043d \u043f\u0440\u0430\u0446\u044e\u0454:</p> <pre><code>python3\n&gt;&gt;&gt; import mapnik\n&gt;&gt;&gt;\n</code></pre> <p>\u042f\u043a\u0449\u043e python \u0443 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u044c \u0432\u0438\u0434\u0430\u0454 \u0442\u0456\u043b\u044c\u043a\u0438 <code>&gt;&gt;&gt;</code> \u0431\u0435\u0437 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f \u043f\u0440\u043e \u043f\u043e\u043c\u0438\u043b\u043a\u0438, \u0437\u043d\u0430\u0447\u0438\u0442\u044c \u0431\u0456\u0431\u043b\u0456\u043e\u0442\u0435\u043a\u0430 Mapnik \u0454 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e\u044e \u0432 Python. \u0412\u0456\u0442\u0430\u0454\u043c\u043e! \u0414\u043b\u044f \u0432\u0438\u0445\u043e\u0434\u0443 \u0456\u0437 \u0441\u0435\u0441\u0456\u0457 Python \u0441\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u0439\u0442\u0435\u0441\u044c \u043d\u0430\u0441\u0442\u0443\u043f\u043d\u043e\u044e \u043a\u043e\u043c\u0430\u043d\u0434\u043e\u044e:</p> <pre><code>&gt;&gt;&gt; quit()\n</code></pre>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-debian-13/#\u041d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f-\u0441\u0442\u0438\u043b\u0456\u0432","title":"\u041d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f \u0441\u0442\u0438\u043b\u0456\u0432","text":"<p>\u0422\u0435\u043f\u0435\u0440, \u043f\u0456\u0441\u043b\u044f \u0442\u043e\u0433\u043e, \u044f\u043a \u0432\u0441\u0435 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u0435 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043d\u0435 \u0437\u0430\u0431\u0435\u0437\u043f\u0435\u0447\u0435\u043d\u043d\u044f \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0435, \u0432\u0430\u043c \u0442\u0440\u0435\u0431\u0430 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u0442\u0430 \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u0442\u0438 \u0441\u0442\u0438\u043b\u0456.</p> <p>\u0421\u0442\u0438\u043b\u044c, \u044f\u043a\u0438\u0439 \u043c\u0438 \u0431\u0443\u0434\u0435\u043c\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438,\u00a0\u2013 \u0446\u0435 \u0441\u0442\u0438\u043b\u044c \u044f\u043a\u0438\u0439 \u0437\u0430\u0441\u0442\u043e\u0441\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f \u0434\u043b\u044f \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \"\u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u043e\u0433\u043e\" \u0448\u0430\u0440\u0443 \u043d\u0430 \u0441\u0430\u0439\u0442\u0456 openstreetmap.org. \u041c\u0438 \u043e\u0431\u0440\u0430\u043b\u0438 \u0439\u043e\u0433\u043e \u0447\u0435\u0440\u0435\u0437 \u0433\u0430\u0440\u043d\u0443 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0456\u044e \u0456 \u0442\u0435, \u0449\u043e \u0432\u0456\u043d \u0437\u0434\u0430\u0442\u0435\u043d \u043f\u0440\u0430\u0446\u044e\u0432\u0430\u0442\u0438 \u0434\u043b\u044f \u0431\u0443\u0434\u044c-\u044f\u043a\u043e\u0457 \u0447\u0430\u0441\u0442\u0438\u043d\u0438 \u0441\u0432\u0456\u0442\u0443, \u043d\u0430\u0432\u0456\u0442\u044c \u0442\u0430\u043c \u0434\u0435 \u043d\u0435 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f \u043b\u0430\u0442\u0438\u043d\u043a\u0430. \u0410\u043b\u0435 \u0443 \u043d\u044c\u043e\u0433\u043e \u0454 \u0439 \u043f\u0435\u0432\u043d\u0456 \u043d\u0435\u0434\u043e\u043b\u0456\u043a\u0438\u00a0\u2013 \u0446\u0435 \u043a\u043e\u043c\u043f\u0440\u043e\u043c\u0456\u0441\u043d\u0456 \u0440\u0456\u0448\u0435\u043d\u043d\u044f \u0434\u043b\u044f \u0442\u043e\u0433\u043e, \u0449\u043e\u0431 \u043f\u0440\u0430\u0446\u044e\u0432\u0430\u0442\u0438 \u0432 \u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u0438\u0445 \u043c\u0430\u0441\u0448\u0442\u0430\u0431\u0430\u0445, \u0432\u0456\u043d \u0434\u0443\u0436\u0435 \u0441\u043a\u043b\u0430\u0434\u043d\u0438\u0439 \u0434\u043b\u044f \u0440\u043e\u0437\u0443\u043c\u0456\u043d\u043d\u044f \u0442\u0430 \u0432\u043d\u0435\u0441\u0435\u043d\u043d\u044f \u0437\u043c\u0456\u043d, \u044f\u043a\u0449\u043e \u0432\u0430\u043c \u0434\u043e\u0432\u0435\u0434\u0435\u0442\u044c\u0441\u044f \u0457\u0445 \u0432\u043d\u043e\u0441\u0438\u0442\u0438.</p> <p>\u041a\u043e\u0434 \u0441\u0442\u0438\u043b\u044e \"OpenStreetMap Carto\" \u0437 \u0432\u0435\u0431\u0441\u0430\u0439\u0442\u0443 openstreetmap.org \u0437\u043d\u0430\u0445\u043e\u0434\u0438\u0442\u044c\u0441\u044f \u043d\u0430 GitHub\u00a0\u2013 https://github.com/gravitystorm/openstreetmap-carto/ \u0442\u0430 \u0442\u0430\u043a\u043e\u0436 \u043c\u0430\u0454 \u0432\u043b\u0430\u0441\u043d\u0456 \u0456\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0456\u0457 \u0437\u0456 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f\u00a0\u2013 https://github.com/gravitystorm/openstreetmap-carto/blob/master/INSTALL.md. \u041f\u0440\u043e \u0442\u0435, \u0449\u043e \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0437\u0440\u043e\u0431\u0438\u0442\u0438, \u043c\u0438 \u0440\u043e\u0437\u043f\u043e\u0432\u0456\u043c\u043e \u0442\u0443\u0442.</p> <p>\u041f\u0435\u0440\u0435\u0434\u0431\u0430\u0447\u0430\u0454\u0442\u044c\u0441\u044f \u0449\u043e \u043c\u0438 \u0440\u043e\u0437\u043c\u0456\u0449\u0443\u0454\u043c\u043e \u0441\u0442\u0438\u043b\u044c \u0432 \u0442\u0435\u0446\u0456 <code>~/src</code> \u0434\u043e\u043c\u0430\u0448\u043d\u044c\u043e\u0457 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0456\u0457 \u0437\u0432\u0438\u0447\u0430\u0439\u043d\u043e\u0433\u043e \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430 (\u043d\u0435 root):</p> <pre><code>mkdir ~/src\ncd ~/src\ngit clone https://github.com/gravitystorm/openstreetmap-carto\ncd openstreetmap-carto\ngit pull --all\ngit switch --detach v5.9.0\n</code></pre> <p>\"git switch\" \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0432\u0438\u043a\u043e\u043d\u0430\u0442\u0438 \u0442\u043e\u043c\u0443, \u0449\u043e \u0446\u0435 \u043e\u0441\u0442\u0430\u043d\u043d\u044f \u0432\u0435\u0440\u0441\u0456\u044f, \u044f\u043a\u0443 \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0438 \u043d\u0430 OpenStreetMap, \u0430\u043b\u0435 OSM Carto \u0444\u0430\u043a\u0442\u0438\u0447\u043d\u043e \u043f\u0435\u0440\u0435\u0439\u0448\u043e\u0432 \u043d\u0430 \u0456\u043d\u0448\u0438\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u0431\u0430\u0437\u0438 \u0434\u0430\u043d\u0438\u0445. \u0414\u0438\u0432\u0456\u0442\u044c\u0441\u044f INSTALL.md \u0434\u043b\u044f \u043e\u0437\u043d\u0430\u0439\u043e\u043c\u043b\u0435\u043d\u043d\u044f \u0437 \u043d\u043e\u0432\u043e\u044e \u0432\u0435\u0440\u0441\u0456\u0454\u044e. \u0421\u0442\u0430\u0440\u0438\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u043d\u0430\u0437\u0438\u0432\u0430\u0454\u0442\u044c\u0441\u044f <code>pgsql</code>, \u043d\u043e\u0432\u0438\u0439 \u2014 <code>flex</code>; \u043f\u0456\u0437\u043d\u0456\u0448\u0435 \u043c\u0438 \u043e\u0442\u0440\u0438\u043c\u0430\u0454\u043c\u043e \u043f\u043e\u043f\u0435\u0440\u0435\u0434\u0436\u0435\u043d\u043d\u044f \u0432\u0456\u0434 <code>osm2pgsql</code> \u043f\u0440\u043e \u0446\u0435.</p> <p>\u0414\u0430\u043b\u0456, \u043f\u0435\u0440\u0435\u0432\u0456\u0440\u0438\u043c\u043e \u0447\u0438 \u0432 \u043d\u0430\u044f\u0432\u043d\u043e\u0441\u0442\u0456 \u0443 \u043d\u0430\u0441 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u0430 \u0432\u0435\u0440\u0441\u0456\u044f \u043a\u043e\u043c\u043f\u0456\u043b\u044f\u0442\u043e\u0440\u0430 <code>carto</code>.</p> <pre><code>carto -v\n</code></pre> <p>\u0423 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u044c \u043c\u0438 \u043c\u0430\u0454\u043c\u043e \u043e\u0442\u0440\u0438\u043c\u0430\u0442\u0438 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044e \u043f\u0440\u043e \u043d\u043e\u043c\u0435\u0440 \u0432\u0435\u0440\u0441\u0456\u0457, \u044f\u043a\u0430 \u043c\u0430\u0454 \u0431\u0443\u0442\u0438 \u043d\u0435 \u043c\u0435\u043d\u0448\u0435 \u043d\u0456\u0436:</p> <pre><code>1.2.0\n</code></pre> <p>\u041f\u0456\u0441\u043b\u044f \u0446\u044c\u043e\u0433\u043e \u043c\u0438 \u043f\u0435\u0440\u0435\u0442\u0432\u043e\u0440\u0438\u043c\u043e \u043f\u0440\u043e\u0454\u043a\u0442 carto \u0443 \u0437\u0440\u043e\u0437\u0443\u043c\u0456\u043b\u0438\u0439 \u0434\u043b\u044f Mapnik \u0432\u0438\u0433\u043b\u044f\u0434:</p> <pre><code>carto project.mml &gt; mapnik.xml\n</code></pre> <p>\u0422\u0435\u043f\u0435\u0440 \u0443 \u043d\u0430\u0441 \u0454 \u0441\u0442\u0438\u043b\u044c Mapnik XML\u00a0\u2013 <code>/home/youraccountname/src/openstreetmap-carto/mapnik.xml</code>.</p>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-debian-13/#\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f-\u0434\u0430\u043d\u0438\u0445","title":"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u0434\u0430\u043d\u0438\u0445","text":"<p>\u0414\u043b\u044f \u043f\u043e\u0447\u0430\u0442\u043a\u0443, \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u043c\u043e \u043d\u0435\u0432\u0435\u043b\u0438\u0447\u043a\u0443 \u0447\u0430\u0441\u0442\u0438\u043d\u0443 \u0442\u0435\u0441\u0442\u043e\u0432\u0438\u0445 \u0434\u0430\u043d\u0438\u0445. \u0421\u0435\u0440\u0435\u0434 \u0440\u0456\u0437\u043d\u043e\u043c\u0430\u0457\u0442\u0442\u044f \u043c\u0456\u0441\u0446\u044c \u0434\u043b\u044f \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u044f \u0434\u0430\u043d\u0438\u0445, \u043e\u0431\u0435\u0440\u0435\u043c\u043e <code>download.geofabrik.de</code>, \u0449\u043e \u043c\u0456\u0441\u0442\u0438\u0442\u044c \u0432\u0435\u043b\u0438\u043a\u0438\u0439 \u043f\u0435\u0440\u0435\u043b\u0456\u043a \u0440\u0456\u0437\u043d\u0438\u0445 \u0432\u0430\u0440\u0456\u0430\u043d\u0442\u0456\u0432 \u0434\u043b\u044f \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f. \u0412\u0456\u0437\u044c\u043c\u0456\u043c\u043e \u0434\u043b\u044f \u043f\u0440\u0438\u043a\u043b\u0430\u0434\u0443 \u0410\u0437\u0435\u0440\u0431\u0430\u0439\u0434\u0436\u0430\u043d (~32.4 \u041c\u0431).</p> <p>\u041f\u0435\u0440\u0435\u0439\u0434\u0456\u0442\u044c \u0437\u0430 \u043f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f\u043c https://download.geofabrik.de/asia/azerbaijan.html \u0442\u0430 \u0437\u0432\u0435\u0440\u043d\u0456\u0442\u044c \u0443\u0432\u0430\u0433\u0443 \u043d\u0430 \u0434\u0430\u0442\u0443 \"This file was last modified\" (\u0449\u043e\u0441\u044c \u0441\u0445\u043e\u0436\u0435 \u043d\u0430 \"2025-08-15T12:40:00Z\"). \u0412\u043e\u043d\u0430 \u043d\u0430\u043c \u0437\u043d\u0430\u0434\u043e\u0431\u0438\u0442\u044c\u0441\u044f \u043f\u043e\u0442\u0456\u043c, \u043a\u043e\u043b\u0438 \u0443 \u043d\u0430\u0441 \u0432\u0438\u043d\u0438\u043a\u043d\u0435 \u043f\u043e\u0442\u0440\u0435\u0431\u0430 \u043e\u043d\u043e\u0432\u0438\u0442\u0438 \u043d\u0430\u0448\u0456 \u0434\u0430\u043d\u0456 \u0434\u0430\u043d\u0438\u043c\u0438, \u044f\u043a\u0456 \u0443\u0447\u0430\u0441\u043d\u0438\u043a\u0438 OpenStreetMap \u0434\u043e\u0434\u0430\u043b\u0438 \u0437 \u043c\u043e\u043c\u0435\u043d\u0442\u0443 \u043d\u0430\u0448\u043e\u0433\u043e \u0456\u043c\u043f\u043e\u0440\u0442\u0443. \u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u043c\u043e \u0434\u0430\u043d\u0456:</p> <pre><code>mkdir ~/data\ncd ~/data\nwget https://download.geofabrik.de/asia/azerbaijan-latest.osm.pbf\n</code></pre> <p>\u0414\u0430\u043b\u0456 \u043d\u0430\u043c \u0442\u0440\u0435\u0431\u0430 \u043f\u0435\u0440\u0435\u043a\u043e\u043d\u0430\u0442\u0438\u0441\u044c, \u0449\u043e \u043e\u0431\u043b\u0456\u043a\u043e\u0432\u0438\u0439 \u0437\u0430\u043f\u0438\u0441 <code>_renderd</code> \u043c\u0430\u0454 \u0434\u043e\u0441\u0442\u0443\u043f \u0434\u043e \u0441\u0442\u0438\u043b\u044e. \u0419\u043e\u043c\u0443 \u043f\u043e\u0442\u0440\u0456\u0431\u0435\u043d \u0434\u043e\u0441\u0442\u0443\u043f \u0434\u043e \u0432\u0441\u044c\u043e\u0433\u043e, \u0449\u043e \u0432\u0438 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u043b\u0438 \u0434\u043b\u044f \u043d\u044c\u043e\u0433\u043e, \u0430\u043b\u0435, \u0442\u0438\u043f\u043e\u0432\u043e, \u0432\u0456\u043d \u043d\u0435 \u043f\u043e\u0432\u0438\u043d\u0435\u043d \u043c\u0430\u0442\u0438 \u0434\u043e\u0441\u0442\u0443\u043f\u0443 \u0434\u043e \u0432\u0430\u0448\u043e\u0457 \u0434\u043e\u043c\u0430\u0448\u043d\u044c\u043e\u0457 \u0442\u0435\u043a\u0438. \u042f\u043a\u0449\u043e \u043c\u0438 \u043f\u0435\u0440\u0435\u0434\u0431\u0430\u0447\u0430\u0454\u043c\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0442\u0435\u043a\u0443 <code>src</code>, \u0449\u043e \u0437\u043d\u0430\u0445\u043e\u0434\u0438\u0442\u044c\u0441\u044f \u0432 \u0441\u0435\u0440\u0435\u0434\u0438\u043d\u0456 \u0442\u0435\u043a\u0438 \u0432\u0430\u0448\u043e\u0433\u043e \u043e\u0431\u043b\u0456\u043a\u043e\u0432\u043e\u0433\u043e \u0437\u0430\u043f\u0438\u0441\u0443, \u0434\u043b\u044f \u0446\u044c\u043e\u0433\u043e \u043f\u0435\u0440\u0435\u0439\u0434\u0456\u0442\u044c \u0434\u043e \u043d\u0435\u0457 \u0442\u0430 \u0432\u0438\u043a\u043e\u043d\u0430\u0439\u0442\u0435 \u043a\u043e\u043c\u0430\u043d\u0434\u0443</p> <pre><code>chmod o+rx ~\n</code></pre> <p>\u042f\u043a\u0449\u043e \u0432\u0438 \u043d\u0435 \u0431\u0430\u0436\u0430\u0454\u0442\u0435 \u0440\u043e\u0431\u0438\u0442\u0438 \u0446\u044c\u043e\u0433\u043e, \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u0435\u0440\u0435\u043c\u0456\u0441\u0442\u0438\u0442\u0438 \u0441\u0442\u0438\u043b\u044c \u0432 \u0456\u043d\u0448\u0435 \u043c\u0456\u0441\u0446\u0435 \u0442\u0430 \u0437\u043c\u0456\u043d\u0438\u0442\u0438 \u043f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f \u043d\u0430 \u0440\u043e\u0437\u0442\u0430\u0448\u0443\u0432\u0430\u043d\u043d\u044f \u0444\u0430\u0439\u043b\u0456\u0432 \u0443 \u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0438\u0445 \u043a\u043e\u043c\u0430\u043d\u0434\u0430\u0445.</p> <p>\u041d\u0430\u0441\u0442\u0443\u043f\u043d\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0436\u0435 \u0432\u0430\u043c \u043f\u0435\u0440\u0435\u043d\u0435\u0441\u0442\u0438 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u0456 \u0434\u0430\u043d\u0456 \u0434\u043e \u0432\u0430\u0448\u043e\u0457 \u0431\u0430\u0437\u0438 \u0434\u0430\u043d\u0438\u0445. \u041d\u0430 \u0446\u044c\u043e\u043c\u0443 \u0435\u0442\u0430\u043f\u0456 \u0437\u0440\u043e\u0441\u0442\u0435 \u043d\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u043d\u0430 \u0434\u0438\u0441\u043a\u043e\u0432\u0456 \u043e\u043f\u0435\u0440\u0430\u0446\u0456\u0457 \u0447\u0435\u0440\u0435\u0437 \u043f\u043e\u0442\u0440\u0435\u0431\u0443 \u043f\u0435\u0440\u0435\u043d\u0435\u0441\u0435\u043d\u043d\u044f \u0437\u043d\u0430\u0447\u043d\u043e\u0433\u043e \u043e\u0431\u0441\u044f\u0433\u0443 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u0457; \u0456\u043c\u043f\u043e\u0440\u0442 \u0432\u0441\u0456\u0454\u0457 \u043f\u043b\u0430\u043d\u0435\u0442\u0438 \u043c\u043e\u0436\u0435 \u0442\u0440\u0438\u0432\u0430\u0442\u0438 \u043a\u0456\u043b\u044c\u043a\u0430 \u0433\u043e\u0434\u0438\u043d, \u0434\u043d\u0456\u0432 \u0442\u0430 \u043d\u0430\u0432\u0456\u0442\u044c \u0442\u0438\u0436\u043d\u0456\u0432, \u0432 \u0437\u0430\u043b\u0435\u0436\u043d\u043e\u0441\u0442\u0456 \u0432\u0456\u0434 \u043f\u043e\u0442\u0443\u0436\u043d\u043e\u0441\u0442\u0435\u0439 \u0432\u0430\u0448\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u043d\u043e\u0433\u043e \u043e\u0431\u043b\u0430\u0434\u043d\u0430\u043d\u043d\u044f. \u0417\u0440\u043e\u0437\u0443\u043c\u0456\u043b\u043e, \u0449\u043e \u0434\u043b\u044f \u043d\u0435\u0432\u0435\u043b\u0438\u043a\u0438\u0445 \u0447\u0430\u0441\u0442\u0438\u043d \u0434\u0430\u043d\u0438\u0445 \u0456\u043c\u043f\u043e\u0440\u0442 \u0432\u0456\u0434\u0431\u0443\u0432\u0430\u0454\u0442\u044c\u0441\u044f \u0437\u043d\u0430\u0447\u043d\u043e \u0448\u0432\u0438\u0434\u0448\u0435, \u043c\u043e\u0436\u043b\u0438\u0432\u043e \u0432\u0430\u043c \u0434\u043e\u0432\u0435\u0434\u0435\u0442\u044c\u0441\u044f \u043f\u043e\u0435\u043a\u0441\u043f\u0435\u0440\u0438\u043c\u0435\u043d\u0442\u0443\u0432\u0430\u0442\u0438 \u0437\u0456 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f\u043c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430 <code>-C</code>, \u0449\u043e\u0431 \u0432\u043a\u043b\u0430\u0441\u0442\u0438\u0441\u044c \u0443 \u043d\u0430\u044f\u0432\u043d\u0443 \u043e\u043f\u0435\u0440\u0430\u0442\u0438\u0432\u043d\u0443 \u043f\u0430\u043c\u02bc\u044f\u0442\u044c \u0432\u0430\u0448\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430. \u0417\u0432\u0435\u0440\u043d\u0456\u0442\u044c \u0443\u0432\u0430\u0433\u0443, \u0449\u043e \u043c\u0438 \u0440\u043e\u0431\u0438\u043c\u043e \u0446\u0435 \u0432 \u043e\u0442\u043e\u0447\u0435\u043d\u0456 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430 <code>_renderd</code>.</p> <pre><code>sudo -u _renderd osm2pgsql \\\n    -d gis --create --slim  -G --hstore \\\n    --tag-transform-script \\\n        ~/src/openstreetmap-carto/openstreetmap-carto.lua \\\n    -C 2500 --number-processes 1 \\\n    -S ~/src/openstreetmap-carto/openstreetmap-carto.style \\\n    ~/data/azerbaijan-latest.osm.pbf\n</code></pre> <p>\u0420\u043e\u0437\u0431\u0435\u0440\u0456\u043c\u043e\u0441\u044f \u0449\u043e \u043e\u0437\u043d\u0430\u0447\u0430\u044e\u0442\u044c \u0432\u0441\u0456 \u0446\u0456 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0438:</p> <code>-d gis</code> \u0411\u0430\u0437\u0430 \u0434\u0430\u043d\u0438\u0445, \u0437 \u044f\u043a\u043e\u044e \u043c\u0438 \u043f\u0440\u0430\u0446\u044e\u0454\u043c\u043e (\u0442\u0438\u043f\u043e\u0432\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f <code>gis</code>; \u0442\u0443\u0442 \u0442\u0440\u0435\u0431\u0430 \u0432\u043a\u0430\u0437\u0430\u0442\u0438 \u0457\u0457 \u044f\u0432\u043d\u043e). <code>--create</code> \u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u0434\u0430\u043d\u0456 \u0432 \u043f\u0443\u0441\u0442\u0443 \u0431\u0430\u0437\u0443 \u0434\u0430\u043d\u0438\u0445, \u0437\u0430\u043c\u0456\u0441\u0442\u044c \u0441\u043f\u0440\u043e\u0431 \u0434\u043e\u0434\u0430\u0442\u0438 \u0457\u0445 \u0434\u043e \u043d\u0430\u044f\u0432\u043d\u0438\u0445. <code>--slim</code> osm2pgsql \u043c\u043e\u0436\u0435 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0440\u0456\u0437\u043d\u043e\u043c\u0430\u043d\u0456\u0442\u043d\u0456 \u0441\u0445\u0435\u043c\u0438 \u0442\u0430\u0431\u043b\u0438\u0446\u044c; <code>slim</code> \u0433\u043e\u0434\u0438\u0442\u044c\u0441\u044f \u0434\u043b\u044f \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0456\u0457 \u0442\u0430\u0439\u043b\u0456\u0432. <code>-G</code> \u0412\u0438\u0437\u043d\u0430\u0447\u0430\u0454, \u044f\u043a\u0438\u043c \u0447\u0438\u043d\u043e\u043c \u0431\u0443\u0434\u0443\u0442\u044c \u043e\u0431\u0440\u043e\u0431\u043b\u044f\u0442\u0438\u0441\u044c \u043c\u0443\u043b\u044c\u0442\u0438\u043f\u043e\u043b\u0456\u0433\u043e\u043d\u0438. <code>--hstore</code> \u0414\u043e\u0437\u0432\u043e\u043b\u044f\u0454 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0434\u043b\u044f \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0456\u0457 \u0442\u0430\u0439\u043b\u0456\u0432 \u0442\u0435\u0491\u0438, \u0434\u043b\u044f \u044f\u043a\u0438\u0445 \u043d\u0435\u043c\u0430\u0454 \u043e\u043a\u0440\u0435\u043c\u0438\u0445 \u0441\u0442\u043e\u0432\u043f\u0446\u0456\u0432 \u0432 \u0431\u0430\u0437\u0456 \u0434\u0430\u043d\u0438\u0445. <code>--tag-transform-script ~/src/openstreetmap-carto/openstreetmap-carto.lua</code> \u0412\u0438\u0437\u043d\u0430\u0447\u0430\u0454 \u0441\u043a\u0440\u0438\u043f\u0442 lua, \u044f\u043a\u0438\u0439 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f \u0434\u043b\u044f \u043e\u0431\u0440\u043e\u0431\u043a\u0438 \u0442\u0435\u0491\u0456\u0432. \u0426\u0435 \u043f\u0440\u043e\u0441\u0442\u0438\u0439 \u0441\u043f\u043e\u0441\u0456\u0431 \u043e\u0431\u0440\u043e\u0431\u043a\u0438 \u0442\u0435\u0491\u0456\u0432 OSM \u0434\u043e \u0442\u043e\u0433\u043e, \u044f\u043a \u0432\u043e\u043d\u0438 \u0431\u0443\u0434\u0443\u0442\u044c \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u0456 \u0432 \u0441\u0442\u0438\u043b\u0456, \u0449\u043e \u0441\u043f\u0440\u043e\u0449\u0443\u0454 \u043b\u043e\u0433\u0456\u043a\u0443 \u0441\u0430\u043c\u043e\u0433\u043e \u0441\u0442\u0438\u043b\u044e. <code>-C 2500</code> \u0412\u0438\u0434\u0456\u043b\u044f\u0454 2.5 \u0413\u0431 \u043e\u043f\u0435\u0440\u0430\u0442\u0438\u0432\u043d\u043e\u0457 \u043f\u0430\u043c\u02bc\u044f\u0442\u0456 \u0434\u043b\u044f osm2pgsql \u043d\u0430 \u0432\u0438\u043a\u043e\u043d\u0430\u043d\u043d\u044f \u0456\u043c\u043f\u043e\u0440\u0442\u0443. \u042f\u043a\u0449\u043e \u0443 \u0432\u0430\u0441 \u043c\u0435\u043d\u0448\u0435 \u043e\u043f\u0435\u0440\u0430\u0442\u0438\u0432\u043d\u043e\u0457 \u043f\u0430\u043c\u02bc\u044f\u0442\u0456, \u0441\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043c\u0435\u043d\u0448\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f. \u042f\u043a\u0449\u043e \u043f\u0440\u043e\u0446\u0435\u0441 \u0456\u043c\u043f\u043e\u0440\u0442\u0443 \u0431\u0443\u0434\u0435 \u0437\u043d\u0438\u0449\u0435\u043d\u0438\u0439 \u0447\u0435\u0440\u0435\u0437 \u043d\u0435\u0441\u0442\u0430\u0447\u0443 \u043e\u043f\u0435\u0440\u0430\u0442\u0438\u0432\u043d\u043e\u0457 \u043f\u0430\u043c\u02bc\u044f\u0442\u0456, \u0441\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0437\u043c\u0435\u043d\u0448\u0438\u0442\u0438 \u0446\u0435 \u0447\u0438\u0441\u043b\u043e \u0430\u0431\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0439\u0442\u0435 \u043c\u0435\u043d\u0448\u0438\u0439 \u043e\u0431\u0441\u044f\u0433 \u0434\u0430\u043d\u0438\u0445. <code>--number-processes 1</code> \u0412\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u043e\u0434\u043d\u0435 \u044f\u0434\u0440\u043e \u043f\u0440\u043e\u0446\u0435\u0441\u043e\u0440\u0430. \u042f\u043a\u0449\u043e \u0443 \u0432\u0430\u0441 \u0431\u0430\u0433\u0430\u0442\u043e\u044f\u0434\u0435\u0440\u043d\u0438\u0439 \u043f\u0440\u043e\u0446\u0435\u0441\u043e\u0440 \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0431\u0456\u043b\u044c\u0448\u0443 \u043a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u044f\u0434\u0435\u0440. <code>-S ~/src/openstreetmap-carto/openstreetmap-carto.style</code> \u0421\u0442\u0432\u043e\u0440\u044e\u0432\u0430\u0442\u0438 \u0441\u0442\u043e\u0432\u043f\u0446\u0456 \u0432 \u0431\u0430\u0437\u0456 \u0434\u0430\u043d\u0438\u0445 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u044e\u0447\u0438 \u0432\u043a\u0430\u0437\u0430\u043d\u0438\u0439 \u0444\u0430\u0439\u043b (\u0432 \u043d\u0430\u0448\u043e\u043c\u0443 \u0432\u0438\u043f\u0430\u0434\u043a\u0443 \u0432\u0456\u043d \u043d\u0456\u0447\u0438\u043c \u043d\u0435 \u0432\u0456\u0434\u0440\u0456\u0437\u043d\u044f\u0454\u0442\u044c\u0441\u044f \u0432\u0456\u0434 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u043e\u0433\u043e \"openstreetmap-carto\") <code>~/data/azerbaijan-latest.osm.pbf</code> \u041e\u0441\u0442\u0430\u043d\u043d\u0456\u0439 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u00a0\u2013 \u0446\u0435 \u0444\u0430\u0439\u043b \u0437 \u0434\u0430\u043d\u0438\u043c\u0438 \u0434\u043b\u044f \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u0432 \u0431\u0430\u0437\u0443. <p>\u041f\u0456\u0434 \u0447\u0430\u0441 \u0432\u0438\u043a\u043e\u043d\u0430\u043d\u043d\u044f \u0432\u0438 \u043e\u0442\u0440\u0438\u043c\u0430\u0454\u0442\u0435 \u043f\u043e\u043f\u0435\u0440\u0435\u0434\u0436\u0435\u043d\u043d\u044f, \u043f\u0440\u043e \u044f\u043a\u0435 \u0437\u0433\u0430\u0434\u0443\u0432\u0430\u043b\u043e\u0441\u044f \u0432\u0438\u0449\u0435. \u041e\u0441\u0442\u0430\u043d\u043d\u044f \u0432\u0435\u0440\u0441\u0456\u044f \u00abOSM Carto\u00bb, \u0449\u043e \u0437\u043d\u0430\u0445\u043e\u0434\u0438\u0442\u044c\u0441\u044f \u0432 \u0440\u043e\u0437\u0440\u043e\u0431\u0446\u0456, \u0431\u0443\u043b\u0430 \u0437\u043c\u0456\u043d\u0435\u043d\u0430 \u0434\u043b\u044f \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f \u0432\u0438\u0432\u043e\u0434\u0443 \u00abflex\u00bb, \u0430\u043b\u0435 \u0432\u0435\u0440\u0441\u0456\u044f \u043d\u0430 \u0432\u0435\u0431\u0441\u0430\u0439\u0442\u0456 OpenStreetMap (\u043f\u0440\u043e \u044f\u043a\u0443 \u0439\u0434\u0435\u0442\u044c\u0441\u044f \u0432 \u0446\u044c\u043e\u043c\u0443 \u043f\u043e\u0441\u0456\u0431\u043d\u0438\u043a\u0443) \u0449\u0435 \u043d\u0435 \u0437\u043c\u0456\u043d\u0435\u043d\u0430.</p> <p>\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u043c \u0440\u043e\u0431\u043e\u0442\u0438 \u0446\u0456\u0454\u0457 \u043a\u043e\u043c\u0430\u043d\u0434\u0438 \u043c\u0430\u0454 \u0431\u0443\u0442\u0438 \u0449\u043e\u0441\u044c \u0441\u0445\u043e\u0436\u0435 \u043d\u0430 \"Osm2pgsql took 238s overall\".</p>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-debian-13/#\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f-\u0456\u043d\u0434\u0435\u043a\u0441\u0456\u0432","title":"\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u0456\u043d\u0434\u0435\u043a\u0441\u0456\u0432","text":"<p>\u0414\u0435\u044f\u043a\u0456 \u0434\u043e\u0434\u0430\u0442\u043a\u043e\u0432\u0456 \u0456\u043d\u0434\u0435\u043a\u0441\u0438 \u0437\u0430\u0440\u0430\u0437 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0437\u0430\u0441\u0442\u043e\u0441\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0432\u0440\u0443\u0447\u043d\u0443:</p> <pre><code>cd ~/src/openstreetmap-carto/\nsudo -u _renderd psql -d gis -f indexes.sql\n</code></pre> <p>\u0421\u043a\u0440\u0438\u043f\u0442 \u043c\u0430\u0454 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u0438\u0442\u0438 <code>CREATE INDEX</code> 16 \u0440\u0430\u0437\u0456\u0432.</p>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-debian-13/#\u0424\u0443\u043d\u043a\u0446\u0456\u0457-\u0431\u0430\u0437\u0438-\u0434\u0430\u043d\u0438\u0445","title":"\u0424\u0443\u043d\u043a\u0446\u0456\u0457 \u0431\u0430\u0437\u0438 \u0434\u0430\u043d\u0438\u0445","text":"<p>\u0423 \u0432\u0435\u0440\u0441\u0456\u0457 5.9.0 \u00abOSM Carto\u00bb (\u0432\u0438\u043f\u0443\u0449\u0435\u043d\u0430 \u0432 \u0436\u043e\u0432\u0442\u043d\u0456 2024 \u0440\u043e\u043a\u0443) \u0434\u0435\u044f\u043a\u0456 \u0444\u0443\u043d\u043a\u0446\u0456\u0457 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0443\u0432\u0430\u0442\u0438 \u0432 \u0431\u0430\u0437\u0443 \u0434\u0430\u043d\u0438\u0445 \u0432\u0440\u0443\u0447\u043d\u0443. \u0412\u043e\u043d\u0438 \u043c\u043e\u0436\u0443\u0442\u044c \u0431\u0443\u0442\u0438 \u0434\u043e\u0434\u0430\u043d\u0456 \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e:</p> <pre><code>cd ~/src/openstreetmap-carto/\nsudo -u _renderd psql -d gis -f functions.sql\n</code></pre>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-debian-13/#\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f-Shapefile","title":"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f Shapefile","text":"<p>\u041f\u043e\u043f\u0440\u0438 \u0442\u0435, \u0449\u043e \u0431\u0456\u043b\u044c\u0448\u0456\u0441\u0442\u044c \u0434\u0430\u043d\u0438\u0445 \u0434\u043b\u044f \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u043c\u0430\u043f\u0438 \u0431\u0435\u0440\u0435\u0442\u044c\u0441\u044f \u0437 \u0444\u0430\u0439\u043b\u0443 \u0437 \u0434\u0430\u043d\u0438\u043c\u0438 OpenStreetMap, \u044f\u043a\u0438\u0439 \u0432\u0438 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u043b\u0438 \u0440\u0430\u043d\u0456\u0448\u0435, \u0434\u0435\u044f\u043a\u0456 \u0444\u0430\u0439\u043b\u0438 \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0456 shapefile \u0432\u0441\u0435 \u0436 \u0442\u0430\u043a\u0456 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u0456 \u0434\u043b\u044f \u0442\u0430\u043a\u0438\u0445 \u0440\u0435\u0447\u0435\u0439, \u043d\u0430\u043f\u0440\u0438\u043a\u043b\u0430\u0434, \u044f\u043a \u043a\u043e\u0440\u0434\u043e\u043d\u0438 \u043a\u0440\u0430\u0457\u043d \u043d\u0430 \u0432\u0435\u043b\u0438\u043a\u0438\u0445 \u043c\u0430\u0441\u0448\u0442\u0430\u0431\u0430\u0445. \u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0442\u0435 \u0457\u0445 \u0442\u0430 \u043f\u0440\u043e\u0456\u043d\u0434\u0435\u043a\u0441\u0443\u0439\u0442\u0435:</p> <pre><code>cd ~/src/openstreetmap-carto/\nmkdir data\nsudo chown _renderd data\nsudo -u _renderd scripts/get-external-data.py\n</code></pre> <p>\u0426\u0435\u0439 \u043f\u0440\u043e\u0446\u0435\u0441 \u0432\u0438\u043c\u0430\u0433\u0430\u0454 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u0432\u0435\u043b\u0438\u043a\u043e\u0457 \u043f\u043e\u0440\u0446\u0456\u0457 \u0434\u0430\u043d\u0438\u0445 \u0442\u0430 \u0442\u0440\u0438\u0432\u0430\u0442\u0438\u043c\u0435 \u0434\u0435\u044f\u043a\u0438\u0439 \u0447\u0430\u0441 \u0431\u0435\u0437 \u0431\u0443\u0434\u044c-\u044f\u043a\u0438\u0445 \u043f\u043e\u043c\u0456\u0442\u043d\u0438\u0445 \u0437\u043c\u0456\u043d \u043d\u0430 \u0435\u043a\u0440\u0430\u043d\u0456. \u0427\u0430\u0441\u0442\u0438\u043d\u0430 \u0434\u0430\u043d\u0438\u0445 \u0437\u0430\u043f\u0438\u0441\u0443\u0454\u0442\u044c\u0441\u044f \u0431\u0435\u0437\u043f\u043e\u0441\u0435\u0440\u0435\u0434\u043d\u044c\u043e \u0443 \u0431\u0430\u0437\u0443 \u0434\u0430\u043d\u0438\u0445, \u0430 \u0456\u043d\u0448\u0430 \u0443 \u043f\u0456\u0434\u0442\u0435\u043a\u0443 \"data\" \u0432 \"openstreetmap-carto\". \u042f\u043a\u0449\u043e \u0443 \u0432\u0430\u0441 \u0442\u0443\u0442 \u0432\u0438\u043d\u0438\u043a\u043d\u0443\u0442\u044c \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0438, \u0442\u043e \u0446\u0435 \u0441\u043a\u043e\u0440\u0456\u0448\u0435 \u0447\u0435\u0440\u0435\u0437 \u0442\u0435, \u0449\u043e \u0434\u0430\u043d\u0456 Natural Earth \u043c\u043e\u0436\u0443\u0442\u044c \u0431\u0443\u0442\u0438 \u043d\u0435 \u0432 \u0442\u043e\u043c\u0443 \u043c\u0456\u0441\u0446\u0456. \u042f\u043a\u0449\u043e \u0432\u0430\u043c \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0437\u043c\u0456\u043d\u0438\u0442\u0438 \u043c\u0456\u0441\u0446\u0435 \u043a\u0443\u0434\u0438 \u0432\u0438 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0443\u0454\u0442\u0435 \u0434\u0430\u043d\u0456 Natural Earth\u00a0\u2013 \u0432\u043d\u0435\u0441\u0456\u0442\u044c \u0437\u043c\u0456\u043d\u0438 \u0443 \u0432\u043b\u0430\u0441\u043d\u0443 \u043a\u043e\u043f\u0456\u044e \u0446\u044c\u043e\u0433\u043e \u0444\u0430\u0439\u043b\u0443.</p>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-debian-13/#\u0428\u0440\u0438\u0444\u0442\u0438","title":"\u0428\u0440\u0438\u0444\u0442\u0438","text":"<p>\u0428\u0440\u0438\u0444\u0442\u0438 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u044e\u0432\u0430\u0442\u0438 \u0432\u0440\u0443\u0447\u043d\u0443, \u043e\u0441\u044c \u0442\u0430\u043a:</p> <pre><code>cd ~/src/openstreetmap-carto/\nscripts/get-fonts.sh\n</code></pre> <p>\u0427\u0435\u0440\u0435\u0437 \u043f\u043e\u0442\u043e\u0447\u043d\u0443 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0443 \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u043e\u0442\u0440\u0438\u043c\u0430\u0442\u0438 \u043f\u043e\u043c\u0438\u043b\u043a\u0443 \u0432 \u0441\u0430\u043c\u043e\u043c\u0443 \u043a\u0456\u043d\u0446\u0456, \u0430\u043b\u0435 \u0446\u0435 \u043d\u0435 \u0432\u043f\u043b\u0438\u043d\u0435 \u043d\u0430 \u0432\u0456\u0434\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f \u043f\u043e\u0442\u043e\u0447\u043d\u0438\u0445 \u0434\u0430\u043d\u0438\u0445 OSM.</p> <p>\u041d\u0430\u0448\u0456 \u0442\u0435\u0441\u0442\u043e\u0432\u0456 \u0434\u0430\u043d\u0456 (\u0410\u0437\u0435\u0440\u0431\u0430\u0439\u0434\u0436\u0430\u043d) \u0431\u0443\u043b\u0438 \u043e\u0431\u0440\u0430\u043d\u0456 \u0447\u0435\u0440\u0435\u0437 \u0457\u0445 \u043d\u0435\u0432\u0435\u043b\u0438\u043a\u0438\u0439 \u043e\u0431\u0441\u044f\u0433, \u0430 \u0442\u0430\u043a\u043e\u0436 \u0447\u0435\u0440\u0435\u0437 \u0442\u0435, \u0449\u043e \u0430\u0440\u043c\u044f\u043d\u0441\u044c\u043a\u0430 \u043f\u0438\u0441\u0435\u043c\u043d\u0456\u0441\u0442\u044c \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454 \u0432\u043b\u0430\u0441\u043d\u0443 \u0430\u0431\u0435\u0442\u043a\u0443.</p>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-debian-13/#\u041d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f-\u0432\u0435\u0431\u0441\u0435\u0440\u0432\u0435\u0440\u0430","title":"\u041d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f \u0432\u0435\u0431\u0441\u0435\u0440\u0432\u0435\u0440\u0430","text":""},{"location":"uk/serving-tiles/manually-building-a-tile-server-debian-13/#\u041a\u043e\u043d\u0444\u0456\u0433\u0443\u0440\u0430\u0446\u0456\u044f-renderd","title":"\u041a\u043e\u043d\u0444\u0456\u0433\u0443\u0440\u0430\u0446\u0456\u044f renderd","text":"<p>\u041d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f <code>renderd</code> \u0432 Debian 13 \u0437\u043d\u0430\u0445\u043e\u0434\u044f\u0442\u044c\u0441\u044f \u0443 \u0444\u0430\u0439\u043b\u0456 <code>/etc/renderd.conf</code>. \u0412\u0456\u0434\u0440\u0435\u0434\u0430\u0433\u0443\u0454\u043c\u043e \u0439\u043e\u0433\u043e \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u043e\u0433\u043e \u0440\u0435\u0434\u0430\u043a\u0442\u043e\u0440\u0430, \u0442\u0430\u043a\u043e\u0433\u043e \u044f\u043a nano:</p> <pre><code>sudo nano /etc/renderd.conf\n</code></pre> <p>\u0414\u043e\u0434\u0430\u0439\u0442\u0435 \u0440\u043e\u0437\u0434\u0456\u043b, \u043f\u043e\u0434\u0456\u0431\u043d\u0438\u0439 \u043d\u0430\u0432\u0435\u0434\u0435\u043d\u043e\u043c\u0443, \u0432 \u043a\u0456\u043d\u0435\u0446\u044c \u0444\u0430\u0439\u043b\u0443 \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u044c:</p> <pre><code>[s2o]\nURI=/hot/\nTILEDIR=/var/lib/mod_tile\nXML=/home/accountname/src/openstreetmap-carto/mapnik.xml\nHOST=localhost\nTILESIZE=256\nMAXZOOM=20\n</code></pre> <p>\u041c\u043e\u0436\u043b\u0438\u0432\u043e \u0440\u043e\u0437\u0442\u0430\u0448\u0443\u0432\u0430\u043d\u043d\u044f \u0444\u0430\u0439\u043b\u0443 XML <code>/home/accountname/src/openstreetmap-carto/mapnik.xml</code> \u0434\u043e\u0432\u0435\u0434\u0435\u0442\u044c\u0441\u044f \u0437\u043c\u0456\u043d\u0438\u0442\u0438 \u043d\u0430 \u0442\u0435, \u0449\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f \u0443 \u0432\u0430\u0448\u0456\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u0456. \u0412\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0437\u043c\u0456\u043d\u0438\u0442\u0438 <code>[s2o]</code> \u0442\u0430 <code>URI=/hot/</code> \u043d\u0430 \u0442\u0435, \u0449\u043e \u0432\u0430\u043c \u0442\u0440\u0435\u0431\u0430. \u042f\u043a\u0449\u043e \u0432\u0438 \u0431\u0430\u0436\u0430\u0454\u0442\u0435 \u0440\u0435\u043d\u0434\u0435\u0440\u0438\u0442\u0438 \u0431\u0456\u043b\u044c\u0448\u0435 \u043e\u0434\u043d\u043e\u0433\u043e \u043d\u0430\u0431\u043e\u0440\u0443 \u0442\u0430\u0439\u043b\u0456\u0432 \u043d\u0430 \u043e\u0434\u043d\u043e\u043c\u0443 \u0441\u0435\u0440\u0432\u0435\u0440\u0456, \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0434\u043e\u0434\u0430\u0442\u0438 \u0449\u0435 \u043e\u0434\u0438\u043d \u0440\u043e\u0437\u0434\u0456\u043b, \u043f\u043e\u0434\u0456\u0431\u043d\u0438\u0439 \u0434\u043e <code>[s2o]</code>, \u0437 \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f\u043c\u0438 \u0434\u043b\u044f \u0456\u043d\u0448\u043e\u0433\u043e \u0441\u0442\u0438\u043b\u044e. \u042f\u043a\u0449\u043e \u0432\u0438 \u0431\u0430\u0436\u0430\u0454\u0442\u0435, \u0449\u043e\u0431 \u0432\u0456\u043d \u043f\u043e\u0441\u0438\u043b\u0430\u0432\u0441\u044f \u043d\u0430 \u0456\u043d\u0448\u0443 \u0431\u0430\u0437\u0443 \u0437\u0430\u043c\u0456\u0441\u0442\u044c \u0442\u0438\u043f\u043e\u0432\u043e\u0457 <code>gis</code>, \u0432\u0438 \u0442\u0430\u043a\u043e\u0436 \u043c\u043e\u0436\u0435\u0442\u0435 \u0437\u0440\u043e\u0431\u0438\u0442\u0438 \u0446\u0435, \u0430\u043b\u0435 \u043f\u043e\u044f\u0441\u043d\u0435\u043d\u043d\u044f \u0442\u043e\u0433\u043e, \u044f\u043a \u0446\u0435 \u0440\u043e\u0431\u0438\u0442\u0438 \u0432\u0438\u0445\u043e\u0434\u0438\u0442\u044c \u0437\u0430 \u043c\u0435\u0436\u0456 \u0446\u044c\u043e\u0433\u043e \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430. \u042f\u043a\u0449\u043e \u0443 \u0432\u0430\u0441 \u0434\u0435\u0441\u044c 4 \u0413\u0431 \u043e\u043f\u0435\u0440\u0430\u0442\u0438\u0432\u043d\u043e\u0457 \u043f\u0430\u043c\u02bc\u044f\u0442\u0456, \u043c\u043e\u0436\u043b\u0438\u0432\u043e \u0432\u0430\u043c \u0434\u043e\u0432\u0435\u0434\u0435\u0442\u044c\u0441\u044f \u0437\u043c\u0435\u043d\u0448\u0438\u0442\u0438 \u043a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u043f\u043e\u0442\u043e\u043a\u0456\u0432 (<code>num_threads</code>) \u0434\u043e 2. <code>URI=/hot/</code> \u0431\u0443\u043b\u043e \u043e\u0431\u0440\u0430\u043d\u043e \u0434\u043b\u044f \u0442\u043e\u0433\u043e \u0449\u043e\u0431\u0438 \u0431\u0443\u043b\u043e \u043f\u0440\u043e\u0441\u0442\u0456\u0448\u0435 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0432\u0430\u0448\u0456 \u0442\u0430\u0439\u043b\u0438 \u0437\u0430\u043c\u0456\u0441\u0442\u044c \u0448\u0430\u0440\u0443 Humanitarian \u0437 \u0441\u0430\u0439\u0442\u0443 OpenStreetMap.org. \u0412\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u043a\u0430\u0437\u0430\u0442\u0438 \u0449\u043e\u0441\u044c \u0456\u043d\u0448\u0435, \u0430\u043b\u0435 <code>/hot/</code> \u0442\u0430\u043a\u043e\u0436 \u0433\u043e\u0434\u0438\u0442\u044c\u0441\u044f.</p> <p>\u0420\u043e\u0437\u0442\u0430\u0448\u0443\u0432\u0430\u043d\u043d\u044f \u0442\u0435\u043a\u0438 \u0432\u0442\u0443\u043b\u043a\u0456\u0432 Mapnik \u0442\u0435\u043f\u0435\u0440 \u0432\u0456\u0434\u0440\u0456\u0437\u043d\u044f\u0454\u0442\u044c\u0441\u044f \u0434\u043b\u044f \u0440\u0456\u0437\u043d\u0438\u0445 \u0430\u0440\u0445\u0456\u0442\u0435\u043a\u0442\u0443\u0440. \u0412\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u0432\u0435\u0441\u0442\u0438</p> <pre><code>sudo updatedb\nlocate mapnik/4.0/input\n</code></pre> <p>\u0449\u043e\u0431 \u0437\u043d\u0430\u0439\u0442\u0438 \u0440\u043e\u0437\u0442\u0430\u0448\u0443\u0432\u0430\u043d\u043d\u044f \u043d\u0430 \u0432\u0430\u0448\u043e\u043c\u0443 \u0441\u0435\u0440\u0432\u0435\u0440\u0456, \u0430 \u043f\u043e\u0442\u0456\u043c \u0432\u0456\u0434\u0440\u0435\u0434\u0430\u0433\u0443\u0439\u0442\u0435 \u0444\u0430\u0439\u043b <code>/etc/renderd.conf</code> \u0442\u0430\u043a, \u0449\u043e\u0431 <code>plugins_dir</code> \u0443 \u0440\u043e\u0437\u0434\u0456\u043b\u0456 <code>[mapnik]</code> \u0431\u0443\u0432 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u0438\u043c, \u043d\u0430\u043f\u0440\u0438\u043a\u043b\u0430\u0434:</p> <pre><code>[mapnik]\nplugins_dir=/usr/lib/aarch64-linux-gnu/mapnik/4.0/input\n</code></pre> <p>\u042f\u043a\u0449\u043e \u0446\u0435 \u043d\u0430\u043b\u0430\u0448\u0442\u043e\u0432\u0430\u043d\u043e \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u0430\u0431\u043e \u0432\u0456\u0434\u0441\u0443\u0442\u043d\u0454, \u0441\u0435\u0440\u0435\u0434 \u043f\u043e\u043c\u0438\u043b\u043e\u043a, \u044f\u043a\u0456 \u043c\u043e\u0436\u0443\u0442\u044c \u0432\u0438\u043d\u0438\u043a\u043d\u0443\u0442\u0438 \u043f\u0456\u0434 \u0447\u0430\u0441 \u0441\u043f\u0440\u043e\u0431\u0438 \u0432\u0456\u0437\u0443\u0430\u043b\u0456\u0437\u0430\u0446\u0456\u0457 \u0442\u0430\u0439\u043b\u0456\u0432, \u0431\u0443\u0434\u0443\u0442\u044c \u0442\u0430\u043a\u0456:</p> <p>An error occurred while loading the map layer 's2o': Could not create datasource for type: 'postgis' (no datasource plugin directories have been successfully registered)  encountered during parsing of layer 'landcover-low-zoom'</p> <p>\u0406\u043d\u0448\u0456 \u043f\u043e\u043c\u0438\u043b\u043a\u0438 \u043c\u043e\u0436\u0443\u0442\u044c \u0432\u043a\u043b\u044e\u0447\u0430\u0442\u0438 \u0442\u0430\u0439\u043b\u0438, \u044f\u043a\u0438 \u0431\u0443\u043b\u0438 \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u0456 \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e, \u0456 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f <code>renderd</code> \u043d\u0435\u0441\u043f\u043e\u0434\u0456\u0432\u0430\u043d\u043e \u0432\u0435\u043b\u0438\u043a\u043e\u0433\u043e \u043e\u0431\u0441\u044f\u0433\u0443 \u043f\u0430\u043c'\u044f\u0442\u0456.</p> <p>\u0422\u0435\u043f\u0435\u0440, \u043a\u043e\u043b\u0438 \u043c\u0438 \u0432\u043a\u0430\u0437\u0430\u043b\u0438 <code>renderd</code>, \u044f\u043a \u0440\u0435\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u043d\u0430 \u0437\u0430\u043f\u0438\u0442\u0438 \u0440\u0435\u043d\u0434\u0435\u0440\u0438\u043d\u0433\u0443 \u0442\u0430\u0439\u043b\u0456\u0432, \u043d\u0430\u043c \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u0438\u0442\u0438 \u0432\u0435\u0431\u0441\u0435\u0440\u0432\u0435\u0440\u0443 Apache, \u0449\u043e \u0432\u0456\u043d \u043c\u043e\u0436\u0435 \u043d\u0430\u0434\u0441\u0438\u043b\u0430\u0442\u0438 \u0457\u0445. \u041d\u0430 \u0436\u0430\u043b\u044c, \u043a\u043e\u043d\u0444\u0456\u0433\u0443\u0440\u0430\u0446\u0456\u044e \u0434\u043b\u044f \u0446\u044c\u043e\u0433\u043e \u0431\u0443\u043b\u043e \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043e \u0437 \u043e\u0441\u0442\u0430\u043d\u043d\u0456\u0445 \u0432\u0435\u0440\u0441\u0456\u0439 <code>mod_tile</code>. \u041e\u0434\u043d\u0430\u043a \u0437\u0430\u0440\u0430\u0437 \u0457\u0457 \u043c\u043e\u0436\u043d\u0430 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0438 \u0437\u0432\u0456\u0434\u0441\u0438:</p> <pre><code>cd /etc/apache2/conf-available/\nsudo wget https://raw.githubusercontent.com/openstreetmap/mod_tile/python-implementation/etc/apache2/renderd.conf\nsudo a2enconf renderd\nsudo systemctl reload apache2\n</code></pre>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-debian-13/#\u041f\u0435\u0440\u0435\u043a\u043e\u043d\u0430\u0439\u0442\u0435\u0441\u044f-\u0449\u043e-\u0443-\u0432\u0430\u0441-\u0454-\u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f-\u0434\u043b\u044f-\u0432\u0456\u0434\u043b\u0430\u0433\u043e\u0434\u0436\u0435\u043d\u043d\u044f","title":"\u041f\u0435\u0440\u0435\u043a\u043e\u043d\u0430\u0439\u0442\u0435\u0441\u044f, \u0449\u043e \u0443 \u0432\u0430\u0441 \u0454 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f \u0434\u043b\u044f \u0432\u0456\u0434\u043b\u0430\u0433\u043e\u0434\u0436\u0435\u043d\u043d\u044f","text":"<p>\u041d\u0430 \u0446\u044c\u043e\u043c\u0443 \u0435\u0442\u0430\u043f\u0456 \u0431\u0443\u043b\u043e \u0431 \u0434\u0443\u0436\u0435 \u043a\u043e\u0440\u0438\u0441\u043d\u043e \u043c\u0430\u0442\u0438 \u043c\u043e\u0436\u043b\u0438\u0432\u0456\u0441\u0442\u044c \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0438 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u043f\u0440\u043e\u0446\u0435\u0441\u0443 \u0440\u0435\u043d\u0434\u0435\u0440\u0438\u043d\u0433\u0443 \u0442\u0430\u0439\u043b\u0456\u0432, \u0432\u043a\u043b\u044e\u0447\u043d\u043e \u0437 \u0431\u0443\u0434\u044c-\u044f\u043a\u0438\u043c\u0438 \u043f\u043e\u043c\u0438\u043b\u043a\u0430\u043c\u0438. \u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u043e \u0432 \u043e\u0441\u0442\u0430\u043d\u043d\u0456\u0445 \u0432\u0435\u0440\u0441\u0456\u044f\u0445 <code>mod_tile</code> \u0446\u044e \u043c\u043e\u0436\u043b\u0438\u0432\u0456\u0441\u0442\u044c \u0432\u0438\u043c\u043a\u043d\u0435\u043d\u043e. \u0429\u043e\u0431 \u0457\u0457 \u0443\u0432\u0456\u043c\u043a\u043d\u0443\u0442\u0438:</p> <pre><code>sudo nano /usr/lib/systemd/system/renderd.service\n</code></pre> <p>\u042f\u043a\u0449\u043e \u0446\u044c\u043e\u0433\u043e \u0449\u0435 \u043d\u0435\u043c\u0430\u0454 \u043d\u0438\u0436\u0447\u0435 <code>[Service]</code>, \u0434\u043e\u0434\u0430\u0439\u0442\u0435:</p> <pre><code>Environment=G_MESSAGES_DEBUG=all\n</code></pre> <p>\u041f\u043e\u0442\u0456\u043c \u0432\u0438\u043a\u043e\u043d\u0430\u0439\u0442\u0435 \u0446\u0456 \u043a\u043e\u043c\u0430\u043d\u0434\u0438, \u0449\u043e\u0431 \u043f\u0435\u0440\u0435\u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u043a\u043e\u043d\u0444\u0456\u0433\u0443\u0440\u0430\u0446\u0456\u044e:</p> <pre><code>sudo systemctl daemon-reload\nsudo systemctl restart renderd\nsudo systemctl restart apache2\n</code></pre>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-debian-13/#\u041a\u043e\u043d\u0444\u0456\u0433\u0443\u0440\u0430\u0446\u0456\u044f-Apache","title":"\u041a\u043e\u043d\u0444\u0456\u0433\u0443\u0440\u0430\u0446\u0456\u044f Apache","text":"<pre><code>sudo mkdir /var/lib/mod_tile\nsudo chown _renderd /var/lib/mod_tile\n</code></pre> <p>\u041f\u043e\u0442\u0456\u043c \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u0442\u0456\u0442\u044c \u0441\u043b\u0443\u0436\u0431\u0443 <code>renderd</code>:</p> <pre><code>sudo /etc/init.d/renderd restart\n</code></pre> <p>\u042f\u043a\u0449\u043e \u0432\u0438 \u043f\u043e\u0434\u0438\u0432\u0456\u0442\u044c\u0441\u044f \u0443 \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u0438\u0439 \u0436\u0443\u0440\u043d\u0430\u043b, \u0432\u0438 \u043f\u043e\u0432\u0438\u043d\u043d\u0456 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0438 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f \u0432\u0456\u0434 \u0441\u043b\u0443\u0436\u0431\u0438 <code>renderd</code>. \u0417\u0430\u0443\u0432\u0430\u0436\u0442\u0435, \u0449\u043e \u0443 \u043f\u0430\u0440\u0456 \u043e\u0441\u0442\u0430\u043d\u043d\u0456\u0445 \u0432\u0435\u0440\u0441\u0456\u0439 Debian, \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f \u0431\u0456\u043b\u044c\u0448\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u043e \u043d\u0435 \u0437\u0430\u043f\u0438\u0441\u0443\u044e\u0442\u044c\u0441\u044f \u0432 <code>/var/log/syslog</code> \u2013 \u0449\u043e\u0431 \u0441\u0442\u0435\u0436\u0438\u0442\u0438 \u0437\u0430 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f\u043c\u0438, \u043a\u043e\u043b\u0438 \u0432\u043e\u043d\u0438 \u0442\u0430\u043c \u0437\u02bc\u044f\u0432\u043b\u044f\u044e\u0442\u044c\u0441\u044f, \u0432\u0438\u043a\u043e\u043d\u0430\u0439\u0442\u0435 \u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0435:</p> <pre><code>sudo journalctl -ef\n</code></pre> <p>\u0414\u0438\u0432\u0456\u0442\u044c\u0441\u044f \u0442\u0443\u0442: \u0434\u043b\u044f \u043e\u0437\u043d\u0430\u0439\u043e\u043c\u043b\u0435\u043d\u043d\u044f \u0437 \u0434\u0435\u0442\u0430\u043b\u044f\u043c\u0438.</p> <pre><code>sudo /etc/init.d/apache2 restart\n</code></pre> <p>\u0412\u0438\u043a\u043e\u043d\u0430\u0432\u0448\u0438 \u043a\u043e\u043c\u0430\u043d\u0434\u0443 <code>sudo journalctl -ef</code> \u0432\u0438 \u043c\u0430\u0454\u0442\u0435 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0438 \u0440\u044f\u0434\u043e\u043a \u043f\u043e\u0434\u0456\u0431\u043d\u0438\u0439 \u0434\u043e \u0446\u044c\u043e\u0433\u043e:</p> <pre><code> Aug 15 12:16:08 h19 apachectl[14590]: [Fri Aug 15 12:16:08.655816 2025] [tile:notice] [pid 14590:tid 14590] Loading tile config s2o at /hot/ for zooms 0 - 20 from tile directory /var/lib/mod_tile with extension .png and mime type image/png\n</code></pre> <p>\u042f\u043a\u0449\u043e \u0432\u0438 \u043d\u0435 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0435 \u043d\u0456\u0447\u043e\u0433\u043e \u043f\u043e\u0434\u0456\u0431\u043d\u043e\u0433\u043e, \u0446\u0435, \u0439\u043c\u043e\u0432\u0456\u0440\u043d\u043e, \u043e\u0437\u043d\u0430\u0447\u0430\u0442\u0438\u043c\u0435, \u0449\u043e \u0444\u0430\u0439\u043b \u043a\u043e\u043d\u0444\u0456\u0433\u0443\u0440\u0430\u0446\u0456\u0457 \u0434\u043b\u044f mod_tile <code>/etc/apache2/conf-available/renderd.conf</code> \u0430\u0431\u043e \u043d\u0435 \u043d\u0430\u043b\u0430\u0448\u0442\u043e\u0432\u0430\u043d\u043e, \u0430\u0431\u043e \u0432\u0432\u0456\u043c\u043a\u043d\u0435\u043d\u043e \u043d\u0430\u043b\u0435\u0436\u043d\u0438\u043c \u0447\u0438\u043d\u043e\u043c \u2014 \u0434\u0438\u0432\u0456\u0442\u044c\u0441\u044f \u0440\u043e\u0437\u0434\u0456\u043b <code>wget</code> \u0432\u0438\u0449\u0435.</p> <p>\u0414\u0430\u043b\u0456, \u0432\u0456\u0434\u043a\u0440\u0438\u0439\u0442\u0435 \u0432 \u043e\u0433\u043b\u044f\u0434\u0430\u0447\u0456 <code>http://ip.\u0432\u0430\u0448\u043e\u0433\u043e.\u0441\u0435\u0440\u0432\u0435\u0440\u0430/index.html</code> (\u0437\u0430\u043c\u0456\u043d\u0456\u0442\u044c <code>ip.\u0432\u0430\u0448\u043e\u0433\u043e.\u0441\u0435\u0440\u0432\u0435\u0440\u0430</code> \u043d\u0430 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u043d\u0443 \u0430\u0434\u0440\u0435\u0441\u0443). \u0412\u0438 \u043c\u0430\u0454\u0442\u0435 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0438 \u0442\u0438\u043f\u043e\u0432\u0443 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0443 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 Apache2 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043e\u0433\u043e \u0432 Debian.</p> <p>\u041f\u043e\u0440\u0430\u0434\u0430</p> <p>\u044f\u043a\u0449\u043e \u0432\u0438 \u043d\u0435 \u0437\u043d\u0430\u0454\u0442\u0435 IP \u0430\u0434\u0440\u0435\u0441\u0443 \u043f\u0440\u0438\u0437\u043d\u0430\u0447\u0435\u043d\u0443 \u0441\u0435\u0440\u0432\u0435\u0440\u0443, \u0457\u0457 \u043c\u043e\u0436\u043d\u0430 \u0434\u0456\u0437\u043d\u0430\u0442\u0438\u0441\u044c \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e \u043a\u043e\u043c\u0430\u043d\u0434\u0438 <code>ip address</code>\u00a0\u2013 \u044f\u043a\u0449\u043e \u043c\u0435\u0440\u0435\u0436\u0435\u0432\u0456 \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f \u043d\u0435 \u043d\u0430\u0434\u0442\u043e \u0441\u043a\u043b\u0430\u0434\u043d\u0456, \u0442\u043e \u0446\u0435 \u043c\u0430\u0454 \u0431\u0443\u0442\u0438 \u0449\u043e\u0441\u044c \u0442\u0438\u043f\u0443 <code>inet addr</code> \u0432\u0456\u0434\u043c\u0456\u043d\u043d\u0435 \u0432\u0456\u0434 <code>127.0.0.1</code>.</p> <p>\u042f\u043a\u0449\u043e \u0432\u0438 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u0435 \u0441\u0435\u0440\u0432\u0435\u0440 \u043f\u043e\u0441\u0442\u0430\u0447\u0430\u043b\u044c\u043d\u0438\u043a\u0430 \u043f\u043e\u0441\u043b\u0443\u0433 \u0445\u043e\u0441\u0442\u0438\u043d\u0433\u0443, \u0442\u043e, \u0448\u0432\u0438\u0434\u0448\u0435 \u0437\u0430 \u0432\u0441\u0435, \u0432\u043d\u0443\u0442\u0440\u0456\u0448\u043d\u044f \u0430\u0434\u0440\u0435\u0441\u0430 \u0432\u0430\u0448\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0431\u0443\u0434\u0435 \u0432\u0456\u0434\u0440\u0456\u0437\u043d\u044f\u0442\u0438\u0441\u044f \u0432\u0456\u0434 \u0437\u043e\u0432\u043d\u0456\u0448\u043d\u044c\u043e\u0457 \u0430\u0434\u0440\u0435\u0441\u0438, \u044f\u043a\u0430 \u0431\u0443\u043b\u0430 \u043d\u0430\u0434\u0430\u043d\u0430 \u0432\u0430\u043c, \u0430\u043b\u0435 \u0446\u044f \u0437\u043e\u0432\u043d\u0456\u0448\u043d\u044f IP-\u0430\u0434\u0440\u0435\u0441\u0430 \u0432\u0436\u0435 \u0431\u0443\u0434\u0435 \u043d\u0430\u0434\u0456\u0441\u043b\u0430\u043d\u0430 \u0432\u0430\u043c, \u0456, \u0439\u043c\u043e\u0432\u0456\u0440\u043d\u043e, \u0432\u0438 \u0457\u0457 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u0435 \u0437\u0430\u0440\u0430\u0437 \u0434\u043b\u044f \u0434\u043e\u0441\u0442\u0443\u043f\u0443 \u0434\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430.</p> <p>\u0417\u0430\u0443\u0432\u0430\u0436\u0442\u0435, \u0449\u043e \u0446\u0435 \u043b\u0438\u0448\u0435 \u0441\u0430\u0439\u0442 <code>http</code> (\u043f\u043e\u0440\u0442 80)\u00a0\u2013 \u0432\u0430\u043c \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0432\u0438\u0442\u0440\u0430\u0442\u0438\u0442\u0438 \u0442\u0440\u043e\u0445\u0438 \u0431\u0456\u043b\u044c\u0448\u0435 \u0447\u0430\u0441\u0443 \u0434\u043b\u044f \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f Apache \u043d\u0430 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f <code>https</code>, \u0430\u043b\u0435 \u0446\u0435 \u0432\u0438\u0445\u043e\u0434\u0438\u0442\u044c \u0437\u0430 \u043c\u0435\u0436\u0456 \u0446\u0438\u0445 \u0456\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0456\u0439. \u041e\u0434\u043d\u0430\u043a \u044f\u043a\u0449\u043e \u0432\u0438 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u0435 \"Let's Encrypt\" \u0434\u043b\u044f \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u044f \u0441\u0435\u0440\u0442\u0438\u0444\u0456\u043a\u0430\u0442\u0456\u0432, \u0456\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0456\u044f \u0437\u0456 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u043c\u043e\u0436\u0435 \u0442\u0430\u043a\u043e\u0436 \u043c\u0456\u0441\u0442\u0438\u0442\u0438 \u043f\u043e\u0440\u0430\u0434\u0438 \u0449\u043e\u0434\u043e \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f \u0441\u0430\u0439\u0442\u0443 Apache \u0434\u043b\u044f \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f https.</p> <p>\u0414\u0430\u043b\u0456, \u0432 \u043e\u0433\u043b\u044f\u0434\u0430\u0447\u0456 \u0432\u0456\u0434\u043a\u0440\u0438\u0439\u0442\u0435 \u043f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f: <code>http://ip.\u0432\u0430\u0448\u043e\u0433\u043e.\u0441\u0435\u0440\u0432\u0435\u0440\u0430/hot/0/0/0.png</code></p> <p>\u042f\u043a\u0449\u043e \u0432\u0438 \u0432\u0438\u0449\u0435 \u043f\u043e\u043c\u0456\u043d\u044f\u043b\u0438 <code>URI=/hot/</code> \u0432\u0430\u043c \u0434\u043e\u0432\u0435\u0434\u0435\u0442\u044c\u0441\u044f \u043f\u0456\u0434\u043f\u0440\u0430\u0432\u0438\u0442\u0438 \u043f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f. \u0412\u0438 \u043c\u0430\u0454\u0442\u0435 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0438 \u043c\u0430\u043b\u0435\u043d\u044c\u043a\u0443 \u043c\u0430\u043f\u0443 \u0441\u0432\u0456\u0442\u0443. \u042f\u043a\u0449\u043e \u0457\u0457 \u043d\u0435\u043c\u0430\u0454, \u043f\u0435\u0440\u0435\u0432\u0456\u0440\u0442\u0435 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f \u043f\u0440\u043e \u043f\u043e\u043c\u0438\u043b\u043a\u0438 \u0432 \u043a\u043e\u043d\u0441\u043e\u043b\u0456. \u0421\u043a\u043e\u0440\u0456\u0448 \u0437\u0430 \u0432\u0441\u0435 \u0432\u0438 \u0449\u043e\u0441\u044c \u043d\u0430\u043f\u043b\u0443\u0442\u0430\u043b\u0438 \u0437 \u0434\u043e\u0437\u0432\u043e\u043b\u0430\u043c\u0438, \u0430\u0431\u043e \u0432\u0438 \u043f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u043b\u0438 \u044f\u043a\u0438\u0439\u0441\u044c \u043a\u0440\u043e\u043a \u0437 \u0456\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0456\u0457. \u042f\u043a\u0449\u043e \u0432\u0438 \u043d\u0435 \u043e\u0442\u0440\u0438\u043c\u0430\u043b\u0438 \u0442\u0430\u0439\u043b \u0442\u0430 \u043e\u0442\u0440\u0438\u043c\u0443\u0454\u0442\u0435 \u0456\u043d\u0448\u0456 \u043f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f, \u0441\u043a\u043e\u043f\u0456\u044e\u0439\u0442\u0435 \u0432\u0438\u0432\u0456\u0434 \u0432 Pastebin, \u0442\u0430 \u0437\u0432\u0435\u0440\u043d\u0456\u0442\u044c\u0441\u044f \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e, \u043d\u0430\u043f\u0440\u0438\u043a\u043b\u0430\u0434, \u0432 <code>community.openstreetmap.org</code>.</p>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-debian-13/#\u041f\u0435\u0440\u0435\u0433\u043b\u044f\u0434-\u0442\u0430\u0439\u043b\u0456\u0432","title":"\u041f\u0435\u0440\u0435\u0433\u043b\u044f\u0434 \u0442\u0430\u0439\u043b\u0456\u0432","text":"<p>\u0414\u043b\u044f \u0442\u043e\u0433\u043e, \u0449\u043e\u0431 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0438 \u0442\u0430\u0439\u043b\u0438, \u043c\u0438 \u0442\u0440\u043e\u0445\u0438 \u0437\u043c\u0430\u0445\u043b\u044e\u0454\u043c\u043e \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u044e\u0447\u0438\u0441\u044c \u0444\u0430\u0439\u043b\u043e\u043c <code>sample_leaflet.html</code> \u0437 \u0442\u0435\u043a\u0438 \u201cextras\u201d \u0432 mod_tile.</p> <pre><code>cd /var/www/html\nsudo wget https://raw.githubusercontent.com/SomeoneElseOSM/mod_tile/switch2osm/extra/sample_leaflet.html\nsudo nano sample_leaflet.html\n</code></pre> <p>\u0417\u043c\u0456\u043d\u0456\u0442\u044c \u0439\u043e\u0433\u043e \u0442\u0430\u043a, \u0449\u043e\u0431 IP-\u0430\u0434\u0440\u0435\u0441\u0430 \u0431\u0443\u043b\u0430 <code>ip.\u0432\u0430\u0448\u043e\u0433\u043e.\u0441\u0435\u0440\u0432\u0435\u0440\u0430</code>, \u0430 \u043d\u0435 \u043f\u0440\u043e\u0441\u0442\u043e <code>127.0.0.1</code>. \u0426\u0435 \u043f\u043e\u0432\u0438\u043d\u043d\u043e \u0434\u043e\u0437\u0432\u043e\u043b\u0438\u0442\u0438 \u0432\u0430\u043c \u043e\u0442\u0440\u0438\u043c\u0430\u0442\u0438 \u0434\u043e\u0441\u0442\u0443\u043f \u0434\u043e \u0446\u044c\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430. \u041f\u043e\u0442\u0456\u043c \u043f\u0435\u0440\u0435\u0439\u0434\u0456\u0442\u044c \u0434\u043e <code>http://ip.\u0432\u0430\u0448\u043e\u0433\u043e.\u0441\u0435\u0440\u0432\u0435\u0440\u0430/sample_leaflet.html</code>.</p> <p>\u0417\u0433\u043e\u0434\u043e\u043c \u0432\u0438 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0435 \u043c\u0430\u043f\u0443. \u0412\u0438 \u0437\u043c\u043e\u0436\u0435\u0442\u0435 \u0437\u0431\u0456\u043b\u044c\u0448\u0443\u0432\u0430\u0442\u0438 \u0442\u0430 \u0437\u043c\u0435\u043d\u0448\u0443\u0432\u0430\u0442\u0438 \u0457\u0457 \u043c\u0430\u0441\u0448\u0442\u0430\u0431, \u0430\u043b\u0435 \u0432 \u0437\u0430\u043b\u0435\u0436\u043d\u043e\u0441\u0442\u0456 \u0432\u0456\u0434 \u043f\u043e\u0442\u0443\u0436\u043d\u043e\u0441\u0442\u0435\u0439 \u0441\u0435\u0440\u0432\u0435\u0440\u0430, \u0434\u0435\u044f\u043a\u0456 \u0442\u0430\u0439\u043b\u0438 \u043c\u043e\u0436\u0443\u0442\u044c \u0431\u0443\u0442\u0438 \u0441\u0456\u0440\u0438\u043c\u0438 (\u0432\u043e\u043d\u0438 \u0449\u0435 \u043d\u0435 \u0432\u0441\u0442\u0438\u0433\u043b\u0438 \u043e\u0431\u0440\u043e\u0431\u0438\u0442\u0438\u0441\u044c \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c). \u041e\u0434\u043d\u0430\u043a, \u044f\u043a \u0442\u0456\u043b\u044c\u043a\u0438 \u0457\u0445 \u043e\u0431\u0440\u043e\u0431\u043a\u0430 \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c\u0441\u044f, \u0432\u043e\u043d\u0438 \u0431\u0443\u0434\u0443\u0442\u044c \u0433\u043e\u0442\u043e\u0432\u0456 \u0434\u043b\u044f \u043f\u0435\u0440\u0435\u0433\u043b\u044f\u0434\u0443. \u042f\u043a\u0449\u043e \u0432\u0438 \u043f\u043e\u0434\u0438\u0432\u0438\u0442\u0435\u0441\u044c \u0443 \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u0438\u0439 \u043b\u043e\u0433, \u0432\u0438 \u043c\u0430\u0454\u0442\u0435 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0438 \u0437\u0430\u043f\u0438\u0442\u0438 \u043d\u0430 \u043f\u043e\u043a\u0430\u0437 \u0442\u0430\u0439\u043b\u0456\u0432.</p> <p>\u0417\u0430 \u0431\u0430\u0436\u0430\u043d\u043d\u044f\u043c, \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0437\u0431\u0456\u043b\u044c\u0448\u0438\u0442\u0438 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f <code>ModTileRequestTimeout</code> \u0442\u0430 <code>ModTileMissingRequestTimeout</code> \u0443 <code>/etc/apache2/conf-available/renderd.conf</code> \u0437 3 \u0442\u0430 10 \u0441\u0435\u043a\u0443\u043d\u0434 \u0434\u043e, \u0441\u043a\u0430\u0436\u0456\u043c\u043e, 30 \u0430\u0431\u043e 60, \u0434\u043b\u044f \u0442\u043e\u0433\u043e, \u0449\u043e\u0431 \u0434\u0430\u0442\u0438 \u0431\u0456\u043b\u044c\u0448\u0435 \u0447\u0430\u0441\u0443 \u0441\u0435\u0440\u0432\u0435\u0440\u0443 \u043d\u0430 \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u0442\u0430\u0439\u043b\u0456\u0432 \u043f\u0435\u0440\u0435\u0434 \u0442\u0438\u043c \u044f\u043a \u043f\u043e\u043a\u0430\u0437\u0430\u0442\u0438 \u0441\u0456\u0440\u0438\u0439 \u0444\u043e\u043d \u043d\u0430 \u0437\u0430\u043c\u0456\u0441\u0442\u044c \u043d\u0438\u0445. \u041f\u0435\u0440\u0435\u0432\u0456\u0440\u0442\u0435, \u0449\u043e \u0432\u0438 \u0432\u0438\u043a\u043e\u043d\u0430\u043b\u0438 \u043a\u043e\u043c\u0430\u043d\u0434\u0438 <code>service renderd restart</code> \u0442\u0430 <code>service apache2 restart</code> \u043f\u0456\u0441\u043b\u044f \u0432\u043d\u0435\u0441\u0435\u043d\u043d\u044f \u0437\u043c\u0456\u043d.</p> <p>\u0412\u0456\u0442\u0430\u0454\u043c\u043e! \u0422\u0435\u043f\u0435\u0440 \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u0432\u0435\u0440\u043d\u0443\u0442\u0438\u0441\u044c \u0434\u043e \u0440\u043e\u0437\u0434\u0456\u043b\u0443 \u0412\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f \u0442\u0430\u0439\u043b\u0456\u0432 \u0434\u043b\u044f \u0434\u043e\u0434\u0430\u0432\u0430\u043d\u043d\u044f \u043c\u0430\u043f\u0438, \u0449\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454 \u0432\u0430\u0448 \u043d\u043e\u0432\u0438\u0439 \u0442\u0430\u0439\u043b\u043e\u0432\u0438\u0439 \u0441\u0435\u0440\u0432\u0435\u0440.</p>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-ubuntu-18-04-lts/","title":"\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u0442\u0430\u0439\u043b\u043e\u0432\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0432\u0440\u0443\u0447\u043d\u0443 (Ubuntu 18.04 LTS)","text":""},{"location":"uk/serving-tiles/manually-building-a-tile-server-ubuntu-18-04-lts/#\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f-\u0442\u0430\u0439\u043b\u043e\u0432\u043e\u0433\u043e-\u0441\u0435\u0440\u0432\u0435\u0440\u0430-\u0432\u0440\u0443\u0447\u043d\u0443-Ubuntu-1804-LTS","title":"\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u0442\u0430\u0439\u043b\u043e\u0432\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0432\u0440\u0443\u0447\u043d\u0443 (Ubuntu 18.04 LTS)","text":"<p>\u041d\u0430 \u0446\u0456\u0439 \u0441\u0442\u043e\u0440\u0456\u043d\u0446\u0456 \u043c\u0456\u0441\u0442\u0438\u0442\u044c\u0441\u044f \u043e\u043f\u0438\u0441 \u0437\u0456 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f, \u0440\u043e\u0437\u0433\u043e\u0440\u0442\u0430\u043d\u043d\u044f \u0442\u0430 \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f \u0432\u0441\u044c\u043e\u0433\u043e \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e\u0433\u043e \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043d\u043e\u0433\u043e \u0437\u0430\u0431\u0435\u0437\u043f\u0435\u0447\u0435\u043d\u043d\u044f \u0434\u043b\u044f \u0440\u043e\u0431\u043e\u0442\u0438 \u0432\u0430\u0448\u043e\u0433\u043e \u0442\u0430\u0439\u043b\u043e\u0432\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430. \u041f\u043e\u043a\u0440\u043e\u043a\u043e\u0432\u0456 \u0456\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0456\u0457 \u043e\u043f\u0438\u0441\u0443\u044e\u0442\u044c \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u0442\u0430\u0439\u043b\u043e\u0432\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u043d\u0430 Ubuntu Linux 18.04 LTS (Bionic Beaver), \u0432\u043e\u043d\u0438 \u0431\u0443\u043b\u0438 \u043f\u0435\u0440\u0435\u0432\u0456\u0440\u0435\u043d\u0456 \u0443 \u0442\u0440\u0430\u0432\u043d\u0456 2020.</p>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-ubuntu-18-04-lts/#\u0412\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f-\u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043d\u043e\u0433\u043e-\u0437\u0430\u0431\u0435\u0437\u043f\u0435\u0447\u0435\u043d\u043d\u044f","title":"\u0412\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043d\u043e\u0433\u043e \u0437\u0430\u0431\u0435\u0437\u043f\u0435\u0447\u0435\u043d\u043d\u044f","text":"<p>\u0422\u0430\u0439\u043b\u043e\u0432\u0438\u0439 \u0441\u0435\u0440\u0432\u0435\u0440 OpenStreetMap\u00a0\u2013 \u0446\u0435 \u043d\u0430\u0431\u0456\u0440 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043d\u043e\u0433\u043e \u0437\u0430\u0431\u0435\u0437\u043f\u0435\u0447\u0435\u043d\u043d\u044f \u0442\u0430 \u0431\u0456\u0431\u043b\u0456\u043e\u0442\u0435\u043a, \u044f\u043a\u0456 \u043f\u0440\u0430\u0446\u044e\u044e\u0442\u044c \u0440\u0430\u0437\u043e\u043c \u0433\u0435\u043d\u0435\u0440\u0443\u044e\u0447\u0438 \u0442\u0430\u0439\u043b\u0438. \u042f\u043a \u0446\u0435 \u0442\u0440\u0430\u043f\u043b\u044f\u0454\u0442\u044c\u0441\u044f \u0434\u043e\u0432\u043e\u043b\u0456 \u0447\u0430\u0441\u0442\u043e \u0432 OpenStreetMap, \u0456\u0441\u043d\u0443\u0454 \u043a\u0456\u043b\u044c\u043a\u0430 \u0440\u0456\u0437\u043d\u0438\u0445 \u0448\u043b\u044f\u0445\u0456\u0432 \u0434\u043b\u044f \u0434\u043e\u0441\u044f\u0433\u043d\u0435\u043d\u043d\u044f \u043c\u0435\u0442\u0438 \u0456 \u043c\u0430\u0439\u0436\u0435 \u043a\u043e\u0436\u0435\u043d \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442 \u043c\u0430\u0454 \u0430\u043b\u044c\u0442\u0435\u0440\u043d\u0430\u0442\u0438\u0432\u0443, \u0437 \u0432\u043b\u0430\u0441\u043d\u0438\u043c\u0438 \u043d\u0435\u0434\u043e\u043b\u0456\u043a\u0430\u043c\u0438 \u0442\u0430 \u043f\u0435\u0440\u0435\u0432\u0430\u0433\u0430\u043c\u0438. \u0426\u0435\u0439 \u043f\u043e\u0441\u0456\u0431\u043d\u0438\u043a \u043e\u043f\u0438\u0441\u0443\u0454 \u043d\u0430\u0439\u0431\u0456\u043b\u044c\u0448 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u0443 \u0432\u0435\u0440\u0441\u0456\u044e, \u0449\u043e \u0441\u0445\u043e\u0436\u0430 \u043d\u0430 \u0442\u0435, \u0449\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f \u0433\u043e\u043b\u043e\u0432\u043d\u0438\u043c \u0442\u0430\u0439\u043b\u043e\u0432\u0438\u043c \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c OpenStreetMap.</p> <p>\u0422\u0430\u0439\u043b\u043e\u0432\u0438\u0439 \u0441\u0435\u0440\u0432\u0435\u0440 \u0441\u043a\u043b\u0430\u0434\u0430\u0454\u0442\u044c\u0441\u044f \u0437 \u043f\u02bc\u044f\u0442\u0438 \u0433\u043e\u043b\u043e\u0432\u043d\u0438\u0445 \u0447\u0430\u0441\u0442\u0438\u043d: <code>mod_tile</code>, <code>renderd</code>, <code>mapnik</code>, <code>osm2pgsql</code> \u0442\u0430 \u0431\u0430\u0437\u0430 \u0434\u0430\u043d\u0438\u0445 <code>postgresql/postgis</code>. Mod_tile\u00a0\u2013 \u043c\u043e\u0434\u0443\u043b\u044c \u0441\u0435\u0440\u0432\u0435\u0440\u0430 Apache, \u044f\u043a\u0438\u0439 \u043e\u0431\u0441\u043b\u0443\u0433\u043e\u0432\u0443\u0454 \u0442\u0430\u0439\u043b\u043e\u0432\u0438\u0439 \u043a\u0435\u0448 \u0442\u0430 \u0432\u0438\u0437\u043d\u0430\u0447\u0430\u0454 \u044f\u043a\u0456 \u0442\u0430\u0439\u043b\u0438 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u043f\u0435\u0440\u0435\u0433\u0435\u043d\u0435\u0440\u0443\u0432\u0430\u0442\u0438, \u0447\u0435\u0440\u0435\u0437 \u0457\u0445 \u0432\u0456\u0434\u0441\u0443\u0442\u043d\u0456\u0441\u0442\u044c \u0443 \u043a\u0435\u0448\u0456 \u0430\u0431\u043e \u0442\u043e\u043c\u0443, \u0449\u043e \u0432\u043e\u043d\u0438 \u0437\u0430\u0441\u0442\u0430\u0440\u0456\u043b\u0438. Renderd \u0432\u0438\u0437\u043d\u0430\u0447\u0430\u0454 \u043f\u0440\u0456\u043e\u0440\u0438\u0442\u0435\u0442\u0438 \u0432 \u0447\u0435\u0440\u0433\u0430\u0445 \u0440\u0456\u0437\u043d\u043e\u0433\u043e \u0448\u0442\u0438\u0431\u0443 \u0437\u0430\u043f\u0438\u0442\u0456\u0432 \u0434\u043b\u044f \u0437\u0433\u043b\u0430\u0434\u0436\u0443\u0432\u0430\u043d\u043d\u044f \u043d\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f. Mapnik\u00a0\u2013 \u0431\u0456\u0431\u043b\u0456\u043e\u0442\u0435\u043a\u0430, \u044f\u043a\u0430 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u0430\u0454 \u0431\u0435\u0437\u043f\u043e\u0441\u0435\u0440\u0435\u0434\u043d\u044c\u043e \u0437\u0430 \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u0442\u0430\u0439\u043b\u0456\u0432 \u0437 \u0447\u0435\u0440\u0433\u0438, \u044f\u043a\u043e\u044e \u043a\u0435\u0440\u0443\u0454 renderd.</p> <p>\u0417\u0430\u0443\u0432\u0430\u0436\u0442\u0435, \u0449\u043e \u0446\u0435 \u043a\u0435\u0440\u0456\u0432\u043d\u0438\u0446\u0442\u0432\u043e \u0431\u0443\u043b\u043e \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u0435 \u0442\u0430 \u043f\u0440\u043e\u0442\u0435\u0441\u0442\u043e\u0432\u0430\u043d\u0435 \u0437 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f\u043c \u043d\u043e\u0432\u043e\u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0437 \u043e\u043f\u0435\u0440\u0430\u0446\u0456\u0439\u043d\u043e\u044e \u0441\u0438\u0441\u0442\u0435\u043c\u043e\u044e Ubuntu 18.04. \u042f\u043a\u0449\u043e \u0443 \u0432\u0430\u0441 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0456 \u0456\u043d\u0448\u0456 \u0432\u0435\u0440\u0441\u0456\u0457 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043d\u043e\u0433\u043e \u0437\u0430\u0431\u0435\u0437\u043f\u0435\u0447\u0435\u043d\u043d\u044f (\u043c\u043e\u0436\u043b\u0438\u0432\u043e \u0432\u0438 \u043e\u043d\u043e\u0432\u0438\u043b\u0438\u0441\u044c \u0437 \u043f\u043e\u043f\u0435\u0440\u0435\u0434\u043d\u044c\u043e\u0457 \u0432\u0435\u0440\u0441\u0456\u0457 Ubuntu, \u0430\u0431\u043e \u0443 \u0432\u0430\u0441 \u043f\u0456\u0434\u02bc\u0454\u0434\u043d\u0430\u043d\u0456 \u0456\u043d\u0448\u0456 \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0456\u0457 PPA), \u043c\u043e\u0436\u043b\u0438\u0432\u043e \u0432\u0430\u043c \u0434\u043e\u0432\u0435\u0434\u0435\u0442\u044c\u0441\u044f \u0432\u043d\u0435\u0441\u0442\u0438 \u043f\u0435\u0432\u043d\u0456 \u0437\u043c\u0456\u043d\u0438.</p> <p>\u041a\u0435\u0440\u0456\u0432\u043d\u0438\u0446\u0442\u0432\u043e \u043f\u0435\u0440\u0435\u0434\u0431\u0430\u0447\u0430\u0454, \u0449\u043e \u0432\u0438 \u0432\u0438\u043a\u043e\u043d\u0443\u0454\u0442\u0435 \u0432\u0441\u0456 \u043a\u043e\u043c\u0430\u043d\u0434\u0438 \u0432 \u043e\u0442\u043e\u0447\u0435\u043d\u0456 \u0437\u0432\u0438\u0447\u0430\u0439\u043d\u043e\u0433\u043e \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430 \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e \u043a\u043e\u043c\u0430\u043d\u0434\u0438 <code>sudo</code>. \u041d\u0438\u0436\u0447\u0435 \u0432\u0438 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0435 \u043d\u0456\u043a\u043d\u0435\u0439\u043c \u0442\u0430\u043a\u043e\u0433\u043e \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430 <code>renderaccount</code>\u00a0\u2013 \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0441\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u0439\u043e\u0433\u043e \u0442\u0430\u043a \u0441\u0430\u043c\u043e, \u0430\u0431\u043e \u0437\u043c\u0456\u043d\u0438\u0442\u0438 \u043d\u0430\u0432\u0435\u0434\u0435\u043d\u0456 \u0441\u043a\u0440\u0438\u043f\u0442\u0438, \u0449\u043e\u0431 \u0432\u043e\u043d\u0438 \u043f\u0440\u0430\u0446\u044e\u0432\u0430\u043b\u0438 \u0432\u0456\u0434 \u0456\u043c\u0435\u043d\u0456 \u0432\u0430\u0448\u043e\u0433\u043e \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430. \u042f\u043a\u0449\u043e \u0432\u0438 \u0441\u0442\u0432\u043e\u0440\u0438\u0442\u0435 \u0443 \u0441\u0435\u0431\u0435 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430 <code>renderaccount</code>, \u0432\u0430\u043c \u0431\u0443\u0434\u0435 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0434\u043e\u0434\u0430\u0442\u0438 \u0439\u043e\u0433\u043e \u0432 \u0433\u0440\u0443\u043f\u0443, \u044f\u043a\u0430 \u043c\u0430\u0454 \u0434\u043e\u0437\u0432\u0456\u043b \u043d\u0430 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f \u043a\u043e\u043c\u0430\u043d\u0434\u0438 <code>sudo</code>, \u0434\u043b\u044f \u0446\u044c\u043e\u0433\u043e \u0437 \u043e\u0442\u043e\u0447\u0435\u043d\u043d\u044f \u0437\u0432\u0438\u0447\u0430\u0439\u043d\u043e\u0433\u043e \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430 \u0432\u0438\u043a\u043e\u043d\u0430\u0439\u0442\u0435 \u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0456 \u043a\u043e\u043c\u0430\u043d\u0434\u0438:</p> <pre><code>sudo -i\nusermod -aG sudo renderaccount\nexit\n</code></pre> <p>\u0414\u043b\u044f \u0442\u043e\u0433\u043e, \u0449\u043e\u0431 \u0441\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u0432\u0441\u0456 \u0446\u0456 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0438, \u0432\u0430\u043c \u0441\u043f\u043e\u0447\u0430\u0442\u043a\u0443 \u0442\u0440\u0435\u0431\u0430 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0438 \u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0456 \u0437\u0430\u043b\u0435\u0436\u043d\u043e\u0441\u0442\u0456:</p> <pre><code>sudo add-apt-repository multiverse\nsudo apt update &amp;&amp; sudo apt install \\\n    libboost-all-dev git-core tar unzip wget bzip2 \\\n    build-essential autoconf libtool libxml2-dev \\\n    libgeos-dev libgeos++-dev libpq-dev libbz2-dev \\\n    libproj-dev munin-node munin libprotobuf-c0-dev \\\n    protobuf-c-compiler libfreetype6-dev \\\n    libtiff5-dev libicu-dev libgdal-dev libcairo-dev \\\n    libcairomm-1.0-dev apache2 apache2-dev \\\n    libagg-dev liblua5.2-dev ttf-unifont lua5.1 \\\n    liblua5.1-dev libgeotiff-epsg\n</code></pre> <p>\u0421\u043a\u0430\u0436\u0456\u0442\u044c \u0422\u0430\u043a \u043d\u0430 \u0437\u0430\u043f\u0438\u0442 \u0441\u0438\u0441\u0442\u0435\u043c\u0438 \u043f\u0440\u043e \u043f\u043e\u0447\u0430\u0442\u043e\u043a \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f. \u0426\u0435 \u0442\u0440\u0438\u0432\u0430\u0442\u0438\u043c\u0435 \u0434\u043e\u0432\u043e\u043b\u0456 \u0434\u043e\u0432\u0433\u043e, \u0442\u043e\u0436 \u0443 \u0432\u0430\u0441 \u0454 \u0447\u0430\u0441 \u043d\u0430 \u0444\u0456\u043b\u0456\u0436\u0430\u043d\u043a\u0443 \u043a\u0430\u0432\u0438. \u0426\u0435\u0439 \u043f\u0435\u0440\u0435\u043b\u0456\u043a \u043c\u0456\u0441\u0442\u0438\u0442\u044c \u0440\u0456\u0437\u043d\u043e\u043c\u0430\u043d\u0456\u0442\u043d\u0456 \u0443\u0442\u0438\u043b\u0456\u0442\u0438, \u043d\u0430\u043f\u0440\u0438\u043a\u043b\u0430\u0434, \u0432\u0435\u0431\u0441\u0435\u0440\u0432\u0435\u0440 Apache, \u043a\u043e\u043c\u043f\u0456\u043b\u044f\u0442\u043e\u0440 \"carto\", \u0449\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f \u0434\u043b\u044f \u043a\u043e\u043d\u0432\u0435\u0440\u0442\u0430\u0446\u0456\u0457 \u0441\u0442\u0438\u043b\u0456\u0432 Carto-CSS \u0432 \u0437\u0440\u043e\u0437\u0443\u043c\u0456\u043b\u0438\u0439 \u0434\u043b\u044f \"mapnik\" \u0432\u0438\u0433\u043b\u044f\u0434. \u041a\u043e\u043b\u0438 \u0437\u0430\u043a\u0456\u043d\u0447\u0438\u0442\u044c\u0441\u044f \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u0446\u0456\u0454\u0457 \u0447\u0430\u0441\u0442\u0438\u043d\u0438, \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u0456\u0442\u044c \u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0438\u0439 \u043d\u0430\u0431\u0456\u0440 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u0438\u0445 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0456\u0432:</p>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-ubuntu-18-04-lts/#\u0412\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f-postgresql--postgis","title":"\u0412\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f postgresql / postgis","text":"<p>Ubuntu \u043c\u0430\u0454 \u0441\u043f\u0430\u043a\u043e\u0432\u0430\u043d\u0456 \u0432\u0435\u0440\u0441\u0456\u0457 <code>postgis</code> \u0456 <code>postgresql</code>, \u0442\u043e\u0436 \u0432\u043e\u043d\u0438 \u043c\u043e\u0436\u0443\u0442\u044c \u0431\u0443\u0442\u0438 \u043b\u0435\u0433\u043a\u043e \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0456 \u0437 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u0430 \u043f\u0430\u043a\u0443\u043d\u043a\u0456\u0432 Ubuntu.</p> <pre><code>sudo apt-get install \\\n    postgresql \\\n    postgresql-contrib \\\n    postgis \\\n    postgresql-10-postgis-2.4 \\\n    postgresql-10-postgis-scripts\n</code></pre> <p>\u0422\u0443\u0442 <code>postgresql</code> \u0446\u0435 \u0441\u0435\u0440\u0432\u0435\u0440 \u0431\u0430\u0437 \u0434\u0430\u043d\u0438\u0445, \u044f\u043a\u0438\u0439 \u043c\u0438 \u0437\u0431\u0438\u0440\u0430\u0454\u043c\u043e\u0441\u044c \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0438 \u0434\u043b\u044f \u0437\u0431\u0435\u0440\u0456\u0433\u0430\u043d\u043d\u044f \u043d\u0430\u0448\u0438\u0445 \u0434\u0430\u043d\u0438\u0445, \u0430 <code>postgis</code> \u0434\u043e\u0434\u0430\u0454 \u0439\u043e\u043c\u0443 \u043f\u0456\u0434\u0442\u0440\u0438\u043c\u043a\u0443 \u0440\u043e\u0431\u043e\u0442\u0438 \u0437 \u0433\u0435\u043e\u043f\u0440\u043e\u0441\u0442\u043e\u0440\u043e\u0432\u0438\u043c\u0438 \u0434\u0430\u043d\u0438\u043c\u0438. \u0422\u043e \u0436 \u0437\u043d\u043e\u0432, \u0441\u043a\u0430\u0436\u0456\u0442\u044c \u0422\u0430\u043a \u0434\u043b\u044f \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f.</p> <p>\u0422\u0435\u043f\u0435\u0440 \u0432\u0430\u043c \u0442\u0440\u0435\u0431\u0430 \u0441\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u0431\u0430\u0437\u0443 \u0434\u0430\u043d\u0438\u0445 \u0437 \u043f\u0456\u0434\u0442\u0440\u0438\u043c\u043a\u043e\u044e postgis. \u0422\u0438\u043f\u043e\u0432\u0456 \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f \u0440\u0456\u0437\u043d\u043e\u043c\u0430\u043d\u0456\u0442\u043d\u0438\u0445 \u043f\u0440\u043e\u0433\u0440\u0430\u043c \u043e\u0447\u0456\u043a\u0443\u044e\u0442\u044c \u0449\u043e \u0431\u0430\u0437\u0430 \u0434\u0430\u043d\u0438\u0445 \u043d\u0430\u0437\u0438\u0432\u0430\u0442\u0438\u043c\u0435\u0442\u044c\u0441\u044f <code>gis</code>, \u0442\u043e\u0436 \u043c\u0438 \u0431\u0443\u0434\u0435\u043c\u043e \u0434\u043e\u0442\u0440\u0438\u043c\u0443\u0432\u0430\u0442\u0438\u0441\u044c \u0446\u0456\u0454\u0457 \u0443\u0433\u043e\u0434\u0438 \u0432 \u0446\u0456\u043c \u043a\u0435\u0440\u0456\u0432\u043d\u0438\u0446\u0442\u0432\u0456, \u0445\u043e\u0447\u0430 \u0446\u0435 \u0439 \u043d\u0435 \u043e\u0431\u043e\u0432\u02bc\u044f\u0437\u043a\u043e\u0432\u043e. \u0417\u0430\u043c\u0456\u043d\u0456\u0442\u044c \u0442\u0443\u0442, \u0456 \u0434\u0430\u043b\u0456 \u043d\u0438\u0436\u0447\u0435, <code>renderaccount</code> \u043d\u0430 \u0456\u043c\u02bc\u044f \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430 \u043f\u0456\u0434 \u044f\u043a\u0438\u043c \u0431\u0443\u0434\u0435 \u0432\u0456\u0434\u0431\u0443\u0432\u0430\u0442\u0438\u0441\u044c \u0433\u0435\u043d\u0435\u0440\u0443\u0432\u0430\u043d\u043d\u044f \u0442\u0430\u0439\u043b\u0456\u0432 \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e Mapnik.</p> <pre><code>sudo -u postgres -i\ncreateuser renderaccount\ncreatedb -E UTF8 -O renderaccount gis\n</code></pre> <p>\u041f\u043e\u043a\u0438 \u0432\u0438 \u043f\u0440\u0430\u0446\u044e\u0454\u0442\u0435 \u044f\u043a \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447 <code>postgres</code>, \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u0456\u0442\u044c PostGIS \u0432 \u0431\u0430\u0437\u0443 \u0434\u0430\u043d\u0438\u0445 PostgreSQL (\u0437\u043d\u043e\u0432\u0443, \u0437\u0430\u043c\u0456\u043d\u0456\u0442\u044c <code>renderaccount</code> \u043d\u0430 \u0432\u0430\u0448\u043e\u0433\u043e \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430 \u043d\u0438\u0436\u0447\u0435):</p> <pre><code>psql\n</code></pre> <p>(\u0446\u0435 \u043f\u0440\u0438\u0437\u0432\u0435\u0434\u0435 \u0434\u043e \u043f\u043e\u044f\u0432\u0438 <code>postgres=#</code> \u043d\u0430 \u043f\u043e\u0447\u0430\u0442\u043a\u0443 \u0440\u044f\u0434\u043a\u0430 \u043a\u043e\u043d\u0441\u043e\u043b\u0456)</p> <pre><code>\\c gis\n</code></pre> <p>(\u0443 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u044c \u0432\u0438 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0435: \"You are now connected to database 'gis' as user 'postgres'\" [\"\u0422\u0435\u043f\u0435\u0440 \u0432\u0438 \u043f\u0456\u0434\u02bc\u0454\u0434\u043d\u0430\u043d\u0456 \u0434\u043e \u0431\u0430\u0437\u0438 \u0434\u0430\u043d\u0438\u0445 'gis' \u044f\u043a \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447 'postgres'\"])</p> <pre><code>CREATE EXTENSION postgis;\n</code></pre> <p>(\u0443 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u044c \u0432\u0438 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0435: CREATE EXTENSION)</p> <pre><code>CREATE EXTENSION hstore;\n</code></pre> <p>(\u0443 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u044c \u0432\u0438 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0435: CREATE EXTENSION)</p> <pre><code>ALTER TABLE geometry_columns OWNER TO renderaccount;\n</code></pre> <p>(\u0443 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u044c \u0432\u0438 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0435: ALTER TABLE)</p> <pre><code>ALTER TABLE spatial_ref_sys OWNER TO renderaccount;\n</code></pre> <p>(\u0443 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u044c \u0432\u0438 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0435: ALTER TABLE)</p> <pre><code>\\q\n</code></pre> <p>(\u0446\u0435 \u043f\u0440\u0438\u0437\u0432\u0435\u0434\u0435 \u0434\u043e \u0432\u0438\u0445\u043e\u0434\u0443 \u0437 \u0441\u0435\u0441\u0456\u0457 psql \u0442\u0430 \u043f\u043e\u0432\u0435\u0440\u043d\u0435\u043d\u043d\u044f \u043d\u0430\u0437\u0430\u0434 \u0443 \u043a\u043e\u043d\u0441\u043e\u043b\u044c Linux)</p> <pre><code>exit\n</code></pre> <p>(\u043f\u043e\u0432\u0435\u0440\u043d\u0435\u043d\u043d\u044f \u043d\u0430\u0437\u0430\u0434 \u0434\u043e \u0441\u0435\u0441\u0456\u0457 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430, \u0432 \u044f\u043a\u0456\u0439 \u043c\u0438 \u0437\u043d\u0430\u0445\u043e\u0434\u0438\u043b\u0438\u0441\u044c \u0434\u043e \u0432\u0438\u043a\u043e\u043d\u0430\u043d\u043d\u044f \u043a\u043e\u043c\u0430\u043d\u0434\u0438 <code>sudo -u postgres -i</code> \u0432\u0438\u0449\u0435)</p> <p>\u042f\u043a\u0449\u043e \u0432\u0438 \u0449\u0435 \u0446\u044c\u043e\u0433\u043e \u043d\u0435 \u0437\u0440\u043e\u0431\u0438\u043b\u0438, \u0441\u0442\u0432\u043e\u0440\u0456\u0442\u044c \u043e\u0431\u043b\u0456\u043a\u043e\u0432\u0438\u0439 \u0437\u0430\u043f\u0438\u0441 \u0434\u043b\u044f \u0432\u0430\u0448\u043e\u0433\u043e \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430, \u0432\u0432\u0435\u0434\u0456\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c \u043a\u043e\u043b\u0438 \u0446\u0435 \u0431\u0443\u0434\u0435 \u0437\u0430\u043f\u0440\u043e\u043f\u043e\u043d\u043e\u0432\u0430\u043d\u043e:</p> <pre><code>sudo useradd -m renderaccount\nsudo passwd renderaccount\n</code></pre> <p>\u0417\u043d\u043e\u0432, \u0437\u0430\u043c\u0456\u043d\u0456\u0442\u044c <code>renderaccount</code> \u0456\u043c\u02bc\u044f\u043c \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430 \u0431\u0435\u0437 \u0430\u0434\u043c\u0456\u043d\u0456\u0441\u0442\u0440\u0430\u0442\u0438\u0432\u043d\u0438\u0445 \u043f\u043e\u0432\u043d\u043e\u0432\u0430\u0436\u0435\u043d\u044c \u043d\u0430 \u0432\u0430\u0448 \u0441\u043c\u0430\u043a.</p>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-ubuntu-18-04-lts/#\u0412\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f-osm2pgsql","title":"\u0412\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f osm2pgsql","text":"<p>\u0422\u0435\u043f\u0435\u0440 \u043d\u0430\u043c \u0442\u0440\u0435\u0431\u0430 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0438 \u0434\u0435\u044f\u043a\u0435 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043d\u0435 \u0437\u0430\u0431\u0435\u0437\u043f\u0435\u0447\u0435\u043d\u043d\u044f \u0437 \u0441\u0438\u0440\u0446\u0456\u0432. \u041f\u0435\u0440\u0448\u0435, \u0446\u0435 <code>osm2pgsql</code>. \u0414\u043b\u044f \u0456\u043c\u043f\u043e\u0440\u0442\u0443 \u0442\u0430 \u043a\u0435\u0440\u0443\u0432\u0430\u043d\u043d\u044f \u0434\u0430\u043d\u0438\u043c\u0438 OpenStreetMap \u0432 \u0431\u0430\u0437\u0456 \u0434\u0430\u043d\u0438\u0445 \u0456\u0441\u043d\u0443\u044e\u0442\u044c \u0440\u0456\u0437\u043d\u0456 \u0456\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u0438. \u041c\u0438 \u0431\u0443\u0434\u0435\u043c\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 <code>osm2pgsql</code>, \u0446\u0435 \u043d\u0430\u0439\u043f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u0456\u0448\u0438\u0439 \u0456\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442 \u0441\u0435\u0440\u0435\u0434 \u0456\u043d\u0448\u0438\u0445.</p> <pre><code>mkdir ~/src\ncd ~/src\ngit clone https://github.com/openstreetmap/osm2pgsql\ncd osm2pgsql\n</code></pre> <p>\u041c\u0435\u0445\u0430\u043d\u0456\u0437\u043c \u0437\u0431\u0438\u0440\u0430\u043d\u043d\u044f, \u0449\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f \u0434\u043b\u044f osm2pgsql, \u0442\u0440\u043e\u0445\u0438 \u0437\u043c\u0456\u043d\u0438\u0432\u0441\u044f \u0437 \u0447\u0430\u0441\u043e\u043c \u0456 \u043d\u0430\u043c \u0434\u043e\u0432\u0435\u0434\u0435\u0442\u044c\u0441\u044f \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0438 \u043a\u0456\u043b\u044c\u043a\u0430 \u0437\u0430\u043b\u0435\u0436\u043d\u043e\u0441\u0442\u0435\u0439:</p> <pre><code>sudo apt install \\\n    make cmake g++ libboost-dev libboost-system-dev \\\n    libboost-filesystem-dev libexpat1-dev zlib1g-dev \\\n    libbz2-dev libpq-dev libgeos-dev libgeos++-dev \\\n    libproj-dev lua5.2 liblua5.2-dev\n</code></pre> <p>\u0417\u043d\u043e\u0432, \u0441\u043a\u0430\u0436\u0456\u0442\u044c \u0422\u0430\u043a \u0434\u043b\u044f \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f.</p> <pre><code>mkdir build &amp;&amp; cd build\ncmake ..\n</code></pre> <p>(\u0432 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0456 \u0432\u0438 \u043c\u0430\u0454\u0442\u0435 \u043e\u0442\u0440\u0438\u043c\u0430\u0442\u0438 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f \"build files have been written to\"/\"\u0441\u0442\u0432\u043e\u0440\u0435\u043d\u0456 \u0444\u0430\u0439\u043b\u0438 \u0431\u0443\u043b\u0438 \u0437\u0430\u043f\u0438\u0441\u0430\u043d\u0456 \u0432\")</p> <pre><code>make\n</code></pre> <p>(\u0432\u0438\u0432\u0456\u0434 \u043c\u0430\u0454 \u0437\u0430\u043a\u0456\u043d\u0447\u0443\u0432\u0430\u0442\u0438\u0441\u044c \u0440\u044f\u0434\u043a\u043e\u043c \"[100%] Built target osm2pgsql\"/\"[100%] \u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f osm2pgsql\")</p> <pre><code>sudo make install\n</code></pre>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-ubuntu-18-04-lts/#Mapnik","title":"Mapnik","text":"<p>\u0414\u0430\u043b\u0456, \u043c\u0438 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u043c\u043e Mapnik. \u041c\u0438 \u0431\u0443\u0434\u0435\u043c \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0442\u0438\u043f\u043e\u0432\u0443 \u0432\u0435\u0440\u0441\u0456\u044e \u0437 Ubuntu 18.04:</p> <pre><code>sudo apt-get install \\\n    autoconf apache2-dev libtool libxml2-dev \\\n    libbz2-dev libgeos-dev libgeos++-dev libproj-dev \\\n    gdal-bin libmapnik-dev mapnik-utils \\\n    python-mapnik python3-psycopg2\n</code></pre> <p>\u041f\u0435\u0440\u0435\u0432\u0456\u0440\u0438\u043c\u043e \u0447\u0438 Mapnik \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043e \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e:</p> <pre><code>python\n&gt;&gt;&gt; import mapnik\n&gt;&gt;&gt;\n</code></pre> <p>\u042f\u043a\u0449\u043e python \u0443 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u044c \u0432\u0438\u0434\u0430\u0454 \u0442\u0456\u043b\u044c\u043a\u0438 <code>&gt;&gt;&gt;</code> \u0431\u0435\u0437 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f \u043f\u0440\u043e \u043f\u043e\u043c\u0438\u043b\u043a\u0438, \u0437\u043d\u0430\u0447\u0438\u0442\u044c \u0431\u0456\u0431\u043b\u0456\u043e\u0442\u0435\u043a\u0430 Mapnik \u0454 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e\u044e \u0432 Python. \u0412\u0456\u0442\u0430\u0454\u043c\u043e! \u0414\u043b\u044f \u0432\u0438\u0445\u043e\u0434\u0443 \u0456\u0437 \u0441\u0435\u0441\u0456\u0457 Python \u0441\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u0439\u0442\u0435\u0441\u044c \u043d\u0430\u0441\u0442\u0443\u043f\u043d\u043e\u044e \u043a\u043e\u043c\u0430\u043d\u0434\u043e\u044e:</p> <pre><code>&gt;&gt;&gt; quit()\n</code></pre>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-ubuntu-18-04-lts/#\u0412\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f-mod_tile-\u0442\u0430-renderd","title":"\u0412\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f mod_tile \u0442\u0430 renderd","text":"<p>\u0414\u0430\u043b\u0456, \u043c\u0438 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u043c\u043e mod_tile \u0442\u0430 renderd. <code>mod_tile</code>\u00a0\u2013 \u043c\u043e\u0434\u0443\u043b\u044c Apache, \u044f\u043a\u0438\u0439 \u043e\u0431\u0440\u043e\u0431\u043b\u044f\u0454 \u0437\u0430\u043f\u0438\u0442\u0438 \u043d\u0430 \u043f\u043e\u043a\u0430\u0437 \u0442\u0430\u0439\u043b\u0456\u0432; <code>renderd</code>\u00a0\u2013 \u0444\u043e\u043d\u043e\u0432\u0430 \u0441\u043b\u0443\u0436\u0431\u0430, \u044f\u043a\u0430 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u0430\u0454 \u0437\u0430 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0456\u044e \u0442\u0430\u0439\u043b\u0456\u0432 \u043d\u0430 \u0437\u0430\u043f\u0438\u0442 <code>mod_tile</code>. \u041c\u0438 \u0431\u0443\u0434\u0435\u043c\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0433\u0456\u043b\u043a\u0443 <code>switch2osm</code> \u0437 https://github.com/SomeoneElseOSM/mod_tile, \u044f\u043a\u0430 \u0441\u0432\u043e\u0454\u044e \u0447\u0435\u0440\u0433\u043e\u044e \u0431\u0430\u0437\u0443\u0454\u0442\u044c\u0441\u044f \u043d\u0430 \u043a\u043e\u0434\u0456 https://github.com/openstreetmap/mod_tile, \u0430\u043b\u0435 \u0437\u043c\u0456\u043d\u0435\u043d\u0430 \u0442\u0430\u043a\u0438\u043c \u0447\u0438\u043d\u043e\u043c, \u0449\u043e\u0431 \u043f\u0440\u0430\u0446\u044e\u0432\u0430\u0442\u0438 \u043d\u0430 Ubuntu 18.04, \u0442\u0430\u043a\u043e\u0436 \u0432\u043e\u043d\u0430 \u043c\u0456\u0441\u0442\u0438\u0442\u044c \u043f\u0430\u0440\u0443 \u0456\u043d\u0448\u0438\u0445 \u0437\u043c\u0456\u043d \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u0438\u0445 \u0434\u043b\u044f \u0440\u043e\u0431\u043e\u0442\u0438 \u0437\u0456 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u0438\u043c \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c \u043d\u0430 Ubuntu \u043d\u0430 \u0432\u0456\u0434\u043c\u0456\u043d\u0443 \u0432\u0456\u0434 \u0442\u043e\u0433\u043e, \u0449\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f \u043d\u0430 \u0442\u0430\u0439\u043b\u043e\u0432\u0438\u0445 \u0441\u0435\u0440\u0432\u0435\u0440\u0430\u0445 OpenStreetMap.</p>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-ubuntu-18-04-lts/#\u041a\u043e\u043c\u043f\u0456\u043b\u044f\u0446\u0456\u044f-mod_tile-\u0437-\u0441\u0438\u0440\u0446\u0456\u0432","title":"\u041a\u043e\u043c\u043f\u0456\u043b\u044f\u0446\u0456\u044f mod_tile \u0437 \u0441\u0438\u0440\u0446\u0456\u0432","text":"<pre><code>cd ~/src\ngit clone -b switch2osm git://github.com/SomeoneElseOSM/mod_tile.git\ncd mod_tile\n./autogen.sh\n</code></pre> <p>(\u0432\u0438\u043a\u043e\u043d\u0430\u043d\u043d\u044f \u043c\u0430\u0454 \u0437\u0430\u043a\u0456\u043d\u0447\u0438\u0442\u0438\u0441\u044c \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f\u043c <code>autoreconf: Leaving directory '.'</code>.)</p> <pre><code>./configure\n</code></pre> <p>(\u043c\u0430\u0454 \u0437\u0430\u043a\u0456\u043d\u0447\u0438\u0442\u0438\u0441\u044c \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f\u043c <code>config.status: executing libtool commands</code>)</p> <pre><code>make\n</code></pre> <p>\u0417\u0430\u0443\u0432\u0430\u0436\u0442\u0435, \u0449\u043e \u0434\u0435\u044f\u043a\u0456 \"\u043f\u043e\u043f\u0435\u0440\u0435\u0434\u0436\u0443\u0432\u0430\u043b\u044c\u043d\u0456\" \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f \u0431\u0443\u0434\u0443\u0442\u044c \u0437\u02bc\u044f\u0432\u043b\u044f\u0442\u0438\u0441\u044c \u043d\u0430 \u0435\u043a\u0440\u0430\u043d\u0456. \u041f\u0440\u043e\u0442\u0435 \u0432\u0441\u0435 \u043c\u0430\u0454 \u0437\u0430\u043a\u0456\u043d\u0447\u0438\u0442\u0438\u0441\u044c \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f\u043c \"make[1]: Leaving directory '/home/renderaccount/src/mod_tile'\".</p> <pre><code>sudo make install\n</code></pre> <p>(\u043c\u0430\u0454 \u0437\u0430\u043a\u0456\u043d\u0447\u0438\u0442\u0438\u0441\u044c \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f\u043c \"make[1]: Leaving directory '/home/renderaccount/src/mod_tile'\")</p> <pre><code>sudo make install-mod_tile\n</code></pre> <p>(\u043c\u0430\u0454 \u0437\u0430\u043a\u0456\u043d\u0447\u0438\u0442\u0438\u0441\u044c \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f\u043c \"chmod 644 /usr/lib/apache2/modules/mod_tile.so\")</p> <pre><code>sudo ldconfig\n</code></pre> <p>(\u0442\u0443\u0442 \u043d\u0435\u043c\u0430\u0454 \u0431\u0443\u0442\u0438 \u0436\u043e\u0434\u043d\u043e\u0433\u043e \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f)</p>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-ubuntu-18-04-lts/#\u041d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f-\u0441\u0442\u0438\u043b\u0456\u0432","title":"\u041d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f \u0441\u0442\u0438\u043b\u0456\u0432","text":"<p>\u0422\u0435\u043f\u0435\u0440, \u043f\u0456\u0441\u043b\u044f \u0442\u043e\u0433\u043e, \u044f\u043a \u0432\u0441\u0435 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u0435 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043d\u0435 \u0437\u0430\u0431\u0435\u0437\u043f\u0435\u0447\u0435\u043d\u043d\u044f \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0435, \u0432\u0430\u043c \u0442\u0440\u0435\u0431\u0430 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u0442\u0430 \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u0442\u0438 \u0441\u0442\u0438\u043b\u0456.</p> <p>\u0421\u0442\u0438\u043b\u044c, \u044f\u043a\u0438\u0439 \u043c\u0438 \u0431\u0443\u0434\u0435\u043c\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438,\u00a0\u2013 \u0446\u0435 \u0441\u0442\u0438\u043b\u044c \u044f\u043a\u0438\u0439 \u0437\u0430\u0441\u0442\u043e\u0441\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f \u0434\u043b\u044f \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \"\u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u043e\u0433\u043e\" \u0448\u0430\u0440\u0443 \u043d\u0430 \u0441\u0430\u0439\u0442\u0456 openstreetmap.org. \u041c\u0438 \u043e\u0431\u0440\u0430\u043b\u0438 \u0439\u043e\u0433\u043e \u0447\u0435\u0440\u0435\u0437 \u0433\u0430\u0440\u043d\u0443 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0456\u044e \u0456 \u0442\u0435, \u0449\u043e \u0432\u0456\u043d \u0437\u0434\u0430\u0442\u0435\u043d \u043f\u0440\u0430\u0446\u044e\u0432\u0430\u0442\u0438 \u0434\u043b\u044f \u0431\u0443\u0434\u044c-\u044f\u043a\u043e\u0457 \u0447\u0430\u0441\u0442\u0438\u043d\u0438 \u0441\u0432\u0456\u0442\u0443, \u043d\u0430\u0432\u0456\u0442\u044c \u0442\u0430\u043c \u0434\u0435 \u043d\u0435 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f \u043b\u0430\u0442\u0438\u043d\u043a\u0430. \u0410\u043b\u0435 \u0443 \u043d\u044c\u043e\u0433\u043e \u0454 \u0439 \u043f\u0435\u0432\u043d\u0456 \u043d\u0435\u0434\u043e\u043b\u0456\u043a\u0438\u00a0\u2013 \u0446\u0435 \u043a\u043e\u043c\u043f\u0440\u043e\u043c\u0456\u0441\u043d\u0456 \u0440\u0456\u0448\u0435\u043d\u043d\u044f \u0434\u043b\u044f \u0442\u043e\u0433\u043e, \u0449\u043e\u0431 \u043f\u0440\u0430\u0446\u044e\u0432\u0430\u0442\u0438 \u0432 \u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u0438\u0445 \u043c\u0430\u0441\u0448\u0442\u0430\u0431\u0430\u0445, \u0432\u0456\u043d \u0434\u0443\u0436\u0435 \u0441\u043a\u043b\u0430\u0434\u043d\u0438\u0439 \u0434\u043b\u044f \u0440\u043e\u0437\u0443\u043c\u0456\u043d\u043d\u044f \u0442\u0430 \u0432\u043d\u0435\u0441\u0435\u043d\u043d\u044f \u0437\u043c\u0456\u043d, \u044f\u043a\u0449\u043e \u0432\u0430\u043c \u0434\u043e\u0432\u0435\u0434\u0435\u0442\u044c\u0441\u044f \u0457\u0445 \u0432\u043d\u043e\u0441\u0438\u0442\u0438.</p> <p>\u041a\u043e\u0434 \u0441\u0442\u0438\u043b\u044e \"OpenStreetMap Carto\" \u0437 \u0432\u0435\u0431-\u0441\u0430\u0439\u0442\u0443 openstreetmap.org \u0437\u043d\u0430\u0445\u043e\u0434\u0438\u0442\u044c\u0441\u044f \u043d\u0430 GitHub\u00a0\u2013 https://github.com/gravitystorm/openstreetmap-carto/ \u0442\u0430 \u0442\u0430\u043a\u043e\u0436 \u043c\u0430\u0454 \u0432\u043b\u0430\u0441\u043d\u0456 \u0456\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0456\u0457 \u0437\u0456 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f\u00a0\u2013 https://github.com/gravitystorm/openstreetmap-carto/blob/master/INSTALL.md. \u041f\u0440\u043e \u0442\u0435, \u0449\u043e \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0437\u0440\u043e\u0431\u0438\u0442\u0438, \u043c\u0438 \u0440\u043e\u0437\u043f\u043e\u0432\u0456\u043c\u043e \u0442\u0443\u0442.</p> <p>\u041f\u0435\u0440\u0435\u0434\u0431\u0430\u0447\u0430\u0454\u0442\u044c\u0441\u044f \u0449\u043e \u043c\u0438 \u0440\u043e\u0437\u043c\u0456\u0449\u0443\u0454\u043c\u043e \u0441\u0442\u0438\u043b\u044c \u0432 \u0442\u0435\u0446\u0456 <code>~/src</code> \u0434\u043e\u043c\u0430\u0448\u043d\u044c\u043e\u0457 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0456\u0457 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430 <code>renderaccount</code> (\u0430\u0431\u043e \u0431\u0443\u0434\u044c-\u044f\u043a\u043e\u0433\u043e \u0456\u043d\u0448\u043e\u0433\u043e, \u044f\u043a\u043e\u0433\u043e \u0432\u0438 \u0441\u0442\u0432\u043e\u0440\u0438\u043b\u0438 \u0434\u043e \u0446\u044c\u043e\u0433\u043e)</p> <pre><code>cd ~/src\ngit clone https://github.com/gravitystorm/openstreetmap-carto\ncd openstreetmap-carto\n</code></pre> <p>\u0414\u0430\u043b\u0456, \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u043c\u043e \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u0443 \u0432\u0435\u0440\u0441\u0456\u044e \u043a\u043e\u043c\u043f\u0456\u043b\u044f\u0442\u043e\u0440\u0430 <code>carto</code>. \u0426\u0435 \u0431\u0456\u043b\u044c\u0448 \u0441\u0432\u0456\u0436\u0430 \u0432\u0435\u0440\u0441\u0456\u044f, \u043d\u0456\u0436 \u0442\u0430 \u0449\u043e \u0454 \u0432 Ubuntu, \u0442\u043e\u0436 \u043d\u0430\u043c \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0437\u0440\u043e\u0431\u0438\u0442\u0438 \u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0435:</p> <pre><code>sudo apt-get install nodejs-dev node-gyp libssl1.0-dev\n</code></pre> <p>\u042f\u043a \u0446\u0435 \u043d\u0435 \u0434\u0438\u0432\u043d\u043e, \u0446\u0435 \u043f\u0440\u0438\u0437\u0432\u0435\u0434\u0435 \u0434\u043e \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043d\u044f \u0434\u0435\u044f\u043a\u0438\u0445 \u0440\u0430\u043d\u0456\u0448\u0435 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0445 \u0440\u0435\u0447\u0435\u0439. \u041f\u043e\u0442\u0456\u043c \u0437\u0440\u043e\u0431\u0456\u0442\u044c:</p> <pre><code>sudo apt install npm nodejs\nsudo npm install -g carto\ncarto -v\n</code></pre> <p>\u0423 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u044c \u043c\u0438 \u043c\u0430\u0454\u043c\u043e \u043e\u0442\u0440\u0438\u043c\u0430\u0442\u0438 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044e \u043f\u0440\u043e \u043d\u043e\u043c\u0435\u0440 \u0432\u0435\u0440\u0441\u0456\u0457, \u044f\u043a\u0430 \u043c\u0430\u0454 \u0431\u0443\u0442\u0438 \u043d\u0435 \u043c\u0435\u043d\u0448\u0435 \u043d\u0456\u0436:</p> <pre><code>carto 1.2.0 (Carto map stylesheet compiler)\n</code></pre> <p>\u041f\u0456\u0441\u043b\u044f \u0446\u044c\u043e\u0433\u043e \u043c\u0438 \u043f\u0435\u0440\u0435\u0442\u0432\u043e\u0440\u0438\u043c\u043e \u043f\u0440\u043e\u0454\u043a\u0442 carto \u0443 \u0437\u0440\u043e\u0437\u0443\u043c\u0456\u043b\u0438\u0439 \u0434\u043b\u044f Mapnik \u0432\u0438\u0433\u043b\u044f\u0434:</p> <pre><code>carto project.mml &gt; mapnik.xml\n</code></pre> <p>\u0422\u0435\u043f\u0435\u0440 \u0443 \u043d\u0430\u0441 \u0454 \u0441\u0442\u0438\u043b\u044c Mapnik XML\u00a0\u2013 <code>/home/renderaccount/src/openstreetmap-carto/mapnik.xml</code>.</p>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-ubuntu-18-04-lts/#\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f-\u0434\u0430\u043d\u0438\u0445","title":"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u0434\u0430\u043d\u0438\u0445","text":"<p>\u0414\u043b\u044f \u043f\u043e\u0447\u0430\u0442\u043a\u0443, \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u043c\u043e \u043d\u0435\u0432\u0435\u043b\u0438\u0447\u043a\u0443 \u0447\u0430\u0441\u0442\u0438\u043d\u0443 \u0442\u0435\u0441\u0442\u043e\u0432\u0438\u0445 \u0434\u0430\u043d\u0438\u0445. \u0421\u0435\u0440\u0435\u0434 \u0440\u0456\u0437\u043d\u043e\u043c\u0430\u0457\u0442\u0442\u044f \u043c\u0456\u0441\u0446\u044c \u0434\u043b\u044f \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u044f \u0434\u0430\u043d\u0438\u0445, \u043e\u0431\u0435\u0440\u0435\u043c\u043e <code>download.geofabrik.de</code>, \u0449\u043e \u043c\u0456\u0441\u0442\u0438\u0442\u044c \u0432\u0435\u043b\u0438\u043a\u0438\u0439 \u043f\u0435\u0440\u0435\u043b\u0456\u043a \u0440\u0456\u0437\u043d\u0438\u0445 \u0432\u0430\u0440\u0456\u0430\u043d\u0442\u0456\u0432 \u0434\u043b\u044f \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f. \u0412\u0456\u0437\u044c\u043c\u0456\u043c\u043e \u0434\u043b\u044f \u043f\u0440\u0438\u043a\u043b\u0430\u0434\u0443 \u0410\u0437\u0435\u0440\u0431\u0430\u0439\u0434\u0436\u0430\u043d (~32.4 \u041c\u0431).</p> <p>\u041f\u0435\u0440\u0435\u0439\u0434\u0456\u0442\u044c \u0437\u0430 \u043f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f\u043c https://download.geofabrik.de/asia/azerbaijan.html \u0442\u0430 \u0437\u0432\u0435\u0440\u043d\u0456\u0442\u044c \u0443\u0432\u0430\u0433\u0443 \u043d\u0430 \u0434\u0430\u0442\u0443 \"This file was last modified\" (\u0449\u043e\u0441\u044c \u0441\u0445\u043e\u0436\u0435 \u043d\u0430 \"2017-02-26T21:43:02Z\"). \u0412\u043e\u043d\u0430 \u043d\u0430\u043c \u0437\u043d\u0430\u0434\u043e\u0431\u0438\u0442\u044c\u0441\u044f \u043f\u043e\u0442\u0456\u043c, \u043a\u043e\u043b\u0438 \u0443 \u043d\u0430\u0441 \u0432\u0438\u043d\u0438\u043a\u043d\u0435 \u043f\u043e\u0442\u0440\u0435\u0431\u0430 \u043e\u043d\u043e\u0432\u0438\u0442\u0438 \u043d\u0430\u0448\u0456 \u0434\u0430\u043d\u0456 \u0434\u0430\u043d\u0438\u043c\u0438, \u044f\u043a\u0456 \u0443\u0447\u0430\u0441\u043d\u0438\u043a\u0438 OpenStreetMap \u0434\u043e\u0434\u0430\u043b\u0438 \u0437 \u043c\u043e\u043c\u0435\u043d\u0442\u0443 \u043d\u0430\u0448\u043e\u0433\u043e \u0456\u043c\u043f\u043e\u0440\u0442\u0443. \u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u043c\u043e \u0434\u0430\u043d\u0456:</p> <pre><code>mkdir ~/data\ncd ~/data\nwget https://download.geofabrik.de/asia/azerbaijan-latest.osm.pbf\n</code></pre> <p>\u041d\u0430\u0441\u0442\u0443\u043f\u043d\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0436\u0435 \u0432\u0430\u043c \u043f\u0435\u0440\u0435\u043d\u0435\u0441\u0442\u0438 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u0456 \u0434\u0430\u043d\u0456 \u0434\u043e \u0432\u0430\u0448\u043e\u0457 \u0431\u0430\u0437\u0438 \u0434\u0430\u043d\u0438\u0445. \u041d\u0430 \u0446\u044c\u043e\u043c\u0443 \u0435\u0442\u0430\u043f\u0456 \u0437\u0440\u043e\u0441\u0442\u0435 \u043d\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u043d\u0430 \u0434\u0438\u0441\u043a\u043e\u0432\u0456 \u043e\u043f\u0435\u0440\u0430\u0446\u0456\u0457 \u0447\u0435\u0440\u0435\u0437 \u043f\u043e\u0442\u0440\u0435\u0431\u0443 \u043f\u0435\u0440\u0435\u043d\u0435\u0441\u0435\u043d\u043d\u044f \u0437\u043d\u0430\u0447\u043d\u043e\u0433\u043e \u043e\u0431\u0441\u044f\u0433\u0443 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u0457; \u0456\u043c\u043f\u043e\u0440\u0442 \u0432\u0441\u0456\u0454\u0457 \u043f\u043b\u0430\u043d\u0435\u0442\u0438 \u043c\u043e\u0436\u0435 \u0442\u0440\u0438\u0432\u0430\u0442\u0438 \u043a\u0456\u043b\u044c\u043a\u0430 \u0433\u043e\u0434\u0438\u043d, \u0434\u043d\u0456\u0432 \u0442\u0430 \u043d\u0430\u0432\u0456\u0442\u044c \u0442\u0438\u0436\u043d\u0456\u0432, \u0432 \u0437\u0430\u043b\u0435\u0436\u043d\u043e\u0441\u0442\u0456 \u0432\u0456\u0434 \u043f\u043e\u0442\u0443\u0436\u043d\u043e\u0441\u0442\u0435\u0439 \u0432\u0430\u0448\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u043d\u043e\u0433\u043e \u043e\u0431\u043b\u0430\u0434\u043d\u0430\u043d\u043d\u044f. \u0417\u0440\u043e\u0437\u0443\u043c\u0456\u043b\u043e, \u0449\u043e \u0434\u043b\u044f \u043d\u0435\u0432\u0435\u043b\u0438\u043a\u0438\u0445 \u0447\u0430\u0441\u0442\u0438\u043d \u0434\u0430\u043d\u0438\u0445 \u0456\u043c\u043f\u043e\u0440\u0442 \u0432\u0456\u0434\u0431\u0443\u0432\u0430\u0454\u0442\u044c\u0441\u044f \u0437\u043d\u0430\u0447\u043d\u043e \u0448\u0432\u0438\u0434\u0448\u0435, \u043c\u043e\u0436\u043b\u0438\u0432\u043e \u0432\u0430\u043c \u0434\u043e\u0432\u0435\u0434\u0435\u0442\u044c\u0441\u044f \u043f\u043e\u0435\u043a\u0441\u043f\u0435\u0440\u0438\u043c\u0435\u043d\u0442\u0443\u0432\u0430\u0442\u0438 \u0437\u0456 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f\u043c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430 <code>-C</code>, \u0449\u043e\u0431 \u0432\u043a\u043b\u0430\u0441\u0442\u0438\u0441\u044c \u0443 \u043d\u0430\u044f\u0432\u043d\u0443 \u043e\u043f\u0435\u0440\u0430\u0442\u0438\u0432\u043d\u0443 \u043f\u0430\u043c\u02bc\u044f\u0442\u044c \u0432\u0430\u0448\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430.</p> <pre><code>osm2pgsql -d gis --create --slim  -G --hstore \\\n    --tag-transform-script \\\n        ~/src/openstreetmap-carto/openstreetmap-carto.lua \\\n    -C 2500 --number-processes 1 \\\n    -S ~/src/openstreetmap-carto/openstreetmap-carto.style \\\n    ~/data/azerbaijan-latest.osm.pbf\n</code></pre> <p>\u0420\u043e\u0437\u0431\u0435\u0440\u0456\u043c\u043e\u0441\u044f \u0449\u043e \u043e\u0437\u043d\u0430\u0447\u0430\u044e\u0442\u044c \u0432\u0441\u0456 \u0446\u0456 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0438:</p> <code>-d gis</code> \u0411\u0430\u0437\u0430 \u0434\u0430\u043d\u0438\u0445, \u0437 \u044f\u043a\u043e\u044e \u043c\u0438 \u043f\u0440\u0430\u0446\u044e\u0454\u043c\u043e (\u0442\u0438\u043f\u043e\u0432\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f <code>gis</code>; \u0442\u0443\u0442 \u0442\u0440\u0435\u0431\u0430 \u0432\u043a\u0430\u0437\u0430\u0442\u0438 \u0457\u0457 \u044f\u0432\u043d\u043e). <code>--create</code> \u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u0434\u0430\u043d\u0456 \u0432 \u043f\u0443\u0441\u0442\u0443 \u0431\u0430\u0437\u0443 \u0434\u0430\u043d\u0438\u0445, \u0437\u0430\u043c\u0456\u0441\u0442\u044c \u0441\u043f\u0440\u043e\u0431 \u0434\u043e\u0434\u0430\u0442\u0438 \u0457\u0445 \u0434\u043e \u043d\u0430\u044f\u0432\u043d\u0438\u0445. <code>--slim</code> osm2pgsql \u043c\u043e\u0436\u0435 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0440\u0456\u0437\u043d\u043e\u043c\u0430\u043d\u0456\u0442\u043d\u0456 \u0441\u0445\u0435\u043c\u0438 \u0442\u0430\u0431\u043b\u0438\u0446\u044c; \"slim\" \u0433\u043e\u0434\u0438\u0442\u044c\u0441\u044f \u0434\u043b\u044f \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0456\u0457 \u0442\u0430\u0439\u043b\u0456\u0432. <code>-G</code> \u0412\u0438\u0437\u043d\u0430\u0447\u0430\u0454, \u044f\u043a\u0438\u043c \u0447\u0438\u043d\u043e\u043c \u0431\u0443\u0434\u0443\u0442\u044c \u043e\u0431\u0440\u043e\u0431\u043b\u044f\u0442\u0438\u0441\u044c \u043c\u0443\u043b\u044c\u0442\u0438\u043f\u043e\u043b\u0456\u0433\u043e\u043d\u0438. <code>--hstore</code> \u0414\u043e\u0437\u0432\u043e\u043b\u044f\u0454 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0434\u043b\u044f \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0456\u0457 \u0442\u0430\u0439\u043b\u0456\u0432 \u0442\u0435\u0491\u0438, \u0434\u043b\u044f \u044f\u043a\u0438\u0445 \u043d\u0435\u043c\u0430\u0454 \u043e\u043a\u0440\u0435\u043c\u0438\u0445 \u0441\u0442\u043e\u0432\u043f\u0446\u0456\u0432 \u0432 \u0431\u0430\u0437\u0456 \u0434\u0430\u043d\u0438\u0445. <code>--tag-transform-script ~/src/openstreetmap-carto/openstreetmap-carto.lua</code> \u0412\u0438\u0437\u043d\u0430\u0447\u0430\u0454 \u0441\u043a\u0440\u0438\u043f\u0442 lua, \u044f\u043a\u0438\u0439 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f \u0434\u043b\u044f \u043e\u0431\u0440\u043e\u0431\u043a\u0438 \u0442\u0435\u0491\u0456\u0432. \u0426\u0435 \u043f\u0440\u043e\u0441\u0442\u0438\u0439 \u0441\u043f\u043e\u0441\u0456\u0431 \u043e\u0431\u0440\u043e\u0431\u043a\u0438 \u0442\u0435\u0491\u0456\u0432 OSM \u0434\u043e \u0442\u043e\u0433\u043e, \u044f\u043a \u0432\u043e\u043d\u0438 \u0431\u0443\u0434\u0443\u0442\u044c \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u0456 \u0432 \u0441\u0442\u0438\u043b\u0456, \u0449\u043e \u0441\u043f\u0440\u043e\u0449\u0443\u0454 \u043b\u043e\u0433\u0456\u043a\u0443 \u0441\u0430\u043c\u043e\u0433\u043e \u0441\u0442\u0438\u043b\u044e. <code>-C 2500</code> \u0412\u0438\u0434\u0456\u043b\u044f\u0454 2.5 \u0413\u0431 \u043e\u043f\u0435\u0440\u0430\u0442\u0438\u0432\u043d\u043e\u0457 \u043f\u0430\u043c\u02bc\u044f\u0442\u0456 \u0434\u043b\u044f osm2pgsql \u043d\u0430 \u0432\u0438\u043a\u043e\u043d\u0430\u043d\u043d\u044f \u0456\u043c\u043f\u043e\u0440\u0442\u0443. \u042f\u043a\u0449\u043e \u0443 \u0432\u0430\u0441 \u043c\u0435\u043d\u0448\u0435 \u043e\u043f\u0435\u0440\u0430\u0442\u0438\u0432\u043d\u043e\u0457 \u043f\u0430\u043c\u02bc\u044f\u0442\u0456, \u0441\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043c\u0435\u043d\u0448\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f. \u042f\u043a\u0449\u043e \u043f\u0440\u043e\u0446\u0435\u0441 \u0456\u043c\u043f\u043e\u0440\u0442\u0443 \u0431\u0443\u0434\u0435 \u0437\u043d\u0438\u0449\u0435\u043d\u0438\u0439 \u0447\u0435\u0440\u0435\u0437 \u043d\u0435\u0441\u0442\u0430\u0447\u0443 \u043e\u043f\u0435\u0440\u0430\u0442\u0438\u0432\u043d\u043e\u0457 \u043f\u0430\u043c\u02bc\u044f\u0442\u0456, \u0441\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0437\u043c\u0435\u043d\u0448\u0438\u0442\u0438 \u0446\u0435 \u0447\u0438\u0441\u043b\u043e \u0430\u0431\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0439\u0442\u0435 \u043c\u0435\u043d\u0448\u0438\u0439 \u043e\u0431\u0441\u044f\u0433 \u0434\u0430\u043d\u0438\u0445. <code>--number-processes 1</code> \u0412\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u043e\u0434\u043d\u0435 \u044f\u0434\u0440\u043e \u043f\u0440\u043e\u0446\u0435\u0441\u043e\u0440\u0430. \u042f\u043a\u0449\u043e \u0443 \u0432\u0430\u0441 \u0431\u0430\u0433\u0430\u0442\u043e\u044f\u0434\u0435\u0440\u043d\u0438\u0439 \u043f\u0440\u043e\u0446\u0435\u0441\u043e\u0440 \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0431\u0456\u043b\u044c\u0448\u0443 \u043a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u044f\u0434\u0435\u0440. <code>-S ~/src/openstreetmap-carto/openstreetmap-carto.style</code> \u0421\u0442\u0432\u043e\u0440\u044e\u0432\u0430\u0442\u0438 \u0441\u0442\u043e\u0432\u043f\u0446\u0456 \u0432 \u0431\u0430\u0437\u0456 \u0434\u0430\u043d\u0438\u0445 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u044e\u0447\u0438 \u0432\u043a\u0430\u0437\u0430\u043d\u0438\u0439 \u0444\u0430\u0439\u043b (\u0432 \u043d\u0430\u0448\u043e\u043c\u0443 \u0432\u0438\u043f\u0430\u0434\u043a\u0443 \u0432\u0456\u043d \u043d\u0456\u0447\u0438\u043c \u043d\u0435 \u0432\u0456\u0434\u0440\u0456\u0437\u043d\u044f\u0454\u0442\u044c\u0441\u044f \u0432\u0456\u0434 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u043e\u0433\u043e \"openstreetmap-carto\") <code>~/data/azerbaijan-latest.osm.pbf</code> \u041e\u0441\u0442\u0430\u043d\u043d\u0456\u0439 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u00a0\u2013 \u0446\u0435 \u0444\u0430\u0439\u043b \u0437 \u0434\u0430\u043d\u0438\u043c\u0438 \u0434\u043b\u044f \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u0432 \u0431\u0430\u0437\u0443. <p>\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u043c \u0440\u043e\u0431\u043e\u0442\u0438 \u0446\u0456\u0454\u0457 \u043a\u043e\u043c\u0430\u043d\u0434\u0438 \u043c\u0430\u0454 \u0431\u0443\u0442\u0438 \u0449\u043e\u0441\u044c \u0441\u0445\u043e\u0436\u0435 \u043d\u0430 \"Osm2pgsql took 238s overall\".</p>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-ubuntu-18-04-lts/#\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f-Shapefile","title":"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f Shapefile","text":"<p>\u041d\u0435\u0437\u0432\u0430\u0436\u0430\u044e\u0447\u0438 \u043d\u0430 \u0442\u0435, \u0449\u043e \u0431\u0456\u043b\u044c\u0448\u0456\u0441\u0442\u044c \u0434\u0430\u043d\u0438\u0445 \u0434\u043b\u044f \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u043c\u0430\u043f\u0438 \u0431\u0435\u0440\u0435\u0442\u044c\u0441\u044f \u0437 \u0444\u0430\u0439\u043b\u0443 \u0437 \u0434\u0430\u043d\u0438\u043c\u0438 OpenStreetMap, \u044f\u043a\u0438\u0439 \u0432\u0438 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u043b\u0438 \u0440\u0430\u043d\u0456\u0448\u0435, \u0434\u0435\u044f\u043a\u0456 \u0444\u0430\u0439\u043b\u0438 \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0456 shapefile \u0432\u0441\u0435 \u0436 \u0442\u0430\u043a\u0456 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u0456 \u0434\u043b\u044f \u0442\u0430\u043a\u0438\u0445 \u0440\u0435\u0447\u0435\u0439, \u043d\u0430\u043f\u0440\u0438\u043a\u043b\u0430\u0434, \u044f\u043a \u043a\u043e\u0440\u0434\u043e\u043d\u0438 \u043a\u0440\u0430\u0457\u043d \u043d\u0430 \u0432\u0435\u043b\u0438\u043a\u0438\u0445 \u043c\u0430\u0441\u0448\u0442\u0430\u0431\u0430\u0445. \u0414\u043b\u044f \u0457\u0445 \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u044f \u0442\u0430 \u0456\u043d\u0434\u0435\u043a\u0441\u0430\u0446\u0456\u0457 \u0437\u0440\u043e\u0431\u0456\u0442\u044c:</p> <pre><code>cd ~/src/openstreetmap-carto/\nscripts/get-external-data.py\n</code></pre> <p>\u0426\u0435\u0439 \u043f\u0440\u043e\u0446\u0435\u0441 \u0432\u0438\u043c\u0430\u0433\u0430\u0454 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u0432\u0435\u043b\u0438\u043a\u043e\u0457 \u043f\u043e\u0440\u0446\u0456\u0457 \u0434\u0430\u043d\u0438\u0445 \u0442\u0430 \u0442\u0440\u0438\u0432\u0430\u0442\u0438\u043c\u0435 \u0434\u0435\u044f\u043a\u0438\u0439 \u0447\u0430\u0441 \u0431\u0435\u0437 \u0431\u0443\u0434\u044c-\u044f\u043a\u0438\u0445 \u043f\u043e\u043c\u0456\u0442\u043d\u0438\u0445 \u0437\u043c\u0456\u043d \u043d\u0430 \u0435\u043a\u0440\u0430\u043d\u0456. \u0412\u0456\u043d \u0444\u0430\u043a\u0442\u0438\u0447\u043d\u043e \u0440\u043e\u0431\u0438\u0442\u044c \u0437\u0430\u043f\u0438\u0441 \u0443 \u043f\u0456\u0434\u0442\u0435\u043a\u0443 \"data\" \u0432 \"openstreetmap-carto\".</p>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-ubuntu-18-04-lts/#\u0428\u0440\u0438\u0444\u0442\u0438","title":"\u0428\u0440\u0438\u0444\u0442\u0438","text":"<p>\u041f\u043e\u0447\u0438\u043d\u0430\u044e\u0447\u0438 \u0437 \u0432\u0435\u0440\u0441\u0456\u0457 v5.6.0 \u0448\u0440\u0438\u0444\u0442\u0438 \u0434\u043b\u044f Carto \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0438 \u0432\u0440\u0443\u0447\u043d\u0443:</p> <pre><code>cd ~/src/openstreetmap-carto/\nscripts/get-fonts.sh\n</code></pre> <p>\u041d\u0430\u0448\u0456 \u0442\u0435\u0441\u0442\u043e\u0432\u0456 \u0434\u0430\u043d\u0456 (\u0410\u0437\u0435\u0440\u0431\u0430\u0439\u0434\u0436\u0430\u043d) \u0431\u0443\u043b\u0438 \u043e\u0431\u0440\u0430\u043d\u0456 \u0447\u0435\u0440\u0435\u0437 \u0457\u0445 \u043d\u0435\u0432\u0435\u043b\u0438\u043a\u0438\u0439 \u043e\u0431\u0441\u044f\u0433, \u0430 \u0442\u0430\u043a\u043e\u0436 \u0447\u0435\u0440\u0435\u0437 \u0442\u0435, \u0449\u043e \u0430\u0440\u043c\u044f\u043d\u0441\u044c\u043a\u0430 \u043f\u0438\u0441\u0435\u043c\u043d\u0456\u0441\u0442\u044c \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454 \u0432\u043b\u0430\u0441\u043d\u0443 \u0430\u0431\u0435\u0442\u043a\u0443.</p>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-ubuntu-18-04-lts/#\u041d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f-\u0432\u0435\u0431-\u0441\u0435\u0440\u0432\u0435\u0440\u0430","title":"\u041d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f \u0432\u0435\u0431-\u0441\u0435\u0440\u0432\u0435\u0440\u0430","text":""},{"location":"uk/serving-tiles/manually-building-a-tile-server-ubuntu-18-04-lts/#\u041a\u043e\u043d\u0444\u0456\u0433\u0443\u0440\u0430\u0446\u0456\u044f-renderd","title":"\u041a\u043e\u043d\u0444\u0456\u0433\u0443\u0440\u0430\u0446\u0456\u044f renderd","text":"<p>\u041d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f <code>renderd</code> \u0437\u043d\u0430\u0445\u043e\u0434\u044f\u0442\u044c\u0441\u044f \u0443 \u0444\u0430\u0439\u043b\u0456 <code>/usr/local/etc/renderd.conf</code>. \u0412\u0456\u0434\u0440\u0435\u0434\u0430\u0433\u0443\u0454\u043c\u043e \u0439\u043e\u0433\u043e \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u043e\u0433\u043e \u0440\u0435\u0434\u0430\u043a\u0442\u043e\u0440\u0430, \u0442\u0430\u043a\u043e\u0433\u043e \u044f\u043a nano:</p> <pre><code>sudo nano /usr/local/etc/renderd.conf\n</code></pre> <p>\u041d\u0430\u043c \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0437\u043c\u0456\u043d\u0438\u0442\u0438 \u043f\u0430\u0440\u0443 \u0440\u044f\u0434\u043a\u0456\u0432. \u0412 \u0440\u043e\u0437\u0434\u0456\u043b\u0456 <code>renderd</code>:</p> <pre><code>num_threads=4\n</code></pre> <p>\u042f\u043a\u0449\u043e \u0443 \u0432\u0430\u0441 \u0434\u0435\u0441\u044c 2 \u0413\u0431 \u043e\u043f\u0435\u0440\u0430\u0442\u0438\u0432\u043d\u043e\u0457 \u043f\u0430\u043c\u02bc\u044f\u0442\u0456, \u043c\u043e\u0436\u043b\u0438\u0432\u043e \u0432\u0430\u043c \u0434\u043e\u0432\u0435\u0434\u0435\u0442\u044c\u0441\u044f \u0437\u043c\u0435\u043d\u0448\u0438\u0442\u0438 \u0446\u0435\u0439 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 \u0434\u043e 2. \u0420\u043e\u0437\u0434\u0456\u043b <code>ajt</code> \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u0430\u0454 \u0437\u0430 \"\u0456\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0439 \u0441\u0442\u0438\u043b\u044c \u043c\u0430\u043f\u0438\" \u0437 \u043d\u0430\u0437\u0432\u043e\u044e <code>ajt</code>. \u0412\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u043c\u0430\u0442\u0438 \u0431\u0456\u043b\u044c\u0448\u0435 \u043d\u0456\u0436 \u043e\u0434\u0438\u043d \u0442\u0430\u043a\u0438\u0439 \u0440\u043e\u0437\u0434\u0456\u043b, \u044f\u043a\u0449\u043e \u0442\u0440\u0435\u0431\u0430, \u0437\u0430 \u0443\u043c\u043e\u0432\u0438, \u0449\u043e \u0443 \u043d\u0438\u0445 \u0431\u0443\u0434\u0443\u0442\u044c \u0440\u0456\u0437\u043d\u0456 URI. \u0420\u044f\u0434\u043e\u043a <code>XML</code> \u0442\u0440\u0435\u0431\u0430 \u0431\u0443\u0434\u0435 \u0437\u043c\u0456\u043d\u0438\u0442\u0438 \u043d\u0430 \u043a\u0448\u0442\u0430\u043b\u0442:</p> <pre><code>XML=/home/renderaccount/src/openstreetmap-carto/mapnik.xml\n</code></pre> <p>\u0417\u0432\u0456\u0441\u043d\u043e, \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0431\u0443\u0434\u0435 \u0437\u0430\u043c\u0456\u043d\u0438\u0442\u0438 <code>renderaccount</code> \u043d\u0430 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430, \u044f\u043a\u043e\u0433\u043e \u0432\u0438 \u0441\u0442\u0432\u043e\u0440\u0438\u043b\u0438 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0456 \u0434\u043e \u0446\u044c\u043e\u0433\u043e.</p> <pre><code>URI=/hot/\n</code></pre> <p>\u0426\u0435\u0439 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 \u0431\u0443\u043b\u043e \u043e\u0431\u0440\u0430\u043d\u043e \u0434\u043b\u044f \u0442\u043e\u0433\u043e \u0449\u043e\u0431\u0438 \u0431\u0443\u043b\u043e \u043f\u0440\u043e\u0441\u0442\u0456\u0448\u0435 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0432\u0430\u0448\u0456 \u0442\u0430\u0439\u043b\u0438 \u0437\u0430\u043c\u0456\u0441\u0442\u044c \u0448\u0430\u0440\u0443 Humanitarian \u0437 \u0441\u0430\u0439\u0442\u0443 OpenStreetMap.org. \u0412\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u043a\u0430\u0437\u0430\u0442\u0438 \u0449\u043e\u0441\u044c \u0456\u043d\u0448\u0435, \u0430\u043b\u0435 <code>/hot/</code> \u0442\u0430\u043a\u043e\u0436 \u0433\u043e\u0434\u0438\u0442\u044c\u0441\u044f.</p>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-ubuntu-18-04-lts/#\u041a\u043e\u043d\u0444\u0456\u0433\u0443\u0440\u0430\u0446\u0456\u044f-Apache","title":"\u041a\u043e\u043d\u0444\u0456\u0433\u0443\u0440\u0430\u0446\u0456\u044f Apache","text":"<pre><code>sudo mkdir /var/lib/mod_tile\nsudo chown renderaccount /var/lib/mod_tile\n</code></pre> <pre><code>sudo mkdir /var/run/renderd\nsudo chown renderaccount /var/run/renderd\n</code></pre> <p>\u0422\u0435\u043f\u0435\u0440 \u043d\u0430\u043c \u0442\u0440\u0435\u0431\u0430 \u0432\u043a\u0430\u0437\u0430\u0442\u0438 Apache, \u0449\u043e \u043d\u0430\u043c \u0442\u0440\u0435\u0431\u0430 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 <code>mod_tile</code>, \u0432\u0456\u0434\u043a\u0440\u0438\u0454\u043c\u043e nano (\u0430\u0431\u043e \u0456\u043d\u0448\u0438\u0439 \u0440\u0435\u0434\u0430\u043a\u0442\u043e\u0440):</p> <pre><code>sudo nano /etc/apache2/conf-available/mod_tile.conf\n</code></pre> <p>\u0414\u043e\u0434\u0430\u0439\u0442\u0435 \u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0438\u0439 \u0440\u044f\u0434\u043e\u043a \u0443 \u0444\u0430\u0439\u043b:</p> <pre><code>LoadModule tile_module /usr/lib/apache2/modules/mod_tile.so\n</code></pre> <p>\u0437\u0431\u0435\u0440\u0435\u0436\u0456\u0442\u044c \u0439\u043e\u0433\u043e \u0442\u0430 \u0432\u0438\u043a\u043e\u043d\u0430\u0439\u0442\u0435 \u043a\u043e\u043c\u0430\u043d\u0434\u0443:</p> <pre><code>sudo a2enconf mod_tile\n</code></pre> <p>\u0423 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u044c \u0432\u0438 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0435, \u0449\u043e \u0432\u0430\u043c \u0442\u0440\u0435\u0431\u0430 \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u0438 \u0441\u0435\u0440\u0432\u0456\u0441 apache \u043a\u043e\u043c\u0430\u043d\u0434\u043e\u044e <code>service apache2 reload</code> \u0434\u043b\u044f \u0430\u043a\u0442\u0438\u0432\u0430\u0446\u0456\u0457 \u043d\u043e\u0432\u0438\u0445 \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u044c; \u0430\u043b\u0435 \u043c\u0438 \u043d\u0435 \u0431\u0443\u0434\u0435\u043c\u043e \u0440\u043e\u0431\u0438\u0442\u0438 \u0446\u044c\u043e\u0433\u043e \u0437\u0430\u0440\u0430\u0437.</p> <p>\u0417\u0430\u0440\u0430\u0437 \u043d\u0430\u043c \u0442\u0440\u0435\u0431\u0430 \u043f\u0456\u0434\u02bc\u0454\u0434\u043d\u0430\u0442\u0438 <code>renderd</code> \u0434\u043e Apache. \u0417\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e nano (\u0430\u0431\u043e \u0456\u043d\u0448\u043e\u0433\u043e \u0440\u0435\u0434\u0430\u043a\u0442\u043e\u0440\u0430):</p> <pre><code>sudo nano /etc/apache2/sites-available/000-default.conf\n</code></pre> <p>\u0414\u043e\u0434\u0430\u0439\u0442\u0435 \u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0435 \u043c\u0456\u0436 \u0440\u044f\u0434\u043a\u0430\u043c\u0438 <code>ServerAdmin</code> \u0442\u0430 <code>DocumentRoot</code>:</p> <pre><code>LoadTileConfigFile /usr/local/etc/renderd.conf\nModTileRenderdSocketName /var/run/renderd/renderd.sock\n# \u0427\u0430\u0441 \u043e\u0447\u0456\u043a\u0443\u0432\u0430\u043d\u043d\u044f, \u043f\u0435\u0440\u0448 \u043d\u0456\u0436 \u0432\u0456\u0434\u043c\u043e\u0432\u0438\u0442\u0438\u0441\u044c \u0432\u0456\u0434 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0456\u0457 \u0442\u0430\u0439\u043b\u0443\nModTileRequestTimeout 0\n# \u0427\u0430\u0441 \u043e\u0447\u0456\u043a\u0443\u0432\u0430\u043d\u043d\u044f, \u043f\u0435\u0440\u0448 \u043d\u0456\u0436 \u0432\u0456\u0434\u043c\u043e\u0432\u0438\u0442\u0438\u0441\u044c \u0432\u0456\u0434 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0456\u0457 \u0432\u0456\u0434\u0441\u0443\u0442\u043d\u044c\u043e\u0433\u043e \u0442\u0430\u0439\u043b\u0443\nModTileMissingRequestTimeout 30\n</code></pre> <p>\u0406 \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u0442\u0456\u0442\u044c apache \u0434\u0432\u0456\u0447\u0456:</p> <pre><code>sudo service apache2 reload\nsudo service apache2 reload\n</code></pre> <p>(\u0404 \u043f\u0456\u0434\u043e\u0437\u0440\u0438, \u0449\u043e Apache \u0442\u0440\u043e\u0445\u0438 \"\u043f\u0456\u0434\u0442\u0443\u043f\u043b\u044e\u0454\" \u043f\u0456\u0434 \u0447\u0430\u0441 \u0437\u043c\u0456\u043d\u0438 \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u044c \u043d\u0430 \u0445\u043e\u0434\u0443, \u0442\u043e\u0436 \u043d\u0430 \u0432\u0441\u044f\u043a \u0432\u0438\u043f\u0430\u0434\u043e\u043a \u0446\u0435 \u0442\u0440\u0435\u0431\u0430 \u0437\u0440\u043e\u0431\u0438\u0442\u0438 \u0434\u0432\u0456\u0447\u0456).</p> <p>\u042f\u043a\u0449\u043e \u0432\u0438 \u043f\u0435\u0440\u0435\u0439\u0434\u0435\u0442\u0435 \u0432 \u043e\u0433\u043b\u044f\u0434\u0430\u0447\u0456 \u043d\u0430: <code>http://ip.\u0432\u0430\u0448\u043e\u0433\u043e.\u0441\u0435\u0440\u0432\u0435\u0440\u0430/index.html</code>, \u0432\u0438 \u043c\u0430\u0454\u0442\u0435 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0438 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u0443 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0443 apache \u0432 Ubuntu\u00a0\u2013 \"It works!\".</p> <p>\u041f\u043e\u0440\u0430\u0434\u0430</p> <p>\u044f\u043a\u0449\u043e \u0432\u0438 \u043d\u0435 \u0437\u043d\u0430\u0454\u0442\u0435 IP \u0430\u0434\u0440\u0435\u0441\u0443 \u043f\u0440\u0438\u0437\u043d\u0430\u0447\u0435\u043d\u0443 \u0441\u0435\u0440\u0432\u0435\u0440\u0443, \u0457\u0457 \u043c\u043e\u0436\u043d\u0430 \u0434\u0456\u0437\u043d\u0430\u0442\u0438\u0441\u044c \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e \u043a\u043e\u043c\u0430\u043d\u0434\u0438 <code>ifconfig</code>\u00a0\u2013 \u044f\u043a\u0449\u043e \u043c\u0435\u0440\u0435\u0436\u0435\u0432\u0456 \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f \u043d\u0435 \u043d\u0430\u0434\u0442\u043e \u0441\u043a\u043b\u0430\u0434\u043d\u0456, \u0442\u043e \u0446\u0435 \u043c\u0430\u0454 \u0431\u0443\u0442\u0438 \u0449\u043e\u0441\u044c \u0442\u0438\u043f\u0443 <code>inet addr</code> \u0432\u0456\u0434\u043c\u0456\u043d\u043d\u0435 \u0432\u0456\u0434 <code>127.0.0.1</code>.</p> <p>\u042f\u043a\u0449\u043e \u0432\u0438 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u0435 \u0441\u0435\u0440\u0432\u0435\u0440 \u043f\u043e\u0441\u0442\u0430\u0447\u0430\u043b\u044c\u043d\u0438\u043a\u0430 \u043f\u043e\u0441\u043b\u0443\u0433 \u0445\u043e\u0441\u0442\u0438\u043d\u0433\u0443, \u0442\u043e, \u0448\u0432\u0438\u0434\u0448\u0435 \u0437\u0430 \u0432\u0441\u0435, \u0432\u043d\u0443\u0442\u0440\u0456\u0448\u043d\u044f \u0430\u0434\u0440\u0435\u0441\u0430 \u0432\u0430\u0448\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0431\u0443\u0434\u0435 \u0432\u0456\u0434\u0440\u0456\u0437\u043d\u044f\u0442\u0438\u0441\u044f \u0432\u0456\u0434 \u0437\u043e\u0432\u043d\u0456\u0448\u043d\u044c\u043e\u0457 \u0430\u0434\u0440\u0435\u0441\u0438, \u044f\u043a\u0430 \u0431\u0443\u043b\u0430 \u043d\u0430\u0434\u0430\u043d\u0430 \u0432\u0430\u043c, \u0430\u043b\u0435 \u0446\u044f \u0437\u043e\u0432\u043d\u0456\u0448\u043d\u044f IP-\u0430\u0434\u0440\u0435\u0441\u0430 \u0432\u0436\u0435 \u0431\u0443\u0434\u0435 \u043d\u0430\u0434\u0456\u0441\u043b\u0430\u043d\u0430 \u0432\u0430\u043c, \u0456, \u0439\u043c\u043e\u0432\u0456\u0440\u043d\u043e, \u0432\u0438 \u0457\u0457 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u0435 \u0437\u0430\u0440\u0430\u0437 \u0434\u043b\u044f \u0434\u043e\u0441\u0442\u0443\u043f\u0443 \u0434\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430.</p> <p>\u0417\u0430\u0443\u0432\u0430\u0436\u0442\u0435, \u0449\u043e \u0446\u0435 \u043b\u0438\u0448\u0435 \u0441\u0430\u0439\u0442 <code>http</code> (\u043f\u043e\u0440\u0442 80)\u00a0\u2013 \u0432\u0430\u043c \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0432\u0438\u0442\u0440\u0430\u0442\u0438\u0442\u0438 \u0442\u0440\u043e\u0445\u0438 \u0431\u0456\u043b\u044c\u0448\u0435 \u0447\u0430\u0441\u0443 \u0434\u043b\u044f \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f Apache \u043d\u0430 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f <code>https</code>, \u0430\u043b\u0435 \u0446\u0435 \u0432\u0438\u0445\u043e\u0434\u0438\u0442\u044c \u0437\u0430 \u043c\u0435\u0436\u0456 \u0446\u0438\u0445 \u0456\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0456\u0439. \u041e\u0434\u043d\u0430\u043a \u044f\u043a\u0449\u043e \u0432\u0438 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u0435 \"Let's Encrypt\" \u0434\u043b\u044f \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u044f \u0441\u0435\u0440\u0442\u0438\u0444\u0456\u043a\u0430\u0442\u0456\u0432, \u0456\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0456\u044f \u0437\u0456 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u043c\u043e\u0436\u0435 \u0442\u0430\u043a\u043e\u0436 \u043c\u0456\u0441\u0442\u0438\u0442\u0438 \u043f\u043e\u0440\u0430\u0434\u0438 \u0449\u043e\u0434\u043e \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f \u0441\u0430\u0439\u0442\u0443 Apache \u0434\u043b\u044f \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f https.</p>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-ubuntu-18-04-lts/#\u041f\u0435\u0440\u0448\u0438\u0439-\u0437\u0430\u043f\u0443\u0441\u043a-renderd","title":"\u041f\u0435\u0440\u0448\u0438\u0439 \u0437\u0430\u043f\u0443\u0441\u043a renderd","text":"<p>\u0414\u0430\u043b\u0456, \u043d\u0430\u043c \u0442\u0440\u0435\u0431\u0430 \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u0438 <code>renderd</code>, \u0449\u043e\u0431 \u0441\u043f\u0440\u043e\u0431\u0443\u0432\u0430\u0442\u0438 \u0437\u0433\u0435\u043d\u0435\u0440\u0443\u0432\u0430\u0442\u0438 \u043a\u0456\u043b\u044c\u043a\u0430 \u0442\u0430\u0439\u043b\u0456\u0432. \u0421\u043f\u043e\u0447\u0430\u0442\u043a\u0443 \u043c\u0438 \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u043c\u043e \u0439\u043e\u0433\u043e \u0442\u0430\u043a, \u0449\u043e\u0431 \u043c\u0438 \u043c\u0430\u043b\u0438 \u0437\u043c\u043e\u0433\u0443 \u0432\u0456\u0434\u0441\u0442\u0435\u0436\u0438\u0442\u0438 \u043f\u043e\u044f\u0432\u0443 \u043f\u043e\u043c\u0438\u043b\u043e\u043a:</p> <pre><code>renderd -f -c /usr/local/etc/renderd.conf\n</code></pre> <p>\u0412\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0438 \u043a\u0456\u043b\u044c\u043a\u0430 \u043f\u043e\u043f\u0435\u0440\u0435\u0434\u0436\u0435\u043d\u044c, \u0430\u043b\u0435 \u043d\u0435 \u0442\u0443\u0440\u0431\u0443\u0439\u0442\u0435\u0441\u044f \u043f\u0440\u043e \u0446\u0435. \u0413\u043e\u043b\u043e\u0432\u043d\u0435, \u0449\u043e\u0431 \u043d\u0435 \u0431\u0443\u043b\u043e \u043f\u043e\u043c\u0438\u043b\u043e\u043a. \u0412 \u0440\u0430\u0437\u0456 \u043f\u043e\u044f\u0432\u0438 \u043f\u043e\u043c\u0438\u043b\u043e\u043a, \u0437\u0431\u0435\u0440\u0435\u0436\u0456\u0442\u044c \u043f\u043e\u0432\u043d\u0438\u0439 \u0432\u0438\u0432\u0456\u0434, \u043d\u0430\u043f\u0440\u0438\u043a\u043b\u0430\u0434 \u043d\u0430 pastebin, \u0442\u0430 \u0437\u0432\u0435\u0440\u043d\u0456\u0442\u044c\u0441\u044f \u043f\u043e \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u0443, \u043d\u0430\u043f\u0440\u0438\u043a\u043b\u0430\u0434, \u043d\u0430 <code>community.openstreetmap.org</code> (\u0434\u0430\u0439\u0442\u0435 \u043f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f \u043d\u0430 pastebin\u00a0\u2013 \u043d\u0435 \u0432\u043a\u043b\u044e\u0447\u0430\u0439\u0442\u0435 \u0432\u0435\u0441\u044c \u0432\u0438\u0432\u0456\u0434 \u0434\u043e \u043f\u0438\u0442\u0430\u043d\u043d\u044f).</p> <p>\u0412\u0456\u0434\u043a\u0440\u0438\u0439\u0442\u0435 \u0443 \u0441\u0435\u0431\u0435 \u0432 \u043e\u0433\u043b\u044f\u0434\u0430\u0447\u0456 \u043f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f: <code>http://ip.\u0432\u0430\u0448\u043e\u0433\u043e.\u0441\u0435\u0440\u0432\u0435\u0440\u0430/hot/0/0/0.png</code></p> <p>\u0412\u0438 \u043c\u0430\u0454\u0442\u0435 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0438 \u043c\u0430\u043f\u0443 \u0441\u0432\u0456\u0442\u0443 \u0443 \u0432\u0430\u0448\u043e\u043c\u0443 \u043e\u0433\u043b\u044f\u0434\u0430\u0447\u0456 \u0442\u0430 \u043a\u0456\u043b\u044c\u043a\u0430 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u044c \u0432 \u0442\u0435\u0440\u043c\u0456\u043d\u0430\u043b\u0456, \u0432\u043a\u043b\u044e\u0447\u0430\u044e\u0447\u0438 \"DEBUG: START TILE\" \u0442\u0430 \"DEBUG: DONE TILE\". \u041d\u0435 \u0437\u0432\u0435\u0440\u0442\u0430\u0439\u0442\u0435 \u0443\u0432\u0430\u0433\u0438 \u043d\u0430 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f \"DEBUG: Failed to read cmd on fd\"\u00a0\u2013 \u0446\u0435 \u043d\u0435 \u043f\u043e\u043c\u0438\u043b\u043a\u0430. \u042f\u043a\u0449\u043e \u0432\u0438 \u043d\u0435 \u043f\u043e\u0431\u0430\u0447\u0438\u043b\u0438 \u0446\u044c\u043e\u0433\u043e \u0442\u0430\u0439\u043b\u0443 \u0442\u0430 \u043e\u0442\u0440\u0438\u043c\u0430\u043b\u0438 \u0456\u043d\u0448\u0456 \u043f\u043e\u043c\u0438\u043b\u043a\u0438, \u0437\u043d\u043e\u0432, \u0437\u0431\u0435\u0440\u0435\u0436\u0456\u0442\u044c \u0432\u0438\u0432\u0456\u0434 \u043d\u0430 pastebin \u0442\u0430 \u0437\u0432\u0435\u0440\u043d\u0456\u0442\u044c\u0441\u044f \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e, \u043d\u0430\u043f\u0440\u0438\u043a\u043b\u0430\u0434 \u043d\u0430 <code>community.openstreetmap.org</code>.</p> <p>\u042f\u043a\u0449\u043e \u0432\u0441\u0435 \u043f\u0440\u0430\u0446\u044e\u0454, \u043d\u0430\u0442\u0438\u0441\u043d\u0456\u0442\u044c Ctrl+C \u0434\u043b\u044f \u0437\u0443\u043f\u0438\u043d\u043a\u0438 \u043f\u0440\u043e\u0446\u0435\u0441\u0443 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0456\u0457 \u0442\u0430\u0439\u043b\u0456\u0432.</p>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-ubuntu-18-04-lts/#\u0417\u0430\u043f\u0443\u0441\u043a-renderd-\u0432-\u0444\u043e\u043d\u043e\u0432\u043e\u043c\u0443-\u0440\u0435\u0436\u0438\u043c\u0456","title":"\u0417\u0430\u043f\u0443\u0441\u043a renderd \u0432 \u0444\u043e\u043d\u043e\u0432\u043e\u043c\u0443 \u0440\u0435\u0436\u0438\u043c\u0456","text":"<p>\u0414\u0430\u043b\u0456 \u043c\u0438 \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0454\u043c\u043e <code>renderd</code> \u0434\u043b\u044f \u0440\u043e\u0431\u043e\u0442\u0438 \u0432 \u0444\u043e\u043d\u043e\u0432\u043e\u043c\u0443 \u0440\u0435\u0436\u0438\u043c\u0456. \u041f\u043e-\u043f\u0435\u0440\u0448\u0435, \u0437\u043c\u0456\u043d\u0456\u0442\u044c \u0444\u0430\u0439\u043b <code>~/src/mod_tile/debian/renderd.init</code> \u0442\u0430 \u0432\u043a\u0430\u0436\u0456\u0442\u044c \u0443 \"RUNASUSER\" \u0442\u043e\u0433\u043e \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430, \u044f\u043a\u043e\u0433\u043e \u0432\u0438 \u0441\u0442\u0432\u043e\u0440\u0438\u043b\u0438 \u0434\u043e \u0446\u044c\u043e\u0433\u043e, \u0437\u0430\u043c\u0456\u0441\u0442\u044c <code>renderaccount</code>, \u043f\u043e\u0442\u0456\u043c \u0441\u043a\u043e\u043f\u0456\u044e\u0439\u0442\u0435 \u0439\u043e\u0433\u043e \u0434\u043e \u0442\u0435\u043a\u0438 system:</p> <pre><code>nano ~/src/mod_tile/debian/renderd.init\nsudo cp ~/src/mod_tile/debian/renderd.init /etc/init.d/renderd\nsudo chmod u+x /etc/init.d/renderd\nsudo cp ~/src/mod_tile/debian/renderd.service /lib/systemd/system/\n</code></pre> <p>\u0424\u0430\u0439\u043b <code>renderd.service</code>\u00a0\u2013 \u0446\u0435 \u0444\u0430\u0439\u043b \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u043e\u0457 \u0441\u043b\u0443\u0436\u0431\u0438 <code>systemd</code>. \u0412\u0435\u0440\u0441\u0456\u044f \u0437\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0430 \u0442\u0443\u0442 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454 \u043a\u043e\u043c\u0430\u043d\u0434\u0438 init. \u0429\u043e\u0431 \u043f\u0435\u0440\u0435\u043a\u043e\u043d\u0430\u0442\u0438\u0441\u044c \u0449\u043e \u043a\u043e\u043c\u0430\u043d\u0434\u0430 \u0437\u0430\u043f\u0443\u0441\u043a\u0443 \u0432\u0456\u0434\u043f\u0440\u0430\u0446\u044c\u043e\u0432\u0443\u0454, \u0437\u0430\u043f\u0443\u0441\u0442\u0456\u0442\u044c:</p> <pre><code>sudo /etc/init.d/renderd start\n</code></pre> <p>(\u043c\u0430\u0454\u0442\u0435 \u043e\u0442\u0440\u0438\u043c\u0430\u0442\u0438 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u044c\u00a0\u2013 \"[ ok ] Starting renderd (via systemctl): renderd.service\".)</p> <p>\u0414\u043b\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u043d\u043e\u0433\u043e \u0437\u0430\u043f\u0443\u0441\u043a\u0443 \u043a\u043e\u0436\u043d\u043e\u0433\u043e \u0440\u0430\u0437\u0443, \u0432\u0432\u0456\u043c\u043a\u043d\u0456\u0442\u044c renderd \u043a\u043e\u043c\u0430\u043d\u0434\u043e\u044e:</p> <pre><code>sudo systemctl enable renderd\n</code></pre>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-ubuntu-18-04-lts/#\u041f\u0435\u0440\u0435\u0433\u043b\u044f\u0434-\u0442\u0430\u0439\u043b\u0456\u0432","title":"\u041f\u0435\u0440\u0435\u0433\u043b\u044f\u0434 \u0442\u0430\u0439\u043b\u0456\u0432","text":"<p>\u0414\u043b\u044f \u0442\u043e\u0433\u043e, \u0449\u043e\u0431 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0438 \u0442\u0430\u0439\u043b\u0438, \u043c\u0438 \u0442\u0440\u043e\u0445\u0438 \u0437\u043c\u0430\u0445\u043b\u044e\u0454\u043c\u043e \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u044e\u0447\u0438\u0441\u044c \u0444\u0430\u0439\u043b\u043e\u043c <code>sample_leaflet.html</code> \u0437 \u0442\u0435\u043a\u0438 \u201cextras\u201d \u0432 mod_tile. \u041f\u0440\u043e\u0441\u0442\u043e \u0432\u0456\u0434\u043a\u0440\u0438\u0439\u0442\u0435 \u0446\u0435\u0439 \u0444\u0430\u0439\u043b \u0443 \u0432\u0435\u0431\u043e\u0433\u043b\u044f\u0434\u0430\u0447\u0456 \u043d\u0430 \u043a\u043e\u043c\u043f\u02bc\u044e\u0442\u0435\u0440\u0456 \u0434\u0435 \u0432\u0438 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u043b\u0438 \u0442\u0430\u0439\u043b\u043e\u0432\u0438\u0439 \u0441\u0435\u0440\u0432\u0435\u0440. \u042f\u043a\u0449\u043e \u0446\u0435 \u043d\u0435 \u043c\u043e\u0436\u043b\u0438\u0432\u043e\u00a0\u2013 \u0432\u0438 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u043b\u0438 \u0442\u0430\u0439\u043b-\u0441\u0435\u0440\u0432\u0435\u0440 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0456 \u0434\u0435 \u043d\u0435\u043c\u0430\u0454 \u0432\u0435\u0431\u043e\u0433\u043b\u044f\u0434\u0430\u0447\u0430, \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0437\u0430\u043c\u0456\u043d\u0438\u0442\u0438 <code>127.0.0.1</code> \u043d\u0430 IP \u0430\u0434\u0440\u0435\u0441\u0443 \u0441\u0435\u0440\u0432\u0435\u0440\u0430, \u043f\u0456\u0441\u043b\u044f \u0447\u043e\u0433\u043e \u0441\u043a\u043e\u043f\u0456\u044e\u0439\u0442\u0435 \u0439\u043e\u0433\u043e \u0432 <code>/var/www/html</code>.</p> <p>\u0427\u0435\u0440\u0435\u0437 ssh-\u0437\u02bc\u0454\u0434\u043d\u0430\u043d\u043d\u044f \u0432\u0438\u043a\u043e\u043d\u0430\u0439\u0442\u0435 \u043a\u043e\u043c\u0430\u043d\u0434\u0443:</p> <pre><code>tail -f /var/log/syslog | grep \" TILE \"\n</code></pre> <p>(\u0437\u0432\u0435\u0440\u043d\u0456\u0442\u044c \u0443\u0432\u0430\u0433\u0443 \u043d\u0430 \u043f\u0440\u043e\u0431\u0456\u043b\u0438 \u0434\u043e\u0432\u043a\u043e\u043b\u0430 <code>\" TILE \"</code>)</p> <p>\u0423 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u044c \u0432\u0438 \u043e\u0442\u0440\u0438\u043c\u0443\u0432\u0430\u0442\u0438\u043c\u0435\u0442\u0435 \u043f\u043e \u0440\u044f\u0434\u043a\u0443 \u043a\u043e\u0436\u043d\u043e\u0433\u043e \u0440\u0430\u0437\u0443, \u043a\u043e\u043b\u0438 \u0431\u0443\u0434\u0435 \u043f\u0440\u0438\u0445\u043e\u0434\u0438\u0442\u0438 \u0437\u0430\u043f\u0438\u0442 \u043d\u0430 \u043f\u043e\u043a\u0430\u0437 \u0442\u0430\u0439\u043b\u0456\u0432, \u0430\u0431\u043e \u0431\u0443\u0434\u0435 \u0437\u0430\u043a\u0456\u043d\u0447\u0443\u0432\u0430\u0442\u0438\u0441\u044c \u0457\u0445 \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f.</p> <p>\u041f\u0456\u0434 \u0447\u0430\u0441 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0438 \u0432\u0438 \u043c\u0430\u0454\u0442\u0435 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0438 \u043a\u0456\u043b\u044c\u043a\u0430 \u0437\u0430\u043f\u0438\u0442\u0456\u0432 \u043d\u0430 \u043f\u043e\u043a\u0430\u0437 \u0442\u0430\u0439\u043b\u0456\u0432. \u0412\u0456\u0434\u0434\u0430\u043b\u044f\u0439\u0442\u0435\u0441\u044c \u043f\u043e\u0441\u0442\u0443\u043f\u043e\u0432\u043e. \u0412\u0438 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0435, \u0437\u0430\u043f\u0438\u0442\u0438 \u043d\u0430 \u043d\u043e\u0432\u0456 \u0442\u0430\u0439\u043b\u0438 \u0437\u02bc\u044f\u0432\u043b\u044f\u0442\u0438\u043c\u0443\u0442\u044c\u0441\u044f \u0443 \u0432\u0430\u0448\u043e\u043c\u0443 ssh-\u0437\u02bc\u0454\u0434\u043d\u0430\u043d\u043d\u0456. \u0414\u0435\u044f\u043a\u0456 \u0442\u0430\u0439\u043b\u0438 \u043d\u0430 \u043a\u0440\u0443\u043f\u043d\u0438\u0445 \u043c\u0430\u0441\u0448\u0442\u0430\u0431\u0430\u0445 \u0432\u0438\u043c\u0430\u0433\u0430\u044e\u0442\u044c \u0431\u0430\u0433\u0430\u0442\u043e \u0447\u0430\u0441\u0443 \u043d\u0430 \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f (\u043a\u0456\u043b\u044c\u043a\u0430 \u0445\u0432\u0438\u043b\u0438\u043d) \u043f\u0435\u0440\u0448\u043e\u0433\u043e \u0440\u0430\u0437\u0443, \u0430\u043b\u0435 \u043f\u0456\u0441\u043b\u044f \u0442\u043e\u0433\u043e, \u044f\u043a \u0432\u043e\u043d\u0438 \u0431\u0443\u0434\u0443\u0442\u044c \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u0456, \u0432\u043e\u043d\u0438 \u0431\u0443\u0434\u0443\u0442\u044c \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0456 \u0434\u043b\u044f \u043f\u043e\u043a\u0430\u0437\u0443 \u043c\u0438\u0442\u0442\u0454\u0432\u043e.</p> <p>\u0412\u0456\u0442\u0430\u0454\u043c\u043e! \u0422\u0435\u043f\u0435\u0440 \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u0432\u0435\u0440\u043d\u0443\u0442\u0438\u0441\u044c \u0434\u043e \u0440\u043e\u0437\u0434\u0456\u043b\u0443 \u0412\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f \u0442\u0430\u0439\u043b\u0456\u0432 \u0434\u043b\u044f \u0434\u043e\u0434\u0430\u0432\u0430\u043d\u043d\u044f \u043c\u0430\u043f\u0438, \u0449\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454 \u0432\u0430\u0448 \u043d\u043e\u0432\u0438\u0439 \u0442\u0430\u0439\u043b\u043e\u0432\u0438\u0439 \u0441\u0435\u0440\u0432\u0435\u0440.</p>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-ubuntu-20-04-lts/","title":"\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u0442\u0430\u0439\u043b\u043e\u0432\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0432\u0440\u0443\u0447\u043d\u0443 (Ubuntu 20.04 LTS)","text":""},{"location":"uk/serving-tiles/manually-building-a-tile-server-ubuntu-20-04-lts/#\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f-\u0442\u0430\u0439\u043b\u043e\u0432\u043e\u0433\u043e-\u0441\u0435\u0440\u0432\u0435\u0440\u0430-\u0432\u0440\u0443\u0447\u043d\u0443-Ubuntu-2004-LTS","title":"\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u0442\u0430\u0439\u043b\u043e\u0432\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0432\u0440\u0443\u0447\u043d\u0443 (Ubuntu 20.04 LTS)","text":"<p>\u041d\u0430 \u0446\u0456\u0439 \u0441\u0442\u043e\u0440\u0456\u043d\u0446\u0456 \u043c\u0456\u0441\u0442\u0438\u0442\u044c\u0441\u044f \u043e\u043f\u0438\u0441 \u0437\u0456 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f, \u0440\u043e\u0437\u0433\u043e\u0440\u0442\u0430\u043d\u043d\u044f \u0442\u0430 \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f \u0432\u0441\u044c\u043e\u0433\u043e \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e\u0433\u043e \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043d\u043e\u0433\u043e \u0437\u0430\u0431\u0435\u0437\u043f\u0435\u0447\u0435\u043d\u043d\u044f \u0434\u043b\u044f \u0440\u043e\u0431\u043e\u0442\u0438 \u0432\u0430\u0448\u043e\u0433\u043e \u0442\u0430\u0439\u043b\u043e\u0432\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430. \u041f\u043e\u043a\u0440\u043e\u043a\u043e\u0432\u0456 \u0456\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0456\u0457 \u043e\u043f\u0438\u0441\u0443\u044e\u0442\u044c \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u0442\u0430\u0439\u043b\u043e\u0432\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u043d\u0430 Ubuntu Linux 20.04 LTS (Focal Fossa), \u0432\u043e\u043d\u0438 \u0431\u0443\u043b\u0438 \u043f\u0435\u0440\u0435\u0432\u0456\u0440\u0435\u043d\u0456 \u0443 \u0442\u0440\u0430\u0432\u043d\u0456 2020.</p>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-ubuntu-20-04-lts/#\u0412\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f-\u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043d\u043e\u0433\u043e-\u0437\u0430\u0431\u0435\u0437\u043f\u0435\u0447\u0435\u043d\u043d\u044f","title":"\u0412\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043d\u043e\u0433\u043e \u0437\u0430\u0431\u0435\u0437\u043f\u0435\u0447\u0435\u043d\u043d\u044f","text":"<p>\u0422\u0430\u0439\u043b\u043e\u0432\u0438\u0439 \u0441\u0435\u0440\u0432\u0435\u0440 OpenStreetMap\u00a0\u2013 \u0446\u0435 \u043d\u0430\u0431\u0456\u0440 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043d\u043e\u0433\u043e \u0437\u0430\u0431\u0435\u0437\u043f\u0435\u0447\u0435\u043d\u043d\u044f \u0442\u0430 \u0431\u0456\u0431\u043b\u0456\u043e\u0442\u0435\u043a, \u044f\u043a\u0456 \u043f\u0440\u0430\u0446\u044e\u044e\u0442\u044c \u0440\u0430\u0437\u043e\u043c \u0433\u0435\u043d\u0435\u0440\u0443\u044e\u0447\u0438 \u0442\u0430\u0439\u043b\u0438. \u042f\u043a \u0446\u0435 \u0442\u0440\u0430\u043f\u043b\u044f\u0454\u0442\u044c\u0441\u044f \u0434\u043e\u0432\u043e\u043b\u0456 \u0447\u0430\u0441\u0442\u043e \u0432 OpenStreetMap, \u0456\u0441\u043d\u0443\u0454 \u043a\u0456\u043b\u044c\u043a\u0430 \u0440\u0456\u0437\u043d\u0438\u0445 \u0448\u043b\u044f\u0445\u0456\u0432 \u0434\u043b\u044f \u0434\u043e\u0441\u044f\u0433\u043d\u0435\u043d\u043d\u044f \u043c\u0435\u0442\u0438 \u0456 \u043c\u0430\u0439\u0436\u0435 \u043a\u043e\u0436\u0435\u043d \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442 \u043c\u0430\u0454 \u0430\u043b\u044c\u0442\u0435\u0440\u043d\u0430\u0442\u0438\u0432\u0443, \u0437 \u0432\u043b\u0430\u0441\u043d\u0438\u043c\u0438 \u043d\u0435\u0434\u043e\u043b\u0456\u043a\u0430\u043c\u0438 \u0442\u0430 \u043f\u0435\u0440\u0435\u0432\u0430\u0433\u0430\u043c\u0438. \u0426\u0435\u0439 \u043f\u043e\u0441\u0456\u0431\u043d\u0438\u043a \u043e\u043f\u0438\u0441\u0443\u0454 \u043d\u0430\u0439\u0431\u0456\u043b\u044c\u0448 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u0443 \u0432\u0435\u0440\u0441\u0456\u044e, \u0449\u043e \u0441\u0445\u043e\u0436\u0430 \u043d\u0430 \u0442\u0435, \u0449\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f \u0433\u043e\u043b\u043e\u0432\u043d\u0438\u043c \u0442\u0430\u0439\u043b\u043e\u0432\u0438\u043c \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c OpenStreetMap.</p> <p>\u0422\u0430\u0439\u043b\u043e\u0432\u0438\u0439 \u0441\u0435\u0440\u0432\u0435\u0440 \u0441\u043a\u043b\u0430\u0434\u0430\u0454\u0442\u044c\u0441\u044f \u0437 \u043f\u02bc\u044f\u0442\u0438 \u0433\u043e\u043b\u043e\u0432\u043d\u0438\u0445 \u0447\u0430\u0441\u0442\u0438\u043d: <code>mod_tile</code>, <code>renderd</code>, <code>mapnik</code>, <code>osm2pgsql</code> \u0442\u0430 \u0431\u0430\u0437\u0430 \u0434\u0430\u043d\u0438\u0445 <code>postgresql/postgis</code>. Mod_tile\u00a0\u2013 \u043c\u043e\u0434\u0443\u043b\u044c \u0441\u0435\u0440\u0432\u0435\u0440\u0430 Apache, \u044f\u043a\u0438\u0439 \u043e\u0431\u0441\u043b\u0443\u0433\u043e\u0432\u0443\u0454 \u0442\u0430\u0439\u043b\u043e\u0432\u0438\u0439 \u043a\u0435\u0448 \u0442\u0430 \u0432\u0438\u0437\u043d\u0430\u0447\u0430\u0454 \u044f\u043a\u0456 \u0442\u0430\u0439\u043b\u0438 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u043f\u0435\u0440\u0435\u0433\u0435\u043d\u0435\u0440\u0443\u0432\u0430\u0442\u0438, \u0447\u0435\u0440\u0435\u0437 \u0457\u0445 \u0432\u0456\u0434\u0441\u0443\u0442\u043d\u0456\u0441\u0442\u044c \u0443 \u043a\u0435\u0448\u0456 \u0430\u0431\u043e \u0442\u043e\u043c\u0443, \u0449\u043e \u0432\u043e\u043d\u0438 \u0437\u0430\u0441\u0442\u0430\u0440\u0456\u043b\u0438. Renderd \u0432\u0438\u0437\u043d\u0430\u0447\u0430\u0454 \u043f\u0440\u0456\u043e\u0440\u0438\u0442\u0435\u0442\u0438 \u0432 \u0447\u0435\u0440\u0433\u0430\u0445 \u0440\u0456\u0437\u043d\u043e\u0433\u043e \u0448\u0442\u0438\u0431\u0443 \u0437\u0430\u043f\u0438\u0442\u0456\u0432 \u0434\u043b\u044f \u0437\u0433\u043b\u0430\u0434\u0436\u0443\u0432\u0430\u043d\u043d\u044f \u043d\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f. Mapnik\u00a0\u2013 \u0431\u0456\u0431\u043b\u0456\u043e\u0442\u0435\u043a\u0430, \u044f\u043a\u0430 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u0430\u0454 \u0431\u0435\u0437\u043f\u043e\u0441\u0435\u0440\u0435\u0434\u043d\u044c\u043e \u0437\u0430 \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u0442\u0430\u0439\u043b\u0456\u0432 \u0437 \u0447\u0435\u0440\u0433\u0438, \u044f\u043a\u043e\u044e \u043a\u0435\u0440\u0443\u0454 renderd.</p> <p>\u0417\u0430\u0443\u0432\u0430\u0436\u0442\u0435, \u0449\u043e \u0446\u0435 \u043a\u0435\u0440\u0456\u0432\u043d\u0438\u0446\u0442\u0432\u043e \u0431\u0443\u043b\u043e \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u0435 \u0442\u0430 \u043f\u0440\u043e\u0442\u0435\u0441\u0442\u043e\u0432\u0430\u043d\u0435 \u0437 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f\u043c \u043d\u043e\u0432\u043e\u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0437 \u043e\u043f\u0435\u0440\u0430\u0446\u0456\u0439\u043d\u043e\u044e \u0441\u0438\u0441\u0442\u0435\u043c\u043e\u044e Ubuntu 20.04. \u042f\u043a\u0449\u043e \u0443 \u0432\u0430\u0441 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0456 \u0456\u043d\u0448\u0456 \u0432\u0435\u0440\u0441\u0456\u0457 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043d\u043e\u0433\u043e \u0437\u0430\u0431\u0435\u0437\u043f\u0435\u0447\u0435\u043d\u043d\u044f (\u043c\u043e\u0436\u043b\u0438\u0432\u043e \u0432\u0438 \u043e\u043d\u043e\u0432\u0438\u043b\u0438\u0441\u044c \u0437 \u043f\u043e\u043f\u0435\u0440\u0435\u0434\u043d\u044c\u043e\u0457 \u0432\u0435\u0440\u0441\u0456\u0457 Ubuntu, \u0430\u0431\u043e \u0443 \u0432\u0430\u0441 \u043f\u0456\u0434\u02bc\u0454\u0434\u043d\u0430\u043d\u0456 \u0456\u043d\u0448\u0456 \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0456\u0457 PPA), \u043c\u043e\u0436\u043b\u0438\u0432\u043e \u0432\u0430\u043c \u0434\u043e\u0432\u0435\u0434\u0435\u0442\u044c\u0441\u044f \u0432\u043d\u0435\u0441\u0442\u0438 \u043f\u0435\u0432\u043d\u0456 \u0437\u043c\u0456\u043d\u0438.</p> <p>\u0423 \u0446\u044c\u043e\u043c\u0443 \u043f\u043e\u0441\u0456\u0431\u043d\u0438\u043a\u0443 \u043f\u0435\u0440\u0435\u0434\u0431\u0430\u0447\u0430\u0454\u0442\u044c\u0441\u044f, \u0449\u043e \u0432\u0438 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0454\u0442\u0435 \u0432\u0441\u0435 \u0432\u0456\u0434 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430 \u0431\u0435\u0437 \u043f\u0440\u0430\u0432 root \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e <code>sudo</code>. \u041e\u0431\u043b\u0456\u043a\u043e\u0432\u0438\u0439 \u0437\u0430\u043f\u0438\u0441 \u0431\u0435\u0437 \u043f\u0440\u0430\u0432 root, \u044f\u043a\u0438\u0439 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f \u0442\u0443\u0442\u00a0\u2013 <code>renderaccount</code>; \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0441\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u0442\u0430\u043a\u043e\u0433\u043e \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430 \u0443 \u0441\u0432\u043e\u0457\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u0456, \u0430\u0431\u043e \u0437\u043c\u0456\u043d\u0438\u0442\u0438 \u0441\u043a\u0440\u0438\u043f\u0442\u0438 \u043d\u0430 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f \u0456\u043d\u0448\u043e\u0433\u043e \u043e\u0431\u043b\u0456\u043a\u043e\u0432\u043e\u0433\u043e \u0437\u0430\u043f\u0438\u0441\u0443. \u0423 \u0440\u0430\u0437\u0456 \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u043e\u0431\u043b\u0456\u043a\u043e\u0432\u043e\u0433\u043e \u0437\u0430\u043f\u0438\u0441\u0443 <code>renderaccount</code>, \u0434\u043e\u0434\u0430\u0439\u0442\u0435 \u0439\u043e\u0433\u043e \u0432 \u0433\u0440\u0443\u043f\u0443 \u044f\u043a\u0430 \u043c\u0430\u0454 \u043f\u0440\u0430\u0432\u0430 \u043d\u0430 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f \"sudo\". \u0417 \u0432\u0430\u0448\u043e\u0433\u043e \u0437\u0432\u0438\u0447\u0430\u0439\u043d\u043e\u0433\u043e \u043e\u0431\u043b\u0456\u043a\u043e\u0432\u043e\u0433\u043e \u0437\u0430\u043f\u0438\u0441\u0443 \u0432\u0438\u043a\u043e\u043d\u0430\u0439\u0442\u0435 \u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0435:</p> <pre><code>sudo -i\nusermod -aG sudo renderaccount\nexit\n</code></pre> <p>\u0414\u043b\u044f \u0442\u043e\u0433\u043e, \u0449\u043e\u0431 \u0441\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u0432\u0441\u0456 \u0446\u0456 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0438, \u0432\u0430\u043c \u0441\u043f\u043e\u0447\u0430\u0442\u043a\u0443 \u0442\u0440\u0435\u0431\u0430 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0438 \u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0456 \u0437\u0430\u043b\u0435\u0436\u043d\u043e\u0441\u0442\u0456:</p> <pre><code>sudo apt upgrade &amp;&amp; sudo apt install \\\n    libboost-all-dev git tar unzip wget bzip2 \\\n    build-essential autoconf libtool libxml2-dev \\\n    libgeos-dev libgeos++-dev libpq-dev libbz2-dev \\\n    libproj-dev munin-node munin protobuf-c-compiler \\\n    libfreetype6-dev libtiff5-dev libicu-dev \\\n    libgdal-dev libcairo2-dev libcairomm-1.0-dev \\\n    apache2 apache2-dev libagg-dev liblua5.2-dev \\\n    ttf-unifont lua5.1 liblua5.1-0-dev\n</code></pre> <p>\u0421\u043a\u0430\u0436\u0456\u0442\u044c \u0422\u0430\u043a \u043d\u0430 \u0437\u0430\u043f\u0438\u0442 \u0441\u0438\u0441\u0442\u0435\u043c\u0438 \u043f\u0440\u043e \u043f\u043e\u0447\u0430\u0442\u043e\u043a \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f. \u0426\u0435 \u0442\u0440\u0438\u0432\u0430\u0442\u0438\u043c\u0435 \u0434\u043e\u0432\u043e\u043b\u0456 \u0434\u043e\u0432\u0433\u043e, \u0442\u043e\u0436 \u0443 \u0432\u0430\u0441 \u0454 \u0447\u0430\u0441 \u043d\u0430 \u0444\u0456\u043b\u0456\u0436\u0430\u043d\u043a\u0443 \u043a\u0430\u0432\u0438. \u0426\u0435\u0439 \u043f\u0435\u0440\u0435\u043b\u0456\u043a \u043c\u0456\u0441\u0442\u0438\u0442\u044c \u0440\u0456\u0437\u043d\u043e\u043c\u0430\u043d\u0456\u0442\u043d\u0456 \u0443\u0442\u0438\u043b\u0456\u0442\u0438, \u043d\u0430\u043f\u0440\u0438\u043a\u043b\u0430\u0434, \u0432\u0435\u0431\u0441\u0435\u0440\u0432\u0435\u0440 Apache, \u043a\u043e\u043c\u043f\u0456\u043b\u044f\u0442\u043e\u0440 <code>carto</code>, \u0449\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f \u0434\u043b\u044f \u043a\u043e\u043d\u0432\u0435\u0440\u0442\u0430\u0446\u0456\u0457 \u0441\u0442\u0438\u043b\u0456\u0432 Carto-CSS \u0432 \u0437\u0440\u043e\u0437\u0443\u043c\u0456\u043b\u0438\u0439 \u0434\u043b\u044f <code>mapnik</code> \u0432\u0438\u0433\u043b\u044f\u0434. \u041a\u043e\u043b\u0438 \u0437\u0430\u043a\u0456\u043d\u0447\u0438\u0442\u044c\u0441\u044f \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u0446\u0456\u0454\u0457 \u0447\u0430\u0441\u0442\u0438\u043d\u0438, \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u0456\u0442\u044c \u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0438\u0439 \u043d\u0430\u0431\u0456\u0440 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u0438\u0445 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0456\u0432:</p>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-ubuntu-20-04-lts/#\u0412\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f-postgresql--postgis","title":"\u0412\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f postgresql / postgis","text":"<p>Ubuntu \u043c\u0430\u0454 \u0441\u043f\u0430\u043a\u043e\u0432\u0430\u043d\u0456 \u0432\u0435\u0440\u0441\u0456\u0457 postgis \u0456 postgresql, \u0442\u043e\u0436 \u0432\u043e\u043d\u0438 \u043c\u043e\u0436\u0443\u0442\u044c \u0431\u0443\u0442\u0438 \u043b\u0435\u0433\u043a\u043e \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0456 \u0437 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u0430 \u043f\u0430\u043a\u0443\u043d\u043a\u0456\u0432 Ubuntu.</p> <pre><code>sudo apt install \\\n    postgresql \\\n    postgresql-contrib \\\n    postgis \\\n    postgresql-12-postgis-3 \\\n    postgresql-12-postgis-3-scripts\n</code></pre> <p>\u0422\u0443\u0442 <code>postgresql</code> \u0446\u0435 \u0441\u0435\u0440\u0432\u0435\u0440 \u0431\u0430\u0437 \u0434\u0430\u043d\u0438\u0445, \u044f\u043a\u0438\u0439 \u043c\u0438 \u0437\u0431\u0438\u0440\u0430\u0454\u043c\u043e\u0441\u044c \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0438 \u0434\u043b\u044f \u0437\u0431\u0435\u0440\u0456\u0433\u0430\u043d\u043d\u044f \u043d\u0430\u0448\u0438\u0445 \u0434\u0430\u043d\u0438\u0445, \u0430 <code>postgis</code> \u0434\u043e\u0434\u0430\u0454 \u0439\u043e\u043c\u0443 \u043f\u0456\u0434\u0442\u0440\u0438\u043c\u043a\u0443 \u0440\u043e\u0431\u043e\u0442\u0438 \u0437 \u0433\u0435\u043e\u043f\u0440\u043e\u0441\u0442\u043e\u0440\u043e\u0432\u0438\u043c\u0438 \u0434\u0430\u043d\u0438\u043c\u0438. \u0422\u043e \u0436 \u0437\u043d\u043e\u0432, \u0441\u043a\u0430\u0436\u0456\u0442\u044c \u0422\u0430\u043a \u0434\u043b\u044f \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f.</p> <p>\u0422\u0435\u043f\u0435\u0440 \u0432\u0430\u043c \u0442\u0440\u0435\u0431\u0430 \u0441\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u0431\u0430\u0437\u0443 \u0434\u0430\u043d\u0438\u0445 \u0437 \u043f\u0456\u0434\u0442\u0440\u0438\u043c\u043a\u043e\u044e postgis. \u0422\u0438\u043f\u043e\u0432\u0456 \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f \u0440\u0456\u0437\u043d\u043e\u043c\u0430\u043d\u0456\u0442\u043d\u0438\u0445 \u043f\u0440\u043e\u0433\u0440\u0430\u043c \u043e\u0447\u0456\u043a\u0443\u044e\u0442\u044c \u0449\u043e \u0431\u0430\u0437\u0430 \u0434\u0430\u043d\u0438\u0445 \u043d\u0430\u0437\u0438\u0432\u0430\u0442\u0438\u043c\u0435\u0442\u044c\u0441\u044f <code>gis</code>, \u0442\u043e\u0436 \u043c\u0438 \u0431\u0443\u0434\u0435\u043c\u043e \u0434\u043e\u0442\u0440\u0438\u043c\u0443\u0432\u0430\u0442\u0438\u0441\u044c \u0446\u0456\u0454\u0457 \u0443\u0433\u043e\u0434\u0438 \u0432 \u0446\u0456\u043c \u043a\u0435\u0440\u0456\u0432\u043d\u0438\u0446\u0442\u0432\u0456, \u0445\u043e\u0447\u0430 \u0446\u0435 \u0439 \u043d\u0435 \u043e\u0431\u043e\u0432\u02bc\u044f\u0437\u043a\u043e\u0432\u043e. \u0417\u0430\u043c\u0456\u043d\u0456\u0442\u044c \u0442\u0443\u0442, \u0456 \u0434\u0430\u043b\u0456 \u043d\u0438\u0436\u0447\u0435, <code>renderaccount</code> \u043d\u0430 \u0456\u043c\u02bc\u044f \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430 \u043f\u0456\u0434 \u044f\u043a\u0438\u043c \u0431\u0443\u0434\u0435 \u0432\u0456\u0434\u0431\u0443\u0432\u0430\u0442\u0438\u0441\u044c \u0433\u0435\u043d\u0435\u0440\u0443\u0432\u0430\u043d\u043d\u044f \u0442\u0430\u0439\u043b\u0456\u0432 \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e Mapnik.</p> <pre><code>sudo -u postgres -i\ncreateuser renderaccount \n# \u0441\u043a\u0430\u0436\u0456\u0442\u044c \u0442\u0430\u043a \u0434\u043b\u044f superuser (\u0445\u043e\u0447\u0430 \u0446\u0435 \u0442\u0430\u043a\u043e\u0436 \u043d\u0435 \u043e\u0431\u043e\u0432\u02bc\u044f\u0437\u043a\u043e\u0432\u043e)\ncreatedb -E UTF8 -O renderaccount gis\n</code></pre> <p>\u041f\u043e\u043a\u0438 \u0432\u0438 \u043f\u0440\u0430\u0446\u044e\u0454\u0442\u0435 \u044f\u043a \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447 <code>postgres</code>, \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u0456\u0442\u044c PostGIS \u0432 \u0431\u0430\u0437\u0443 \u0434\u0430\u043d\u0438\u0445 PostgreSQL (\u0437\u043d\u043e\u0432\u0443, \u0437\u0430\u043c\u0456\u043d\u0456\u0442\u044c <code>renderaccount</code> \u043d\u0430 \u0432\u0430\u0448\u043e\u0433\u043e \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430 \u043d\u0438\u0436\u0447\u0435):</p> <pre><code>psql\n</code></pre> <p>(\u0446\u0435 \u043f\u0440\u0438\u0437\u0432\u0435\u0434\u0435 \u0434\u043e \u043f\u043e\u044f\u0432\u0438 <code>postgres=#</code> \u043d\u0430 \u043f\u043e\u0447\u0430\u0442\u043a\u0443 \u0440\u044f\u0434\u043a\u0430 \u043a\u043e\u043d\u0441\u043e\u043b\u0456)</p> <pre><code>\\c gis\n</code></pre> <p>(\u0443 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u044c \u0432\u0438 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0435: \"You are now connected to database <code>'gis'</code> as user <code>'postgres'</code>\" [\"\u0422\u0435\u043f\u0435\u0440 \u0432\u0438 \u043f\u0456\u0434\u02bc\u0454\u0434\u043d\u0430\u043d\u0456 \u0434\u043e \u0431\u0430\u0437\u0438 \u0434\u0430\u043d\u0438\u0445 <code>'gis'</code> \u044f\u043a \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447 <code>'postgres'</code>\"])</p> <pre><code>CREATE EXTENSION postgis;\n</code></pre> <p>(\u0443 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u044c \u0432\u0438 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0435: CREATE EXTENSION)</p> <pre><code>CREATE EXTENSION hstore;\n</code></pre> <p>(\u0443 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u044c \u0432\u0438 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0435: CREATE EXTENSION)</p> <pre><code>ALTER TABLE geometry_columns OWNER TO renderaccount;\n</code></pre> <p>(\u0443 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u044c \u0432\u0438 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0435: ALTER TABLE)</p> <pre><code>ALTER TABLE spatial_ref_sys OWNER TO renderaccount;\n</code></pre> <p>(\u0443 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u044c \u0432\u0438 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0435: ALTER TABLE)</p> <pre><code>\\q\n</code></pre> <p>(\u0446\u0435 \u043f\u0440\u0438\u0437\u0432\u0435\u0434\u0435 \u0434\u043e \u0432\u0438\u0445\u043e\u0434\u0443 \u0437 \u0441\u0435\u0441\u0456\u0457 psql \u0442\u0430 \u043f\u043e\u0432\u0435\u0440\u043d\u0435\u043d\u043d\u044f \u043d\u0430\u0437\u0430\u0434 \u0443 \u043a\u043e\u043d\u0441\u043e\u043b\u044c Linux)</p> <pre><code>exit\n</code></pre> <p>(\u043f\u043e\u0432\u0435\u0440\u043d\u0435\u043d\u043d\u044f \u043d\u0430\u0437\u0430\u0434 \u0434\u043e \u0441\u0435\u0441\u0456\u0457 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430, \u0432 \u044f\u043a\u0456\u0439 \u043c\u0438 \u0437\u043d\u0430\u0445\u043e\u0434\u0438\u043b\u0438\u0441\u044c \u0434\u043e \u0432\u0438\u043a\u043e\u043d\u0430\u043d\u043d\u044f \u043a\u043e\u043c\u0430\u043d\u0434\u0438 <code>sudo -u postgres -i</code> \u0432\u0438\u0449\u0435)</p> <p>\u042f\u043a\u0449\u043e \u0432\u0438 \u0449\u0435 \u0446\u044c\u043e\u0433\u043e \u043d\u0435 \u0437\u0440\u043e\u0431\u0438\u043b\u0438, \u0441\u0442\u0432\u043e\u0440\u0456\u0442\u044c \u043e\u0431\u043b\u0456\u043a\u043e\u0432\u0438\u0439 \u0437\u0430\u043f\u0438\u0441 \u0434\u043b\u044f \u0432\u0430\u0448\u043e\u0433\u043e \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430, \u0432\u0432\u0435\u0434\u0456\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c \u043a\u043e\u043b\u0438 \u0446\u0435 \u0431\u0443\u0434\u0435 \u0437\u0430\u043f\u0440\u043e\u043f\u043e\u043d\u043e\u0432\u0430\u043d\u043e:</p> <pre><code>sudo useradd -m renderaccount\nsudo passwd renderaccount\n</code></pre> <p>\u0417\u043d\u043e\u0432, \u0437\u0430\u043c\u0456\u043d\u0456\u0442\u044c <code>renderaccount</code> \u0456\u043c\u02bc\u044f\u043c \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430 \u0431\u0435\u0437 \u0430\u0434\u043c\u0456\u043d\u0456\u0441\u0442\u0440\u0430\u0442\u0438\u0432\u043d\u0438\u0445 \u043f\u043e\u0432\u043d\u043e\u0432\u0430\u0436\u0435\u043d\u044c \u043d\u0430 \u0432\u0430\u0448 \u0441\u043c\u0430\u043a.</p>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-ubuntu-20-04-lts/#\u0412\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f-osm2pgsql","title":"\u0412\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f osm2pgsql","text":"<p>\u0422\u0435\u043f\u0435\u0440 \u043c\u0438 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u043c\u043e osm2pgsql:</p> <pre><code>sudo apt install osm2pgsql\n</code></pre>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-ubuntu-20-04-lts/#Mapnik","title":"Mapnik","text":"<p>\u0414\u0430\u043b\u0456, \u043c\u0438 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u043c\u043e Mapnik. \u041c\u0438 \u0431\u0443\u0434\u0435\u043c \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0442\u0438\u043f\u043e\u0432\u0443 \u0432\u0435\u0440\u0441\u0456\u044e \u0437 Ubuntu 20.04:</p> <pre><code>sudo apt install \\\n    autoconf apache2-dev libtool libxml2-dev \\\n    libbz2-dev libgeos-dev libgeos++-dev libproj-dev \\\n    gdal-bin libmapnik-dev mapnik-utils \\\n    python3-mapnik python3-psycopg2 python3-yaml\n</code></pre> <p>\u041f\u0435\u0440\u0435\u0432\u0456\u0440\u0438\u043c\u043e \u0447\u0438 Mapnik \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043e \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e:</p> <pre><code>python3\n&gt;&gt;&gt; import mapnik\n&gt;&gt;&gt;\n</code></pre> <p>\u042f\u043a\u0449\u043e python \u0443 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u044c \u0432\u0438\u0434\u0430\u0454 \u0442\u0456\u043b\u044c\u043a\u0438 <code>&gt;&gt;&gt;</code> \u0431\u0435\u0437 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f \u043f\u0440\u043e \u043f\u043e\u043c\u0438\u043b\u043a\u0438, \u0437\u043d\u0430\u0447\u0438\u0442\u044c \u0431\u0456\u0431\u043b\u0456\u043e\u0442\u0435\u043a\u0430 Mapnik \u0454 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e\u044e \u0432 Python. \u0412\u0456\u0442\u0430\u0454\u043c\u043e! \u0414\u043b\u044f \u0432\u0438\u0445\u043e\u0434\u0443 \u0456\u0437 \u0441\u0435\u0441\u0456\u0457 Python \u0441\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u0439\u0442\u0435\u0441\u044c \u043d\u0430\u0441\u0442\u0443\u043f\u043d\u043e\u044e \u043a\u043e\u043c\u0430\u043d\u0434\u043e\u044e:</p> <pre><code>&gt;&gt;&gt; quit()\n</code></pre>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-ubuntu-20-04-lts/#\u0412\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f-mod_tile-\u0442\u0430-renderd","title":"\u0412\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f mod_tile \u0442\u0430 renderd","text":"<p>\u0414\u0430\u043b\u0456, \u043c\u0438 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u043c\u043e <code>mod_tile</code> \u0442\u0430 <code>renderd</code>. <code>mod_tile</code>\u00a0\u2013 \u043c\u043e\u0434\u0443\u043b\u044c Apache, \u044f\u043a\u0438\u0439 \u043e\u0431\u0440\u043e\u0431\u043b\u044f\u0454 \u0437\u0430\u043f\u0438\u0442\u0438 \u043d\u0430 \u043f\u043e\u043a\u0430\u0437 \u0442\u0430\u0439\u043b\u0456\u0432; <code>renderd</code>\u00a0\u2013 \u0444\u043e\u043d\u043e\u0432\u0430 \u0441\u043b\u0443\u0436\u0431\u0430, \u044f\u043a\u0430 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u0430\u0454 \u0437\u0430 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0456\u044e \u0442\u0430\u0439\u043b\u0456\u0432 \u043d\u0430 \u0437\u0430\u043f\u0438\u0442 <code>mod_tile</code>. \u041c\u0438 \u0431\u0443\u0434\u0435\u043c\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0433\u0456\u043b\u043a\u0443 <code>switch2osm</code> \u0437 https://github.com/SomeoneElseOSM/mod_tile, \u044f\u043a\u0430 \u0441\u0432\u043e\u0454\u044e \u0447\u0435\u0440\u0433\u043e\u044e \u0431\u0430\u0437\u0443\u0454\u0442\u044c\u0441\u044f \u043d\u0430 \u043a\u043e\u0434\u0456 https://github.com/openstreetmap/mod_tile, \u0430\u043b\u0435 \u0437\u043c\u0456\u043d\u0435\u043d\u0430 \u0442\u0430\u043a\u0438\u043c \u0447\u0438\u043d\u043e\u043c, \u0449\u043e\u0431 \u043f\u0440\u0430\u0446\u044e\u0432\u0430\u0442\u0438 \u043d\u0430 Ubuntu 20.04, \u0442\u0430\u043a\u043e\u0436 \u0432\u043e\u043d\u0430 \u043c\u0456\u0441\u0442\u0438\u0442\u044c \u043f\u0430\u0440\u0443 \u0456\u043d\u0448\u0438\u0445 \u0437\u043c\u0456\u043d \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u0438\u0445 \u0434\u043b\u044f \u0440\u043e\u0431\u043e\u0442\u0438 \u0437\u0456 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u0438\u043c \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c \u043d\u0430 Ubuntu \u043d\u0430 \u0432\u0456\u0434\u043c\u0456\u043d\u0443 \u0432\u0456\u0434 \u0442\u043e\u0433\u043e, \u0449\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f \u043d\u0430 \u0442\u0430\u0439\u043b\u043e\u0432\u0438\u0445 \u0441\u0435\u0440\u0432\u0435\u0440\u0430\u0445 OpenStreetMap.</p>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-ubuntu-20-04-lts/#\u041a\u043e\u043c\u043f\u0456\u043b\u044f\u0446\u0456\u044f-mod_tile-\u0437-\u0441\u0438\u0440\u0446\u0456\u0432","title":"\u041a\u043e\u043c\u043f\u0456\u043b\u044f\u0446\u0456\u044f mod_tile \u0437 \u0441\u0438\u0440\u0446\u0456\u0432","text":"<pre><code>mkdir ~/src\ncd ~/src\ngit clone -b switch2osm git://github.com/SomeoneElseOSM/mod_tile.git\ncd mod_tile\n./autogen.sh\n</code></pre> <p>(\u0432\u0438\u043a\u043e\u043d\u0430\u043d\u043d\u044f \u043c\u0430\u0454 \u0437\u0430\u043a\u0456\u043d\u0447\u0438\u0442\u0438\u0441\u044c \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f\u043c <code>autoreconf: Leaving directory '.'</code>.)</p> <pre><code>./configure\n</code></pre> <p>(\u043c\u0430\u0454 \u0437\u0430\u043a\u0456\u043d\u0447\u0438\u0442\u0438\u0441\u044c \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f\u043c <code>config.status: executing libtool commands</code>)</p> <pre><code>make\n</code></pre> <p>\u0417\u0430\u0443\u0432\u0430\u0436\u0442\u0435, \u0449\u043e \u0434\u0435\u044f\u043a\u0456 \"\u043f\u043e\u043f\u0435\u0440\u0435\u0434\u0436\u0443\u0432\u0430\u043b\u044c\u043d\u0456\" \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f \u0431\u0443\u0434\u0443\u0442\u044c \u0437\u02bc\u044f\u0432\u043b\u044f\u0442\u0438\u0441\u044c \u043d\u0430 \u0435\u043a\u0440\u0430\u043d\u0456. \u041f\u0440\u043e\u0442\u0435 \u0432\u0441\u0435 \u043c\u0430\u0454 \u0437\u0430\u043a\u0456\u043d\u0447\u0438\u0442\u0438\u0441\u044c \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f\u043c \"make[1]: Leaving directory '/home/renderaccount/src/mod_tile'\".</p> <pre><code>sudo make install\n</code></pre> <p>(\u043c\u0430\u0454 \u0437\u0430\u043a\u0456\u043d\u0447\u0438\u0442\u0438\u0441\u044c \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f\u043c \"make[1]: Leaving directory '/home/renderaccount/src/mod_tile'\")</p> <pre><code>sudo make install-mod_tile\n</code></pre> <p>(\u043c\u0430\u0454 \u0437\u0430\u043a\u0456\u043d\u0447\u0438\u0442\u0438\u0441\u044c \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f\u043c \"chmod 644 /usr/lib/apache2/modules/mod_tile.so\")</p> <pre><code>sudo ldconfig\n</code></pre> <p>(\u0442\u0443\u0442 \u043d\u0435\u043c\u0430\u0454 \u0431\u0443\u0442\u0438 \u0436\u043e\u0434\u043d\u043e\u0433\u043e \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f)</p>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-ubuntu-20-04-lts/#\u041d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f-\u0441\u0442\u0438\u043b\u0456\u0432","title":"\u041d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f \u0441\u0442\u0438\u043b\u0456\u0432","text":"<p>\u0422\u0435\u043f\u0435\u0440, \u043f\u0456\u0441\u043b\u044f \u0442\u043e\u0433\u043e, \u044f\u043a \u0432\u0441\u0435 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u0435 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043d\u0435 \u0437\u0430\u0431\u0435\u0437\u043f\u0435\u0447\u0435\u043d\u043d\u044f \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0435, \u0432\u0430\u043c \u0442\u0440\u0435\u0431\u0430 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u0442\u0430 \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u0442\u0438 \u0441\u0442\u0438\u043b\u0456.</p> <p>\u0421\u0442\u0438\u043b\u044c, \u044f\u043a\u0438\u0439 \u043c\u0438 \u0431\u0443\u0434\u0435\u043c\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438,\u00a0\u2013 \u0446\u0435 \u0441\u0442\u0438\u043b\u044c \u044f\u043a\u0438\u0439 \u0437\u0430\u0441\u0442\u043e\u0441\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f \u0434\u043b\u044f \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \"\u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u043e\u0433\u043e\" \u0448\u0430\u0440\u0443 \u043d\u0430 \u0441\u0430\u0439\u0442\u0456 openstreetmap.org. \u041c\u0438 \u043e\u0431\u0440\u0430\u043b\u0438 \u0439\u043e\u0433\u043e \u0447\u0435\u0440\u0435\u0437 \u0433\u0430\u0440\u043d\u0443 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0456\u044e \u0456 \u0442\u0435, \u0449\u043e \u0432\u0456\u043d \u0437\u0434\u0430\u0442\u0435\u043d \u043f\u0440\u0430\u0446\u044e\u0432\u0430\u0442\u0438 \u0434\u043b\u044f \u0431\u0443\u0434\u044c-\u044f\u043a\u043e\u0457 \u0447\u0430\u0441\u0442\u0438\u043d\u0438 \u0441\u0432\u0456\u0442\u0443, \u043d\u0430\u0432\u0456\u0442\u044c \u0442\u0430\u043c \u0434\u0435 \u043d\u0435 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f \u043b\u0430\u0442\u0438\u043d\u043a\u0430. \u0410\u043b\u0435 \u0443 \u043d\u044c\u043e\u0433\u043e \u0454 \u0439 \u043f\u0435\u0432\u043d\u0456 \u043d\u0435\u0434\u043e\u043b\u0456\u043a\u0438\u00a0\u2013 \u0446\u0435 \u043a\u043e\u043c\u043f\u0440\u043e\u043c\u0456\u0441\u043d\u0456 \u0440\u0456\u0448\u0435\u043d\u043d\u044f \u0434\u043b\u044f \u0442\u043e\u0433\u043e, \u0449\u043e\u0431 \u043f\u0440\u0430\u0446\u044e\u0432\u0430\u0442\u0438 \u0432 \u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u0438\u0445 \u043c\u0430\u0441\u0448\u0442\u0430\u0431\u0430\u0445, \u0432\u0456\u043d \u0434\u0443\u0436\u0435 \u0441\u043a\u043b\u0430\u0434\u043d\u0438\u0439 \u0434\u043b\u044f \u0440\u043e\u0437\u0443\u043c\u0456\u043d\u043d\u044f \u0442\u0430 \u0432\u043d\u0435\u0441\u0435\u043d\u043d\u044f \u0437\u043c\u0456\u043d, \u044f\u043a\u0449\u043e \u0432\u0430\u043c \u0434\u043e\u0432\u0435\u0434\u0435\u0442\u044c\u0441\u044f \u0457\u0445 \u0432\u043d\u043e\u0441\u0438\u0442\u0438.</p> <p>\u041a\u043e\u0434 \u0441\u0442\u0438\u043b\u044e \"OpenStreetMap Carto\" \u0437 \u0432\u0435\u0431-\u0441\u0430\u0439\u0442\u0443 openstreetmap.org \u0437\u043d\u0430\u0445\u043e\u0434\u0438\u0442\u044c\u0441\u044f \u043d\u0430 GitHub\u00a0\u2013 https://github.com/gravitystorm/openstreetmap-carto/ \u0442\u0430 \u0442\u0430\u043a\u043e\u0436 \u043c\u0430\u0454 \u0432\u043b\u0430\u0441\u043d\u0456 \u0456\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0456\u0457 \u0437\u0456 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f\u00a0\u2013 https://github.com/gravitystorm/openstreetmap-carto/blob/master/INSTALL.md. \u041f\u0440\u043e \u0442\u0435, \u0449\u043e \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0437\u0440\u043e\u0431\u0438\u0442\u0438, \u043c\u0438 \u0440\u043e\u0437\u043f\u043e\u0432\u0456\u043c\u043e \u0442\u0443\u0442.</p> <p>\u041f\u0435\u0440\u0435\u0434\u0431\u0430\u0447\u0430\u0454\u0442\u044c\u0441\u044f \u0449\u043e \u043c\u0438 \u0440\u043e\u0437\u043c\u0456\u0449\u0443\u0454\u043c\u043e \u0441\u0442\u0438\u043b\u044c \u0432 \u0442\u0435\u0446\u0456 <code>~/src</code> \u0434\u043e\u043c\u0430\u0448\u043d\u044c\u043e\u0457 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0456\u0457 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430 <code>renderaccount</code> (\u0430\u0431\u043e \u0431\u0443\u0434\u044c-\u044f\u043a\u043e\u0433\u043e \u0456\u043d\u0448\u043e\u0433\u043e, \u044f\u043a\u043e\u0433\u043e \u0432\u0438 \u0441\u0442\u0432\u043e\u0440\u0438\u043b\u0438 \u0434\u043e \u0446\u044c\u043e\u0433\u043e)</p> <pre><code>cd ~/src\ngit clone https://github.com/gravitystorm/openstreetmap-carto\ncd openstreetmap-carto\n</code></pre> <p>\u0414\u0430\u043b\u0456, \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u043c\u043e \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u0443 \u0432\u0435\u0440\u0441\u0456\u044e \u043a\u043e\u043c\u043f\u0456\u043b\u044f\u0442\u043e\u0440\u0430 <code>carto</code>.</p> <pre><code>sudo apt install npm\nsudo npm install -g carto\ncarto -v\n</code></pre> <p>\u0423 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u044c \u043c\u0438 \u043c\u0430\u0454\u043c\u043e \u043e\u0442\u0440\u0438\u043c\u0430\u0442\u0438 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044e \u043f\u0440\u043e \u043d\u043e\u043c\u0435\u0440 \u0432\u0435\u0440\u0441\u0456\u0457, \u044f\u043a\u0430 \u043c\u0430\u0454 \u0431\u0443\u0442\u0438 \u043d\u0435 \u043c\u0435\u043d\u0448\u0435 \u043d\u0456\u0436:</p> <pre><code>1.2.0\n</code></pre> <p>\u041f\u0456\u0441\u043b\u044f \u0446\u044c\u043e\u0433\u043e \u043c\u0438 \u043f\u0435\u0440\u0435\u0442\u0432\u043e\u0440\u0438\u043c\u043e \u043f\u0440\u043e\u0454\u043a\u0442 carto \u0443 \u0437\u0440\u043e\u0437\u0443\u043c\u0456\u043b\u0438\u0439 \u0434\u043b\u044f Mapnik \u0432\u0438\u0433\u043b\u044f\u0434:</p> <pre><code>carto project.mml &gt; mapnik.xml\n</code></pre> <p>\u0422\u0435\u043f\u0435\u0440 \u0443 \u043d\u0430\u0441 \u0454 \u0441\u0442\u0438\u043b\u044c Mapnik XML\u00a0\u2013 <code>/home/renderaccount/src/openstreetmap-carto/mapnik.xml</code>.</p>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-ubuntu-20-04-lts/#\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f-\u0434\u0430\u043d\u0438\u0445","title":"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u0434\u0430\u043d\u0438\u0445","text":"<p>\u0414\u043b\u044f \u043f\u043e\u0447\u0430\u0442\u043a\u0443, \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u043c\u043e \u043d\u0435\u0432\u0435\u043b\u0438\u0447\u043a\u0443 \u0447\u0430\u0441\u0442\u0438\u043d\u0443 \u0442\u0435\u0441\u0442\u043e\u0432\u0438\u0445 \u0434\u0430\u043d\u0438\u0445. \u0421\u0435\u0440\u0435\u0434 \u0440\u0456\u0437\u043d\u043e\u043c\u0430\u0457\u0442\u0442\u044f \u043c\u0456\u0441\u0446\u044c \u0434\u043b\u044f \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u044f \u0434\u0430\u043d\u0438\u0445, \u043e\u0431\u0435\u0440\u0435\u043c\u043e <code>download.geofabrik.de</code>, \u0449\u043e \u043c\u0456\u0441\u0442\u0438\u0442\u044c \u0432\u0435\u043b\u0438\u043a\u0438\u0439 \u043f\u0435\u0440\u0435\u043b\u0456\u043a \u0440\u0456\u0437\u043d\u0438\u0445 \u0432\u0430\u0440\u0456\u0430\u043d\u0442\u0456\u0432 \u0434\u043b\u044f \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f. \u0412\u0456\u0437\u044c\u043c\u0456\u043c\u043e \u0434\u043b\u044f \u043f\u0440\u0438\u043a\u043b\u0430\u0434\u0443 \u0410\u0437\u0435\u0440\u0431\u0430\u0439\u0434\u0436\u0430\u043d (~32.4 \u041c\u0431).</p> <p>\u041f\u0435\u0440\u0435\u0439\u0434\u0456\u0442\u044c \u0437\u0430 \u043f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f\u043c https://download.geofabrik.de/asia/azerbaijan.html \u0442\u0430 \u0437\u0432\u0435\u0440\u043d\u0456\u0442\u044c \u0443\u0432\u0430\u0433\u0443 \u043d\u0430 \u0434\u0430\u0442\u0443 \"This file was last modified\" (\u0449\u043e\u0441\u044c \u0441\u0445\u043e\u0436\u0435 \u043d\u0430 \"2020-05-02T20:59:02Z\"). \u0412\u043e\u043d\u0430 \u043d\u0430\u043c \u0437\u043d\u0430\u0434\u043e\u0431\u0438\u0442\u044c\u0441\u044f \u043f\u043e\u0442\u0456\u043c, \u043a\u043e\u043b\u0438 \u0443 \u043d\u0430\u0441 \u0432\u0438\u043d\u0438\u043a\u043d\u0435 \u043f\u043e\u0442\u0440\u0435\u0431\u0430 \u043e\u043d\u043e\u0432\u0438\u0442\u0438 \u043d\u0430\u0448\u0456 \u0434\u0430\u043d\u0456 \u0434\u0430\u043d\u0438\u043c\u0438, \u044f\u043a\u0456 \u0443\u0447\u0430\u0441\u043d\u0438\u043a\u0438 OpenStreetMap \u0434\u043e\u0434\u0430\u043b\u0438 \u0437 \u043c\u043e\u043c\u0435\u043d\u0442\u0443 \u043d\u0430\u0448\u043e\u0433\u043e \u0456\u043c\u043f\u043e\u0440\u0442\u0443. \u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u043c\u043e \u0434\u0430\u043d\u0456:</p> <pre><code>mkdir ~/data\ncd ~/data\nwget https://download.geofabrik.de/asia/azerbaijan-latest.osm.pbf\n</code></pre> <p>\u041d\u0430\u0441\u0442\u0443\u043f\u043d\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0436\u0435 \u0432\u0430\u043c \u043f\u0435\u0440\u0435\u043d\u0435\u0441\u0442\u0438 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u0456 \u0434\u0430\u043d\u0456 \u0434\u043e \u0432\u0430\u0448\u043e\u0457 \u0431\u0430\u0437\u0438 \u0434\u0430\u043d\u0438\u0445. \u041d\u0430 \u0446\u044c\u043e\u043c\u0443 \u0435\u0442\u0430\u043f\u0456 \u0437\u0440\u043e\u0441\u0442\u0435 \u043d\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u043d\u0430 \u0434\u0438\u0441\u043a\u043e\u0432\u0456 \u043e\u043f\u0435\u0440\u0430\u0446\u0456\u0457 \u0447\u0435\u0440\u0435\u0437 \u043f\u043e\u0442\u0440\u0435\u0431\u0443 \u043f\u0435\u0440\u0435\u043d\u0435\u0441\u0435\u043d\u043d\u044f \u0437\u043d\u0430\u0447\u043d\u043e\u0433\u043e \u043e\u0431\u0441\u044f\u0433\u0443 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u0457; \u0456\u043c\u043f\u043e\u0440\u0442 \u0432\u0441\u0456\u0454\u0457 \u043f\u043b\u0430\u043d\u0435\u0442\u0438 \u043c\u043e\u0436\u0435 \u0442\u0440\u0438\u0432\u0430\u0442\u0438 \u043a\u0456\u043b\u044c\u043a\u0430 \u0433\u043e\u0434\u0438\u043d, \u0434\u043d\u0456\u0432 \u0442\u0430 \u043d\u0430\u0432\u0456\u0442\u044c \u0442\u0438\u0436\u043d\u0456\u0432, \u0432 \u0437\u0430\u043b\u0435\u0436\u043d\u043e\u0441\u0442\u0456 \u0432\u0456\u0434 \u043f\u043e\u0442\u0443\u0436\u043d\u043e\u0441\u0442\u0435\u0439 \u0432\u0430\u0448\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u043d\u043e\u0433\u043e \u043e\u0431\u043b\u0430\u0434\u043d\u0430\u043d\u043d\u044f. \u0417\u0440\u043e\u0437\u0443\u043c\u0456\u043b\u043e, \u0449\u043e \u0434\u043b\u044f \u043d\u0435\u0432\u0435\u043b\u0438\u043a\u0438\u0445 \u0447\u0430\u0441\u0442\u0438\u043d \u0434\u0430\u043d\u0438\u0445 \u0456\u043c\u043f\u043e\u0440\u0442 \u0432\u0456\u0434\u0431\u0443\u0432\u0430\u0454\u0442\u044c\u0441\u044f \u0437\u043d\u0430\u0447\u043d\u043e \u0448\u0432\u0438\u0434\u0448\u0435, \u043c\u043e\u0436\u043b\u0438\u0432\u043e \u0432\u0430\u043c \u0434\u043e\u0432\u0435\u0434\u0435\u0442\u044c\u0441\u044f \u043f\u043e\u0435\u043a\u0441\u043f\u0435\u0440\u0438\u043c\u0435\u043d\u0442\u0443\u0432\u0430\u0442\u0438 \u0437\u0456 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f\u043c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430 <code>-C</code>, \u0449\u043e\u0431 \u0432\u043a\u043b\u0430\u0441\u0442\u0438\u0441\u044c \u0443 \u043d\u0430\u044f\u0432\u043d\u0443 \u043e\u043f\u0435\u0440\u0430\u0442\u0438\u0432\u043d\u0443 \u043f\u0430\u043c\u02bc\u044f\u0442\u044c \u0432\u0430\u0448\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430.</p> <pre><code>osm2pgsql -d gis --create --slim  -G --hstore \\\n    --tag-transform-script \\\n        ~/src/openstreetmap-carto/openstreetmap-carto.lua \\\n    -C 2500 --number-processes 1 \\\n    -S ~/src/openstreetmap-carto/openstreetmap-carto.style \\\n    ~/data/azerbaijan-latest.osm.pbf\n</code></pre> <p>\u0420\u043e\u0437\u0431\u0435\u0440\u0456\u043c\u043e\u0441\u044f \u0449\u043e \u043e\u0437\u043d\u0430\u0447\u0430\u044e\u0442\u044c \u0432\u0441\u0456 \u0446\u0456 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0438:</p> <code>-d gis</code> \u0411\u0430\u0437\u0430 \u0434\u0430\u043d\u0438\u0445, \u0437 \u044f\u043a\u043e\u044e \u043c\u0438 \u043f\u0440\u0430\u0446\u044e\u0454\u043c\u043e (\u0442\u0438\u043f\u043e\u0432\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f <code>gis</code>; \u0442\u0443\u0442 \u0442\u0440\u0435\u0431\u0430 \u0432\u043a\u0430\u0437\u0430\u0442\u0438 \u0457\u0457 \u044f\u0432\u043d\u043e). <code>--create</code> \u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u0434\u0430\u043d\u0456 \u0432 \u043f\u0443\u0441\u0442\u0443 \u0431\u0430\u0437\u0443 \u0434\u0430\u043d\u0438\u0445, \u0437\u0430\u043c\u0456\u0441\u0442\u044c \u0441\u043f\u0440\u043e\u0431 \u0434\u043e\u0434\u0430\u0442\u0438 \u0457\u0445 \u0434\u043e \u043d\u0430\u044f\u0432\u043d\u0438\u0445. <code>--slim</code> osm2pgsql \u043c\u043e\u0436\u0435 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0440\u0456\u0437\u043d\u043e\u043c\u0430\u043d\u0456\u0442\u043d\u0456 \u0441\u0445\u0435\u043c\u0438 \u0442\u0430\u0431\u043b\u0438\u0446\u044c; <code>slim</code> \u0433\u043e\u0434\u0438\u0442\u044c\u0441\u044f \u0434\u043b\u044f \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0456\u0457 \u0442\u0430\u0439\u043b\u0456\u0432. <code>-G</code> \u0412\u0438\u0437\u043d\u0430\u0447\u0430\u0454, \u044f\u043a\u0438\u043c \u0447\u0438\u043d\u043e\u043c \u0431\u0443\u0434\u0443\u0442\u044c \u043e\u0431\u0440\u043e\u0431\u043b\u044f\u0442\u0438\u0441\u044c \u043c\u0443\u043b\u044c\u0442\u0438\u043f\u043e\u043b\u0456\u0433\u043e\u043d\u0438. <code>--hstore</code> \u0414\u043e\u0437\u0432\u043e\u043b\u044f\u0454 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0434\u043b\u044f \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0456\u0457 \u0442\u0430\u0439\u043b\u0456\u0432 \u0442\u0435\u0491\u0438, \u0434\u043b\u044f \u044f\u043a\u0438\u0445 \u043d\u0435\u043c\u0430\u0454 \u043e\u043a\u0440\u0435\u043c\u0438\u0445 \u0441\u0442\u043e\u0432\u043f\u0446\u0456\u0432 \u0432 \u0431\u0430\u0437\u0456 \u0434\u0430\u043d\u0438\u0445. <code>--tag-transform-script ~/src/openstreetmap-carto/openstreetmap-carto.lua</code> \u0412\u0438\u0437\u043d\u0430\u0447\u0430\u0454 \u0441\u043a\u0440\u0438\u043f\u0442 lua, \u044f\u043a\u0438\u0439 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f \u0434\u043b\u044f \u043e\u0431\u0440\u043e\u0431\u043a\u0438 \u0442\u0435\u0491\u0456\u0432. \u0426\u0435 \u043f\u0440\u043e\u0441\u0442\u0438\u0439 \u0441\u043f\u043e\u0441\u0456\u0431 \u043e\u0431\u0440\u043e\u0431\u043a\u0438 \u0442\u0435\u0491\u0456\u0432 OSM \u0434\u043e \u0442\u043e\u0433\u043e, \u044f\u043a \u0432\u043e\u043d\u0438 \u0431\u0443\u0434\u0443\u0442\u044c \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u0456 \u0432 \u0441\u0442\u0438\u043b\u0456, \u0449\u043e \u0441\u043f\u0440\u043e\u0449\u0443\u0454 \u043b\u043e\u0433\u0456\u043a\u0443 \u0441\u0430\u043c\u043e\u0433\u043e \u0441\u0442\u0438\u043b\u044e. <code>-C 2500</code> \u0412\u0438\u0434\u0456\u043b\u044f\u0454 2.5 \u0413\u0431 \u043e\u043f\u0435\u0440\u0430\u0442\u0438\u0432\u043d\u043e\u0457 \u043f\u0430\u043c\u02bc\u044f\u0442\u0456 \u0434\u043b\u044f osm2pgsql \u043d\u0430 \u0432\u0438\u043a\u043e\u043d\u0430\u043d\u043d\u044f \u0456\u043c\u043f\u043e\u0440\u0442\u0443. \u042f\u043a\u0449\u043e \u0443 \u0432\u0430\u0441 \u043c\u0435\u043d\u0448\u0435 \u043e\u043f\u0435\u0440\u0430\u0442\u0438\u0432\u043d\u043e\u0457 \u043f\u0430\u043c\u02bc\u044f\u0442\u0456, \u0441\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043c\u0435\u043d\u0448\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f. \u042f\u043a\u0449\u043e \u043f\u0440\u043e\u0446\u0435\u0441 \u0456\u043c\u043f\u043e\u0440\u0442\u0443 \u0431\u0443\u0434\u0435 \u0437\u043d\u0438\u0449\u0435\u043d\u0438\u0439 \u0447\u0435\u0440\u0435\u0437 \u043d\u0435\u0441\u0442\u0430\u0447\u0443 \u043e\u043f\u0435\u0440\u0430\u0442\u0438\u0432\u043d\u043e\u0457 \u043f\u0430\u043c\u02bc\u044f\u0442\u0456, \u0441\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0437\u043c\u0435\u043d\u0448\u0438\u0442\u0438 \u0446\u0435 \u0447\u0438\u0441\u043b\u043e \u0430\u0431\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0439\u0442\u0435 \u043c\u0435\u043d\u0448\u0438\u0439 \u043e\u0431\u0441\u044f\u0433 \u0434\u0430\u043d\u0438\u0445. <code>--number-processes 1</code> \u0412\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u043e\u0434\u043d\u0435 \u044f\u0434\u0440\u043e \u043f\u0440\u043e\u0446\u0435\u0441\u043e\u0440\u0430. \u042f\u043a\u0449\u043e \u0443 \u0432\u0430\u0441 \u0431\u0430\u0433\u0430\u0442\u043e\u044f\u0434\u0435\u0440\u043d\u0438\u0439 \u043f\u0440\u043e\u0446\u0435\u0441\u043e\u0440 \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0431\u0456\u043b\u044c\u0448\u0443 \u043a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u044f\u0434\u0435\u0440. <code>-S ~/src/openstreetmap-carto/openstreetmap-carto.style</code> \u0421\u0442\u0432\u043e\u0440\u044e\u0432\u0430\u0442\u0438 \u0441\u0442\u043e\u0432\u043f\u0446\u0456 \u0432 \u0431\u0430\u0437\u0456 \u0434\u0430\u043d\u0438\u0445 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u044e\u0447\u0438 \u0432\u043a\u0430\u0437\u0430\u043d\u0438\u0439 \u0444\u0430\u0439\u043b (\u0432 \u043d\u0430\u0448\u043e\u043c\u0443 \u0432\u0438\u043f\u0430\u0434\u043a\u0443 \u0432\u0456\u043d \u043d\u0456\u0447\u0438\u043c \u043d\u0435 \u0432\u0456\u0434\u0440\u0456\u0437\u043d\u044f\u0454\u0442\u044c\u0441\u044f \u0432\u0456\u0434 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u043e\u0433\u043e \"openstreetmap-carto\") <code>~/data/azerbaijan-latest.osm.pbf</code> \u041e\u0441\u0442\u0430\u043d\u043d\u0456\u0439 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u00a0\u2013 \u0446\u0435 \u0444\u0430\u0439\u043b \u0437 \u0434\u0430\u043d\u0438\u043c\u0438 \u0434\u043b\u044f \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u0432 \u0431\u0430\u0437\u0443. <p>\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u043c \u0440\u043e\u0431\u043e\u0442\u0438 \u0446\u0456\u0454\u0457 \u043a\u043e\u043c\u0430\u043d\u0434\u0438 \u043c\u0430\u0454 \u0431\u0443\u0442\u0438 \u0449\u043e\u0441\u044c \u0441\u0445\u043e\u0436\u0435 \u043d\u0430 \"Osm2pgsql took 238s overall\".</p>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-ubuntu-20-04-lts/#\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f-\u0456\u043d\u0434\u0435\u043a\u0441\u0456\u0432","title":"\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u0456\u043d\u0434\u0435\u043a\u0441\u0456\u0432","text":"<p>\u041f\u043e\u0447\u0438\u043d\u0430\u044e\u0447\u0438 \u0437 \u0432\u0435\u0440\u0441\u0456\u0457 5.3.0, \u0434\u0435\u044f\u043a\u0456 \u0434\u043e\u0434\u0430\u0442\u043a\u043e\u0432\u0456 \u0456\u043d\u0434\u0435\u043a\u0441\u0438 \u043c\u0430\u044e\u0442\u044c \u0431\u0443\u0442\u0438 \u0437\u0430\u0441\u0442\u043e\u0441\u043e\u0432\u0430\u043d\u0456 \u0432\u0440\u0443\u0447\u043d\u0443:</p> <pre><code>cd ~/src/openstreetmap-carto/\npsql -d gis -f indexes.sql\n</code></pre> <p>\u0421\u043a\u0440\u0438\u043f\u0442 \u043c\u0430\u0454 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u0438\u0442\u0438 <code>CREATE INDEX</code> 14 \u0440\u0430\u0437\u0456\u0432.</p>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-ubuntu-20-04-lts/#\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f-Shapefile","title":"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f Shapefile","text":"<p>\u041f\u043e\u043f\u0440\u0438 \u0442\u0435, \u0449\u043e \u0431\u0456\u043b\u044c\u0448\u0456\u0441\u0442\u044c \u0434\u0430\u043d\u0438\u0445 \u0434\u043b\u044f \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u043c\u0430\u043f\u0438 \u0431\u0435\u0440\u0435\u0442\u044c\u0441\u044f \u0437 \u0444\u0430\u0439\u043b\u0443 \u0437 \u0434\u0430\u043d\u0438\u043c\u0438 OpenStreetMap, \u044f\u043a\u0438\u0439 \u0432\u0438 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u043b\u0438 \u0440\u0430\u043d\u0456\u0448\u0435, \u0434\u0435\u044f\u043a\u0456 \u0444\u0430\u0439\u043b\u0438 \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0456 shapefile \u0432\u0441\u0435 \u0436 \u0442\u0430\u043a\u0456 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u0456 \u0434\u043b\u044f \u0442\u0430\u043a\u0438\u0445 \u0440\u0435\u0447\u0435\u0439, \u043d\u0430\u043f\u0440\u0438\u043a\u043b\u0430\u0434, \u044f\u043a \u043a\u043e\u0440\u0434\u043e\u043d\u0438 \u043a\u0440\u0430\u0457\u043d \u043d\u0430 \u0432\u0435\u043b\u0438\u043a\u0438\u0445 \u043c\u0430\u0441\u0448\u0442\u0430\u0431\u0430\u0445. \u0414\u043b\u044f \u0457\u0445 \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u044f \u0442\u0430 \u0456\u043d\u0434\u0435\u043a\u0441\u0430\u0446\u0456\u0457 \u0437\u0440\u043e\u0431\u0456\u0442\u044c:</p> <pre><code>cd ~/src/openstreetmap-carto/\nscripts/get-external-data.py\n</code></pre> <p>\u0426\u0435\u0439 \u043f\u0440\u043e\u0446\u0435\u0441 \u0432\u0438\u043c\u0430\u0433\u0430\u0454 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u0432\u0435\u043b\u0438\u043a\u043e\u0457 \u043f\u043e\u0440\u0446\u0456\u0457 \u0434\u0430\u043d\u0438\u0445 \u0442\u0430 \u0442\u0440\u0438\u0432\u0430\u0442\u0438\u043c\u0435 \u0434\u0435\u044f\u043a\u0438\u0439 \u0447\u0430\u0441 \u0431\u0435\u0437 \u0431\u0443\u0434\u044c-\u044f\u043a\u0438\u0445 \u043f\u043e\u043c\u0456\u0442\u043d\u0438\u0445 \u0437\u043c\u0456\u043d \u043d\u0430 \u0435\u043a\u0440\u0430\u043d\u0456. \u0412\u0456\u043d \u0444\u0430\u043a\u0442\u0438\u0447\u043d\u043e \u0440\u043e\u0431\u0438\u0442\u044c \u0437\u0430\u043f\u0438\u0441 \u0443 \u043f\u0456\u0434\u0442\u0435\u043a\u0443 \"data\" \u0432 \"openstreetmap-carto\".</p>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-ubuntu-20-04-lts/#\u0428\u0440\u0438\u0444\u0442\u0438","title":"\u0428\u0440\u0438\u0444\u0442\u0438","text":"<p>\u041f\u043e\u0447\u0438\u043d\u0430\u044e\u0447\u0438 \u0437 \u0432\u0435\u0440\u0441\u0456\u0457 v5.6.0 \u0448\u0440\u0438\u0444\u0442\u0438 \u0434\u043b\u044f Carto \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0438 \u0432\u0440\u0443\u0447\u043d\u0443:</p> <pre><code>cd ~/src/openstreetmap-carto/\nscripts/get-fonts.sh\n</code></pre> <p>\u041d\u0430\u0448\u0456 \u0442\u0435\u0441\u0442\u043e\u0432\u0456 \u0434\u0430\u043d\u0456 (\u0410\u0437\u0435\u0440\u0431\u0430\u0439\u0434\u0436\u0430\u043d) \u0431\u0443\u043b\u0438 \u043e\u0431\u0440\u0430\u043d\u0456 \u0447\u0435\u0440\u0435\u0437 \u0457\u0445 \u043d\u0435\u0432\u0435\u043b\u0438\u043a\u0438\u0439 \u043e\u0431\u0441\u044f\u0433, \u0430 \u0442\u0430\u043a\u043e\u0436 \u0447\u0435\u0440\u0435\u0437 \u0442\u0435, \u0449\u043e \u0430\u0440\u043c\u044f\u043d\u0441\u044c\u043a\u0430 \u043f\u0438\u0441\u0435\u043c\u043d\u0456\u0441\u0442\u044c \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454 \u0432\u043b\u0430\u0441\u043d\u0443 \u0430\u0431\u0435\u0442\u043a\u0443.</p>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-ubuntu-20-04-lts/#\u041d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f-\u0432\u0435\u0431-\u0441\u0435\u0440\u0432\u0435\u0440\u0430","title":"\u041d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f \u0432\u0435\u0431-\u0441\u0435\u0440\u0432\u0435\u0440\u0430","text":""},{"location":"uk/serving-tiles/manually-building-a-tile-server-ubuntu-20-04-lts/#\u041a\u043e\u043d\u0444\u0456\u0433\u0443\u0440\u0430\u0446\u0456\u044f-renderd","title":"\u041a\u043e\u043d\u0444\u0456\u0433\u0443\u0440\u0430\u0446\u0456\u044f renderd","text":"<p>\u041d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f <code>renderd</code> \u0437\u043d\u0430\u0445\u043e\u0434\u044f\u0442\u044c\u0441\u044f \u0443 \u0444\u0430\u0439\u043b\u0456 <code>/usr/local/etc/renderd.conf</code>. \u0412\u0456\u0434\u0440\u0435\u0434\u0430\u0433\u0443\u0454\u043c\u043e \u0439\u043e\u0433\u043e \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u043e\u0433\u043e \u0440\u0435\u0434\u0430\u043a\u0442\u043e\u0440\u0430, \u0442\u0430\u043a\u043e\u0433\u043e \u044f\u043a nano:</p> <pre><code>sudo nano /usr/local/etc/renderd.conf\n</code></pre> <p>\u041d\u0430\u043c \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0437\u043c\u0456\u043d\u0438\u0442\u0438 \u043f\u0430\u0440\u0443 \u0440\u044f\u0434\u043a\u0456\u0432. \u0412 \u0440\u043e\u0437\u0434\u0456\u043b\u0456 <code>renderd</code>:</p> <pre><code>num_threads=4\n</code></pre> <p>\u042f\u043a\u0449\u043e \u0443 \u0432\u0430\u0441 \u0434\u0435\u0441\u044c 2 \u0413\u0431 \u043e\u043f\u0435\u0440\u0430\u0442\u0438\u0432\u043d\u043e\u0457 \u043f\u0430\u043c\u02bc\u044f\u0442\u0456, \u043c\u043e\u0436\u043b\u0438\u0432\u043e \u0432\u0430\u043c \u0434\u043e\u0432\u0435\u0434\u0435\u0442\u044c\u0441\u044f \u0437\u043c\u0435\u043d\u0448\u0438\u0442\u0438 \u0446\u0435\u0439 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 \u0434\u043e 2. \u0420\u043e\u0437\u0434\u0456\u043b <code>ajt</code> \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u0430\u0454 \u0437\u0430 \"\u0456\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0439 \u0441\u0442\u0438\u043b\u044c \u043c\u0430\u043f\u0438\" \u0437 \u043d\u0430\u0437\u0432\u043e\u044e <code>ajt</code>. \u0412\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u043c\u0430\u0442\u0438 \u0431\u0456\u043b\u044c\u0448\u0435 \u043d\u0456\u0436 \u043e\u0434\u0438\u043d \u0442\u0430\u043a\u0438\u0439 \u0440\u043e\u0437\u0434\u0456\u043b, \u044f\u043a\u0449\u043e \u0442\u0440\u0435\u0431\u0430, \u0437\u0430 \u0443\u043c\u043e\u0432\u0438, \u0449\u043e \u0443 \u043d\u0438\u0445 \u0431\u0443\u0434\u0443\u0442\u044c \u0440\u0456\u0437\u043d\u0456 URI. \u0420\u044f\u0434\u043e\u043a <code>XML</code> \u0442\u0440\u0435\u0431\u0430 \u0431\u0443\u0434\u0435 \u0437\u043c\u0456\u043d\u0438\u0442\u0438 \u043d\u0430 \u043a\u0448\u0442\u0430\u043b\u0442:</p> <pre><code>XML=/home/renderaccount/src/openstreetmap-carto/mapnik.xml\n</code></pre> <p>\u0417\u0432\u0456\u0441\u043d\u043e, \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0431\u0443\u0434\u0435 \u0437\u0430\u043c\u0456\u043d\u0438\u0442\u0438 <code>renderaccount</code> \u043d\u0430 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430, \u044f\u043a\u043e\u0433\u043e \u0432\u0438 \u0441\u0442\u0432\u043e\u0440\u0438\u043b\u0438 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0456 \u0434\u043e \u0446\u044c\u043e\u0433\u043e.</p> <pre><code>URI=/hot/\n</code></pre> <p>\u0426\u0435\u0439 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 \u0431\u0443\u043b\u043e \u043e\u0431\u0440\u0430\u043d\u043e \u0434\u043b\u044f \u0442\u043e\u0433\u043e \u0449\u043e\u0431\u0438 \u0431\u0443\u043b\u043e \u043f\u0440\u043e\u0441\u0442\u0456\u0448\u0435 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0432\u0430\u0448\u0456 \u0442\u0430\u0439\u043b\u0438 \u0437\u0430\u043c\u0456\u0441\u0442\u044c \u0448\u0430\u0440\u0443 Humanitarian \u0437 \u0441\u0430\u0439\u0442\u0443 OpenStreetMap.org. \u0412\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u043a\u0430\u0437\u0430\u0442\u0438 \u0449\u043e\u0441\u044c \u0456\u043d\u0448\u0435, \u0430\u043b\u0435 <code>/hot/</code> \u0442\u0430\u043a\u043e\u0436 \u0433\u043e\u0434\u0438\u0442\u044c\u0441\u044f.</p>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-ubuntu-20-04-lts/#\u041a\u043e\u043d\u0444\u0456\u0433\u0443\u0440\u0430\u0446\u0456\u044f-Apache","title":"\u041a\u043e\u043d\u0444\u0456\u0433\u0443\u0440\u0430\u0446\u0456\u044f Apache","text":"<pre><code>sudo mkdir /var/lib/mod_tile\nsudo chown renderaccount /var/lib/mod_tile\n</code></pre> <pre><code>sudo mkdir /var/run/renderd\nsudo chown renderaccount /var/run/renderd\n</code></pre> <p>\u0422\u0435\u043f\u0435\u0440 \u043d\u0430\u043c \u0442\u0440\u0435\u0431\u0430 \u0432\u043a\u0430\u0437\u0430\u0442\u0438 Apache, \u0449\u043e \u043d\u0430\u043c \u0442\u0440\u0435\u0431\u0430 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 <code>mod_tile</code>, \u0432\u0456\u0434\u043a\u0440\u0438\u0454\u043c\u043e nano (\u0430\u0431\u043e \u0456\u043d\u0448\u0438\u0439 \u0440\u0435\u0434\u0430\u043a\u0442\u043e\u0440):</p> <pre><code>sudo nano /etc/apache2/conf-available/mod_tile.conf\n</code></pre> <p>\u0414\u043e\u0434\u0430\u0439\u0442\u0435 \u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0438\u0439 \u0440\u044f\u0434\u043e\u043a \u0443 \u0444\u0430\u0439\u043b:</p> <pre><code>LoadModule tile_module /usr/lib/apache2/modules/mod_tile.so\n</code></pre> <p>\u0437\u0431\u0435\u0440\u0435\u0436\u0456\u0442\u044c \u0439\u043e\u0433\u043e \u0442\u0430 \u0432\u0438\u043a\u043e\u043d\u0430\u0439\u0442\u0435 \u043a\u043e\u043c\u0430\u043d\u0434\u0443:</p> <pre><code>sudo a2enconf mod_tile\n</code></pre> <p>\u0423 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u044c \u0432\u0438 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0435, \u0449\u043e \u0432\u0430\u043c \u0442\u0440\u0435\u0431\u0430 \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u0438 \u0441\u0435\u0440\u0432\u0456\u0441 apache \u043a\u043e\u043c\u0430\u043d\u0434\u043e\u044e <code>service apache2 reload</code> \u0434\u043b\u044f \u0430\u043a\u0442\u0438\u0432\u0430\u0446\u0456\u0457 \u043d\u043e\u0432\u0438\u0445 \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u044c; \u0430\u043b\u0435 \u043c\u0438 \u043d\u0435 \u0431\u0443\u0434\u0435\u043c\u043e \u0440\u043e\u0431\u0438\u0442\u0438 \u0446\u044c\u043e\u0433\u043e \u0437\u0430\u0440\u0430\u0437.</p> <p>\u0417\u0430\u0440\u0430\u0437 \u043d\u0430\u043c \u0442\u0440\u0435\u0431\u0430 \u043f\u0456\u0434\u02bc\u0454\u0434\u043d\u0430\u0442\u0438 <code>renderd</code> \u0434\u043e Apache. \u0417\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e nano (\u0430\u0431\u043e \u0456\u043d\u0448\u043e\u0433\u043e \u0440\u0435\u0434\u0430\u043a\u0442\u043e\u0440\u0430):</p> <pre><code>sudo nano /etc/apache2/sites-available/000-default.conf\n</code></pre> <p>\u0414\u043e\u0434\u0430\u0439\u0442\u0435 \u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0435 \u043c\u0456\u0436 \u0440\u044f\u0434\u043a\u0430\u043c\u0438 <code>ServerAdmin</code> \u0442\u0430 <code>DocumentRoot</code>:</p> <pre><code>LoadTileConfigFile /usr/local/etc/renderd.conf\nModTileRenderdSocketName /var/run/renderd/renderd.sock\n# \u0427\u0430\u0441 \u043e\u0447\u0456\u043a\u0443\u0432\u0430\u043d\u043d\u044f, \u043f\u0435\u0440\u0448 \u043d\u0456\u0436 \u0432\u0456\u0434\u043c\u043e\u0432\u0438\u0442\u0438\u0441\u044c \u0432\u0456\u0434 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0456\u0457 \u0442\u0430\u0439\u043b\u0443\nModTileRequestTimeout 0\n# \u0427\u0430\u0441 \u043e\u0447\u0456\u043a\u0443\u0432\u0430\u043d\u043d\u044f, \u043f\u0435\u0440\u0448 \u043d\u0456\u0436 \u0432\u0456\u0434\u043c\u043e\u0432\u0438\u0442\u0438\u0441\u044c \u0432\u0456\u0434 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0456\u0457 \u0432\u0456\u0434\u0441\u0443\u0442\u043d\u044c\u043e\u0433\u043e \u0442\u0430\u0439\u043b\u0443\nModTileMissingRequestTimeout 30\n</code></pre> <p>\u0406 \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u0442\u0456\u0442\u044c apache \u0434\u0432\u0456\u0447\u0456:</p> <pre><code>sudo service apache2 reload\nsudo service apache2 reload\n</code></pre> <p>(\u0404 \u043f\u0456\u0434\u043e\u0437\u0440\u0438, \u0449\u043e Apache \u0442\u0440\u043e\u0445\u0438 \"\u043f\u0456\u0434\u0442\u0443\u043f\u043b\u044e\u0454\" \u043f\u0456\u0434 \u0447\u0430\u0441 \u0437\u043c\u0456\u043d\u0438 \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u044c \u043d\u0430 \u0445\u043e\u0434\u0443, \u0442\u043e\u0436 \u043d\u0430 \u0432\u0441\u044f\u043a \u0432\u0438\u043f\u0430\u0434\u043e\u043a \u0446\u0435 \u0442\u0440\u0435\u0431\u0430 \u0437\u0440\u043e\u0431\u0438\u0442\u0438 \u0434\u0432\u0456\u0447\u0456).</p> <p>\u042f\u043a\u0449\u043e \u0432\u0438 \u043f\u0435\u0440\u0435\u0439\u0434\u0435\u0442\u0435 \u0432 \u043e\u0433\u043b\u044f\u0434\u0430\u0447\u0456 \u043d\u0430: <code>http://ip.\u0432\u0430\u0448\u043e\u0433\u043e.\u0441\u0435\u0440\u0432\u0435\u0440\u0430/index.html</code>, \u0432\u0438 \u043c\u0430\u0454\u0442\u0435 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0438 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u0443 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0443 apache \u0432 Ubuntu\u00a0\u2013 \"It works!\".</p> <p>\u041f\u043e\u0440\u0430\u0434\u0430</p> <p>\u044f\u043a\u0449\u043e \u0432\u0438 \u043d\u0435 \u0437\u043d\u0430\u0454\u0442\u0435 IP \u0430\u0434\u0440\u0435\u0441\u0443 \u043f\u0440\u0438\u0437\u043d\u0430\u0447\u0435\u043d\u0443 \u0441\u0435\u0440\u0432\u0435\u0440\u0443, \u0457\u0457 \u043c\u043e\u0436\u043d\u0430 \u0434\u0456\u0437\u043d\u0430\u0442\u0438\u0441\u044c \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e \u043a\u043e\u043c\u0430\u043d\u0434\u0438 <code>ifconfig</code>\u00a0\u2013 \u044f\u043a\u0449\u043e \u043c\u0435\u0440\u0435\u0436\u0435\u0432\u0456 \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f \u043d\u0435 \u043d\u0430\u0434\u0442\u043e \u0441\u043a\u043b\u0430\u0434\u043d\u0456, \u0442\u043e \u0446\u0435 \u043c\u0430\u0454 \u0431\u0443\u0442\u0438 \u0449\u043e\u0441\u044c \u0442\u0438\u043f\u0443 <code>inet addr</code> \u0432\u0456\u0434\u043c\u0456\u043d\u043d\u0435 \u0432\u0456\u0434 <code>127.0.0.1</code>.</p> <p>\u042f\u043a\u0449\u043e \u0432\u0438 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u0435 \u0441\u0435\u0440\u0432\u0435\u0440 \u043f\u043e\u0441\u0442\u0430\u0447\u0430\u043b\u044c\u043d\u0438\u043a\u0430 \u043f\u043e\u0441\u043b\u0443\u0433 \u0445\u043e\u0441\u0442\u0438\u043d\u0433\u0443, \u0442\u043e, \u0448\u0432\u0438\u0434\u0448\u0435 \u0437\u0430 \u0432\u0441\u0435, \u0432\u043d\u0443\u0442\u0440\u0456\u0448\u043d\u044f \u0430\u0434\u0440\u0435\u0441\u0430 \u0432\u0430\u0448\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0431\u0443\u0434\u0435 \u0432\u0456\u0434\u0440\u0456\u0437\u043d\u044f\u0442\u0438\u0441\u044f \u0432\u0456\u0434 \u0437\u043e\u0432\u043d\u0456\u0448\u043d\u044c\u043e\u0457 \u0430\u0434\u0440\u0435\u0441\u0438, \u044f\u043a\u0430 \u0431\u0443\u043b\u0430 \u043d\u0430\u0434\u0430\u043d\u0430 \u0432\u0430\u043c, \u0430\u043b\u0435 \u0446\u044f \u0437\u043e\u0432\u043d\u0456\u0448\u043d\u044f IP-\u0430\u0434\u0440\u0435\u0441\u0430 \u0432\u0436\u0435 \u0431\u0443\u0434\u0435 \u043d\u0430\u0434\u0456\u0441\u043b\u0430\u043d\u0430 \u0432\u0430\u043c, \u0456, \u0439\u043c\u043e\u0432\u0456\u0440\u043d\u043e, \u0432\u0438 \u0457\u0457 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u0435 \u0437\u0430\u0440\u0430\u0437 \u0434\u043b\u044f \u0434\u043e\u0441\u0442\u0443\u043f\u0443 \u0434\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430.</p> <p>\u0417\u0430\u0443\u0432\u0430\u0436\u0442\u0435, \u0449\u043e \u0446\u0435 \u043b\u0438\u0448\u0435 \u0441\u0430\u0439\u0442 <code>http</code> (\u043f\u043e\u0440\u0442 80)\u00a0\u2013 \u0432\u0430\u043c \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0432\u0438\u0442\u0440\u0430\u0442\u0438\u0442\u0438 \u0442\u0440\u043e\u0445\u0438 \u0431\u0456\u043b\u044c\u0448\u0435 \u0447\u0430\u0441\u0443 \u0434\u043b\u044f \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f Apache \u043d\u0430 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f <code>https</code>, \u0430\u043b\u0435 \u0446\u0435 \u0432\u0438\u0445\u043e\u0434\u0438\u0442\u044c \u0437\u0430 \u043c\u0435\u0436\u0456 \u0446\u0438\u0445 \u0456\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0456\u0439. \u041e\u0434\u043d\u0430\u043a \u044f\u043a\u0449\u043e \u0432\u0438 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u0435 \"Let's Encrypt\" \u0434\u043b\u044f \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u044f \u0441\u0435\u0440\u0442\u0438\u0444\u0456\u043a\u0430\u0442\u0456\u0432, \u0456\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0456\u044f \u0437\u0456 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u043c\u043e\u0436\u0435 \u0442\u0430\u043a\u043e\u0436 \u043c\u0456\u0441\u0442\u0438\u0442\u0438 \u043f\u043e\u0440\u0430\u0434\u0438 \u0449\u043e\u0434\u043e \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f \u0441\u0430\u0439\u0442\u0443 Apache \u0434\u043b\u044f \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f https.</p>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-ubuntu-20-04-lts/#\u041f\u0435\u0440\u0448\u0438\u0439-\u0437\u0430\u043f\u0443\u0441\u043a-renderd","title":"\u041f\u0435\u0440\u0448\u0438\u0439 \u0437\u0430\u043f\u0443\u0441\u043a renderd","text":"<p>\u0414\u0430\u043b\u0456, \u043d\u0430\u043c \u0442\u0440\u0435\u0431\u0430 \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u0438 <code>renderd</code>, \u0449\u043e\u0431 \u0441\u043f\u0440\u043e\u0431\u0443\u0432\u0430\u0442\u0438 \u0437\u0433\u0435\u043d\u0435\u0440\u0443\u0432\u0430\u0442\u0438 \u043a\u0456\u043b\u044c\u043a\u0430 \u0442\u0430\u0439\u043b\u0456\u0432. \u0421\u043f\u043e\u0447\u0430\u0442\u043a\u0443 \u043c\u0438 \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u043c\u043e \u0439\u043e\u0433\u043e \u0442\u0430\u043a, \u0449\u043e\u0431 \u043c\u0438 \u043c\u0430\u043b\u0438 \u0437\u043c\u043e\u0433\u0443 \u0432\u0456\u0434\u0441\u0442\u0435\u0436\u0438\u0442\u0438 \u043f\u043e\u044f\u0432\u0443 \u043f\u043e\u043c\u0438\u043b\u043e\u043a:</p> <pre><code>renderd -f -c /usr/local/etc/renderd.conf\n</code></pre> <p>\u0412\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0438 \u043a\u0456\u043b\u044c\u043a\u0430 \u043f\u043e\u043f\u0435\u0440\u0435\u0434\u0436\u0435\u043d\u044c, \u0430\u043b\u0435 \u043d\u0435 \u0442\u0443\u0440\u0431\u0443\u0439\u0442\u0435\u0441\u044f \u043f\u0440\u043e \u0446\u0435. \u0413\u043e\u043b\u043e\u0432\u043d\u0435, \u0449\u043e\u0431 \u043d\u0435 \u0431\u0443\u043b\u043e \u043f\u043e\u043c\u0438\u043b\u043e\u043a. \u0412 \u0440\u0430\u0437\u0456 \u043f\u043e\u044f\u0432\u0438 \u043f\u043e\u043c\u0438\u043b\u043e\u043a, \u0437\u0431\u0435\u0440\u0435\u0436\u0456\u0442\u044c \u043f\u043e\u0432\u043d\u0438\u0439 \u0432\u0438\u0432\u0456\u0434, \u043d\u0430\u043f\u0440\u0438\u043a\u043b\u0430\u0434 \u043d\u0430 pastebin, \u0442\u0430 \u0437\u0432\u0435\u0440\u043d\u0456\u0442\u044c\u0441\u044f \u043f\u043e \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u0443, \u043d\u0430\u043f\u0440\u0438\u043a\u043b\u0430\u0434, \u043d\u0430 <code>community.openstreetmap.org</code> (\u0434\u0430\u0439\u0442\u0435 \u043f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f \u043d\u0430 pastebin\u00a0\u2013 \u043d\u0435 \u0432\u043a\u043b\u044e\u0447\u0430\u0439\u0442\u0435 \u0432\u0435\u0441\u044c \u0432\u0438\u0432\u0456\u0434 \u0434\u043e \u043f\u0438\u0442\u0430\u043d\u043d\u044f).</p> <p>\u0412\u0456\u0434\u043a\u0440\u0438\u0439\u0442\u0435 \u0443 \u0441\u0435\u0431\u0435 \u0432 \u043e\u0433\u043b\u044f\u0434\u0430\u0447\u0456 \u043f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f: <code>http://ip.\u0432\u0430\u0448\u043e\u0433\u043e.\u0441\u0435\u0440\u0432\u0435\u0440\u0430/hot/0/0/0.png</code></p> <p>\u0412\u0438 \u043c\u0430\u0454\u0442\u0435 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0438 \u043c\u0430\u043f\u0443 \u0441\u0432\u0456\u0442\u0443 \u0443 \u0432\u0430\u0448\u043e\u043c\u0443 \u043e\u0433\u043b\u044f\u0434\u0430\u0447\u0456 \u0442\u0430 \u043a\u0456\u043b\u044c\u043a\u0430 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u044c \u0432 \u0442\u0435\u0440\u043c\u0456\u043d\u0430\u043b\u0456, \u0432\u043a\u043b\u044e\u0447\u0430\u044e\u0447\u0438 \"DEBUG: START TILE\" \u0442\u0430 \"DEBUG: DONE TILE\". \u041d\u0435 \u0437\u0432\u0435\u0440\u0442\u0430\u0439\u0442\u0435 \u0443\u0432\u0430\u0433\u0438 \u043d\u0430 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f \"DEBUG: Failed to read cmd on fd\"\u00a0\u2013 \u0446\u0435 \u043d\u0435 \u043f\u043e\u043c\u0438\u043b\u043a\u0430. \u042f\u043a\u0449\u043e \u0432\u0438 \u043d\u0435 \u043f\u043e\u0431\u0430\u0447\u0438\u043b\u0438 \u0446\u044c\u043e\u0433\u043e \u0442\u0430\u0439\u043b\u0443 \u0442\u0430 \u043e\u0442\u0440\u0438\u043c\u0430\u043b\u0438 \u0456\u043d\u0448\u0456 \u043f\u043e\u043c\u0438\u043b\u043a\u0438, \u0437\u043d\u043e\u0432, \u0437\u0431\u0435\u0440\u0435\u0436\u0456\u0442\u044c \u0432\u0438\u0432\u0456\u0434 \u043d\u0430 pastebin \u0442\u0430 \u0437\u0432\u0435\u0440\u043d\u0456\u0442\u044c\u0441\u044f \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e, \u043d\u0430\u043f\u0440\u0438\u043a\u043b\u0430\u0434 <code>community.openstreetmap.org</code>.</p> <p>\u042f\u043a\u0449\u043e \u0432\u0441\u0435 \u043f\u0440\u0430\u0446\u044e\u0454, \u043d\u0430\u0442\u0438\u0441\u043d\u0456\u0442\u044c Ctrl+C \u0434\u043b\u044f \u0437\u0443\u043f\u0438\u043d\u043a\u0438 \u043f\u0440\u043e\u0446\u0435\u0441\u0443 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0456\u0457 \u0442\u0430\u0439\u043b\u0456\u0432.</p>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-ubuntu-20-04-lts/#\u0417\u0430\u043f\u0443\u0441\u043a-renderd-\u0432-\u0444\u043e\u043d\u043e\u0432\u043e\u043c\u0443-\u0440\u0435\u0436\u0438\u043c\u0456","title":"\u0417\u0430\u043f\u0443\u0441\u043a renderd \u0432 \u0444\u043e\u043d\u043e\u0432\u043e\u043c\u0443 \u0440\u0435\u0436\u0438\u043c\u0456","text":"<p>\u0414\u0430\u043b\u0456 \u043c\u0438 \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0454\u043c\u043e <code>renderd</code> \u0434\u043b\u044f \u0440\u043e\u0431\u043e\u0442\u0438 \u0432 \u0444\u043e\u043d\u043e\u0432\u043e\u043c\u0443 \u0440\u0435\u0436\u0438\u043c\u0456. \u041f\u043e-\u043f\u0435\u0440\u0448\u0435, \u0437\u043c\u0456\u043d\u0456\u0442\u044c \u0444\u0430\u0439\u043b <code>~/src/mod_tile/debian/renderd.init</code> \u0442\u0430 \u0432\u043a\u0430\u0436\u0456\u0442\u044c \u0443 <code>RUNASUSER</code> \u0442\u043e\u0433\u043e \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430, \u044f\u043a\u043e\u0433\u043e \u0432\u0438 \u0441\u0442\u0432\u043e\u0440\u0438\u043b\u0438 \u0434\u043e \u0446\u044c\u043e\u0433\u043e, \u0437\u0430\u043c\u0456\u0441\u0442\u044c <code>renderaccount</code>, \u043f\u043e\u0442\u0456\u043c \u0441\u043a\u043e\u043f\u0456\u044e\u0439\u0442\u0435 \u0439\u043e\u0433\u043e \u0434\u043e \u0442\u0435\u043a\u0438 system:</p> <pre><code>nano ~/src/mod_tile/debian/renderd.init\nsudo cp ~/src/mod_tile/debian/renderd.init /etc/init.d/renderd\nsudo chmod u+x /etc/init.d/renderd\nsudo cp ~/src/mod_tile/debian/renderd.service /lib/systemd/system/\n</code></pre> <p>\u0424\u0430\u0439\u043b <code>renderd.service</code>\u00a0\u2013 \u0446\u0435 \u0444\u0430\u0439\u043b \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u043e\u0457 \u0441\u043b\u0443\u0436\u0431\u0438 <code>systemd</code>. \u0412\u0435\u0440\u0441\u0456\u044f \u0437\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0430 \u0442\u0443\u0442 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454 \u043a\u043e\u043c\u0430\u043d\u0434\u0438 init. \u0429\u043e\u0431 \u043f\u0435\u0440\u0435\u043a\u043e\u043d\u0430\u0442\u0438\u0441\u044c \u0449\u043e \u043a\u043e\u043c\u0430\u043d\u0434\u0430 \u0437\u0430\u043f\u0443\u0441\u043a\u0443 \u0432\u0456\u0434\u043f\u0440\u0430\u0446\u044c\u043e\u0432\u0443\u0454, \u0437\u0430\u043f\u0443\u0441\u0442\u0456\u0442\u044c:</p> <pre><code>sudo /etc/init.d/renderd start\n</code></pre> <p>(\u043c\u0430\u0454\u0442\u0435 \u043e\u0442\u0440\u0438\u043c\u0430\u0442\u0438 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u044c\u00a0\u2013 \"[ ok ] Starting renderd (via systemctl): renderd.service\".)</p> <p>\u0414\u043b\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u043d\u043e\u0433\u043e \u0437\u0430\u043f\u0443\u0441\u043a\u0443 \u043a\u043e\u0436\u043d\u043e\u0433\u043e \u0440\u0430\u0437\u0443, \u0432\u0432\u0456\u043c\u043a\u043d\u0456\u0442\u044c renderd \u043a\u043e\u043c\u0430\u043d\u0434\u043e\u044e:</p> <pre><code>sudo systemctl enable renderd\n</code></pre>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-ubuntu-20-04-lts/#\u041f\u0435\u0440\u0435\u0433\u043b\u044f\u0434-\u0442\u0430\u0439\u043b\u0456\u0432","title":"\u041f\u0435\u0440\u0435\u0433\u043b\u044f\u0434 \u0442\u0430\u0439\u043b\u0456\u0432","text":"<p>\u0414\u043b\u044f \u0442\u043e\u0433\u043e, \u0449\u043e\u0431 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0438 \u0442\u0430\u0439\u043b\u0438, \u043c\u0438 \u0442\u0440\u043e\u0445\u0438 \u0437\u043c\u0430\u0445\u043b\u044e\u0454\u043c\u043e \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u044e\u0447\u0438\u0441\u044c \u0444\u0430\u0439\u043b\u043e\u043c <code>sample_leaflet.html</code> \u0437 \u0442\u0435\u043a\u0438 \u201cextras\u201d \u0432 mod_tile. \u041f\u0440\u043e\u0441\u0442\u043e \u0432\u0456\u0434\u043a\u0440\u0438\u0439\u0442\u0435 \u0446\u0435\u0439 \u0444\u0430\u0439\u043b \u0443 \u0432\u0435\u0431\u043e\u0433\u043b\u044f\u0434\u0430\u0447\u0456 \u043d\u0430 \u043a\u043e\u043c\u043f\u02bc\u044e\u0442\u0435\u0440\u0456 \u0434\u0435 \u0432\u0438 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u043b\u0438 \u0442\u0430\u0439\u043b\u043e\u0432\u0438\u0439 \u0441\u0435\u0440\u0432\u0435\u0440. \u042f\u043a\u0449\u043e \u0446\u0435 \u043d\u0435 \u043c\u043e\u0436\u043b\u0438\u0432\u043e\u00a0\u2013 \u0432\u0438 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u043b\u0438 \u0442\u0430\u0439\u043b-\u0441\u0435\u0440\u0432\u0435\u0440 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0456 \u0434\u0435 \u043d\u0435\u043c\u0430\u0454 \u0432\u0435\u0431\u043e\u0433\u043b\u044f\u0434\u0430\u0447\u0430, \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0437\u0430\u043c\u0456\u043d\u0438\u0442\u0438 <code>127.0.0.1</code> \u043d\u0430 IP \u0430\u0434\u0440\u0435\u0441\u0443 \u0441\u0435\u0440\u0432\u0435\u0440\u0430, \u043f\u0456\u0441\u043b\u044f \u0447\u043e\u0433\u043e \u0441\u043a\u043e\u043f\u0456\u044e\u0439\u0442\u0435 \u0439\u043e\u0433\u043e \u0432 <code>/var/www/html</code>.</p> <p>\u0427\u0435\u0440\u0435\u0437 ssh-\u0437\u02bc\u0454\u0434\u043d\u0430\u043d\u043d\u044f \u0432\u0438\u043a\u043e\u043d\u0430\u0439\u0442\u0435 \u043a\u043e\u043c\u0430\u043d\u0434\u0443:</p> <pre><code>tail -f /var/log/syslog | grep \" TILE \"\n</code></pre> <p>(\u0437\u0432\u0435\u0440\u043d\u0456\u0442\u044c \u0443\u0432\u0430\u0433\u0443 \u043d\u0430 \u043f\u0440\u043e\u0431\u0456\u043b\u0438 \u0434\u043e\u0432\u043a\u043e\u043b\u0430 <code>\" TILE \"</code>)</p> <p>\u0423 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u044c \u0432\u0438 \u043e\u0442\u0440\u0438\u043c\u0443\u0432\u0430\u0442\u0438\u043c\u0435\u0442\u0435 \u043f\u043e \u0440\u044f\u0434\u043a\u0443 \u043a\u043e\u0436\u043d\u043e\u0433\u043e \u0440\u0430\u0437\u0443, \u043a\u043e\u043b\u0438 \u0431\u0443\u0434\u0435 \u043f\u0440\u0438\u0445\u043e\u0434\u0438\u0442\u0438 \u0437\u0430\u043f\u0438\u0442 \u043d\u0430 \u043f\u043e\u043a\u0430\u0437 \u0442\u0430\u0439\u043b\u0456\u0432, \u0430\u0431\u043e \u0431\u0443\u0434\u0435 \u0437\u0430\u043a\u0456\u043d\u0447\u0443\u0432\u0430\u0442\u0438\u0441\u044c \u0457\u0445 \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f.</p> <p>\u041f\u0456\u0434 \u0447\u0430\u0441 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0438 \u0432\u0438 \u043c\u0430\u0454\u0442\u0435 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0438 \u043a\u0456\u043b\u044c\u043a\u0430 \u0437\u0430\u043f\u0438\u0442\u0456\u0432 \u043d\u0430 \u043f\u043e\u043a\u0430\u0437 \u0442\u0430\u0439\u043b\u0456\u0432. \u0412\u0456\u0434\u0434\u0430\u043b\u044f\u0439\u0442\u0435\u0441\u044c \u043f\u043e\u0441\u0442\u0443\u043f\u043e\u0432\u043e. \u0412\u0438 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0435, \u0437\u0430\u043f\u0438\u0442\u0438 \u043d\u0430 \u043d\u043e\u0432\u0456 \u0442\u0430\u0439\u043b\u0438 \u0437\u02bc\u044f\u0432\u043b\u044f\u0442\u0438\u043c\u0443\u0442\u044c\u0441\u044f \u0443 \u0432\u0430\u0448\u043e\u043c\u0443 ssh-\u0437\u02bc\u0454\u0434\u043d\u0430\u043d\u043d\u0456. \u0414\u0435\u044f\u043a\u0456 \u0442\u0430\u0439\u043b\u0438 \u043d\u0430 \u043a\u0440\u0443\u043f\u043d\u0438\u0445 \u043c\u0430\u0441\u0448\u0442\u0430\u0431\u0430\u0445 \u0432\u0438\u043c\u0430\u0433\u0430\u044e\u0442\u044c \u0431\u0430\u0433\u0430\u0442\u043e \u0447\u0430\u0441\u0443 \u043d\u0430 \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f (\u043a\u0456\u043b\u044c\u043a\u0430 \u0445\u0432\u0438\u043b\u0438\u043d) \u043f\u0435\u0440\u0448\u043e\u0433\u043e \u0440\u0430\u0437\u0443, \u0430\u043b\u0435 \u043f\u0456\u0441\u043b\u044f \u0442\u043e\u0433\u043e, \u044f\u043a \u0432\u043e\u043d\u0438 \u0431\u0443\u0434\u0443\u0442\u044c \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u0456, \u0432\u043e\u043d\u0438 \u0431\u0443\u0434\u0443\u0442\u044c \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0456 \u0434\u043b\u044f \u043f\u043e\u043a\u0430\u0437\u0443 \u043c\u0438\u0442\u0442\u0454\u0432\u043e.</p> <p>\u0412\u0456\u0442\u0430\u0454\u043c\u043e! \u0422\u0435\u043f\u0435\u0440 \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u0432\u0435\u0440\u043d\u0443\u0442\u0438\u0441\u044c \u0434\u043e \u0440\u043e\u0437\u0434\u0456\u043b\u0443 \u0412\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f \u0442\u0430\u0439\u043b\u0456\u0432 \u0434\u043b\u044f \u0434\u043e\u0434\u0430\u0432\u0430\u043d\u043d\u044f \u043c\u0430\u043f\u0438, \u0449\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454 \u0432\u0430\u0448 \u043d\u043e\u0432\u0438\u0439 \u0442\u0430\u0439\u043b\u043e\u0432\u0438\u0439 \u0441\u0435\u0440\u0432\u0435\u0440.</p>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-ubuntu-22-04-lts/","title":"\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u0442\u0430\u0439\u043b\u043e\u0432\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0432\u0440\u0443\u0447\u043d\u0443 (Ubuntu 22.04)","text":""},{"location":"uk/serving-tiles/manually-building-a-tile-server-ubuntu-22-04-lts/#\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f-\u0442\u0430\u0439\u043b\u043e\u0432\u043e\u0433\u043e-\u0441\u0435\u0440\u0432\u0435\u0440\u0430-\u0432\u0440\u0443\u0447\u043d\u0443-Ubuntu-2204","title":"\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u0442\u0430\u0439\u043b\u043e\u0432\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0432\u0440\u0443\u0447\u043d\u0443 (Ubuntu 22.04)","text":"<p>\u041d\u0430 \u0446\u0456\u0439 \u0441\u0442\u043e\u0440\u0456\u043d\u0446\u0456 \u043c\u0456\u0441\u0442\u0438\u0442\u044c\u0441\u044f \u043e\u043f\u0438\u0441 \u0437\u0456 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f, \u0440\u043e\u0437\u0433\u043e\u0440\u0442\u0430\u043d\u043d\u044f \u0442\u0430 \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f \u0432\u0441\u044c\u043e\u0433\u043e \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e\u0433\u043e \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043d\u043e\u0433\u043e \u0437\u0430\u0431\u0435\u0437\u043f\u0435\u0447\u0435\u043d\u043d\u044f \u0434\u043b\u044f \u0440\u043e\u0431\u043e\u0442\u0438 \u0432\u0430\u0448\u043e\u0433\u043e \u0442\u0430\u0439\u043b\u043e\u0432\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430. \u041f\u043e\u043a\u0440\u043e\u043a\u043e\u0432\u0456 \u0456\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0456\u0457 \u043e\u043f\u0438\u0441\u0443\u044e\u0442\u044c \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u0442\u0430\u0439\u043b\u043e\u0432\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u043d\u0430 Ubuntu Linux 22.04 (Jammy Jellyfish), \u0432\u043e\u043d\u0438 \u0431\u0443\u043b\u0438 \u043f\u0435\u0440\u0435\u0432\u0456\u0440\u0435\u043d\u0456 \u0443 \u043a\u0432\u0456\u0442\u043d\u0456 2022.</p>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-ubuntu-22-04-lts/#\u0412\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f-\u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043d\u043e\u0433\u043e-\u0437\u0430\u0431\u0435\u0437\u043f\u0435\u0447\u0435\u043d\u043d\u044f","title":"\u0412\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043d\u043e\u0433\u043e \u0437\u0430\u0431\u0435\u0437\u043f\u0435\u0447\u0435\u043d\u043d\u044f","text":"<p>\u0422\u0430\u0439\u043b\u043e\u0432\u0438\u0439 \u0441\u0435\u0440\u0432\u0435\u0440 OpenStreetMap\u00a0\u2013 \u0446\u0435 \u043d\u0430\u0431\u0456\u0440 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043d\u043e\u0433\u043e \u0437\u0430\u0431\u0435\u0437\u043f\u0435\u0447\u0435\u043d\u043d\u044f \u0442\u0430 \u0431\u0456\u0431\u043b\u0456\u043e\u0442\u0435\u043a, \u044f\u043a\u0456 \u043f\u0440\u0430\u0446\u044e\u044e\u0442\u044c \u0440\u0430\u0437\u043e\u043c \u0433\u0435\u043d\u0435\u0440\u0443\u044e\u0447\u0438 \u0442\u0430\u0439\u043b\u0438. \u042f\u043a \u0446\u0435 \u0442\u0440\u0430\u043f\u043b\u044f\u0454\u0442\u044c\u0441\u044f \u0434\u043e\u0432\u043e\u043b\u0456 \u0447\u0430\u0441\u0442\u043e \u0432 OpenStreetMap, \u0456\u0441\u043d\u0443\u0454 \u043a\u0456\u043b\u044c\u043a\u0430 \u0440\u0456\u0437\u043d\u0438\u0445 \u0448\u043b\u044f\u0445\u0456\u0432 \u0434\u043b\u044f \u0434\u043e\u0441\u044f\u0433\u043d\u0435\u043d\u043d\u044f \u043c\u0435\u0442\u0438 \u0456 \u043c\u0430\u0439\u0436\u0435 \u043a\u043e\u0436\u0435\u043d \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442 \u043c\u0430\u0454 \u0430\u043b\u044c\u0442\u0435\u0440\u043d\u0430\u0442\u0438\u0432\u0443, \u0437 \u0432\u043b\u0430\u0441\u043d\u0438\u043c\u0438 \u043d\u0435\u0434\u043e\u043b\u0456\u043a\u0430\u043c\u0438 \u0442\u0430 \u043f\u0435\u0440\u0435\u0432\u0430\u0433\u0430\u043c\u0438. \u0426\u0435\u0439 \u043f\u043e\u0441\u0456\u0431\u043d\u0438\u043a \u043e\u043f\u0438\u0441\u0443\u0454 \u043d\u0430\u0439\u0431\u0456\u043b\u044c\u0448 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u0443 \u0432\u0435\u0440\u0441\u0456\u044e, \u0449\u043e \u0441\u0445\u043e\u0436\u0430 \u043d\u0430 \u0442\u0435, \u0449\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f \u0433\u043e\u043b\u043e\u0432\u043d\u0438\u043c \u0442\u0430\u0439\u043b\u043e\u0432\u0438\u043c \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c OpenStreetMap.</p> <p>\u0422\u0430\u0439\u043b\u043e\u0432\u0438\u0439 \u0441\u0435\u0440\u0432\u0435\u0440 \u0441\u043a\u043b\u0430\u0434\u0430\u0454\u0442\u044c\u0441\u044f \u0437 \u043f\u02bc\u044f\u0442\u0438 \u0433\u043e\u043b\u043e\u0432\u043d\u0438\u0445 \u0447\u0430\u0441\u0442\u0438\u043d: <code>mod_tile</code>, <code>renderd</code>, <code>mapnik</code>, <code>osm2pgsql</code> \u0442\u0430 \u0431\u0430\u0437\u0430 \u0434\u0430\u043d\u0438\u0445 <code>postgresql/postgis</code>. Mod_tile\u00a0\u2013 \u043c\u043e\u0434\u0443\u043b\u044c \u0441\u0435\u0440\u0432\u0435\u0440\u0430 Apache, \u044f\u043a\u0438\u0439 \u043e\u0431\u0441\u043b\u0443\u0433\u043e\u0432\u0443\u0454 \u0442\u0430\u0439\u043b\u043e\u0432\u0438\u0439 \u043a\u0435\u0448 \u0442\u0430 \u0432\u0438\u0437\u043d\u0430\u0447\u0430\u0454 \u044f\u043a\u0456 \u0442\u0430\u0439\u043b\u0438 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u043f\u0435\u0440\u0435\u0433\u0435\u043d\u0435\u0440\u0443\u0432\u0430\u0442\u0438, \u0447\u0435\u0440\u0435\u0437 \u0457\u0445 \u0432\u0456\u0434\u0441\u0443\u0442\u043d\u0456\u0441\u0442\u044c \u0443 \u043a\u0435\u0448\u0456 \u0430\u0431\u043e \u0442\u043e\u043c\u0443, \u0449\u043e \u0432\u043e\u043d\u0438 \u0437\u0430\u0441\u0442\u0430\u0440\u0456\u043b\u0438. Renderd \u0432\u0438\u0437\u043d\u0430\u0447\u0430\u0454 \u043f\u0440\u0456\u043e\u0440\u0438\u0442\u0435\u0442\u0438 \u0432 \u0447\u0435\u0440\u0433\u0430\u0445 \u0440\u0456\u0437\u043d\u043e\u0433\u043e \u0448\u0442\u0438\u0431\u0443 \u0437\u0430\u043f\u0438\u0442\u0456\u0432 \u0434\u043b\u044f \u0437\u0433\u043b\u0430\u0434\u0436\u0443\u0432\u0430\u043d\u043d\u044f \u043d\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f. Mapnik\u00a0\u2013 \u0431\u0456\u0431\u043b\u0456\u043e\u0442\u0435\u043a\u0430, \u044f\u043a\u0430 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u0430\u0454 \u0431\u0435\u0437\u043f\u043e\u0441\u0435\u0440\u0435\u0434\u043d\u044c\u043e \u0437\u0430 \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u0442\u0430\u0439\u043b\u0456\u0432 \u0437 \u0447\u0435\u0440\u0433\u0438, \u044f\u043a\u043e\u044e \u043a\u0435\u0440\u0443\u0454 renderd.</p> <p>\u0417\u0430\u0432\u0434\u044f\u043a\u0438 \u0440\u043e\u0431\u043e\u0442\u0456, \u0432\u0438\u043a\u043e\u043d\u0430\u043d\u0456\u0439 \u0441\u0443\u043f\u0440\u043e\u0432\u043e\u0434\u0436\u0443\u0432\u0430\u0447\u0430\u043c\u0438 Debian \u0442\u0430 Ubuntu, \u043f\u043e \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u043d\u044e \u043e\u0441\u0442\u0430\u043d\u043d\u0456\u0445 \u0432\u0435\u0440\u0441\u0456\u0457 \u0446\u0438\u0445 \u043f\u0430\u043a\u0443\u043d\u043a\u0456\u0432 \u0443 Ubuntu 22.04, \u0446\u044f \u0456\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0456\u044f \u0454 \u0434\u0435\u0449\u043e \u043a\u043e\u0440\u043e\u0442\u0448\u043e\u044e, \u043d\u0456\u0436 \u0457\u0457 \u043f\u043e\u043f\u0435\u0440\u0435\u0434\u043d\u0456 \u0432\u0435\u0440\u0441\u0456\u0457.</p> <p>\u0417\u0430\u0443\u0432\u0430\u0436\u0442\u0435, \u0449\u043e \u0446\u0435 \u043a\u0435\u0440\u0456\u0432\u043d\u0438\u0446\u0442\u0432\u043e \u0431\u0443\u043b\u043e \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u0435 \u0442\u0430 \u043f\u0440\u043e\u0442\u0435\u0441\u0442\u043e\u0432\u0430\u043d\u0435 \u0437 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f\u043c \u043d\u043e\u0432\u043e\u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0437 \u043e\u043f\u0435\u0440\u0430\u0446\u0456\u0439\u043d\u043e\u044e \u0441\u0438\u0441\u0442\u0435\u043c\u043e\u044e Ubuntu 22.04. \u042f\u043a\u0449\u043e \u0443 \u0432\u0430\u0441 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0456 \u0456\u043d\u0448\u0456 \u0432\u0435\u0440\u0441\u0456\u0457 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043d\u043e\u0433\u043e \u0437\u0430\u0431\u0435\u0437\u043f\u0435\u0447\u0435\u043d\u043d\u044f (\u043c\u043e\u0436\u043b\u0438\u0432\u043e \u0432\u0438 \u043e\u043d\u043e\u0432\u0438\u043b\u0438\u0441\u044c \u0437 \u043f\u043e\u043f\u0435\u0440\u0435\u0434\u043d\u044c\u043e\u0457 \u0432\u0435\u0440\u0441\u0456\u0457, \u0430\u0431\u043e \u0443 \u0432\u0430\u0441 \u043f\u0456\u0434\u02bc\u0454\u0434\u043d\u0430\u043d\u0456 \u0456\u043d\u0448\u0456 \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0456\u0457 PPA), \u043c\u043e\u0436\u043b\u0438\u0432\u043e \u0432\u0430\u043c \u0434\u043e\u0432\u0435\u0434\u0435\u0442\u044c\u0441\u044f \u0432\u043d\u0435\u0441\u0442\u0438 \u043f\u0435\u0432\u043d\u0456 \u0437\u043c\u0456\u043d\u0438.</p> <p>\u0414\u043b\u044f \u0442\u043e\u0433\u043e, \u0449\u043e\u0431 \u0441\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u0432\u0441\u0456 \u0446\u0456 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0438, \u0432\u0430\u043c \u0441\u043f\u043e\u0447\u0430\u0442\u043a\u0443 \u0442\u0440\u0435\u0431\u0430 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0438 \u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0456 \u0437\u0430\u043b\u0435\u0436\u043d\u043e\u0441\u0442\u0456.</p> <p>\u0426\u0456 \u043d\u0430\u0441\u0442\u0430\u043d\u043e\u0432\u0438 \u043f\u0435\u0440\u0435\u0434\u0431\u0430\u0447\u0430\u044e\u0442\u044c \u0449\u043e \u0432\u0441\u0456 \u043a\u043e\u043c\u0430\u043d\u0434\u0438 \u0432\u0438\u043a\u043e\u043d\u0443\u044e\u0442\u044c\u0441\u044f \u0432 \u043e\u0442\u043e\u0447\u0435\u043d\u0456 \u0437\u0432\u0438\u0447\u0430\u0439\u043d\u043e\u0433\u043e \u043e\u0431\u043b\u0456\u043a\u043e\u0432\u043e\u0433\u043e \u0437\u0430\u043f\u0438\u0441\u0443 (\u043d\u0435 root) \u0437 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f\u043c\u0438 <code>sudo</code>. \u041d\u0435 \u043d\u0430\u043c\u0430\u0433\u0430\u0439\u0442\u0435\u0441\u044c \u0442\u0430 \u043d\u0435 \u0440\u043e\u0431\u0456\u0442\u044c \u0432\u0441\u0435 \u0432 \u043e\u0442\u043e\u0447\u0435\u043d\u0456 <code>root</code>; \u0441\u0438\u0441\u0442\u0435\u043c\u0430 \u043d\u0435 \u0431\u0443\u0434\u0435 \u043f\u0440\u0430\u0446\u044e\u0432\u0430\u0442\u0438.</p> <pre><code>sudo apt update\nsudo apt upgrade &amp;&amp; sudo apt install \\\n    screen locate libapache2-mod-tile renderd \\\n    git tar unzip wget bzip2  apache2 lua5.1 \\\n    mapnik-utils python3-mapnik python3-psycopg2 \\\n    python3-yaml gdal-bin npm postgresql \\\n    postgresql-contrib postgis postgresql-14-postgis-3 \\\n    postgresql-14-postgis-3-scripts osm2pgsql \\\n    net-tools curl\n</code></pre> <p>\u041d\u0430 \u0446\u044c\u043e\u043c\u0443 \u0435\u0442\u0430\u043f\u0456 \u0431\u0443\u043b\u043e \u0434\u043e\u0434\u0430\u043d\u043e \u043a\u0456\u043b\u044c\u043a\u0430 \u043d\u043e\u0432\u0438\u0445 \u043e\u0431\u043b\u0456\u043a\u043e\u0432\u0438\u0445 \u0437\u0430\u043f\u0438\u0441\u0456\u0432. \u0412\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u043e\u0437\u043d\u0430\u0439\u043e\u043c\u0438\u0442\u0438\u0441\u044c \u0437 \u043d\u0438\u043c\u0438 \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e <code>tail /etc/passwd</code>. <code>postgres</code>\u00a0\u2013 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f \u0434\u043b\u044f \u043a\u0435\u0440\u0443\u0432\u0430\u043d\u043d\u044f \u0431\u0430\u0437\u0430\u043c\u0438 \u0434\u0430\u043d\u0438\u0445, \u044f\u043a\u0456 \u043c\u0438 \u0431\u0443\u0434\u0435\u043c\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0434\u043b\u044f \u0437\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u043d\u044f \u0434\u0430\u043d\u0438\u0445 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u0438\u0445 \u043d\u0430\u043c \u0434\u043b\u044f \u0440\u0435\u043d\u0434\u0435\u0440\u0456\u043d\u0433\u0443. <code>_renderd</code>\u00a0\u2013 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f \u0444\u043e\u043d\u043e\u0432\u043e\u044e \u0441\u043b\u0443\u0436\u0431\u043e\u044e <code>renderd</code>, \u0456 \u043d\u0430\u043c \u0434\u0430\u043b\u0456 \u0434\u043e\u0432\u0435\u0434\u0435\u0442\u044c\u0441\u044f \u043f\u0435\u0440\u0435\u043a\u043e\u043d\u0430\u0442\u0438\u0441\u044c, \u0449\u043e \u0431\u0456\u043b\u044c\u0448\u0456\u0441\u0442\u044c \u043a\u043e\u043c\u0430\u043d\u0434 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u044e\u0442\u044c\u0441\u044f \u0441\u0430\u043c\u0435 \u0446\u0438\u043c \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0435\u043c.</p> <p>\u0422\u0435\u043f\u0435\u0440 \u0432\u0430\u043c \u0442\u0440\u0435\u0431\u0430 \u0441\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u0431\u0430\u0437\u0443 \u0434\u0430\u043d\u0438\u0445 postgis. \u0422\u0438\u043f\u043e\u0432\u0456 \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f \u0440\u0456\u0437\u043d\u043e\u043c\u0430\u043d\u0456\u0442\u043d\u0438\u0445 \u043f\u0440\u043e\u0433\u0440\u0430\u043c \u043e\u0447\u0456\u043a\u0443\u044e\u0442\u044c \u0449\u043e \u0431\u0430\u0437\u0430 \u0434\u0430\u043d\u0438\u0445 \u043d\u0430\u0437\u0438\u0432\u0430\u0442\u0438\u043c\u0435\u0442\u044c\u0441\u044f gis, \u0442\u043e\u0436 \u043c\u0438 \u0431\u0443\u0434\u0435\u043c\u043e \u0434\u043e\u0442\u0440\u0438\u043c\u0443\u0432\u0430\u0442\u0438\u0441\u044c \u0446\u0456\u0454\u0457 \u0443\u0433\u043e\u0434\u0438 \u0432 \u0446\u0456\u043c \u043a\u0435\u0440\u0456\u0432\u043d\u0438\u0446\u0442\u0432\u0456, \u0445\u043e\u0447\u0430 \u0446\u0435 \u0439 \u043d\u0435 \u043e\u0431\u043e\u0432\u02bc\u044f\u0437\u043a\u043e\u0432\u043e. \u0417\u0432\u0435\u0440\u043d\u0456\u0442\u044c \u0443\u0432\u0430\u0433\u0443, \u0449\u043e <code>_renderd</code> \u043d\u0438\u0436\u0447\u0435 \u0437\u0431\u0456\u0433\u0430\u0454\u0442\u044c\u0441\u044f \u0437 \u0456\u043c\u0435\u043d\u0435\u043c \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430, \u044f\u043a\u0438\u0439 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f \u0434\u043b\u044f \u0444\u043e\u043d\u043e\u0432\u043e\u0457 \u0441\u043b\u0443\u0436\u0431\u0438 <code>renderd</code>.</p> <pre><code>sudo -u postgres -i\ncreateuser _renderd\ncreatedb -E UTF8 -O _renderd gis\n</code></pre> <p>\u041f\u043e\u043a\u0438 \u0432\u0438 \u043f\u0440\u0430\u0446\u044e\u0454\u0442\u0435 \u044f\u043a \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447 <code>postgres</code>, \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u0456\u0442\u044c PostGIS \u0432 \u0431\u0430\u0437\u0443 \u0434\u0430\u043d\u0438\u0445 PostgreSQL:</p> <pre><code>psql\n</code></pre> <p>(\u0446\u0435 \u043f\u0440\u0438\u0437\u0432\u0435\u0434\u0435 \u0434\u043e \u043f\u043e\u044f\u0432\u0438 <code>postgres=#</code> \u043d\u0430 \u043f\u043e\u0447\u0430\u0442\u043a\u0443 \u0440\u044f\u0434\u043a\u0430 \u043a\u043e\u043d\u0441\u043e\u043b\u0456)</p> <pre><code>\\c gis\n</code></pre> <p>(\u0443 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u044c \u0432\u0438 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0435: \"You are now connected to database 'gis' as user 'postgres'\"[\"\u0422\u0435\u043f\u0435\u0440 \u0432\u0438 \u043f\u0456\u0434\u02bc\u0454\u0434\u043d\u0430\u043d\u0456 \u0434\u043e \u0431\u0430\u0437\u0438 \u0434\u0430\u043d\u0438\u0445 'gis' \u044f\u043a \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447 'postgres'\"])</p> <pre><code>CREATE EXTENSION postgis;\n</code></pre> <p>(\u0443 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u044c \u0432\u0438 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0435: CREATE EXTENSION)</p> <pre><code>CREATE EXTENSION hstore;\n</code></pre> <p>(\u0443 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u044c \u0432\u0438 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0435: CREATE EXTENSION)</p> <pre><code>ALTER TABLE geometry_columns OWNER TO _renderd;\n</code></pre> <p>(\u0443 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u044c \u0432\u0438 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0435: ALTER TABLE)</p> <pre><code>ALTER TABLE spatial_ref_sys OWNER TO _renderd;\n</code></pre> <p>(\u0443 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u044c \u0432\u0438 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0435: ALTER TABLE)</p> <pre><code>\\q\n</code></pre> <p>(\u0446\u0435 \u043f\u0440\u0438\u0437\u0432\u0435\u0434\u0435 \u0434\u043e \u0432\u0438\u0445\u043e\u0434\u0443 \u0437 \u0441\u0435\u0441\u0456\u0457 psql \u0442\u0430 \u043f\u043e\u0432\u0435\u0440\u043d\u0435\u043d\u043d\u044f \u043d\u0430\u0437\u0430\u0434 \u0443 \u043a\u043e\u043d\u0441\u043e\u043b\u044c Linux)</p> <pre><code>exit\n</code></pre> <p>(\u043f\u043e\u0432\u0435\u0440\u043d\u0435\u043d\u043d\u044f \u043d\u0430\u0437\u0430\u0434 \u0434\u043e \u0441\u0435\u0441\u0456\u0457 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430, \u0432 \u044f\u043a\u0456\u0439 \u043c\u0438 \u0437\u043d\u0430\u0445\u043e\u0434\u0438\u043b\u0438\u0441\u044c \u0434\u043e \u0432\u0438\u043a\u043e\u043d\u0430\u043d\u043d\u044f \u043a\u043e\u043c\u0430\u043d\u0434\u0438 <code>sudo -u postgres -i</code> \u0432\u0438\u0449\u0435)</p>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-ubuntu-22-04-lts/#Mapnik","title":"Mapnik","text":"<p>Mapnik \u043c\u0438 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u043b\u0438 \u0440\u0430\u043d\u0456\u0448\u0435, \u043f\u0435\u0440\u0435\u0432\u0456\u0440\u0438\u043c\u043e \u0447\u0438 \u0432\u0456\u043d \u043f\u0440\u0430\u0446\u044e\u0454:</p> <pre><code>python3\n&gt;&gt;&gt; import mapnik\n&gt;&gt;&gt;\n</code></pre> <p>\u042f\u043a\u0449\u043e python \u0443 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u044c \u0432\u0438\u0434\u0430\u0454 \u0442\u0456\u043b\u044c\u043a\u0438 <code>&gt;&gt;&gt;</code> \u0431\u0435\u0437 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f \u043f\u0440\u043e \u043f\u043e\u043c\u0438\u043b\u043a\u0438, \u0437\u043d\u0430\u0447\u0438\u0442\u044c \u0431\u0456\u0431\u043b\u0456\u043e\u0442\u0435\u043a\u0430 Mapnik \u0454 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e\u044e \u0432 Python. \u0412\u0456\u0442\u0430\u0454\u043c\u043e! \u0414\u043b\u044f \u0432\u0438\u0445\u043e\u0434\u0443 \u0456\u0437 \u0441\u0435\u0441\u0456\u0457 Python \u0441\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u0439\u0442\u0435\u0441\u044c \u043d\u0430\u0441\u0442\u0443\u043f\u043d\u043e\u044e \u043a\u043e\u043c\u0430\u043d\u0434\u043e\u044e:</p> <pre><code>&gt;&gt;&gt; quit()\n</code></pre>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-ubuntu-22-04-lts/#\u041d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f-\u0441\u0442\u0438\u043b\u0456\u0432","title":"\u041d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f \u0441\u0442\u0438\u043b\u0456\u0432","text":"<p>\u0422\u0435\u043f\u0435\u0440, \u043f\u0456\u0441\u043b\u044f \u0442\u043e\u0433\u043e, \u044f\u043a \u0432\u0441\u0435 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u0435 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043d\u0435 \u0437\u0430\u0431\u0435\u0437\u043f\u0435\u0447\u0435\u043d\u043d\u044f \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0435, \u0432\u0430\u043c \u0442\u0440\u0435\u0431\u0430 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u0442\u0430 \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u0442\u0438 \u0441\u0442\u0438\u043b\u0456.</p> <p>\u0421\u0442\u0438\u043b\u044c, \u044f\u043a\u0438\u0439 \u043c\u0438 \u0431\u0443\u0434\u0435\u043c\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438,\u00a0\u2013 \u0446\u0435 \u0441\u0442\u0438\u043b\u044c \u044f\u043a\u0438\u0439 \u0437\u0430\u0441\u0442\u043e\u0441\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f \u0434\u043b\u044f \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \"\u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u043e\u0433\u043e\" \u0448\u0430\u0440\u0443 \u043d\u0430 \u0441\u0430\u0439\u0442\u0456 openstreetmap.org. \u041c\u0438 \u043e\u0431\u0440\u0430\u043b\u0438 \u0439\u043e\u0433\u043e \u0447\u0435\u0440\u0435\u0437 \u0433\u0430\u0440\u043d\u0443 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0456\u044e \u0456 \u0442\u0435, \u0449\u043e \u0432\u0456\u043d \u0437\u0434\u0430\u0442\u0435\u043d \u043f\u0440\u0430\u0446\u044e\u0432\u0430\u0442\u0438 \u0434\u043b\u044f \u0431\u0443\u0434\u044c-\u044f\u043a\u043e\u0457 \u0447\u0430\u0441\u0442\u0438\u043d\u0438 \u0441\u0432\u0456\u0442\u0443, \u043d\u0430\u0432\u0456\u0442\u044c \u0442\u0430\u043c \u0434\u0435 \u043d\u0435 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f \u043b\u0430\u0442\u0438\u043d\u043a\u0430. \u0410\u043b\u0435 \u0443 \u043d\u044c\u043e\u0433\u043e \u0454 \u0439 \u043f\u0435\u0432\u043d\u0456 \u043d\u0435\u0434\u043e\u043b\u0456\u043a\u0438\u00a0\u2013 \u0446\u0435 \u043a\u043e\u043c\u043f\u0440\u043e\u043c\u0456\u0441\u043d\u0456 \u0440\u0456\u0448\u0435\u043d\u043d\u044f \u0434\u043b\u044f \u0442\u043e\u0433\u043e, \u0449\u043e\u0431 \u043f\u0440\u0430\u0446\u044e\u0432\u0430\u0442\u0438 \u0432 \u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u0438\u0445 \u043c\u0430\u0441\u0448\u0442\u0430\u0431\u0430\u0445, \u0432\u0456\u043d \u0434\u0443\u0436\u0435 \u0441\u043a\u043b\u0430\u0434\u043d\u0438\u0439 \u0434\u043b\u044f \u0440\u043e\u0437\u0443\u043c\u0456\u043d\u043d\u044f \u0442\u0430 \u0432\u043d\u0435\u0441\u0435\u043d\u043d\u044f \u0437\u043c\u0456\u043d, \u044f\u043a\u0449\u043e \u0432\u0430\u043c \u0434\u043e\u0432\u0435\u0434\u0435\u0442\u044c\u0441\u044f \u0457\u0445 \u0432\u043d\u043e\u0441\u0438\u0442\u0438.</p> <p>\u041a\u043e\u0434 \u0441\u0442\u0438\u043b\u044e \"OpenStreetMap Carto\" \u0437 \u0432\u0435\u0431-\u0441\u0430\u0439\u0442\u0443 openstreetmap.org \u0437\u043d\u0430\u0445\u043e\u0434\u0438\u0442\u044c\u0441\u044f \u043d\u0430 GitHub\u00a0\u2013 https://github.com/gravitystorm/openstreetmap-carto/ \u0442\u0430 \u0442\u0430\u043a\u043e\u0436 \u043c\u0430\u0454 \u0432\u043b\u0430\u0441\u043d\u0456 \u0456\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0456\u0457 \u0437\u0456 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f\u00a0\u2013 https://github.com/gravitystorm/openstreetmap-carto/blob/master/INSTALL.md. \u041f\u0440\u043e \u0442\u0435, \u0449\u043e \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0437\u0440\u043e\u0431\u0438\u0442\u0438, \u043c\u0438 \u0440\u043e\u0437\u043f\u043e\u0432\u0456\u043c\u043e \u0442\u0443\u0442.</p> <p>\u041f\u0435\u0440\u0435\u0434\u0431\u0430\u0447\u0430\u0454\u0442\u044c\u0441\u044f \u0449\u043e \u043c\u0438 \u0440\u043e\u0437\u043c\u0456\u0449\u0443\u0454\u043c\u043e \u0441\u0442\u0438\u043b\u044c \u0432 \u0442\u0435\u0446\u0456 <code>~/src</code> \u0434\u043e\u043c\u0430\u0448\u043d\u044c\u043e\u0457 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0456\u0457 \u0437\u0432\u0438\u0447\u0430\u0439\u043d\u043e\u0433\u043e \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430 (\u043d\u0435 root); \u043f\u043e\u0442\u0456\u043c \u043c\u0438 \u043d\u0430\u0434\u0430\u043c\u043e \u0434\u043e\u0441\u0442\u0443\u043f \u0434\u043e \u043d\u044c\u043e\u0433\u043e \u043e\u0431\u043b\u0456\u043a\u043e\u0432\u043e\u043c\u0443 \u0437\u0430\u043f\u0438\u0441\u0443 <code>_renderd</code>.</p> <pre><code>mkdir ~/src\ncd ~/src\ngit clone https://github.com/gravitystorm/openstreetmap-carto\ncd openstreetmap-carto\ngit pull --all\ngit switch --detach v5.9.0\n</code></pre> <p>\"git switch\" \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0432\u0438\u043a\u043e\u043d\u0430\u0442\u0438 \u0442\u043e\u043c\u0443, \u0449\u043e \u0446\u0435 \u043e\u0441\u0442\u0430\u043d\u043d\u044f \u0432\u0435\u0440\u0441\u0456\u044f, \u044f\u043a\u0443 \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0438 \u043d\u0430 OpenStreetMap, \u0430\u043b\u0435 OSM Carto \u043f\u0435\u0440\u0435\u0431\u0443\u0432\u0430\u0454 \u0443 \u043f\u0440\u043e\u0446\u0435\u0441\u0456 \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0443 \u043d\u0430 \u0456\u043d\u0448\u0438\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u0431\u0430\u0437\u0438 \u0434\u0430\u043d\u0438\u0445. \u0414\u0438\u0432\u0456\u0442\u044c\u0441\u044f [INSTALL.md] (https://github.com/gravitystorm/openstreetmap-carto/blob/master/INSTALL.md) \u0434\u043b\u044f \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u044f \u043d\u043e\u0432\u043e\u0457 \u0432\u0435\u0440\u0441\u0456\u0457 OSM Carto.</p> <p>\u0414\u0430\u043b\u0456, \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u043c\u043e \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u0443 \u0432\u0435\u0440\u0441\u0456\u044e \u043a\u043e\u043c\u043f\u0456\u043b\u044f\u0442\u043e\u0440\u0430 <code>carto</code>.</p> <pre><code>sudo npm install -g carto\ncarto -v\n</code></pre> <p>\u0423 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u044c \u043c\u0438 \u043c\u0430\u0454\u043c\u043e \u043e\u0442\u0440\u0438\u043c\u0430\u0442\u0438 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044e \u043f\u0440\u043e \u043d\u043e\u043c\u0435\u0440 \u0432\u0435\u0440\u0441\u0456\u0457, \u044f\u043a\u0430 \u043c\u0430\u0454 \u0431\u0443\u0442\u0438 \u043d\u0435 \u043c\u0435\u043d\u0448\u0435 \u043d\u0456\u0436:</p> <pre><code>1.2.0\n</code></pre> <p>\u041f\u0456\u0441\u043b\u044f \u0446\u044c\u043e\u0433\u043e \u043c\u0438 \u043f\u0435\u0440\u0435\u0442\u0432\u043e\u0440\u0438\u043c\u043e \u043f\u0440\u043e\u0454\u043a\u0442 carto \u0443 \u0437\u0440\u043e\u0437\u0443\u043c\u0456\u043b\u0438\u0439 \u0434\u043b\u044f Mapnik \u0432\u0438\u0433\u043b\u044f\u0434:</p> <pre><code>carto project.mml &gt; mapnik.xml\n</code></pre> <p>\u0422\u0435\u043f\u0435\u0440 \u0443 \u043d\u0430\u0441 \u0454 \u0441\u0442\u0438\u043b\u044c Mapnik XML\u00a0\u2013 <code>/home/youruseraccount/src/openstreetmap-carto/mapnik.xml</code>.</p>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-ubuntu-22-04-lts/#\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f-\u0434\u0430\u043d\u0438\u0445","title":"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u0434\u0430\u043d\u0438\u0445","text":"<p>\u0414\u043b\u044f \u043f\u043e\u0447\u0430\u0442\u043a\u0443, \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u043c\u043e \u043d\u0435\u0432\u0435\u043b\u0438\u0447\u043a\u0443 \u0447\u0430\u0441\u0442\u0438\u043d\u0443 \u0442\u0435\u0441\u0442\u043e\u0432\u0438\u0445 \u0434\u0430\u043d\u0438\u0445. \u0421\u0435\u0440\u0435\u0434 \u0440\u0456\u0437\u043d\u043e\u043c\u0430\u0457\u0442\u0442\u044f \u043c\u0456\u0441\u0446\u044c \u0434\u043b\u044f \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u044f \u0434\u0430\u043d\u0438\u0445, \u043e\u0431\u0435\u0440\u0435\u043c\u043e <code>download.geofabrik.de</code>, \u0449\u043e \u043c\u0456\u0441\u0442\u0438\u0442\u044c \u0432\u0435\u043b\u0438\u043a\u0438\u0439 \u043f\u0435\u0440\u0435\u043b\u0456\u043a \u0440\u0456\u0437\u043d\u0438\u0445 \u0432\u0430\u0440\u0456\u0430\u043d\u0442\u0456\u0432 \u0434\u043b\u044f \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f. \u0412\u0456\u0437\u044c\u043c\u0456\u043c\u043e \u0434\u043b\u044f \u043f\u0440\u0438\u043a\u043b\u0430\u0434\u0443 \u0410\u0437\u0435\u0440\u0431\u0430\u0439\u0434\u0436\u0430\u043d (~32.4 \u041c\u0431).</p> <p>\u041f\u0435\u0440\u0435\u0439\u0434\u0456\u0442\u044c \u0437\u0430 \u043f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f\u043c https://download.geofabrik.de/asia/azerbaijan.html \u0442\u0430 \u0437\u0432\u0435\u0440\u043d\u0456\u0442\u044c \u0443\u0432\u0430\u0433\u0443 \u043d\u0430 \u0434\u0430\u0442\u0443 \"This file was last modified\" (\u0449\u043e\u0441\u044c \u0441\u0445\u043e\u0436\u0435 \u043d\u0430 \"2022-04-22T20:21:40Z\"). \u0412\u043e\u043d\u0430 \u043d\u0430\u043c \u0437\u043d\u0430\u0434\u043e\u0431\u0438\u0442\u044c\u0441\u044f \u043f\u043e\u0442\u0456\u043c, \u043a\u043e\u043b\u0438 \u0443 \u043d\u0430\u0441 \u0432\u0438\u043d\u0438\u043a\u043d\u0435 \u043f\u043e\u0442\u0440\u0435\u0431\u0430 \u043e\u043d\u043e\u0432\u0438\u0442\u0438 \u043d\u0430\u0448\u0456 \u0434\u0430\u043d\u0456 \u0434\u0430\u043d\u0438\u043c\u0438, \u044f\u043a\u0456 \u0443\u0447\u0430\u0441\u043d\u0438\u043a\u0438 OpenStreetMap \u0434\u043e\u0434\u0430\u043b\u0438 \u0437 \u043c\u043e\u043c\u0435\u043d\u0442\u0443 \u043d\u0430\u0448\u043e\u0433\u043e \u0456\u043c\u043f\u043e\u0440\u0442\u0443. \u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u043c\u043e \u0434\u0430\u043d\u0456:</p> <pre><code>mkdir ~/data\ncd ~/data\nwget https://download.geofabrik.de/asia/azerbaijan-latest.osm.pbf\n</code></pre> <p>\u0414\u0430\u043b\u0456 \u043d\u0430\u043c \u0442\u0440\u0435\u0431\u0430 \u043f\u0435\u0440\u0435\u043a\u043e\u043d\u0430\u0442\u0438\u0441\u044c, \u0449\u043e \u043e\u0431\u043b\u0456\u043a\u043e\u0432\u0438\u0439 \u0437\u0430\u043f\u0438\u0441 <code>_renderd</code> \u043c\u0430\u0454 \u0434\u043e\u0441\u0442\u0443\u043f \u0434\u043e \u0441\u0442\u0438\u043b\u044e. \u0419\u043e\u043c\u0443 \u043f\u043e\u0442\u0440\u0456\u0431\u0435\u043d \u0434\u043e\u0441\u0442\u0443\u043f \u0434\u043e \u0432\u0441\u044c\u043e\u0433\u043e, \u0449\u043e \u0432\u0438 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u043b\u0438 \u0434\u043b\u044f \u043d\u044c\u043e\u0433\u043e, \u0430\u043b\u0435, \u0442\u0438\u043f\u043e\u0432\u043e, \u0432\u0456\u043d \u043d\u0435 \u043f\u043e\u0432\u0438\u043d\u0435\u043d \u043c\u0430\u0442\u0438 \u0434\u043e\u0441\u0442\u0443\u043f\u0443 \u0434\u043e \u0432\u0430\u0448\u043e\u0457 \u0434\u043e\u043c\u0430\u0448\u043d\u044c\u043e\u0457 \u0442\u0435\u043a\u0438. \u042f\u043a\u0449\u043e \u043c\u0438 \u043f\u0435\u0440\u0435\u0434\u0431\u0430\u0447\u0430\u0454\u043c\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0442\u0435\u043a\u0443 <code>~/src</code> \u0434\u043b\u044f \u0446\u044c\u043e\u0433\u043e \u043f\u0435\u0440\u0435\u0439\u0434\u0456\u0442\u044c \u0434\u043e \u043d\u0435\u0457 \u0442\u0430 \u0432\u0438\u043a\u043e\u043d\u0430\u0439\u0442\u0435 \u043a\u043e\u043c\u0430\u043d\u0434\u0443</p> <pre><code>chmod o+rx ~\n</code></pre> <p>\u042f\u043a\u0449\u043e \u0432\u0438 \u043d\u0435 \u0431\u0430\u0436\u0430\u0454\u0442\u0435 \u0440\u043e\u0431\u0438\u0442\u0438 \u0446\u044c\u043e\u0433\u043e, \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u0435\u0440\u0435\u043c\u0456\u0441\u0442\u0438\u0442\u0438 \u0441\u0442\u0438\u043b\u044c \u0432 \u0456\u043d\u0448\u0435 \u043c\u0456\u0441\u0446\u0435 \u0442\u0430 \u0437\u043c\u0456\u043d\u0438\u0442\u0438 \u043f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f \u043d\u0430 \u0440\u043e\u0437\u0442\u0430\u0448\u0443\u0432\u0430\u043d\u043d\u044f \u0444\u0430\u0439\u043b\u0456\u0432 \u0443 \u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0438\u0445 \u043a\u043e\u043c\u0430\u043d\u0434\u0430\u0445.</p> <p>\u041d\u0430\u0441\u0442\u0443\u043f\u043d\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0436\u0435 \u0432\u0430\u043c \u043f\u0435\u0440\u0435\u043d\u0435\u0441\u0442\u0438 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u0456 \u0434\u0430\u043d\u0456 \u0434\u043e \u0432\u0430\u0448\u043e\u0457 \u0431\u0430\u0437\u0438 \u0434\u0430\u043d\u0438\u0445. \u041d\u0430 \u0446\u044c\u043e\u043c\u0443 \u0435\u0442\u0430\u043f\u0456 \u0437\u0440\u043e\u0441\u0442\u0435 \u043d\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u043d\u0430 \u0434\u0438\u0441\u043a\u043e\u0432\u0456 \u043e\u043f\u0435\u0440\u0430\u0446\u0456\u0457 \u0447\u0435\u0440\u0435\u0437 \u043f\u043e\u0442\u0440\u0435\u0431\u0443 \u043f\u0435\u0440\u0435\u043d\u0435\u0441\u0435\u043d\u043d\u044f \u0437\u043d\u0430\u0447\u043d\u043e\u0433\u043e \u043e\u0431\u0441\u044f\u0433\u0443 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u0457; \u0456\u043c\u043f\u043e\u0440\u0442 \u0432\u0441\u0456\u0454\u0457 \u043f\u043b\u0430\u043d\u0435\u0442\u0438 \u043c\u043e\u0436\u0435 \u0442\u0440\u0438\u0432\u0430\u0442\u0438 \u043a\u0456\u043b\u044c\u043a\u0430 \u0433\u043e\u0434\u0438\u043d, \u0434\u043d\u0456\u0432 \u0442\u0430 \u043d\u0430\u0432\u0456\u0442\u044c \u0442\u0438\u0436\u043d\u0456\u0432, \u0432 \u0437\u0430\u043b\u0435\u0436\u043d\u043e\u0441\u0442\u0456 \u0432\u0456\u0434 \u043f\u043e\u0442\u0443\u0436\u043d\u043e\u0441\u0442\u0435\u0439 \u0432\u0430\u0448\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u043d\u043e\u0433\u043e \u043e\u0431\u043b\u0430\u0434\u043d\u0430\u043d\u043d\u044f. \u0417\u0440\u043e\u0437\u0443\u043c\u0456\u043b\u043e, \u0449\u043e \u0434\u043b\u044f \u043d\u0435\u0432\u0435\u043b\u0438\u043a\u0438\u0445 \u0447\u0430\u0441\u0442\u0438\u043d \u0434\u0430\u043d\u0438\u0445 \u0456\u043c\u043f\u043e\u0440\u0442 \u0432\u0456\u0434\u0431\u0443\u0432\u0430\u0454\u0442\u044c\u0441\u044f \u0437\u043d\u0430\u0447\u043d\u043e \u0448\u0432\u0438\u0434\u0448\u0435, \u043c\u043e\u0436\u043b\u0438\u0432\u043e \u0432\u0430\u043c \u0434\u043e\u0432\u0435\u0434\u0435\u0442\u044c\u0441\u044f \u043f\u043e\u0435\u043a\u0441\u043f\u0435\u0440\u0438\u043c\u0435\u043d\u0442\u0443\u0432\u0430\u0442\u0438 \u0437\u0456 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f\u043c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430 <code>-C</code>, \u0449\u043e\u0431 \u0432\u043a\u043b\u0430\u0441\u0442\u0438\u0441\u044c \u0443 \u043d\u0430\u044f\u0432\u043d\u0443 \u043e\u043f\u0435\u0440\u0430\u0442\u0438\u0432\u043d\u0443 \u043f\u0430\u043c\u02bc\u044f\u0442\u044c \u0432\u0430\u0448\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430. \u0417\u0432\u0435\u0440\u043d\u0456\u0442\u044c \u0443\u0432\u0430\u0433\u0443, \u0449\u043e \u043c\u0438 \u0440\u043e\u0431\u0438\u043c\u043e \u0446\u0435 \u0432 \u043e\u0442\u043e\u0447\u0435\u043d\u0456 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430 <code>_renderd</code>.</p> <pre><code>sudo -u _renderd osm2pgsql \\\n    -d gis --create --slim  -G --hstore \\\n    --tag-transform-script \\\n        ~/src/openstreetmap-carto/openstreetmap-carto.lua \\\n    -C 2500 --number-processes 1 \\\n    -S ~/src/openstreetmap-carto/openstreetmap-carto.style \\\n    ~/data/azerbaijan-latest.osm.pbf\n</code></pre> <p>\u0420\u043e\u0437\u0431\u0435\u0440\u0456\u043c\u043e\u0441\u044f \u0449\u043e \u043e\u0437\u043d\u0430\u0447\u0430\u044e\u0442\u044c \u0432\u0441\u0456 \u0446\u0456 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0438:</p> <code>-d gis</code> \u0411\u0430\u0437\u0430 \u0434\u0430\u043d\u0438\u0445, \u0437 \u044f\u043a\u043e\u044e \u043c\u0438 \u043f\u0440\u0430\u0446\u044e\u0454\u043c\u043e (\u0442\u0438\u043f\u043e\u0432\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f <code>gis</code>; \u0442\u0443\u0442 \u0442\u0440\u0435\u0431\u0430 \u0432\u043a\u0430\u0437\u0430\u0442\u0438 \u0457\u0457 \u044f\u0432\u043d\u043e). <code>--create</code> \u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u0434\u0430\u043d\u0456 \u0432 \u043f\u0443\u0441\u0442\u0443 \u0431\u0430\u0437\u0443 \u0434\u0430\u043d\u0438\u0445, \u0437\u0430\u043c\u0456\u0441\u0442\u044c \u0441\u043f\u0440\u043e\u0431 \u0434\u043e\u0434\u0430\u0442\u0438 \u0457\u0445 \u0434\u043e \u043d\u0430\u044f\u0432\u043d\u0438\u0445. <code>--slim</code> osm2pgsql \u043c\u043e\u0436\u0435 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0440\u0456\u0437\u043d\u043e\u043c\u0430\u043d\u0456\u0442\u043d\u0456 \u0441\u0445\u0435\u043c\u0438 \u0442\u0430\u0431\u043b\u0438\u0446\u044c; \"slim\" \u0433\u043e\u0434\u0438\u0442\u044c\u0441\u044f \u0434\u043b\u044f \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0456\u0457 \u0442\u0430\u0439\u043b\u0456\u0432. <code>-G</code> \u0412\u0438\u0437\u043d\u0430\u0447\u0430\u0454, \u044f\u043a\u0438\u043c \u0447\u0438\u043d\u043e\u043c \u0431\u0443\u0434\u0443\u0442\u044c \u043e\u0431\u0440\u043e\u0431\u043b\u044f\u0442\u0438\u0441\u044c \u043c\u0443\u043b\u044c\u0442\u0438\u043f\u043e\u043b\u0456\u0433\u043e\u043d\u0438. <code>--hstore</code> \u0414\u043e\u0437\u0432\u043e\u043b\u044f\u0454 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0434\u043b\u044f \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0456\u0457 \u0442\u0430\u0439\u043b\u0456\u0432 \u0442\u0435\u0491\u0438, \u0434\u043b\u044f \u044f\u043a\u0438\u0445 \u043d\u0435\u043c\u0430\u0454 \u043e\u043a\u0440\u0435\u043c\u0438\u0445 \u0441\u0442\u043e\u0432\u043f\u0446\u0456\u0432 \u0432 \u0431\u0430\u0437\u0456 \u0434\u0430\u043d\u0438\u0445. <code>--tag-transform-script ~/src/openstreetmap-carto/openstreetmap-carto.lua</code> \u0412\u0438\u0437\u043d\u0430\u0447\u0430\u0454 \u0441\u043a\u0440\u0438\u043f\u0442 lua, \u044f\u043a\u0438\u0439 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f \u0434\u043b\u044f \u043e\u0431\u0440\u043e\u0431\u043a\u0438 \u0442\u0435\u0491\u0456\u0432. \u0426\u0435 \u043f\u0440\u043e\u0441\u0442\u0438\u0439 \u0441\u043f\u043e\u0441\u0456\u0431 \u043e\u0431\u0440\u043e\u0431\u043a\u0438 \u0442\u0435\u0491\u0456\u0432 OSM \u0434\u043e \u0442\u043e\u0433\u043e, \u044f\u043a \u0432\u043e\u043d\u0438 \u0431\u0443\u0434\u0443\u0442\u044c \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u0456 \u0432 \u0441\u0442\u0438\u043b\u0456, \u0449\u043e \u0441\u043f\u0440\u043e\u0449\u0443\u0454 \u043b\u043e\u0433\u0456\u043a\u0443 \u0441\u0430\u043c\u043e\u0433\u043e \u0441\u0442\u0438\u043b\u044e. <code>-C 2500</code> \u0412\u0438\u0434\u0456\u043b\u044f\u0454 2.5 \u0413\u0431 \u043e\u043f\u0435\u0440\u0430\u0442\u0438\u0432\u043d\u043e\u0457 \u043f\u0430\u043c\u02bc\u044f\u0442\u0456 \u0434\u043b\u044f osm2pgsql \u043d\u0430 \u0432\u0438\u043a\u043e\u043d\u0430\u043d\u043d\u044f \u0456\u043c\u043f\u043e\u0440\u0442\u0443. \u042f\u043a\u0449\u043e \u0443 \u0432\u0430\u0441 \u043c\u0435\u043d\u0448\u0435 \u043e\u043f\u0435\u0440\u0430\u0442\u0438\u0432\u043d\u043e\u0457 \u043f\u0430\u043c\u02bc\u044f\u0442\u0456, \u0441\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043c\u0435\u043d\u0448\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f. \u042f\u043a\u0449\u043e \u043f\u0440\u043e\u0446\u0435\u0441 \u0456\u043c\u043f\u043e\u0440\u0442\u0443 \u0431\u0443\u0434\u0435 \u0437\u043d\u0438\u0449\u0435\u043d\u0438\u0439 \u0447\u0435\u0440\u0435\u0437 \u043d\u0435\u0441\u0442\u0430\u0447\u0443 \u043e\u043f\u0435\u0440\u0430\u0442\u0438\u0432\u043d\u043e\u0457 \u043f\u0430\u043c\u02bc\u044f\u0442\u0456, \u0441\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0437\u043c\u0435\u043d\u0448\u0438\u0442\u0438 \u0446\u0435 \u0447\u0438\u0441\u043b\u043e \u0430\u0431\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0439\u0442\u0435 \u043c\u0435\u043d\u0448\u0438\u0439 \u043e\u0431\u0441\u044f\u0433 \u0434\u0430\u043d\u0438\u0445. <code>--number-processes 1</code> \u0412\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u043e\u0434\u043d\u0435 \u044f\u0434\u0440\u043e \u043f\u0440\u043e\u0446\u0435\u0441\u043e\u0440\u0430. \u042f\u043a\u0449\u043e \u0443 \u0432\u0430\u0441 \u0431\u0430\u0433\u0430\u0442\u043e\u044f\u0434\u0435\u0440\u043d\u0438\u0439 \u043f\u0440\u043e\u0446\u0435\u0441\u043e\u0440 \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0431\u0456\u043b\u044c\u0448\u0443 \u043a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u044f\u0434\u0435\u0440. <code>-S ~/src/openstreetmap-carto/openstreetmap-carto.style</code> \u0421\u0442\u0432\u043e\u0440\u044e\u0432\u0430\u0442\u0438 \u0441\u0442\u043e\u0432\u043f\u0446\u0456 \u0432 \u0431\u0430\u0437\u0456 \u0434\u0430\u043d\u0438\u0445 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u044e\u0447\u0438 \u0432\u043a\u0430\u0437\u0430\u043d\u0438\u0439 \u0444\u0430\u0439\u043b (\u0432 \u043d\u0430\u0448\u043e\u043c\u0443 \u0432\u0438\u043f\u0430\u0434\u043a\u0443 \u0432\u0456\u043d \u043d\u0456\u0447\u0438\u043c \u043d\u0435 \u0432\u0456\u0434\u0440\u0456\u0437\u043d\u044f\u0454\u0442\u044c\u0441\u044f \u0432\u0456\u0434 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u043e\u0433\u043e \"openstreetmap-carto\") <code>~/data/azerbaijan-latest.osm.pbf</code> \u041e\u0441\u0442\u0430\u043d\u043d\u0456\u0439 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u00a0\u2013 \u0446\u0435 \u0444\u0430\u0439\u043b \u0437 \u0434\u0430\u043d\u0438\u043c\u0438 \u0434\u043b\u044f \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u0432 \u0431\u0430\u0437\u0443. <p>\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u043c \u0440\u043e\u0431\u043e\u0442\u0438 \u0446\u0456\u0454\u0457 \u043a\u043e\u043c\u0430\u043d\u0434\u0438 \u043c\u0430\u0454 \u0431\u0443\u0442\u0438 \u0449\u043e\u0441\u044c \u0441\u0445\u043e\u0436\u0435 \u043d\u0430 \"osm2pgsql took 163s (2m 43s) overall\".</p>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-ubuntu-22-04-lts/#\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f-\u0456\u043d\u0434\u0435\u043a\u0441\u0456\u0432","title":"\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u0456\u043d\u0434\u0435\u043a\u0441\u0456\u0432","text":"<p>\u041f\u043e\u0447\u0438\u043d\u0430\u044e\u0447\u0438 \u0437 \u0432\u0435\u0440\u0441\u0456\u0457 5.3.0, \u0434\u0435\u044f\u043a\u0456 \u0434\u043e\u0434\u0430\u0442\u043a\u043e\u0432\u0456 \u0456\u043d\u0434\u0435\u043a\u0441\u0438 \u043c\u0430\u044e\u0442\u044c \u0431\u0443\u0442\u0438 \u0437\u0430\u0441\u0442\u043e\u0441\u043e\u0432\u0430\u043d\u0456 \u0432\u0440\u0443\u0447\u043d\u0443:.</p> <pre><code>cd ~/src/openstreetmap-carto/\nsudo -u _renderd psql -d gis -f indexes.sql\n</code></pre> <p>\u0421\u043a\u0440\u0438\u043f\u0442 \u043c\u0430\u0454 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u0438\u0442\u0438 <code>CREATE INDEX</code> 16 \u0440\u0430\u0437\u0456\u0432.</p>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-ubuntu-22-04-lts/#\u0424\u0443\u043d\u043a\u0446\u0456\u0457-\u0431\u0430\u0437\u0438-\u0434\u0430\u043d\u0438\u0445","title":"\u0424\u0443\u043d\u043a\u0446\u0456\u0457 \u0431\u0430\u0437\u0438 \u0434\u0430\u043d\u0438\u0445","text":"<p>\u0423 \u0432\u0435\u0440\u0441\u0456\u0457 5.9.0 \u00abOSM Carto\u00bb (\u0432\u0438\u043f\u0443\u0449\u0435\u043d\u0430 \u0432 \u0436\u043e\u0432\u0442\u043d\u0456 2024 \u0440\u043e\u043a\u0443) \u0434\u0435\u044f\u043a\u0456 \u0444\u0443\u043d\u043a\u0446\u0456\u0457 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0443\u0432\u0430\u0442\u0438 \u0432 \u0431\u0430\u0437\u0443 \u0434\u0430\u043d\u0438\u0445 \u0432\u0440\u0443\u0447\u043d\u0443. \u0412\u043e\u043d\u0438 \u043c\u043e\u0436\u0443\u0442\u044c \u0431\u0443\u0442\u0438 \u0434\u043e\u0434\u0430\u043d\u0456/\u043f\u0435\u0440\u0435\u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u0456 \u0432 \u0431\u0443\u0434\u044c-\u044f\u043a\u0438\u0439 \u043c\u043e\u043c\u0435\u043d\u0442 \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e:</p> <pre><code>cd ~/src/openstreetmap-carto/\nsudo -u _renderd psql -d gis -f functions.sql\n</code></pre>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-ubuntu-22-04-lts/#\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f-Shapefile","title":"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f Shapefile","text":"<p>\u041f\u043e\u043f\u0440\u0438 \u0442\u0435, \u0449\u043e \u0431\u0456\u043b\u044c\u0448\u0456\u0441\u0442\u044c \u0434\u0430\u043d\u0438\u0445 \u0434\u043b\u044f \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u043c\u0430\u043f\u0438 \u0431\u0435\u0440\u0435\u0442\u044c\u0441\u044f \u0437 \u0444\u0430\u0439\u043b\u0443 \u0437 \u0434\u0430\u043d\u0438\u043c\u0438 OpenStreetMap, \u044f\u043a\u0438\u0439 \u0432\u0438 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u043b\u0438 \u0440\u0430\u043d\u0456\u0448\u0435, \u0434\u0435\u044f\u043a\u0456 \u0444\u0430\u0439\u043b\u0438 \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0456 shapefile \u0432\u0441\u0435 \u0436 \u0442\u0430\u043a\u0456 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u0456 \u0434\u043b\u044f \u0442\u0430\u043a\u0438\u0445 \u0440\u0435\u0447\u0435\u0439, \u043d\u0430\u043f\u0440\u0438\u043a\u043b\u0430\u0434, \u044f\u043a \u043a\u043e\u0440\u0434\u043e\u043d\u0438 \u043a\u0440\u0430\u0457\u043d \u043d\u0430 \u0432\u0435\u043b\u0438\u043a\u0438\u0445 \u043c\u0430\u0441\u0448\u0442\u0430\u0431\u0430\u0445. \u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0442\u0435 \u0457\u0445 \u0442\u0430 \u043f\u0440\u043e\u0456\u043d\u0434\u0435\u043a\u0441\u0443\u0439\u0442\u0435:</p> <pre><code>cd ~/src/openstreetmap-carto/\nmkdir data\nsudo chown _renderd data\nsudo -u _renderd scripts/get-external-data.py\n</code></pre> <p>\u0426\u0435\u0439 \u043f\u0440\u043e\u0446\u0435\u0441 \u0432\u0438\u043c\u0430\u0433\u0430\u0454 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u0432\u0435\u043b\u0438\u043a\u043e\u0457 \u043f\u043e\u0440\u0446\u0456\u0457 \u0434\u0430\u043d\u0438\u0445 \u0442\u0430 \u0442\u0440\u0438\u0432\u0430\u0442\u0438\u043c\u0435 \u0434\u0435\u044f\u043a\u0438\u0439 \u0447\u0430\u0441 \u0431\u0435\u0437 \u0431\u0443\u0434\u044c-\u044f\u043a\u0438\u0445 \u043f\u043e\u043c\u0456\u0442\u043d\u0438\u0445 \u0437\u043c\u0456\u043d \u043d\u0430 \u0435\u043a\u0440\u0430\u043d\u0456. \u0427\u0430\u0441\u0442\u0438\u043d\u0430 \u0434\u0430\u043d\u0438\u0445 \u0437\u0430\u043f\u0438\u0441\u0443\u0454\u0442\u044c\u0441\u044f \u0431\u0435\u0437\u043f\u043e\u0441\u0435\u0440\u0435\u0434\u043d\u044c\u043e \u0443 \u0431\u0430\u0437\u0443 \u0434\u0430\u043d\u0438\u0445, \u0430 \u0456\u043d\u0448\u0430 \u0443 \u043f\u0456\u0434\u0442\u0435\u043a\u0443 \"data\" \u0432 \"openstreetmap-carto\". \u042f\u043a\u0449\u043e \u0443 \u0432\u0430\u0441 \u0442\u0443\u0442 \u0432\u0438\u043d\u0438\u043a\u043d\u0443\u0442\u044c \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0438, \u0442\u043e \u0446\u0435 \u0441\u043a\u043e\u0440\u0456\u0448\u0435 \u0447\u0435\u0440\u0435\u0437 \u0442\u0435, \u0449\u043e \u0434\u0430\u043d\u0456 Natural Earth \u043c\u043e\u0436\u0443\u0442\u044c \u0431\u0443\u0442\u0438 \u043d\u0435 \u0432 \u0442\u043e\u043c\u0443 \u043c\u0456\u0441\u0446\u0456. \u042f\u043a\u0449\u043e \u0432\u0430\u043c \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0437\u043c\u0456\u043d\u0438\u0442\u0438 \u043c\u0456\u0441\u0446\u0435 \u043a\u0443\u0434\u0438 \u0432\u0438 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0443\u0454\u0442\u0435 \u0434\u0430\u043d\u0456 Natural Earth\u00a0\u2013 \u0432\u043d\u0435\u0441\u0456\u0442\u044c \u0437\u043c\u0456\u043d\u0438 \u0443 \u0432\u043b\u0430\u0441\u043d\u0443 \u043a\u043e\u043f\u0456\u044e \u0446\u044c\u043e\u0433\u043e \u0444\u0430\u0439\u043b\u0443.</p>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-ubuntu-22-04-lts/#\u0428\u0440\u0438\u0444\u0442\u0438","title":"\u0428\u0440\u0438\u0444\u0442\u0438","text":"<p>\u041f\u043e\u0447\u0438\u043d\u0430\u044e\u0447\u0438 \u0437 \u0432\u0435\u0440\u0441\u0456\u0457 v5.6.0 \u0448\u0440\u0438\u0444\u0442\u0438 \u0434\u043b\u044f Carto \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0438 \u0432\u0440\u0443\u0447\u043d\u0443:</p> <pre><code>cd ~/src/openstreetmap-carto/\nscripts/get-fonts.sh\n</code></pre> <p>\u041d\u0430\u0448\u0456 \u0442\u0435\u0441\u0442\u043e\u0432\u0456 \u0434\u0430\u043d\u0456 (\u0410\u0437\u0435\u0440\u0431\u0430\u0439\u0434\u0436\u0430\u043d) \u0431\u0443\u043b\u0438 \u043e\u0431\u0440\u0430\u043d\u0456 \u0447\u0435\u0440\u0435\u0437 \u0457\u0445 \u043d\u0435\u0432\u0435\u043b\u0438\u043a\u0438\u0439 \u043e\u0431\u0441\u044f\u0433, \u0430 \u0442\u0430\u043a\u043e\u0436 \u0447\u0435\u0440\u0435\u0437 \u0442\u0435, \u0449\u043e \u0430\u0440\u043c\u044f\u043d\u0441\u044c\u043a\u0430 \u043f\u0438\u0441\u0435\u043c\u043d\u0456\u0441\u0442\u044c \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454 \u0432\u043b\u0430\u0441\u043d\u0443 \u0430\u0431\u0435\u0442\u043a\u0443.</p>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-ubuntu-22-04-lts/#\u041d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f-\u0432\u0435\u0431\u0441\u0435\u0440\u0432\u0435\u0440\u0430","title":"\u041d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f \u0432\u0435\u0431\u0441\u0435\u0440\u0432\u0435\u0440\u0430","text":""},{"location":"uk/serving-tiles/manually-building-a-tile-server-ubuntu-22-04-lts/#\u041a\u043e\u043d\u0444\u0456\u0433\u0443\u0440\u0430\u0446\u0456\u044f-renderd","title":"\u041a\u043e\u043d\u0444\u0456\u0433\u0443\u0440\u0430\u0446\u0456\u044f renderd","text":"<p>\u041d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f <code>renderd</code> \u0432 Ubuntu 22.04 \u0437\u043d\u0430\u0445\u043e\u0434\u044f\u0442\u044c\u0441\u044f \u0443 \u0444\u0430\u0439\u043b\u0456 <code>/etc/renderd.conf</code>. \u0412\u0456\u0434\u0440\u0435\u0434\u0430\u0433\u0443\u0454\u043c\u043e \u0439\u043e\u0433\u043e \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u043e\u0433\u043e \u0440\u0435\u0434\u0430\u043a\u0442\u043e\u0440\u0430, \u0442\u0430\u043a\u043e\u0433\u043e \u044f\u043a nano:</p> <pre><code>sudo nano /etc/renderd.conf\n</code></pre> <p>\u0414\u043e\u0434\u0430\u0439\u0442\u0435 \u0440\u043e\u0437\u0434\u0456\u043b, \u043f\u043e\u0434\u0456\u0431\u043d\u0438\u0439 \u043d\u0430\u0432\u0435\u0434\u0435\u043d\u043e\u043c\u0443, \u0432 \u043a\u0456\u043d\u0435\u0446\u044c \u0444\u0430\u0439\u043b\u0443 \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u044c:</p> <pre><code>[s2o]\nURI=/hot/\nXML=/home/accountname/src/openstreetmap-carto/mapnik.xml\nHOST=localhost\nTILESIZE=256\nMAXZOOM=20\n</code></pre> <p>\u041c\u043e\u0436\u043b\u0438\u0432\u043e \u0440\u043e\u0437\u0442\u0430\u0448\u0443\u0432\u0430\u043d\u043d\u044f \u0444\u0430\u0439\u043b\u0443 XML <code>/home/accountname/src/openstreetmap-carto/mapnik.xml</code> \u0434\u043e\u0432\u0435\u0434\u0435\u0442\u044c\u0441\u044f \u0437\u043c\u0456\u043d\u0438\u0442\u0438 \u043d\u0430 \u0442\u0435, \u0449\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f \u0443 \u0432\u0430\u0448\u0456\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u0456. \u0412\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0437\u043c\u0456\u043d\u0438\u0442\u0438 <code>[s2o]</code> \u0442\u0430 <code>URI=/hot/</code> \u043d\u0430 \u0442\u0435, \u0449\u043e \u0432\u0430\u043c \u0442\u0440\u0435\u0431\u0430. \u042f\u043a\u0449\u043e \u0432\u0438 \u0431\u0430\u0436\u0430\u0454\u0442\u0435 \u0440\u0435\u043d\u0434\u0435\u0440\u0438\u0442\u0438 \u0431\u0456\u043b\u044c\u0448\u0435 \u043e\u0434\u043d\u043e\u0433\u043e \u043d\u0430\u0431\u043e\u0440\u0443 \u0442\u0430\u0439\u043b\u0456\u0432 \u043d\u0430 \u043e\u0434\u043d\u043e\u043c\u0443 \u0441\u0435\u0440\u0432\u0435\u0440\u0456, \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0434\u043e\u0434\u0430\u0442\u0438 \u0449\u0435 \u043e\u0434\u0438\u043d \u0440\u043e\u0437\u0434\u0456\u043b, \u043f\u043e\u0434\u0456\u0431\u043d\u0438\u0439 \u0434\u043e <code>[s2o]</code>, \u0437 \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f\u043c\u0438 \u0434\u043b\u044f \u0456\u043d\u0448\u043e\u0433\u043e \u0441\u0442\u0438\u043b\u044e. \u042f\u043a\u0449\u043e \u0432\u0438 \u0431\u0430\u0436\u0430\u0454\u0442\u0435, \u0449\u043e\u0431 \u0432\u0456\u043d \u043f\u043e\u0441\u0438\u043b\u0430\u0432\u0441\u044f \u043d\u0430 \u0456\u043d\u0448\u0443 \u0431\u0430\u0437\u0443 \u0437\u0430\u043c\u0456\u0441\u0442\u044c \u0442\u0438\u043f\u043e\u0432\u043e\u0457 <code>gis</code>, \u0432\u0438 \u0442\u0430\u043a\u043e\u0436 \u043c\u043e\u0436\u0435\u0442\u0435 \u0437\u0440\u043e\u0431\u0438\u0442\u0438 \u0446\u0435, \u0430\u043b\u0435 \u043f\u043e\u044f\u0441\u043d\u0435\u043d\u043d\u044f \u0442\u043e\u0433\u043e, \u044f\u043a \u0446\u0435 \u0440\u043e\u0431\u0438\u0442\u0438 \u0432\u0438\u0445\u043e\u0434\u0438\u0442\u044c \u0437\u0430 \u043c\u0435\u0436\u0456 \u0446\u044c\u043e\u0433\u043e \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430. \u042f\u043a\u0449\u043e \u0443 \u0432\u0430\u0441 \u0434\u0435\u0441\u044c 2 \u0413\u0431 \u043e\u043f\u0435\u0440\u0430\u0442\u0438\u0432\u043d\u043e\u0457 \u043f\u0430\u043c\u02bc\u044f\u0442\u0456, \u043c\u043e\u0436\u043b\u0438\u0432\u043e \u0432\u0430\u043c \u0434\u043e\u0432\u0435\u0434\u0435\u0442\u044c\u0441\u044f \u0437\u043c\u0435\u043d\u0448\u0438\u0442\u0438 \u043a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u043f\u043e\u0442\u043e\u043a\u0456\u0432 (<code>num_threads</code>) \u0434\u043e 2. <code>URI=/hot/</code> \u0431\u0443\u043b\u043e \u043e\u0431\u0440\u0430\u043d\u043e \u0434\u043b\u044f \u0442\u043e\u0433\u043e \u0449\u043e\u0431\u0438 \u0431\u0443\u043b\u043e \u043f\u0440\u043e\u0441\u0442\u0456\u0448\u0435 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0432\u0430\u0448\u0456 \u0442\u0430\u0439\u043b\u0438 \u0437\u0430\u043c\u0456\u0441\u0442\u044c \u0448\u0430\u0440\u0443 Humanitarian \u0437 \u0441\u0430\u0439\u0442\u0443 OpenStreetMap.org. \u0412\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u043a\u0430\u0437\u0430\u0442\u0438 \u0449\u043e\u0441\u044c \u0456\u043d\u0448\u0435, \u0430\u043b\u0435 <code>/hot/</code> \u0442\u0430\u043a\u043e\u0436 \u0433\u043e\u0434\u0438\u0442\u044c\u0441\u044f.</p> <p>\u041f\u0456\u0434 \u0447\u0430\u0441 \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u043d\u044f \u0446\u0456\u0454\u0457 \u0456\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0456\u0457, \u0432\u0435\u0440\u0441\u0456\u044f Mapnik \u0432 Ubuntu 22.04 \u0431\u0443\u043b\u0430 3.1, \u0430 \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f <code>plugins_dir</code>\u00a0\u2013 \u0432 \u0440\u043e\u0437\u0434\u0456\u043b\u0456 <code>[mapnik]</code> \u0444\u0430\u0439\u043b\u0443 <code>/usr/lib/mapnik/3.1/input</code>. \u041d\u043e\u043c\u0435\u0440 \u0432\u0435\u0440\u0441\u0456\u0457 \"3.1\" \u043c\u043e\u0436\u0435 \u0437\u043c\u0456\u043d\u0438\u0442\u0438\u0441\u044c \u0432 \u043c\u0430\u0439\u0431\u0443\u0442\u043d\u044c\u043e\u043c\u0443. \u0423 \u0440\u0430\u0437\u0456 \u0432\u0438\u043d\u0438\u043a\u043d\u0435\u043d\u043d\u044f \u043f\u043e\u043c\u0438\u043b\u043a\u0438 \u043f\u0456\u0434 \u0447\u0430\u0441 \u0441\u043f\u0440\u043e\u0431 \u0440\u0435\u043d\u0434\u0435\u0440\u0456\u043d\u0433\u0443 \u0442\u0430\u0439\u043b\u0456\u0432, \u043d\u0430 \u043a\u0448\u0442\u0430\u043b\u0442 \u0446\u0456\u0454\u0457:</p> <p>An error occurred while loading the map layer 's2o': Could not create datasource for type: 'postgis' (no datasource plugin directories have been successfully registered)  encountered during parsing of layer 'landcover-low-zoom'</p> <p>\u043f\u0435\u0440\u0435\u0432\u0456\u0440\u0442\u0435 <code>/usr/lib/mapnik</code> \u0442\u0430 \u043f\u043e\u0434\u0438\u0432\u0456\u0442\u044c\u0441\u044f, \u044f\u043a\u0430 \u0432\u0435\u0440\u0441\u0456\u044f \u0432 \u043d\u0430\u0437\u0432\u0456 \u0442\u0435\u043a\u0438, \u0430 \u0442\u0430\u043a\u043e\u0436 \u043f\u043e\u0433\u043b\u044f\u043d\u044c\u0442\u0435 \u043d\u0430 <code>/usr/lib/mapnik/(version)/input</code>, \u0449\u043e\u0431 \u043f\u0435\u0440\u0435\u043a\u043e\u043d\u0430\u0442\u0438\u0441\u044c, \u0449\u043e \u0444\u0430\u0439\u043b <code>postgis.input</code> \u0437\u043d\u0430\u0445\u043e\u0434\u0438\u0442\u044c\u0441\u044f \u0442\u0430\u043c.</p>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-ubuntu-22-04-lts/#\u041f\u0435\u0440\u0435\u043a\u043e\u043d\u0430\u0439\u0442\u0435\u0441\u044f-\u0449\u043e-\u0443-\u0432\u0430\u0441-\u0454-\u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f-\u0434\u043b\u044f-\u0432\u0456\u0434\u043b\u0430\u0433\u043e\u0434\u0436\u0435\u043d\u043d\u044f","title":"\u041f\u0435\u0440\u0435\u043a\u043e\u043d\u0430\u0439\u0442\u0435\u0441\u044f, \u0449\u043e \u0443 \u0432\u0430\u0441 \u0454 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f \u0434\u043b\u044f \u0432\u0456\u0434\u043b\u0430\u0433\u043e\u0434\u0436\u0435\u043d\u043d\u044f","text":"<p>\u041d\u0430 \u0446\u044c\u043e\u043c\u0443 \u0435\u0442\u0430\u043f\u0456 \u0431\u0443\u043b\u043e \u0431 \u0434\u0443\u0436\u0435 \u043a\u043e\u0440\u0438\u0441\u043d\u043e \u0431\u0430\u0447\u0438\u0442\u0438 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0438 \u043f\u0440\u043e\u0446\u0435\u0441\u0443 \u0440\u0435\u043d\u0434\u0435\u0440\u0456\u043d\u0433\u0443 \u0442\u0430\u0439\u043b\u0456\u0432, \u0432\u043a\u043b\u044e\u0447\u0430\u044e\u0447\u0438 \u0431\u0443\u0434\u044c-\u044f\u043a\u0456 \u043f\u043e\u043c\u0438\u043b\u043a\u0438. \u0422\u0438\u043f\u043e\u0432\u043e \u0432 \u043e\u0441\u0442\u0430\u043d\u043d\u0456\u0445 \u0432\u0435\u0440\u0441\u0456\u044f\u0445 mod_tile \u0446\u0435 \u0432\u0438\u043c\u043a\u043d\u0435\u043d\u043e. \u0429\u043e\u0431 \u0443\u0432\u0456\u043c\u043a\u043d\u0443\u0442\u0438:</p> <pre><code>sudo nano /usr/lib/systemd/system/renderd.service\n</code></pre> <p>\u042f\u043a\u0449\u043e \u0446\u044c\u043e\u0433\u043e \u0449\u0435 \u043d\u0435\u043c\u0430\u0454 \u043d\u0438\u0436\u0447\u0435 <code>[Service]</code>, \u0434\u043e\u0434\u0430\u0439\u0442\u0435:</p> <pre><code>Environment=G_MESSAGES_DEBUG=all\n</code></pre> <p>\u041f\u043e\u0442\u0456\u043c \u0432\u0438\u043a\u043e\u043d\u0430\u0439\u0442\u0435 \u0446\u0456 \u043a\u043e\u043c\u0430\u043d\u0434\u0438, \u0449\u043e\u0431 \u043f\u0435\u0440\u0435\u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u043a\u043e\u043d\u0444\u0456\u0433\u0443\u0440\u0430\u0446\u0456\u044e:</p> <pre><code>sudo systemctl daemon-reload\nsudo systemctl restart renderd\nsudo systemctl restart apache2\n</code></pre>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-ubuntu-22-04-lts/#\u041a\u043e\u043d\u0444\u0456\u0433\u0443\u0440\u0430\u0446\u0456\u044f-Apache","title":"\u041a\u043e\u043d\u0444\u0456\u0433\u0443\u0440\u0430\u0446\u0456\u044f Apache","text":"<p>\u042f\u043a\u0449\u043e \u0432\u0438 \u0433\u043b\u044f\u043d\u0435\u0442\u0435 \u0443 <code>/var/log/syslog</code>, \u0432\u0438 \u043c\u0430\u0454\u0442\u0435 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0438 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f \u0432\u0456\u0434 \u0441\u043b\u0443\u0436\u0431\u0438 <code>renderd</code>. \u041c\u043e\u0436\u043b\u0438\u0432\u043e \u0442\u0430\u043c \u0431\u0443\u0434\u0443\u0442\u044c \u0442\u0456\u043b\u044c\u043a\u0438 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f \u043f\u0440\u043e \u043f\u043e\u043c\u0438\u043b\u043a\u0438, \u043d\u0435 \u043f\u0435\u0440\u0435\u0439\u043c\u0430\u0439\u0442\u0435\u0441\u044c \u0437\u0430\u0440\u0430\u0437 \u0446\u0438\u043c. \u0414\u0430\u043b\u0456:</p> <pre><code>sudo /etc/init.d/apache2 restart\n</code></pre> <p>\u0412 <code>syslog</code> \u043c\u0430\u0454 \u0431\u0443\u0442\u0438 \u0449\u043e\u0441\u044c \u043f\u043e\u0434\u0456\u0431\u043d\u0435 \u0434\u043e \u043d\u0430\u0441\u0442\u0443\u043f\u043d\u043e\u0433\u043e:</p> <pre><code>Apr 23 11:14:10 servername apachectl[2031]: [Sat Apr 23 11:14:10.190678 2022] [tile:notice] [pid 2031:tid 140608477239168] Loading tile config s2o at /hot/ for zooms 0 - 20 from tile directory /var/cache/renderd/tiles with extension .png and mime type image/png\n</code></pre> <p>\u0414\u0430\u043b\u0456, \u0432\u0456\u0434\u043a\u0440\u0438\u0439\u0442\u0435 \u0432 \u043e\u0433\u043b\u044f\u0434\u0430\u0447\u0456 <code>http://ip.\u0432\u0430\u0448\u043e\u0433\u043e.\u0441\u0435\u0440\u0432\u0435\u0440\u0430/index.html</code> (\u0437\u0430\u043c\u0456\u043d\u0456\u0442\u044c <code>ip.\u0432\u0430\u0448\u043e\u0433\u043e.\u0441\u0435\u0440\u0432\u0435\u0440\u0430</code> \u043d\u0430 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u043d\u0443 \u0430\u0434\u0440\u0435\u0441\u0443). \u0412\u0438 \u043c\u0430\u0454\u0442\u0435 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0438 \u0442\u0438\u043f\u043e\u0432\u0443 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0443 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 Apache2 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043e\u0433\u043e \u0432 Ubuntu.</p> <p>\u041f\u043e\u0440\u0430\u0434\u0430</p> <p>\u044f\u043a\u0449\u043e \u0432\u0438 \u043d\u0435 \u0437\u043d\u0430\u0454\u0442\u0435 IP \u0430\u0434\u0440\u0435\u0441\u0443 \u043f\u0440\u0438\u0437\u043d\u0430\u0447\u0435\u043d\u0443 \u0441\u0435\u0440\u0432\u0435\u0440\u0443, \u0457\u0457 \u043c\u043e\u0436\u043d\u0430 \u0434\u0456\u0437\u043d\u0430\u0442\u0438\u0441\u044c \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e \u043a\u043e\u043c\u0430\u043d\u0434\u0438 <code>ifconfig</code>\u00a0\u2013 \u044f\u043a\u0449\u043e \u043c\u0435\u0440\u0435\u0436\u0435\u0432\u0456 \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f \u043d\u0435 \u043d\u0430\u0434\u0442\u043e \u0441\u043a\u043b\u0430\u0434\u043d\u0456, \u0442\u043e \u0446\u0435 \u043c\u0430\u0454 \u0431\u0443\u0442\u0438 \u0449\u043e\u0441\u044c \u0442\u0438\u043f\u0443 <code>inet addr</code> \u0432\u0456\u0434\u043c\u0456\u043d\u043d\u0435 \u0432\u0456\u0434 <code>127.0.0.1</code>.</p> <p>\u042f\u043a\u0449\u043e \u0432\u0438 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u0435 \u0441\u0435\u0440\u0432\u0435\u0440 \u043f\u043e\u0441\u0442\u0430\u0447\u0430\u043b\u044c\u043d\u0438\u043a\u0430 \u043f\u043e\u0441\u043b\u0443\u0433 \u0445\u043e\u0441\u0442\u0438\u043d\u0433\u0443, \u0442\u043e, \u0448\u0432\u0438\u0434\u0448\u0435 \u0437\u0430 \u0432\u0441\u0435, \u0432\u043d\u0443\u0442\u0440\u0456\u0448\u043d\u044f \u0430\u0434\u0440\u0435\u0441\u0430 \u0432\u0430\u0448\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0431\u0443\u0434\u0435 \u0432\u0456\u0434\u0440\u0456\u0437\u043d\u044f\u0442\u0438\u0441\u044f \u0432\u0456\u0434 \u0437\u043e\u0432\u043d\u0456\u0448\u043d\u044c\u043e\u0457 \u0430\u0434\u0440\u0435\u0441\u0438, \u044f\u043a\u0430 \u0431\u0443\u043b\u0430 \u043d\u0430\u0434\u0430\u043d\u0430 \u0432\u0430\u043c, \u0430\u043b\u0435 \u0446\u044f \u0437\u043e\u0432\u043d\u0456\u0448\u043d\u044f IP-\u0430\u0434\u0440\u0435\u0441\u0430 \u0432\u0436\u0435 \u0431\u0443\u0434\u0435 \u043d\u0430\u0434\u0456\u0441\u043b\u0430\u043d\u0430 \u0432\u0430\u043c, \u0456, \u0439\u043c\u043e\u0432\u0456\u0440\u043d\u043e, \u0432\u0438 \u0457\u0457 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u0435 \u0437\u0430\u0440\u0430\u0437 \u0434\u043b\u044f \u0434\u043e\u0441\u0442\u0443\u043f\u0443 \u0434\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430.</p> <p>\u0417\u0430\u0443\u0432\u0430\u0436\u0442\u0435, \u0449\u043e \u0446\u0435 \u043b\u0438\u0448\u0435 \u0441\u0430\u0439\u0442 <code>http</code> (\u043f\u043e\u0440\u0442 80)\u00a0\u2013 \u0432\u0430\u043c \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0432\u0438\u0442\u0440\u0430\u0442\u0438\u0442\u0438 \u0442\u0440\u043e\u0445\u0438 \u0431\u0456\u043b\u044c\u0448\u0435 \u0447\u0430\u0441\u0443 \u0434\u043b\u044f \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f Apache \u043d\u0430 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f <code>https</code>, \u0430\u043b\u0435 \u0446\u0435 \u0432\u0438\u0445\u043e\u0434\u0438\u0442\u044c \u0437\u0430 \u043c\u0435\u0436\u0456 \u0446\u0438\u0445 \u0456\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0456\u0439. \u041e\u0434\u043d\u0430\u043a \u044f\u043a\u0449\u043e \u0432\u0438 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u0435 \"Let's Encrypt\" \u0434\u043b\u044f \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u044f \u0441\u0435\u0440\u0442\u0438\u0444\u0456\u043a\u0430\u0442\u0456\u0432, \u0456\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0456\u044f \u0437\u0456 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u043c\u043e\u0436\u0435 \u0442\u0430\u043a\u043e\u0436 \u043c\u0456\u0441\u0442\u0438\u0442\u0438 \u043f\u043e\u0440\u0430\u0434\u0438 \u0449\u043e\u0434\u043e \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f \u0441\u0430\u0439\u0442\u0443 Apache \u0434\u043b\u044f \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f https.</p> <p>\u0414\u0430\u043b\u0456, \u0432 \u043e\u0433\u043b\u044f\u0434\u0430\u0447\u0456 \u0432\u0456\u0434\u043a\u0440\u0438\u0439\u0442\u0435 \u043f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f: <code>http://ip.\u0432\u0430\u0448\u043e\u0433\u043e.\u0441\u0435\u0440\u0432\u0435\u0440\u0430/hot/0/0/0.png</code></p> <p>\u042f\u043a\u0449\u043e \u0432\u0438 \u0432\u0438\u0449\u0435 \u043f\u043e\u043c\u0456\u043d\u044f\u043b\u0438 <code>URI=/hot/</code> \u0432\u0430\u043c \u0434\u043e\u0432\u0435\u0434\u0435\u0442\u044c\u0441\u044f \u043f\u0456\u0434\u043f\u0440\u0430\u0432\u0438\u0442\u0438 \u043f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f. \u0412\u0438 \u043c\u0430\u0454\u0442\u0435 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0438 \u043c\u0430\u043b\u0435\u043d\u044c\u043a\u0443 \u043c\u0430\u043f\u0443 \u0441\u0432\u0456\u0442\u0443. \u042f\u043a\u0449\u043e \u0457\u0457 \u043d\u0435\u043c\u0430\u0454, \u043f\u0435\u0440\u0435\u0432\u0456\u0440\u0442\u0435 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f \u043f\u0440\u043e \u043f\u043e\u043c\u0438\u043b\u043a\u0438 \u0432 \u043a\u043e\u043d\u0441\u043e\u043b\u0456. \u0421\u043a\u043e\u0440\u0456\u0448 \u0437\u0430 \u0432\u0441\u0435 \u0432\u0438 \u0449\u043e\u0441\u044c \u043d\u0430\u043f\u043b\u0443\u0442\u0430\u043b\u0438 \u0437 \u0434\u043e\u0437\u0432\u043e\u043b\u0430\u043c\u0438, \u0430\u0431\u043e \u0432\u0438 \u043f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u043b\u0438 \u044f\u043a\u0438\u0439\u0441\u044c \u043a\u0440\u043e\u043a \u0437 \u0456\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0456\u0457. \u042f\u043a\u0449\u043e \u0432\u0438 \u043d\u0435 \u043e\u0442\u0440\u0438\u043c\u0430\u043b\u0438 \u0442\u0430\u0439\u043b \u0442\u0430 \u043e\u0442\u0440\u0438\u043c\u0443\u0454\u0442\u0435 \u0456\u043d\u0448\u0456 \u043f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f, \u0441\u043a\u043e\u043f\u0456\u044e\u0439\u0442\u0435 \u0432\u0438\u0432\u0456\u0434 \u0432 Pastebin, \u0442\u0430 \u0437\u0432\u0435\u0440\u043d\u0456\u0442\u044c\u0441\u044f \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e, \u043d\u0430\u043f\u0440\u0438\u043a\u043b\u0430\u0434, \u0432 <code>community.openstreetmap.org</code>.</p>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-ubuntu-22-04-lts/#\u041f\u0435\u0440\u0435\u0433\u043b\u044f\u0434-\u0442\u0430\u0439\u043b\u0456\u0432","title":"\u041f\u0435\u0440\u0435\u0433\u043b\u044f\u0434 \u0442\u0430\u0439\u043b\u0456\u0432","text":"<p>\u0414\u043b\u044f \u0442\u043e\u0433\u043e, \u0449\u043e\u0431 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0438 \u0442\u0430\u0439\u043b\u0438, \u043c\u0438 \u0442\u0440\u043e\u0445\u0438 \u0437\u043c\u0430\u0445\u043b\u044e\u0454\u043c\u043e \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u044e\u0447\u0438\u0441\u044c \u0444\u0430\u0439\u043b\u043e\u043c <code>sample_leaflet.html</code> \u0437 \u0442\u0435\u043a\u0438 \u201cextras\u201d \u0432 mod_tile.</p> <pre><code>cd /var/www/html\nsudo wget https://raw.githubusercontent.com/SomeoneElseOSM/mod_tile/switch2osm/extra/sample_leaflet.html\nsudo nano sample_leaflet.html\n</code></pre> <p>\u0417\u043c\u0456\u043d\u0456\u0442\u044c \u0439\u043e\u0433\u043e \u0442\u0430\u043a, \u0449\u043e\u0431 IP-\u0430\u0434\u0440\u0435\u0441\u0430 \u0431\u0443\u043b\u0430 <code>ip.\u0432\u0430\u0448\u043e\u0433\u043e.\u0441\u0435\u0440\u0432\u0435\u0440\u0430</code>, \u0430 \u043d\u0435 \u043f\u0440\u043e\u0441\u0442\u043e <code>127.0.0.1</code>. \u0426\u0435 \u043f\u043e\u0432\u0438\u043d\u043d\u043e \u0434\u043e\u0437\u0432\u043e\u043b\u0438\u0442\u0438 \u0432\u0430\u043c \u043e\u0442\u0440\u0438\u043c\u0430\u0442\u0438 \u0434\u043e\u0441\u0442\u0443\u043f \u0434\u043e \u0446\u044c\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430. \u041f\u043e\u0442\u0456\u043c \u043f\u0435\u0440\u0435\u0439\u0434\u0456\u0442\u044c \u0434\u043e <code>http://ip.\u0432\u0430\u0448\u043e\u0433\u043e.\u0441\u0435\u0440\u0432\u0435\u0440\u0430/sample_leaflet.html</code>.</p> <p>\u0417\u0433\u043e\u0434\u043e\u043c \u0432\u0438 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0435 \u043c\u0430\u043f\u0443. \u0412\u0438 \u0437\u043c\u043e\u0436\u0435\u0442\u0435 \u0437\u0431\u0456\u043b\u044c\u0448\u0443\u0432\u0430\u0442\u0438 \u0442\u0430 \u0437\u043c\u0435\u043d\u0448\u0443\u0432\u0430\u0442\u0438 \u0457\u0457 \u043c\u0430\u0441\u0448\u0442\u0430\u0431, \u0430\u043b\u0435 \u0432 \u0437\u0430\u043b\u0435\u0436\u043d\u043e\u0441\u0442\u0456 \u0432\u0456\u0434 \u043f\u043e\u0442\u0443\u0436\u043d\u043e\u0441\u0442\u0435\u0439 \u0441\u0435\u0440\u0432\u0435\u0440\u0430, \u0434\u0435\u044f\u043a\u0456 \u0442\u0430\u0439\u043b\u0438 \u043c\u043e\u0436\u0443\u0442\u044c \u0431\u0443\u0442\u0438 \u0441\u0456\u0440\u0438\u043c\u0438 (\u0432\u043e\u043d\u0438 \u0449\u0435 \u043d\u0435 \u0432\u0441\u0442\u0438\u0433\u043b\u0438 \u043e\u0431\u0440\u043e\u0431\u0438\u0442\u0438\u0441\u044c \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c). \u041e\u0434\u043d\u0430\u043a, \u044f\u043a \u0442\u0456\u043b\u044c\u043a\u0438 \u0457\u0445 \u043e\u0431\u0440\u043e\u0431\u043a\u0430 \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c\u0441\u044f, \u0432\u043e\u043d\u0438 \u0431\u0443\u0434\u0443\u0442\u044c \u0433\u043e\u0442\u043e\u0432\u0456 \u0434\u043b\u044f \u043f\u0435\u0440\u0435\u0433\u043b\u044f\u0434\u0443. \u042f\u043a\u0449\u043e \u0432\u0438 \u043f\u043e\u0434\u0438\u0432\u0438\u0442\u0435\u0441\u044c \u0443 <code>/var/log/syslog</code>, \u0432\u0438 \u043c\u0430\u0454\u0442\u0435 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0438 \u0437\u0430\u043f\u0438\u0442\u0438 \u043d\u0430 \u043f\u043e\u043a\u0430\u0437 \u0442\u0430\u0439\u043b\u0456\u0432.</p> <p>\u041e\u0442\u0436\u0435, \u0449\u043e\u0431 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0438 \u0457\u0445, \u043a\u043e\u043b\u0438 \u0432\u043e\u043d\u0438 \u0437\u0430\u043f\u0438\u0442\u0443\u044e\u0442\u044c\u0441\u044f, \u043f\u0456\u0434\u02bc\u0454\u0434\u043d\u0430\u0439\u0442\u0435\u0441\u044f \u0447\u0435\u0440\u0435\u0437 ssh \u0442\u0430 \u0432\u0438\u043a\u043e\u043d\u0430\u0439\u0442\u0435 \u043a\u043e\u043c\u0430\u043d\u0434\u0443:</p> <pre><code>tail -f /var/log/syslog | grep \" TILE \"\n</code></pre> <p>(\u0437\u0432\u0435\u0440\u043d\u0456\u0442\u044c \u0443\u0432\u0430\u0433\u0443 \u043d\u0430 \u043f\u0440\u043e\u0431\u0456\u043b\u0438 \u0434\u043e\u0432\u043a\u043e\u043b\u0430 <code>\" TILE \"</code>)</p> <p>\u0423 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u044c \u0432\u0438 \u043e\u0442\u0440\u0438\u043c\u0443\u0432\u0430\u0442\u0438\u043c\u0435\u0442\u0435 \u043f\u043e \u0440\u044f\u0434\u043a\u0443 \u043a\u043e\u0436\u043d\u043e\u0433\u043e \u0440\u0430\u0437\u0443, \u043a\u043e\u043b\u0438 \u0431\u0443\u0434\u0435 \u043f\u0440\u0438\u0445\u043e\u0434\u0438\u0442\u0438 \u0437\u0430\u043f\u0438\u0442 \u043d\u0430 \u043f\u043e\u043a\u0430\u0437 \u0442\u0430\u0439\u043b\u0456\u0432, \u0430\u0431\u043e \u0431\u0443\u0434\u0435 \u0437\u0430\u043a\u0456\u043d\u0447\u0443\u0432\u0430\u0442\u0438\u0441\u044c \u0457\u0445 \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f.</p> <p>\u0417\u0430 \u0431\u0430\u0436\u0430\u043d\u043d\u044f\u043c, \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0437\u0431\u0456\u043b\u044c\u0448\u0438\u0442\u0438 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f <code>ModTileMissingRequestTimeout</code> \u0443 <code>/etc/apache2/conf-available/renderd.conf</code> \u0437 10 \u0441\u0435\u043a\u0443\u043d\u0434 \u0434\u043e, \u0441\u043a\u0430\u0436\u0456\u043c\u043e, 30 \u0430\u0431\u043e 60, \u0434\u043b\u044f \u0442\u043e\u0433\u043e, \u0449\u043e\u0431 \u0434\u0430\u0442\u0438 \u0431\u0456\u043b\u044c\u0448\u0435 \u0447\u0430\u0441\u0443 \u0441\u0435\u0440\u0432\u0435\u0440\u0443 \u043d\u0430 \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u0442\u0430\u0439\u043b\u0456\u0432 \u043f\u0435\u0440\u0435\u0434 \u0442\u0438\u043c \u044f\u043a \u043f\u043e\u043a\u0430\u0437\u0430\u0442\u0438 \u0441\u0456\u0440\u0438\u0439 \u0444\u043e\u043d \u043d\u0430 \u0437\u0430\u043c\u0456\u0441\u0442\u044c \u043d\u0438\u0445. \u041f\u0435\u0440\u0435\u0432\u0456\u0440\u0442\u0435, \u0449\u043e \u0432\u0438 \u0432\u0438\u043a\u043e\u043d\u0430\u043b\u0438 \u043a\u043e\u043c\u0430\u043d\u0434\u0438 <code>service renderd restart</code> \u0442\u0430 <code>service apache2 restart</code> \u043f\u0456\u0441\u043b\u044f \u0432\u043d\u0435\u0441\u0435\u043d\u043d\u044f \u0437\u043c\u0456\u043d.</p> <p>\u0412\u0456\u0442\u0430\u0454\u043c\u043e! \u0422\u0435\u043f\u0435\u0440 \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u0432\u0435\u0440\u043d\u0443\u0442\u0438\u0441\u044c \u0434\u043e \u0440\u043e\u0437\u0434\u0456\u043b\u0443 \u0412\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f \u0442\u0430\u0439\u043b\u0456\u0432 \u0434\u043b\u044f \u0434\u043e\u0434\u0430\u0432\u0430\u043d\u043d\u044f \u043c\u0430\u043f\u0438, \u0449\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454 \u0432\u0430\u0448 \u043d\u043e\u0432\u0438\u0439 \u0442\u0430\u0439\u043b\u043e\u0432\u0438\u0439 \u0441\u0435\u0440\u0432\u0435\u0440.</p>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-ubuntu-24-04-lts/","title":"\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u0442\u0430\u0439\u043b\u043e\u0432\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0432\u0440\u0443\u0447\u043d\u0443 (Ubuntu 24.04)","text":""},{"location":"uk/serving-tiles/manually-building-a-tile-server-ubuntu-24-04-lts/#\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f-\u0442\u0430\u0439\u043b\u043e\u0432\u043e\u0433\u043e-\u0441\u0435\u0440\u0432\u0435\u0440\u0430-\u0432\u0440\u0443\u0447\u043d\u0443-Ubuntu-2404","title":"\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u0442\u0430\u0439\u043b\u043e\u0432\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0432\u0440\u0443\u0447\u043d\u0443 (Ubuntu 24.04)","text":"<p>\u041d\u0430 \u0446\u0456\u0439 \u0441\u0442\u043e\u0440\u0456\u043d\u0446\u0456 \u043c\u0456\u0441\u0442\u0438\u0442\u044c\u0441\u044f \u043e\u043f\u0438\u0441 \u0437\u0456 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f, \u0440\u043e\u0437\u0433\u043e\u0440\u0442\u0430\u043d\u043d\u044f \u0442\u0430 \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f \u0432\u0441\u044c\u043e\u0433\u043e \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e\u0433\u043e \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043d\u043e\u0433\u043e \u0437\u0430\u0431\u0435\u0437\u043f\u0435\u0447\u0435\u043d\u043d\u044f \u0434\u043b\u044f \u0440\u043e\u0431\u043e\u0442\u0438 \u0432\u0430\u0448\u043e\u0433\u043e \u0442\u0430\u0439\u043b\u043e\u0432\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430. \u041f\u043e\u043a\u0440\u043e\u043a\u043e\u0432\u0456 \u0456\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0456\u0457 \u043e\u043f\u0438\u0441\u0443\u044e\u0442\u044c \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u0442\u0430\u0439\u043b\u043e\u0432\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u043d\u0430 Ubuntu Linux 24.04 (Jammy Jellyfish), \u0432\u043e\u043d\u0438 \u0431\u0443\u043b\u0438 \u043f\u0435\u0440\u0435\u0432\u0456\u0440\u0435\u043d\u0456 \u0443 \u043a\u0432\u0456\u0442\u043d\u0456 2024.</p>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-ubuntu-24-04-lts/#\u0412\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f-\u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043d\u043e\u0433\u043e-\u0437\u0430\u0431\u0435\u0437\u043f\u0435\u0447\u0435\u043d\u043d\u044f","title":"\u0412\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043d\u043e\u0433\u043e \u0437\u0430\u0431\u0435\u0437\u043f\u0435\u0447\u0435\u043d\u043d\u044f","text":"<p>\u0422\u0430\u0439\u043b\u043e\u0432\u0438\u0439 \u0441\u0435\u0440\u0432\u0435\u0440 OpenStreetMap\u00a0\u2013 \u0446\u0435 \u043d\u0430\u0431\u0456\u0440 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043d\u043e\u0433\u043e \u0437\u0430\u0431\u0435\u0437\u043f\u0435\u0447\u0435\u043d\u043d\u044f \u0442\u0430 \u0431\u0456\u0431\u043b\u0456\u043e\u0442\u0435\u043a, \u044f\u043a\u0456 \u043f\u0440\u0430\u0446\u044e\u044e\u0442\u044c \u0440\u0430\u0437\u043e\u043c \u0433\u0435\u043d\u0435\u0440\u0443\u044e\u0447\u0438 \u0442\u0430\u0439\u043b\u0438. \u042f\u043a \u0446\u0435 \u0442\u0440\u0430\u043f\u043b\u044f\u0454\u0442\u044c\u0441\u044f \u0434\u043e\u0432\u043e\u043b\u0456 \u0447\u0430\u0441\u0442\u043e \u0432 OpenStreetMap, \u0456\u0441\u043d\u0443\u0454 \u043a\u0456\u043b\u044c\u043a\u0430 \u0440\u0456\u0437\u043d\u0438\u0445 \u0448\u043b\u044f\u0445\u0456\u0432 \u0434\u043b\u044f \u0434\u043e\u0441\u044f\u0433\u043d\u0435\u043d\u043d\u044f \u043c\u0435\u0442\u0438 \u0456 \u043c\u0430\u0439\u0436\u0435 \u043a\u043e\u0436\u0435\u043d \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442 \u043c\u0430\u0454 \u0430\u043b\u044c\u0442\u0435\u0440\u043d\u0430\u0442\u0438\u0432\u0443, \u0437 \u0432\u043b\u0430\u0441\u043d\u0438\u043c\u0438 \u043d\u0435\u0434\u043e\u043b\u0456\u043a\u0430\u043c\u0438 \u0442\u0430 \u043f\u0435\u0440\u0435\u0432\u0430\u0433\u0430\u043c\u0438. \u0426\u0435\u0439 \u043f\u043e\u0441\u0456\u0431\u043d\u0438\u043a \u043e\u043f\u0438\u0441\u0443\u0454 \u043d\u0430\u0439\u0431\u0456\u043b\u044c\u0448 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u0443 \u0432\u0435\u0440\u0441\u0456\u044e, \u0449\u043e \u0441\u0445\u043e\u0436\u0430 \u043d\u0430 \u0442\u0435, \u0449\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f \u0433\u043e\u043b\u043e\u0432\u043d\u0438\u043c \u0442\u0430\u0439\u043b\u043e\u0432\u0438\u043c \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c OpenStreetMap.</p> <p>\u0422\u0430\u0439\u043b\u043e\u0432\u0438\u0439 \u0441\u0435\u0440\u0432\u0435\u0440 \u0441\u043a\u043b\u0430\u0434\u0430\u0454\u0442\u044c\u0441\u044f \u0437 \u043f\u02bc\u044f\u0442\u0438 \u0433\u043e\u043b\u043e\u0432\u043d\u0438\u0445 \u0447\u0430\u0441\u0442\u0438\u043d: <code>mod_tile</code>, <code>renderd</code>, <code>mapnik</code>, <code>osm2pgsql</code> \u0442\u0430 \u0431\u0430\u0437\u0430 \u0434\u0430\u043d\u0438\u0445 <code>postgresql/postgis</code>. Mod_tile\u00a0\u2013 \u043c\u043e\u0434\u0443\u043b\u044c \u0441\u0435\u0440\u0432\u0435\u0440\u0430 Apache, \u044f\u043a\u0438\u0439 \u043e\u0431\u0441\u043b\u0443\u0433\u043e\u0432\u0443\u0454 \u0442\u0430\u0439\u043b\u043e\u0432\u0438\u0439 \u043a\u0435\u0448 \u0442\u0430 \u0432\u0438\u0437\u043d\u0430\u0447\u0430\u0454 \u044f\u043a\u0456 \u0442\u0430\u0439\u043b\u0438 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u043f\u0435\u0440\u0435\u0433\u0435\u043d\u0435\u0440\u0443\u0432\u0430\u0442\u0438, \u0447\u0435\u0440\u0435\u0437 \u0457\u0445 \u0432\u0456\u0434\u0441\u0443\u0442\u043d\u0456\u0441\u0442\u044c \u0443 \u043a\u0435\u0448\u0456 \u0430\u0431\u043e \u0442\u043e\u043c\u0443, \u0449\u043e \u0432\u043e\u043d\u0438 \u0437\u0430\u0441\u0442\u0430\u0440\u0456\u043b\u0438. Renderd \u0432\u0438\u0437\u043d\u0430\u0447\u0430\u0454 \u043f\u0440\u0456\u043e\u0440\u0438\u0442\u0435\u0442\u0438 \u0432 \u0447\u0435\u0440\u0433\u0430\u0445 \u0440\u0456\u0437\u043d\u043e\u0433\u043e \u0448\u0442\u0438\u0431\u0443 \u0437\u0430\u043f\u0438\u0442\u0456\u0432 \u0434\u043b\u044f \u0437\u0433\u043b\u0430\u0434\u0436\u0443\u0432\u0430\u043d\u043d\u044f \u043d\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f. Mapnik\u00a0\u2013 \u0431\u0456\u0431\u043b\u0456\u043e\u0442\u0435\u043a\u0430, \u044f\u043a\u0430 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u0430\u0454 \u0431\u0435\u0437\u043f\u043e\u0441\u0435\u0440\u0435\u0434\u043d\u044c\u043e \u0437\u0430 \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u0442\u0430\u0439\u043b\u0456\u0432 \u0437 \u0447\u0435\u0440\u0433\u0438, \u044f\u043a\u043e\u044e \u043a\u0435\u0440\u0443\u0454 renderd.</p> <p>\u0417\u0430\u0432\u0434\u044f\u043a\u0438 \u0440\u043e\u0431\u043e\u0442\u0456, \u0432\u0438\u043a\u043e\u043d\u0430\u043d\u0456\u0439 \u0441\u0443\u043f\u0440\u043e\u0432\u043e\u0434\u0436\u0443\u0432\u0430\u0447\u0430\u043c\u0438 Debian \u0442\u0430 Ubuntu, \u043f\u043e \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u043d\u044e \u043e\u0441\u0442\u0430\u043d\u043d\u0456\u0445 \u0432\u0435\u0440\u0441\u0456\u0439 \u0446\u0438\u0445 \u043f\u0430\u043a\u0443\u043d\u043a\u0456\u0432 \u0443 Ubuntu 24.04, \u0446\u044f \u0456\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0456\u044f \u0454 \u0434\u0435\u0449\u043e \u043a\u043e\u0440\u043e\u0442\u0448\u043e\u044e, \u043d\u0456\u0436 \u0457\u0457 \u043f\u043e\u043f\u0435\u0440\u0435\u0434\u043d\u0456 \u0432\u0435\u0440\u0441\u0456\u0457.</p> <p>\u0417\u0430\u0443\u0432\u0430\u0436\u0442\u0435, \u0449\u043e \u0446\u0435 \u043a\u0435\u0440\u0456\u0432\u043d\u0438\u0446\u0442\u0432\u043e \u0431\u0443\u043b\u043e \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u0435 \u0442\u0430 \u043f\u0440\u043e\u0442\u0435\u0441\u0442\u043e\u0432\u0430\u043d\u0435 \u0437 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f\u043c \u043d\u043e\u0432\u043e\u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0437 \u043e\u043f\u0435\u0440\u0430\u0446\u0456\u0439\u043d\u043e\u044e \u0441\u0438\u0441\u0442\u0435\u043c\u043e\u044e Ubuntu 24.04. \u042f\u043a\u0449\u043e \u0443 \u0432\u0430\u0441 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0456 \u0456\u043d\u0448\u0456 \u0432\u0435\u0440\u0441\u0456\u0457 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043d\u043e\u0433\u043e \u0437\u0430\u0431\u0435\u0437\u043f\u0435\u0447\u0435\u043d\u043d\u044f (\u043c\u043e\u0436\u043b\u0438\u0432\u043e \u0432\u0438 \u043e\u043d\u043e\u0432\u0438\u043b\u0438\u0441\u044c \u0437 \u043f\u043e\u043f\u0435\u0440\u0435\u0434\u043d\u044c\u043e\u0457 \u0432\u0435\u0440\u0441\u0456\u0457 Ubuntu, \u0430\u0431\u043e \u0443 \u0432\u0430\u0441 \u043f\u0456\u0434\u02bc\u0454\u0434\u043d\u0430\u043d\u0456 \u0456\u043d\u0448\u0456 \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0456\u0457 PPA), \u043c\u043e\u0436\u043b\u0438\u0432\u043e \u0432\u0430\u043c \u0434\u043e\u0432\u0435\u0434\u0435\u0442\u044c\u0441\u044f \u0432\u043d\u0435\u0441\u0442\u0438 \u043f\u0435\u0432\u043d\u0456 \u0437\u043c\u0456\u043d\u0438.</p> <p>\u0414\u043b\u044f \u0442\u043e\u0433\u043e, \u0449\u043e\u0431 \u0441\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u0432\u0441\u0456 \u0446\u0456 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0438, \u0432\u0430\u043c \u0441\u043f\u043e\u0447\u0430\u0442\u043a\u0443 \u0442\u0440\u0435\u0431\u0430 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0438 \u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0456 \u0437\u0430\u043b\u0435\u0436\u043d\u043e\u0441\u0442\u0456.</p> <p>\u0426\u0456 \u043d\u0430\u0441\u0442\u0430\u043d\u043e\u0432\u0438 \u043f\u0435\u0440\u0435\u0434\u0431\u0430\u0447\u0430\u044e\u0442\u044c \u0449\u043e \u0432\u0441\u0456 \u043a\u043e\u043c\u0430\u043d\u0434\u0438 \u0432\u0438\u043a\u043e\u043d\u0443\u044e\u0442\u044c\u0441\u044f \u0432 \u043e\u0442\u043e\u0447\u0435\u043d\u0456 \u0437\u0432\u0438\u0447\u0430\u0439\u043d\u043e\u0433\u043e \u043e\u0431\u043b\u0456\u043a\u043e\u0432\u043e\u0433\u043e \u0437\u0430\u043f\u0438\u0441\u0443 (\u043d\u0435 root) \u0437 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f\u043c\u0438 <code>sudo</code>. \u041d\u0435 \u043d\u0430\u043c\u0430\u0433\u0430\u0439\u0442\u0435\u0441\u044c \u0442\u0430 \u043d\u0435 \u0440\u043e\u0431\u0456\u0442\u044c \u0432\u0441\u0435 \u0432 \u043e\u0442\u043e\u0447\u0435\u043d\u0456 <code>root</code>; \u0441\u0438\u0441\u0442\u0435\u043c\u0430 \u043d\u0435 \u0431\u0443\u0434\u0435 \u043f\u0440\u0430\u0446\u044e\u0432\u0430\u0442\u0438.</p> <pre><code>sudo apt update\nsudo apt upgrade &amp;&amp; sudo apt install \\\n    screen locate libapache2-mod-tile renderd \\\n    git tar unzip wget bzip2 apache2 lua5.1 \\\n    mapnik-utils python3-mapnik python3-psycopg2 \\\n    python3-yaml gdal-bin npm node-carto \\\n    postgresql postgresql-contrib postgis \\\n    postgresql-16-postgis-3 postgresql-16-postgis-3-scripts \\\n    osm2pgsql net-tools curl\n</code></pre> <p>\u041d\u0430 \u0446\u044c\u043e\u043c\u0443 \u0435\u0442\u0430\u043f\u0456 \u0431\u0443\u043b\u043e \u0434\u043e\u0434\u0430\u043d\u043e \u043a\u0456\u043b\u044c\u043a\u0430 \u043d\u043e\u0432\u0438\u0445 \u043e\u0431\u043b\u0456\u043a\u043e\u0432\u0438\u0445 \u0437\u0430\u043f\u0438\u0441\u0456\u0432. \u0412\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u043e\u0437\u043d\u0430\u0439\u043e\u043c\u0438\u0442\u0438\u0441\u044c \u0437 \u043d\u0438\u043c\u0438 \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e <code>tail /etc/passwd</code>. <code>postgres</code>\u00a0\u2013 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f \u0434\u043b\u044f \u043a\u0435\u0440\u0443\u0432\u0430\u043d\u043d\u044f \u0431\u0430\u0437\u0430\u043c\u0438 \u0434\u0430\u043d\u0438\u0445, \u044f\u043a\u0456 \u043c\u0438 \u0431\u0443\u0434\u0435\u043c\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0434\u043b\u044f \u0437\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u043d\u044f \u0434\u0430\u043d\u0438\u0445 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u0438\u0445 \u043d\u0430\u043c \u0434\u043b\u044f \u0440\u0435\u043d\u0434\u0435\u0440\u0438\u043d\u0433\u0443. <code>_renderd</code>\u00a0\u2013 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f \u0444\u043e\u043d\u043e\u0432\u043e\u044e \u0441\u043b\u0443\u0436\u0431\u043e\u044e <code>renderd</code>, \u0456 \u043d\u0430\u043c \u0434\u0430\u043b\u0456 \u0434\u043e\u0432\u0435\u0434\u0435\u0442\u044c\u0441\u044f \u043f\u0435\u0440\u0435\u043a\u043e\u043d\u0430\u0442\u0438\u0441\u044c, \u0449\u043e \u0431\u0456\u043b\u044c\u0448\u0456\u0441\u0442\u044c \u043a\u043e\u043c\u0430\u043d\u0434 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u044e\u0442\u044c\u0441\u044f \u0441\u0430\u043c\u0435 \u0446\u0438\u043c \u043e\u0431\u043b\u0456\u043a\u043e\u0432\u0438\u043c \u0437\u0430\u043f\u0438\u0441\u043e\u043c.</p> <p>\u0422\u0435\u043f\u0435\u0440 \u0432\u0430\u043c \u0442\u0440\u0435\u0431\u0430 \u0441\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u0431\u0430\u0437\u0443 \u0434\u0430\u043d\u0438\u0445 postgis. \u0422\u0438\u043f\u043e\u0432\u0456 \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f \u0440\u0456\u0437\u043d\u043e\u043c\u0430\u043d\u0456\u0442\u043d\u0438\u0445 \u043f\u0440\u043e\u0433\u0440\u0430\u043c \u043e\u0447\u0456\u043a\u0443\u044e\u0442\u044c \u0449\u043e \u0431\u0430\u0437\u0430 \u0434\u0430\u043d\u0438\u0445 \u043d\u0430\u0437\u0438\u0432\u0430\u0442\u0438\u043c\u0435\u0442\u044c\u0441\u044f gis, \u0442\u043e\u0436 \u043c\u0438 \u0431\u0443\u0434\u0435\u043c\u043e \u0434\u043e\u0442\u0440\u0438\u043c\u0443\u0432\u0430\u0442\u0438\u0441\u044c \u0446\u0456\u0454\u0457 \u0443\u0433\u043e\u0434\u0438 \u0432 \u0446\u0456\u043c \u043a\u0435\u0440\u0456\u0432\u043d\u0438\u0446\u0442\u0432\u0456, \u0445\u043e\u0447\u0430 \u0446\u0435 \u0439 \u043d\u0435 \u043e\u0431\u043e\u0432\u02bc\u044f\u0437\u043a\u043e\u0432\u043e. \u0417\u0432\u0435\u0440\u043d\u0456\u0442\u044c \u0443\u0432\u0430\u0433\u0443, \u0449\u043e <code>_renderd</code> \u043d\u0438\u0436\u0447\u0435 \u0437\u0431\u0456\u0433\u0430\u0454\u0442\u044c\u0441\u044f \u0437 \u0456\u043c\u0435\u043d\u0435\u043c \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430, \u044f\u043a\u0438\u0439 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f \u0434\u043b\u044f \u0444\u043e\u043d\u043e\u0432\u043e\u0457 \u0441\u043b\u0443\u0436\u0431\u0438 <code>renderd</code>.</p> <pre><code>sudo -u postgres -i\ncreateuser _renderd\ncreatedb -E UTF8 -O _renderd gis\n</code></pre> <p>\u041f\u043e\u043a\u0438 \u0432\u0438 \u043f\u0440\u0430\u0446\u044e\u0454\u0442\u0435 \u044f\u043a \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447 <code>postgres</code>, \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u0456\u0442\u044c PostGIS \u0432 \u0431\u0430\u0437\u0443 \u0434\u0430\u043d\u0438\u0445 PostgreSQL:</p> <pre><code>psql\n</code></pre> <p>(\u0446\u0435 \u043f\u0440\u0438\u0437\u0432\u0435\u0434\u0435 \u0434\u043e \u043f\u043e\u044f\u0432\u0438 <code>postgres=#</code> \u043d\u0430 \u043f\u043e\u0447\u0430\u0442\u043a\u0443 \u0440\u044f\u0434\u043a\u0430 \u043a\u043e\u043d\u0441\u043e\u043b\u0456)</p> <pre><code>\\c gis\n</code></pre> <p>(\u0443 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u044c \u0432\u0438 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0435: \"You are now connected to database <code>'gis'</code> as user <code>'postgres'</code>\" [\"\u0422\u0435\u043f\u0435\u0440 \u0432\u0438 \u043f\u0456\u0434\u02bc\u0454\u0434\u043d\u0430\u043d\u0456 \u0434\u043e \u0431\u0430\u0437\u0438 \u0434\u0430\u043d\u0438\u0445 <code>'gis'</code> \u044f\u043a \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447 <code>'postgres'</code>\"])</p> <pre><code>CREATE EXTENSION postgis;\n</code></pre> <p>(\u0443 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u044c \u0432\u0438 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0435: CREATE EXTENSION)</p> <pre><code>CREATE EXTENSION hstore;\n</code></pre> <p>(\u0443 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u044c \u0432\u0438 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0435: CREATE EXTENSION)</p> <pre><code>ALTER TABLE geometry_columns OWNER TO _renderd;\n</code></pre> <p>(\u0443 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u044c \u0432\u0438 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0435: ALTER TABLE)</p> <pre><code>ALTER TABLE spatial_ref_sys OWNER TO _renderd;\n</code></pre> <p>(\u0443 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u044c \u0432\u0438 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0435: ALTER TABLE)</p> <pre><code>\\q\n</code></pre> <p>(\u0446\u0435 \u043f\u0440\u0438\u0437\u0432\u0435\u0434\u0435 \u0434\u043e \u0432\u0438\u0445\u043e\u0434\u0443 \u0437 \u0441\u0435\u0441\u0456\u0457 psql \u0442\u0430 \u043f\u043e\u0432\u0435\u0440\u043d\u0435\u043d\u043d\u044f \u043d\u0430\u0437\u0430\u0434 \u0443 \u043a\u043e\u043d\u0441\u043e\u043b\u044c Linux)</p> <pre><code>exit\n</code></pre> <p>(\u043f\u043e\u0432\u0435\u0440\u043d\u0435\u043d\u043d\u044f \u043d\u0430\u0437\u0430\u0434 \u0434\u043e \u0441\u0435\u0441\u0456\u0457 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430, \u0432 \u044f\u043a\u0456\u0439 \u043c\u0438 \u0437\u043d\u0430\u0445\u043e\u0434\u0438\u043b\u0438\u0441\u044c \u0434\u043e \u0432\u0438\u043a\u043e\u043d\u0430\u043d\u043d\u044f \u043a\u043e\u043c\u0430\u043d\u0434\u0438 <code>sudo -u postgres -i</code> \u0432\u0438\u0449\u0435)</p>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-ubuntu-24-04-lts/#Mapnik","title":"Mapnik","text":"<p>Mapnik \u043c\u0438 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u043b\u0438 \u0440\u0430\u043d\u0456\u0448\u0435, \u0440\u0430\u0437\u043e\u043c \u0456\u0437 \"sudo\", \u043f\u0435\u0440\u0435\u0432\u0456\u0440\u0438\u043c\u043e \u0447\u0438 \u0432\u0456\u043d \u043f\u0440\u0430\u0446\u044e\u0454:</p> <pre><code>python3\n&gt;&gt;&gt; import mapnik\n&gt;&gt;&gt;\n</code></pre> <p>\u042f\u043a\u0449\u043e python \u0443 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u044c \u0432\u0438\u0434\u0430\u0454 \u0442\u0456\u043b\u044c\u043a\u0438 <code>&gt;&gt;&gt;</code> \u0431\u0435\u0437 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f \u043f\u0440\u043e \u043f\u043e\u043c\u0438\u043b\u043a\u0438, \u0437\u043d\u0430\u0447\u0438\u0442\u044c \u0431\u0456\u0431\u043b\u0456\u043e\u0442\u0435\u043a\u0430 Mapnik \u0454 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e\u044e \u0432 Python. \u0412\u0456\u0442\u0430\u0454\u043c\u043e! \u0414\u043b\u044f \u0432\u0438\u0445\u043e\u0434\u0443 \u0456\u0437 \u0441\u0435\u0441\u0456\u0457 Python \u0441\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u0439\u0442\u0435\u0441\u044c \u043d\u0430\u0441\u0442\u0443\u043f\u043d\u043e\u044e \u043a\u043e\u043c\u0430\u043d\u0434\u043e\u044e:</p> <pre><code>&gt;&gt;&gt; quit()\n</code></pre>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-ubuntu-24-04-lts/#\u041d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f-\u0441\u0442\u0438\u043b\u0456\u0432","title":"\u041d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f \u0441\u0442\u0438\u043b\u0456\u0432","text":"<p>\u0422\u0435\u043f\u0435\u0440, \u043f\u0456\u0441\u043b\u044f \u0442\u043e\u0433\u043e, \u044f\u043a \u0432\u0441\u0435 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u0435 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043d\u0435 \u0437\u0430\u0431\u0435\u0437\u043f\u0435\u0447\u0435\u043d\u043d\u044f \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0435, \u0432\u0430\u043c \u0442\u0440\u0435\u0431\u0430 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u0442\u0430 \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u0442\u0438 \u0441\u0442\u0438\u043b\u0456.</p> <p>\u0421\u0442\u0438\u043b\u044c, \u044f\u043a\u0438\u0439 \u043c\u0438 \u0431\u0443\u0434\u0435\u043c\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438,\u00a0\u2013 \u0446\u0435 \u0441\u0442\u0438\u043b\u044c \u044f\u043a\u0438\u0439 \u0437\u0430\u0441\u0442\u043e\u0441\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f \u0434\u043b\u044f \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \"\u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u043e\u0433\u043e\" \u0448\u0430\u0440\u0443 \u043d\u0430 \u0441\u0430\u0439\u0442\u0456 openstreetmap.org. \u041c\u0438 \u043e\u0431\u0440\u0430\u043b\u0438 \u0439\u043e\u0433\u043e \u0447\u0435\u0440\u0435\u0437 \u0433\u0430\u0440\u043d\u0443 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0456\u044e \u0456 \u0442\u0435, \u0449\u043e \u0432\u0456\u043d \u0437\u0434\u0430\u0442\u0435\u043d \u043f\u0440\u0430\u0446\u044e\u0432\u0430\u0442\u0438 \u0434\u043b\u044f \u0431\u0443\u0434\u044c-\u044f\u043a\u043e\u0457 \u0447\u0430\u0441\u0442\u0438\u043d\u0438 \u0441\u0432\u0456\u0442\u0443, \u043d\u0430\u0432\u0456\u0442\u044c \u0442\u0430\u043c \u0434\u0435 \u043d\u0435 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f \u043b\u0430\u0442\u0438\u043d\u043a\u0430. \u0410\u043b\u0435 \u0443 \u043d\u044c\u043e\u0433\u043e \u0454 \u0439 \u043f\u0435\u0432\u043d\u0456 \u043d\u0435\u0434\u043e\u043b\u0456\u043a\u0438\u00a0\u2013 \u0446\u0435 \u043a\u043e\u043c\u043f\u0440\u043e\u043c\u0456\u0441\u043d\u0456 \u0440\u0456\u0448\u0435\u043d\u043d\u044f \u0434\u043b\u044f \u0442\u043e\u0433\u043e, \u0449\u043e\u0431 \u043f\u0440\u0430\u0446\u044e\u0432\u0430\u0442\u0438 \u0432 \u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u0438\u0445 \u043c\u0430\u0441\u0448\u0442\u0430\u0431\u0430\u0445, \u0432\u0456\u043d \u0434\u0443\u0436\u0435 \u0441\u043a\u043b\u0430\u0434\u043d\u0438\u0439 \u0434\u043b\u044f \u0440\u043e\u0437\u0443\u043c\u0456\u043d\u043d\u044f \u0442\u0430 \u0432\u043d\u0435\u0441\u0435\u043d\u043d\u044f \u0437\u043c\u0456\u043d, \u044f\u043a\u0449\u043e \u0432\u0430\u043c \u0434\u043e\u0432\u0435\u0434\u0435\u0442\u044c\u0441\u044f \u0457\u0445 \u0432\u043d\u043e\u0441\u0438\u0442\u0438.</p> <p>\u041a\u043e\u0434 \u0441\u0442\u0438\u043b\u044e \"OpenStreetMap Carto\" \u0437 \u0432\u0435\u0431-\u0441\u0430\u0439\u0442\u0443 openstreetmap.org \u0437\u043d\u0430\u0445\u043e\u0434\u0438\u0442\u044c\u0441\u044f \u043d\u0430 GitHub\u00a0\u2013 https://github.com/gravitystorm/openstreetmap-carto/ \u0442\u0430 \u0442\u0430\u043a\u043e\u0436 \u043c\u0430\u0454 \u0432\u043b\u0430\u0441\u043d\u0456 \u0456\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0456\u0457 \u0437\u0456 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f\u00a0\u2013 https://github.com/gravitystorm/openstreetmap-carto/blob/master/INSTALL.md. \u041f\u0440\u043e \u0442\u0435, \u0449\u043e \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0437\u0440\u043e\u0431\u0438\u0442\u0438, \u043c\u0438 \u0440\u043e\u0437\u043f\u043e\u0432\u0456\u043c\u043e \u0442\u0443\u0442.</p> <p>\u041f\u0435\u0440\u0435\u0434\u0431\u0430\u0447\u0430\u0454\u0442\u044c\u0441\u044f \u0449\u043e \u043c\u0438 \u0440\u043e\u0437\u043c\u0456\u0449\u0443\u0454\u043c\u043e \u0441\u0442\u0438\u043b\u044c \u0432 \u0442\u0435\u0446\u0456 <code>~/src</code> \u0434\u043e\u043c\u0430\u0448\u043d\u044c\u043e\u0457 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0456\u0457 \u0437\u0432\u0438\u0447\u0430\u0439\u043d\u043e\u0433\u043e \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430 (\u043d\u0435 root); \u043f\u043e\u0442\u0456\u043c \u043c\u0438 \u043d\u0430\u0434\u0430\u043c\u043e \u0434\u043e\u0441\u0442\u0443\u043f \u0434\u043e \u043d\u044c\u043e\u0433\u043e \u043e\u0431\u043b\u0456\u043a\u043e\u0432\u043e\u043c\u0443 \u0437\u0430\u043f\u0438\u0441\u0443 <code>_renderd</code>.</p> <pre><code>mkdir ~/src\ncd ~/src\ngit clone https://github.com/gravitystorm/openstreetmap-carto\ncd openstreetmap-carto\ngit pull --all\ngit switch --detach v5.9.0\n</code></pre> <p>\"git switch\" \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0432\u0438\u043a\u043e\u043d\u0430\u0442\u0438 \u0442\u043e\u043c\u0443, \u0449\u043e \u0446\u0435 \u043e\u0441\u0442\u0430\u043d\u043d\u044f \u0432\u0435\u0440\u0441\u0456\u044f, \u044f\u043a\u0443 \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0438 \u043d\u0430 OpenStreetMap, \u0430\u043b\u0435 OSM Carto \u043f\u0435\u0440\u0435\u0431\u0443\u0432\u0430\u0454 \u0443 \u043f\u0440\u043e\u0446\u0435\u0441\u0456 \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0443 \u043d\u0430 \u0456\u043d\u0448\u0438\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u0431\u0430\u0437\u0438 \u0434\u0430\u043d\u0438\u0445. \u0414\u0438\u0432\u0456\u0442\u044c\u0441\u044f [INSTALL.md] (https://github.com/gravitystorm/openstreetmap-carto/blob/master/INSTALL.md) \u0434\u043b\u044f \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u044f \u043d\u043e\u0432\u043e\u0457 \u0432\u0435\u0440\u0441\u0456\u0457 OSM Carto.</p> <p>\u0414\u0430\u043b\u0456, \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u043c\u043e \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u0443 \u0432\u0435\u0440\u0441\u0456\u044e \u043a\u043e\u043c\u043f\u0456\u043b\u044f\u0442\u043e\u0440\u0430 <code>carto</code>.</p> <pre><code>sudo npm install -g carto\ncarto -v\n</code></pre> <p>\u0423 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u044c \u043c\u0438 \u043c\u0430\u0454\u043c\u043e \u043e\u0442\u0440\u0438\u043c\u0430\u0442\u0438 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044e \u043f\u0440\u043e \u043d\u043e\u043c\u0435\u0440 \u0432\u0435\u0440\u0441\u0456\u0457, \u044f\u043a\u0430 \u043c\u0430\u0454 \u0431\u0443\u0442\u0438 \u043d\u0435 \u043c\u0435\u043d\u0448\u0435 \u043d\u0456\u0436:</p> <pre><code>1.2.0\n</code></pre> <p>\u041f\u0456\u0441\u043b\u044f \u0446\u044c\u043e\u0433\u043e \u043c\u0438 \u043f\u0435\u0440\u0435\u0442\u0432\u043e\u0440\u0438\u043c\u043e \u043f\u0440\u043e\u0454\u043a\u0442 carto \u0443 \u0437\u0440\u043e\u0437\u0443\u043c\u0456\u043b\u0438\u0439 \u0434\u043b\u044f Mapnik \u0432\u0438\u0433\u043b\u044f\u0434:</p> <pre><code>carto project.mml &gt; mapnik.xml\n</code></pre> <p>\u0422\u0435\u043f\u0435\u0440 \u0443 \u043d\u0430\u0441 \u0454 \u0441\u0442\u0438\u043b\u044c Mapnik XML\u00a0\u2013 <code>/home/youruseraccount/src/openstreetmap-carto/mapnik.xml</code>.</p>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-ubuntu-24-04-lts/#\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f-\u0434\u0430\u043d\u0438\u0445","title":"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u0434\u0430\u043d\u0438\u0445","text":"<p>\u0414\u043b\u044f \u043f\u043e\u0447\u0430\u0442\u043a\u0443, \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u043c\u043e \u043d\u0435\u0432\u0435\u043b\u0438\u0447\u043a\u0443 \u0447\u0430\u0441\u0442\u0438\u043d\u0443 \u0442\u0435\u0441\u0442\u043e\u0432\u0438\u0445 \u0434\u0430\u043d\u0438\u0445. \u0421\u0435\u0440\u0435\u0434 \u0440\u0456\u0437\u043d\u043e\u043c\u0430\u0457\u0442\u0442\u044f \u043c\u0456\u0441\u0446\u044c \u0434\u043b\u044f \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u044f \u0434\u0430\u043d\u0438\u0445, \u043e\u0431\u0435\u0440\u0435\u043c\u043e <code>download.geofabrik.de</code>, \u0449\u043e \u043c\u0456\u0441\u0442\u0438\u0442\u044c \u0432\u0435\u043b\u0438\u043a\u0438\u0439 \u043f\u0435\u0440\u0435\u043b\u0456\u043a \u0440\u0456\u0437\u043d\u0438\u0445 \u0432\u0430\u0440\u0456\u0430\u043d\u0442\u0456\u0432 \u0434\u043b\u044f \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f. \u0412\u0456\u0437\u044c\u043c\u0456\u043c\u043e \u0434\u043b\u044f \u043f\u0440\u0438\u043a\u043b\u0430\u0434\u0443 \u0410\u0437\u0435\u0440\u0431\u0430\u0439\u0434\u0436\u0430\u043d (~32.4 \u041c\u0431).</p> <p>\u041f\u0435\u0440\u0435\u0439\u0434\u0456\u0442\u044c \u0437\u0430 \u043f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f\u043c https://download.geofabrik.de/asia/azerbaijan.html \u0442\u0430 \u0437\u0432\u0435\u0440\u043d\u0456\u0442\u044c \u0443\u0432\u0430\u0433\u0443 \u043d\u0430 \u0434\u0430\u0442\u0443 \"This file was last modified\" (\u0449\u043e\u0441\u044c \u0441\u0445\u043e\u0436\u0435 \u043d\u0430 \"2024-04-24T20:21:40Z\"). \u0412\u043e\u043d\u0430 \u043d\u0430\u043c \u0437\u043d\u0430\u0434\u043e\u0431\u0438\u0442\u044c\u0441\u044f \u043f\u043e\u0442\u0456\u043c, \u043a\u043e\u043b\u0438 \u0443 \u043d\u0430\u0441 \u0432\u0438\u043d\u0438\u043a\u043d\u0435 \u043f\u043e\u0442\u0440\u0435\u0431\u0430 \u043e\u043d\u043e\u0432\u0438\u0442\u0438 \u043d\u0430\u0448\u0456 \u0434\u0430\u043d\u0456 \u0434\u0430\u043d\u0438\u043c\u0438, \u044f\u043a\u0456 \u0443\u0447\u0430\u0441\u043d\u0438\u043a\u0438 OpenStreetMap \u0434\u043e\u0434\u0430\u043b\u0438 \u0437 \u043c\u043e\u043c\u0435\u043d\u0442\u0443 \u043d\u0430\u0448\u043e\u0433\u043e \u0456\u043c\u043f\u043e\u0440\u0442\u0443. \u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u043c\u043e \u0434\u0430\u043d\u0456:</p> <pre><code>mkdir ~/data\ncd ~/data\nwget https://download.geofabrik.de/asia/azerbaijan-latest.osm.pbf\n</code></pre> <p>\u0414\u0430\u043b\u0456 \u043d\u0430\u043c \u0442\u0440\u0435\u0431\u0430 \u043f\u0435\u0440\u0435\u043a\u043e\u043d\u0430\u0442\u0438\u0441\u044c, \u0449\u043e \u043e\u0431\u043b\u0456\u043a\u043e\u0432\u0438\u0439 \u0437\u0430\u043f\u0438\u0441 <code>_renderd</code> \u043c\u0430\u0454 \u0434\u043e\u0441\u0442\u0443\u043f \u0434\u043e \u0441\u0442\u0438\u043b\u044e. \u0419\u043e\u043c\u0443 \u043f\u043e\u0442\u0440\u0456\u0431\u0435\u043d \u0434\u043e\u0441\u0442\u0443\u043f \u0434\u043e \u0432\u0441\u044c\u043e\u0433\u043e, \u0449\u043e \u0432\u0438 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u043b\u0438 \u0434\u043b\u044f \u043d\u044c\u043e\u0433\u043e, \u0430\u043b\u0435, \u0442\u0438\u043f\u043e\u0432\u043e, \u0432\u0456\u043d \u043d\u0435 \u043f\u043e\u0432\u0438\u043d\u0435\u043d \u043c\u0430\u0442\u0438 \u0434\u043e\u0441\u0442\u0443\u043f\u0443 \u0434\u043e \u0432\u0430\u0448\u043e\u0457 \u0434\u043e\u043c\u0430\u0448\u043d\u044c\u043e\u0457 \u0442\u0435\u043a\u0438. \u042f\u043a\u0449\u043e \u043c\u0438 \u043f\u0435\u0440\u0435\u0434\u0431\u0430\u0447\u0430\u0454\u043c\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0442\u0435\u043a\u0443 <code>~/src</code> \u0434\u043b\u044f \u0446\u044c\u043e\u0433\u043e \u043f\u0435\u0440\u0435\u0439\u0434\u0456\u0442\u044c \u0434\u043e \u043d\u0435\u0457 \u0442\u0430 \u0432\u0438\u043a\u043e\u043d\u0430\u0439\u0442\u0435 \u043a\u043e\u043c\u0430\u043d\u0434\u0443</p> <pre><code>chmod o+rx ~\n</code></pre> <p>\u042f\u043a\u0449\u043e \u0432\u0438 \u043d\u0435 \u0431\u0430\u0436\u0430\u0454\u0442\u0435 \u0440\u043e\u0431\u0438\u0442\u0438 \u0446\u044c\u043e\u0433\u043e, \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u0435\u0440\u0435\u043c\u0456\u0441\u0442\u0438\u0442\u0438 \u0441\u0442\u0438\u043b\u044c \u0432 \u0456\u043d\u0448\u0435 \u043c\u0456\u0441\u0446\u0435 \u0442\u0430 \u0437\u043c\u0456\u043d\u0438\u0442\u0438 \u043f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f \u043d\u0430 \u0440\u043e\u0437\u0442\u0430\u0448\u0443\u0432\u0430\u043d\u043d\u044f \u0444\u0430\u0439\u043b\u0456\u0432 \u0443 \u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0438\u0445 \u043a\u043e\u043c\u0430\u043d\u0434\u0430\u0445.</p> <p>\u041d\u0430\u0441\u0442\u0443\u043f\u043d\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0436\u0435 \u0432\u0430\u043c \u043f\u0435\u0440\u0435\u043d\u0435\u0441\u0442\u0438 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u0456 \u0434\u0430\u043d\u0456 \u0434\u043e \u0432\u0430\u0448\u043e\u0457 \u0431\u0430\u0437\u0438 \u0434\u0430\u043d\u0438\u0445. \u041d\u0430 \u0446\u044c\u043e\u043c\u0443 \u0435\u0442\u0430\u043f\u0456 \u0437\u0440\u043e\u0441\u0442\u0435 \u043d\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u043d\u0430 \u0434\u0438\u0441\u043a\u043e\u0432\u0456 \u043e\u043f\u0435\u0440\u0430\u0446\u0456\u0457 \u0447\u0435\u0440\u0435\u0437 \u043f\u043e\u0442\u0440\u0435\u0431\u0443 \u043f\u0435\u0440\u0435\u043d\u0435\u0441\u0435\u043d\u043d\u044f \u0437\u043d\u0430\u0447\u043d\u043e\u0433\u043e \u043e\u0431\u0441\u044f\u0433\u0443 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u0457; \u0456\u043c\u043f\u043e\u0440\u0442 \u0432\u0441\u0456\u0454\u0457 \u043f\u043b\u0430\u043d\u0435\u0442\u0438 \u043c\u043e\u0436\u0435 \u0442\u0440\u0438\u0432\u0430\u0442\u0438 \u043a\u0456\u043b\u044c\u043a\u0430 \u0433\u043e\u0434\u0438\u043d, \u0434\u043d\u0456\u0432 \u0442\u0430 \u043d\u0430\u0432\u0456\u0442\u044c \u0442\u0438\u0436\u043d\u0456\u0432, \u0432 \u0437\u0430\u043b\u0435\u0436\u043d\u043e\u0441\u0442\u0456 \u0432\u0456\u0434 \u043f\u043e\u0442\u0443\u0436\u043d\u043e\u0441\u0442\u0435\u0439 \u0432\u0430\u0448\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u043d\u043e\u0433\u043e \u043e\u0431\u043b\u0430\u0434\u043d\u0430\u043d\u043d\u044f. \u0417\u0440\u043e\u0437\u0443\u043c\u0456\u043b\u043e, \u0449\u043e \u0434\u043b\u044f \u043d\u0435\u0432\u0435\u043b\u0438\u043a\u0438\u0445 \u0447\u0430\u0441\u0442\u0438\u043d \u0434\u0430\u043d\u0438\u0445 \u0456\u043c\u043f\u043e\u0440\u0442 \u0432\u0456\u0434\u0431\u0443\u0432\u0430\u0454\u0442\u044c\u0441\u044f \u0437\u043d\u0430\u0447\u043d\u043e \u0448\u0432\u0438\u0434\u0448\u0435, \u043c\u043e\u0436\u043b\u0438\u0432\u043e \u0432\u0430\u043c \u0434\u043e\u0432\u0435\u0434\u0435\u0442\u044c\u0441\u044f \u043f\u043e\u0435\u043a\u0441\u043f\u0435\u0440\u0438\u043c\u0435\u043d\u0442\u0443\u0432\u0430\u0442\u0438 \u0437\u0456 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f\u043c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430 <code>-C</code>, \u0449\u043e\u0431 \u0432\u043a\u043b\u0430\u0441\u0442\u0438\u0441\u044c \u0443 \u043d\u0430\u044f\u0432\u043d\u0443 \u043e\u043f\u0435\u0440\u0430\u0442\u0438\u0432\u043d\u0443 \u043f\u0430\u043c\u02bc\u044f\u0442\u044c \u0432\u0430\u0448\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430. \u0417\u0432\u0435\u0440\u043d\u0456\u0442\u044c \u0443\u0432\u0430\u0433\u0443, \u0449\u043e \u043c\u0438 \u0440\u043e\u0431\u0438\u043c\u043e \u0446\u0435 \u0432 \u043e\u0442\u043e\u0447\u0435\u043d\u0456 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430 <code>_renderd</code>.</p> <pre><code>sudo -u _renderd osm2pgsql \\\n    -d gis --create --slim  -G --hstore \\\n    --tag-transform-script \\\n        ~/src/openstreetmap-carto/openstreetmap-carto.lua \\\n    -C 2500 --number-processes 1 \\\n    -S ~/src/openstreetmap-carto/openstreetmap-carto.style \\\n    ~/data/azerbaijan-latest.osm.pbf\n</code></pre> <p>\u0420\u043e\u0437\u0431\u0435\u0440\u0456\u043c\u043e\u0441\u044f \u0449\u043e \u043e\u0437\u043d\u0430\u0447\u0430\u044e\u0442\u044c \u0432\u0441\u0456 \u0446\u0456 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0438:</p> <code>-d gis</code> \u0411\u0430\u0437\u0430 \u0434\u0430\u043d\u0438\u0445, \u0437 \u044f\u043a\u043e\u044e \u043c\u0438 \u043f\u0440\u0430\u0446\u044e\u0454\u043c\u043e (\u0442\u0438\u043f\u043e\u0432\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f <code>gis</code>; \u0442\u0443\u0442 \u0442\u0440\u0435\u0431\u0430 \u0432\u043a\u0430\u0437\u0430\u0442\u0438 \u0457\u0457 \u044f\u0432\u043d\u043e). <code>--create</code> \u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u0434\u0430\u043d\u0456 \u0432 \u043f\u0443\u0441\u0442\u0443 \u0431\u0430\u0437\u0443 \u0434\u0430\u043d\u0438\u0445, \u0437\u0430\u043c\u0456\u0441\u0442\u044c \u0441\u043f\u0440\u043e\u0431 \u0434\u043e\u0434\u0430\u0442\u0438 \u0457\u0445 \u0434\u043e \u043d\u0430\u044f\u0432\u043d\u0438\u0445. <code>--slim</code> osm2pgsql \u043c\u043e\u0436\u0435 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0440\u0456\u0437\u043d\u043e\u043c\u0430\u043d\u0456\u0442\u043d\u0456 \u0441\u0445\u0435\u043c\u0438 \u0442\u0430\u0431\u043b\u0438\u0446\u044c; \"slim\" \u0433\u043e\u0434\u0438\u0442\u044c\u0441\u044f \u0434\u043b\u044f \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0456\u0457 \u0442\u0430\u0439\u043b\u0456\u0432. <code>-G</code> \u0412\u0438\u0437\u043d\u0430\u0447\u0430\u0454, \u044f\u043a\u0438\u043c \u0447\u0438\u043d\u043e\u043c \u0431\u0443\u0434\u0443\u0442\u044c \u043e\u0431\u0440\u043e\u0431\u043b\u044f\u0442\u0438\u0441\u044c \u043c\u0443\u043b\u044c\u0442\u0438\u043f\u043e\u043b\u0456\u0433\u043e\u043d\u0438. <code>--hstore</code> \u0414\u043e\u0437\u0432\u043e\u043b\u044f\u0454 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0434\u043b\u044f \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0456\u0457 \u0442\u0430\u0439\u043b\u0456\u0432 \u0442\u0435\u0491\u0438, \u0434\u043b\u044f \u044f\u043a\u0438\u0445 \u043d\u0435\u043c\u0430\u0454 \u043e\u043a\u0440\u0435\u043c\u0438\u0445 \u0441\u0442\u043e\u0432\u043f\u0446\u0456\u0432 \u0432 \u0431\u0430\u0437\u0456 \u0434\u0430\u043d\u0438\u0445. <code>--tag-transform-script ~/src/openstreetmap-carto/openstreetmap-carto.lua</code> \u0412\u0438\u0437\u043d\u0430\u0447\u0430\u0454 \u0441\u043a\u0440\u0438\u043f\u0442 lua, \u044f\u043a\u0438\u0439 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f \u0434\u043b\u044f \u043e\u0431\u0440\u043e\u0431\u043a\u0438 \u0442\u0435\u0491\u0456\u0432. \u0426\u0435 \u043f\u0440\u043e\u0441\u0442\u0438\u0439 \u0441\u043f\u043e\u0441\u0456\u0431 \u043e\u0431\u0440\u043e\u0431\u043a\u0438 \u0442\u0435\u0491\u0456\u0432 OSM \u0434\u043e \u0442\u043e\u0433\u043e, \u044f\u043a \u0432\u043e\u043d\u0438 \u0431\u0443\u0434\u0443\u0442\u044c \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u0456 \u0432 \u0441\u0442\u0438\u043b\u0456, \u0449\u043e \u0441\u043f\u0440\u043e\u0449\u0443\u0454 \u043b\u043e\u0433\u0456\u043a\u0443 \u0441\u0430\u043c\u043e\u0433\u043e \u0441\u0442\u0438\u043b\u044e. <code>-C 2500</code> \u0412\u0438\u0434\u0456\u043b\u044f\u0454 2.5 \u0413\u0431 \u043e\u043f\u0435\u0440\u0430\u0442\u0438\u0432\u043d\u043e\u0457 \u043f\u0430\u043c\u02bc\u044f\u0442\u0456 \u0434\u043b\u044f osm2pgsql \u043d\u0430 \u0432\u0438\u043a\u043e\u043d\u0430\u043d\u043d\u044f \u0456\u043c\u043f\u043e\u0440\u0442\u0443. \u042f\u043a\u0449\u043e \u0443 \u0432\u0430\u0441 \u043c\u0435\u043d\u0448\u0435 \u043e\u043f\u0435\u0440\u0430\u0442\u0438\u0432\u043d\u043e\u0457 \u043f\u0430\u043c\u02bc\u044f\u0442\u0456, \u0441\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043c\u0435\u043d\u0448\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f. \u042f\u043a\u0449\u043e \u043f\u0440\u043e\u0446\u0435\u0441 \u0456\u043c\u043f\u043e\u0440\u0442\u0443 \u0431\u0443\u0434\u0435 \u0437\u043d\u0438\u0449\u0435\u043d\u0438\u0439 \u0447\u0435\u0440\u0435\u0437 \u043d\u0435\u0441\u0442\u0430\u0447\u0443 \u043e\u043f\u0435\u0440\u0430\u0442\u0438\u0432\u043d\u043e\u0457 \u043f\u0430\u043c\u02bc\u044f\u0442\u0456, \u0441\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0437\u043c\u0435\u043d\u0448\u0438\u0442\u0438 \u0446\u0435 \u0447\u0438\u0441\u043b\u043e \u0430\u0431\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0439\u0442\u0435 \u043c\u0435\u043d\u0448\u0438\u0439 \u043e\u0431\u0441\u044f\u0433 \u0434\u0430\u043d\u0438\u0445. <code>--number-processes 1</code> \u0412\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u043e\u0434\u043d\u0435 \u044f\u0434\u0440\u043e \u043f\u0440\u043e\u0446\u0435\u0441\u043e\u0440\u0430. \u042f\u043a\u0449\u043e \u0443 \u0432\u0430\u0441 \u0431\u0430\u0433\u0430\u0442\u043e\u044f\u0434\u0435\u0440\u043d\u0438\u0439 \u043f\u0440\u043e\u0446\u0435\u0441\u043e\u0440 \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0431\u0456\u043b\u044c\u0448\u0443 \u043a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u044f\u0434\u0435\u0440. <code>-S ~/src/openstreetmap-carto/openstreetmap-carto.style</code> \u0421\u0442\u0432\u043e\u0440\u044e\u0432\u0430\u0442\u0438 \u0441\u0442\u043e\u0432\u043f\u0446\u0456 \u0432 \u0431\u0430\u0437\u0456 \u0434\u0430\u043d\u0438\u0445 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u044e\u0447\u0438 \u0432\u043a\u0430\u0437\u0430\u043d\u0438\u0439 \u0444\u0430\u0439\u043b (\u0432 \u043d\u0430\u0448\u043e\u043c\u0443 \u0432\u0438\u043f\u0430\u0434\u043a\u0443 \u0432\u0456\u043d \u043d\u0456\u0447\u0438\u043c \u043d\u0435 \u0432\u0456\u0434\u0440\u0456\u0437\u043d\u044f\u0454\u0442\u044c\u0441\u044f \u0432\u0456\u0434 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u043e\u0433\u043e \"openstreetmap-carto\") <code>~/data/azerbaijan-latest.osm.pbf</code> \u041e\u0441\u0442\u0430\u043d\u043d\u0456\u0439 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u00a0\u2013 \u0446\u0435 \u0444\u0430\u0439\u043b \u0437 \u0434\u0430\u043d\u0438\u043c\u0438 \u0434\u043b\u044f \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u0432 \u0431\u0430\u0437\u0443. <p>\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u043c \u0440\u043e\u0431\u043e\u0442\u0438 \u0446\u0456\u0454\u0457 \u043a\u043e\u043c\u0430\u043d\u0434\u0438 \u043c\u0430\u0454 \u0431\u0443\u0442\u0438 \u0449\u043e\u0441\u044c \u0441\u0445\u043e\u0436\u0435 \u043d\u0430 \"osm2pgsql took 163s (2m 43s) overall\".</p>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-ubuntu-24-04-lts/#\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f-\u0456\u043d\u0434\u0435\u043a\u0441\u0456\u0432","title":"\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u0456\u043d\u0434\u0435\u043a\u0441\u0456\u0432","text":"<p>\u041f\u043e\u0447\u0438\u043d\u0430\u044e\u0447\u0438 \u0437 \u0432\u0435\u0440\u0441\u0456\u0457 5.3.0, \u0434\u0435\u044f\u043a\u0456 \u0434\u043e\u0434\u0430\u0442\u043a\u043e\u0432\u0456 \u0456\u043d\u0434\u0435\u043a\u0441\u0438 \u043c\u0430\u044e\u0442\u044c \u0431\u0443\u0442\u0438 \u0437\u0430\u0441\u0442\u043e\u0441\u043e\u0432\u0430\u043d\u0456 \u0432\u0440\u0443\u0447\u043d\u0443:.</p> <pre><code>cd ~/src/openstreetmap-carto/\nsudo -u _renderd psql -d gis -f indexes.sql\n</code></pre> <p>\u0421\u043a\u0440\u0438\u043f\u0442 \u043c\u0430\u0454 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u0438\u0442\u0438 <code>CREATE INDEX</code> 16 \u0440\u0430\u0437\u0456\u0432.</p>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-ubuntu-24-04-lts/#\u0424\u0443\u043d\u043a\u0446\u0456\u0457-\u0431\u0430\u0437\u0438-\u0434\u0430\u043d\u0438\u0445","title":"\u0424\u0443\u043d\u043a\u0446\u0456\u0457 \u0431\u0430\u0437\u0438 \u0434\u0430\u043d\u0438\u0445","text":"<p>\u0423 \u0432\u0435\u0440\u0441\u0456\u0457 5.9.0 \u00abOSM Carto\u00bb (\u0432\u0438\u043f\u0443\u0449\u0435\u043d\u0430 \u0432 \u0436\u043e\u0432\u0442\u043d\u0456 2024 \u0440\u043e\u043a\u0443) \u0434\u0435\u044f\u043a\u0456 \u0444\u0443\u043d\u043a\u0446\u0456\u0457 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0443\u0432\u0430\u0442\u0438 \u0432 \u0431\u0430\u0437\u0443 \u0434\u0430\u043d\u0438\u0445 \u0432\u0440\u0443\u0447\u043d\u0443. \u0412\u043e\u043d\u0438 \u043c\u043e\u0436\u0443\u0442\u044c \u0431\u0443\u0442\u0438 \u0434\u043e\u0434\u0430\u043d\u0456/\u043f\u0435\u0440\u0435\u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u0456 \u0432 \u0431\u0443\u0434\u044c-\u044f\u043a\u0438\u0439 \u043c\u043e\u043c\u0435\u043d\u0442 \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e:</p> <pre><code>cd ~/src/openstreetmap-carto/\nsudo -u _renderd psql -d gis -f functions.sql\n</code></pre>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-ubuntu-24-04-lts/#\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f-Shapefile","title":"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f Shapefile","text":"<p>\u041f\u043e\u043f\u0440\u0438 \u0442\u0435, \u0449\u043e \u0431\u0456\u043b\u044c\u0448\u0456\u0441\u0442\u044c \u0434\u0430\u043d\u0438\u0445 \u0434\u043b\u044f \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u043c\u0430\u043f\u0438 \u0431\u0435\u0440\u0435\u0442\u044c\u0441\u044f \u0437 \u0444\u0430\u0439\u043b\u0443 \u0437 \u0434\u0430\u043d\u0438\u043c\u0438 OpenStreetMap, \u044f\u043a\u0438\u0439 \u0432\u0438 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u043b\u0438 \u0440\u0430\u043d\u0456\u0448\u0435, \u0434\u0435\u044f\u043a\u0456 \u0444\u0430\u0439\u043b\u0438 \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0456 shapefile \u0432\u0441\u0435 \u0436 \u0442\u0430\u043a\u0456 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u0456 \u0434\u043b\u044f \u0442\u0430\u043a\u0438\u0445 \u0440\u0435\u0447\u0435\u0439, \u043d\u0430\u043f\u0440\u0438\u043a\u043b\u0430\u0434, \u044f\u043a \u043a\u043e\u0440\u0434\u043e\u043d\u0438 \u043a\u0440\u0430\u0457\u043d \u043d\u0430 \u0432\u0435\u043b\u0438\u043a\u0438\u0445 \u043c\u0430\u0441\u0448\u0442\u0430\u0431\u0430\u0445. \u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0442\u0435 \u0457\u0445 \u0442\u0430 \u043f\u0440\u043e\u0456\u043d\u0434\u0435\u043a\u0441\u0443\u0439\u0442\u0435:</p> <pre><code>cd ~/src/openstreetmap-carto/\nmkdir data\nsudo chown _renderd data\nsudo -u _renderd scripts/get-external-data.py\n</code></pre> <p>\u0426\u0435\u0439 \u043f\u0440\u043e\u0446\u0435\u0441 \u0432\u0438\u043c\u0430\u0433\u0430\u0454 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u0432\u0435\u043b\u0438\u043a\u043e\u0457 \u043f\u043e\u0440\u0446\u0456\u0457 \u0434\u0430\u043d\u0438\u0445 \u0442\u0430 \u0442\u0440\u0438\u0432\u0430\u0442\u0438\u043c\u0435 \u0434\u0435\u044f\u043a\u0438\u0439 \u0447\u0430\u0441 \u0431\u0435\u0437 \u0431\u0443\u0434\u044c-\u044f\u043a\u0438\u0445 \u043f\u043e\u043c\u0456\u0442\u043d\u0438\u0445 \u0437\u043c\u0456\u043d \u043d\u0430 \u0435\u043a\u0440\u0430\u043d\u0456. \u0427\u0430\u0441\u0442\u0438\u043d\u0430 \u0434\u0430\u043d\u0438\u0445 \u0437\u0430\u043f\u0438\u0441\u0443\u0454\u0442\u044c\u0441\u044f \u0431\u0435\u0437\u043f\u043e\u0441\u0435\u0440\u0435\u0434\u043d\u044c\u043e \u0443 \u0431\u0430\u0437\u0443 \u0434\u0430\u043d\u0438\u0445, \u0430 \u0456\u043d\u0448\u0430 \u0443 \u043f\u0456\u0434\u0442\u0435\u043a\u0443 \"data\" \u0432 \"openstreetmap-carto\". \u042f\u043a\u0449\u043e \u0443 \u0432\u0430\u0441 \u0442\u0443\u0442 \u0432\u0438\u043d\u0438\u043a\u043d\u0443\u0442\u044c \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0438, \u0442\u043e \u0446\u0435 \u0441\u043a\u043e\u0440\u0456\u0448\u0435 \u0447\u0435\u0440\u0435\u0437 \u0442\u0435, \u0449\u043e \u0434\u0430\u043d\u0456 Natural Earth \u043c\u043e\u0436\u0443\u0442\u044c \u0431\u0443\u0442\u0438 \u043d\u0435 \u0432 \u0442\u043e\u043c\u0443 \u043c\u0456\u0441\u0446\u0456. \u042f\u043a\u0449\u043e \u0432\u0430\u043c \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0437\u043c\u0456\u043d\u0438\u0442\u0438 \u043c\u0456\u0441\u0446\u0435 \u043a\u0443\u0434\u0438 \u0432\u0438 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0443\u0454\u0442\u0435 \u0434\u0430\u043d\u0456 Natural Earth\u00a0\u2013 \u0432\u043d\u0435\u0441\u0456\u0442\u044c \u0437\u043c\u0456\u043d\u0438 \u0443 \u0432\u043b\u0430\u0441\u043d\u0443 \u043a\u043e\u043f\u0456\u044e \u0446\u044c\u043e\u0433\u043e \u0444\u0430\u0439\u043b\u0443.</p>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-ubuntu-24-04-lts/#\u0428\u0440\u0438\u0444\u0442\u0438","title":"\u0428\u0440\u0438\u0444\u0442\u0438","text":"<p>\u041f\u043e\u0447\u0438\u043d\u0430\u044e\u0447\u0438 \u0437 \u0432\u0435\u0440\u0441\u0456\u0457 v5.6.0 \u0448\u0440\u0438\u0444\u0442\u0438 \u0434\u043b\u044f Carto \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0438 \u0432\u0440\u0443\u0447\u043d\u0443:</p> <pre><code>cd ~/src/openstreetmap-carto/\nscripts/get-fonts.sh\n</code></pre> <p>\u041d\u0430\u0448\u0456 \u0442\u0435\u0441\u0442\u043e\u0432\u0456 \u0434\u0430\u043d\u0456 (\u0410\u0437\u0435\u0440\u0431\u0430\u0439\u0434\u0436\u0430\u043d) \u0431\u0443\u043b\u0438 \u043e\u0431\u0440\u0430\u043d\u0456 \u0447\u0435\u0440\u0435\u0437 \u0457\u0445 \u043d\u0435\u0432\u0435\u043b\u0438\u043a\u0438\u0439 \u043e\u0431\u0441\u044f\u0433, \u0430 \u0442\u0430\u043a\u043e\u0436 \u0447\u0435\u0440\u0435\u0437 \u0442\u0435, \u0449\u043e \u0430\u0440\u043c\u044f\u043d\u0441\u044c\u043a\u0430 \u043f\u0438\u0441\u0435\u043c\u043d\u0456\u0441\u0442\u044c \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454 \u0432\u043b\u0430\u0441\u043d\u0443 \u0430\u0431\u0435\u0442\u043a\u0443.</p>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-ubuntu-24-04-lts/#\u041d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f-\u0432\u0435\u0431\u0441\u0435\u0440\u0432\u0435\u0440\u0430","title":"\u041d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f \u0432\u0435\u0431\u0441\u0435\u0440\u0432\u0435\u0440\u0430","text":""},{"location":"uk/serving-tiles/manually-building-a-tile-server-ubuntu-24-04-lts/#\u041a\u043e\u043d\u0444\u0456\u0433\u0443\u0440\u0430\u0446\u0456\u044f-renderd","title":"\u041a\u043e\u043d\u0444\u0456\u0433\u0443\u0440\u0430\u0446\u0456\u044f renderd","text":"<p>\u041d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f <code>renderd</code> \u0432 Ubuntu 24.04 \u0437\u043d\u0430\u0445\u043e\u0434\u044f\u0442\u044c\u0441\u044f \u0443 \u0444\u0430\u0439\u043b\u0456 <code>/etc/renderd.conf</code>. \u0412\u0456\u0434\u0440\u0435\u0434\u0430\u0433\u0443\u0454\u043c\u043e \u0439\u043e\u0433\u043e \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u043e\u0433\u043e \u0440\u0435\u0434\u0430\u043a\u0442\u043e\u0440\u0430, \u0442\u0430\u043a\u043e\u0433\u043e \u044f\u043a nano:</p> <pre><code>sudo nano /etc/renderd.conf\n</code></pre> <p>\u0414\u043e\u0434\u0430\u0439\u0442\u0435 \u0440\u043e\u0437\u0434\u0456\u043b, \u043f\u043e\u0434\u0456\u0431\u043d\u0438\u0439 \u043d\u0430\u0432\u0435\u0434\u0435\u043d\u043e\u043c\u0443, \u0432 \u043a\u0456\u043d\u0435\u0446\u044c \u0444\u0430\u0439\u043b\u0443 \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u044c:</p> <pre><code>[s2o]\nURI=/hot/\nXML=/home/accountname/src/openstreetmap-carto/mapnik.xml\nHOST=localhost\nTILESIZE=256\nMAXZOOM=20\n</code></pre> <p>\u041c\u043e\u0436\u043b\u0438\u0432\u043e \u0440\u043e\u0437\u0442\u0430\u0448\u0443\u0432\u0430\u043d\u043d\u044f \u0444\u0430\u0439\u043b\u0443 XML <code>/home/accountname/src/openstreetmap-carto/mapnik.xml</code> \u0434\u043e\u0432\u0435\u0434\u0435\u0442\u044c\u0441\u044f \u0437\u043c\u0456\u043d\u0438\u0442\u0438 \u043d\u0430 \u0442\u0435, \u0449\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f \u0443 \u0432\u0430\u0448\u0456\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u0456. \u0412\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0437\u043c\u0456\u043d\u0438\u0442\u0438 <code>[s2o]</code> \u0442\u0430 <code>URI=/hot/</code> \u043d\u0430 \u0442\u0435, \u0449\u043e \u0432\u0430\u043c \u0442\u0440\u0435\u0431\u0430. \u042f\u043a\u0449\u043e \u0432\u0438 \u0431\u0430\u0436\u0430\u0454\u0442\u0435 \u0440\u0435\u043d\u0434\u0435\u0440\u0438\u0442\u0438 \u0431\u0456\u043b\u044c\u0448\u0435 \u043e\u0434\u043d\u043e\u0433\u043e \u043d\u0430\u0431\u043e\u0440\u0443 \u0442\u0430\u0439\u043b\u0456\u0432 \u043d\u0430 \u043e\u0434\u043d\u043e\u043c\u0443 \u0441\u0435\u0440\u0432\u0435\u0440\u0456, \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0434\u043e\u0434\u0430\u0442\u0438 \u0449\u0435 \u043e\u0434\u0438\u043d \u0440\u043e\u0437\u0434\u0456\u043b, \u043f\u043e\u0434\u0456\u0431\u043d\u0438\u0439 \u0434\u043e <code>[s2o]</code>, \u0437 \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f\u043c\u0438 \u0434\u043b\u044f \u0456\u043d\u0448\u043e\u0433\u043e \u0441\u0442\u0438\u043b\u044e. \u042f\u043a\u0449\u043e \u0432\u0438 \u0431\u0430\u0436\u0430\u0454\u0442\u0435, \u0449\u043e\u0431 \u0432\u0456\u043d \u043f\u043e\u0441\u0438\u043b\u0430\u0432\u0441\u044f \u043d\u0430 \u0456\u043d\u0448\u0443 \u0431\u0430\u0437\u0443 \u0437\u0430\u043c\u0456\u0441\u0442\u044c \u0442\u0438\u043f\u043e\u0432\u043e\u0457 <code>gis</code>, \u0432\u0438 \u0442\u0430\u043a\u043e\u0436 \u043c\u043e\u0436\u0435\u0442\u0435 \u0437\u0440\u043e\u0431\u0438\u0442\u0438 \u0446\u0435, \u0430\u043b\u0435 \u043f\u043e\u044f\u0441\u043d\u0435\u043d\u043d\u044f \u0442\u043e\u0433\u043e, \u044f\u043a \u0446\u0435 \u0440\u043e\u0431\u0438\u0442\u0438 \u0432\u0438\u0445\u043e\u0434\u0438\u0442\u044c \u0437\u0430 \u043c\u0435\u0436\u0456 \u0446\u044c\u043e\u0433\u043e \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430. \u042f\u043a\u0449\u043e \u0443 \u0432\u0430\u0441 \u0434\u0435\u0441\u044c 2 \u0413\u0431 \u043e\u043f\u0435\u0440\u0430\u0442\u0438\u0432\u043d\u043e\u0457 \u043f\u0430\u043c\u02bc\u044f\u0442\u0456, \u043c\u043e\u0436\u043b\u0438\u0432\u043e \u0432\u0430\u043c \u0434\u043e\u0432\u0435\u0434\u0435\u0442\u044c\u0441\u044f \u0437\u043c\u0435\u043d\u0448\u0438\u0442\u0438 \u043a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u043f\u043e\u0442\u043e\u043a\u0456\u0432 (<code>num_threads</code>) \u0434\u043e 2. <code>URI=/hot/</code> \u0431\u0443\u043b\u043e \u043e\u0431\u0440\u0430\u043d\u043e \u0434\u043b\u044f \u0442\u043e\u0433\u043e \u0449\u043e\u0431\u0438 \u0431\u0443\u043b\u043e \u043f\u0440\u043e\u0441\u0442\u0456\u0448\u0435 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0432\u0430\u0448\u0456 \u0442\u0430\u0439\u043b\u0438 \u0437\u0430\u043c\u0456\u0441\u0442\u044c \u0448\u0430\u0440\u0443 Humanitarian \u0437 \u0441\u0430\u0439\u0442\u0443 OpenStreetMap.org. \u0412\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u043a\u0430\u0437\u0430\u0442\u0438 \u0449\u043e\u0441\u044c \u0456\u043d\u0448\u0435, \u0430\u043b\u0435 <code>/hot/</code> \u0442\u0430\u043a\u043e\u0436 \u0433\u043e\u0434\u0438\u0442\u044c\u0441\u044f.</p> <p>\u041f\u0456\u0434 \u0447\u0430\u0441 \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u043d\u044f \u0446\u0456\u0454\u0457 \u0456\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0456\u0457, \u0432\u0435\u0440\u0441\u0456\u044f Mapnik \u0432 Ubuntu 24.04 \u0431\u0443\u043b\u0430 3.1, \u0430 \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f <code>plugins_dir</code>\u00a0\u2013 \u0432 \u0440\u043e\u0437\u0434\u0456\u043b\u0456 <code>[mapnik]</code> \u0444\u0430\u0439\u043b\u0443 <code>/usr/lib/mapnik/3.1/input</code>. \u041d\u043e\u043c\u0435\u0440 \u0432\u0435\u0440\u0441\u0456\u0457 \"3.1\" \u043c\u043e\u0436\u0435 \u0437\u043c\u0456\u043d\u0438\u0442\u0438\u0441\u044c \u0432 \u043c\u0430\u0439\u0431\u0443\u0442\u043d\u044c\u043e\u043c\u0443. \u0423 \u0440\u0430\u0437\u0456 \u0432\u0438\u043d\u0438\u043a\u043d\u0435\u043d\u043d\u044f \u043f\u043e\u043c\u0438\u043b\u043a\u0438 \u043f\u0456\u0434 \u0447\u0430\u0441 \u0441\u043f\u0440\u043e\u0431 \u0440\u0435\u043d\u0434\u0435\u0440\u0438\u043d\u0433\u0443 \u0442\u0430\u0439\u043b\u0456\u0432, \u043d\u0430 \u043a\u0448\u0442\u0430\u043b\u0442 \u0446\u0456\u0454\u0457:</p> <p>An error occurred while loading the map layer 's2o': Could not create datasource for type: 'postgis' (no datasource plugin directories have been successfully registered)  encountered during parsing of layer 'landcover-low-zoom'</p> <p>\u043f\u0435\u0440\u0435\u0432\u0456\u0440\u0442\u0435 <code>/usr/lib/mapnik</code> \u0442\u0430 \u043f\u043e\u0434\u0438\u0432\u0456\u0442\u044c\u0441\u044f, \u044f\u043a\u0430 \u0432\u0435\u0440\u0441\u0456\u044f \u0432 \u043d\u0430\u0437\u0432\u0456 \u0442\u0435\u043a\u0438, \u0430 \u0442\u0430\u043a\u043e\u0436 \u043f\u043e\u0433\u043b\u044f\u043d\u044c\u0442\u0435 \u043d\u0430 <code>/usr/lib/mapnik/(version)/input</code>, \u0449\u043e\u0431 \u043f\u0435\u0440\u0435\u043a\u043e\u043d\u0430\u0442\u0438\u0441\u044c, \u0449\u043e \u0444\u0430\u0439\u043b <code>postgis.input</code> \u0437\u043d\u0430\u0445\u043e\u0434\u0438\u0442\u044c\u0441\u044f \u0442\u0430\u043c.</p> <p>\u0422\u0435\u043f\u0435\u0440, \u043a\u043e\u043b\u0438 \u043c\u0438 \u0432\u043a\u0430\u0437\u0430\u043b\u0438 <code>renderd</code>, \u044f\u043a \u0440\u0435\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u043d\u0430 \u0437\u0430\u043f\u0438\u0442\u0438 \u0440\u0435\u043d\u0434\u0435\u0440\u0438\u043d\u0433\u0443 \u0442\u0430\u0439\u043b\u0456\u0432, \u043d\u0430\u043c \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u0438\u0442\u0438 \u0432\u0435\u0431\u0441\u0435\u0440\u0432\u0435\u0440\u0443 Apache, \u0449\u043e \u0432\u0456\u043d \u043c\u043e\u0436\u0435 \u043d\u0430\u0434\u0441\u0438\u043b\u0430\u0442\u0438 \u0457\u0445. \u041d\u0430 \u0436\u0430\u043b\u044c, \u043a\u043e\u043d\u0444\u0456\u0433\u0443\u0440\u0430\u0446\u0456\u044e \u0434\u043b\u044f \u0446\u044c\u043e\u0433\u043e \u0431\u0443\u043b\u043e \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043e \u0437 \u043e\u0441\u0442\u0430\u043d\u043d\u0456\u0445 \u0432\u0435\u0440\u0441\u0456\u0439 <code>mod_tile</code>. \u041e\u0434\u043d\u0430\u043a \u0437\u0430\u0440\u0430\u0437 \u0457\u0457 \u043c\u043e\u0436\u043d\u0430 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0438 \u0437\u0432\u0456\u0434\u0441\u0438:</p> <pre><code>cd /etc/apache2/conf-available/\nsudo wget https://raw.githubusercontent.com/openstreetmap/mod_tile/python-implementation/etc/apache2/renderd.conf\nsudo a2enconf renderd\nsudo systemctl reload apache2\n</code></pre>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-ubuntu-24-04-lts/#\u041f\u0435\u0440\u0435\u043a\u043e\u043d\u0430\u0439\u0442\u0435\u0441\u044f-\u0449\u043e-\u0443-\u0432\u0430\u0441-\u0454-\u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f-\u0434\u043b\u044f-\u0432\u0456\u0434\u043b\u0430\u0433\u043e\u0434\u0436\u0435\u043d\u043d\u044f","title":"\u041f\u0435\u0440\u0435\u043a\u043e\u043d\u0430\u0439\u0442\u0435\u0441\u044f, \u0449\u043e \u0443 \u0432\u0430\u0441 \u0454 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f \u0434\u043b\u044f \u0432\u0456\u0434\u043b\u0430\u0433\u043e\u0434\u0436\u0435\u043d\u043d\u044f","text":"<p>\u041d\u0430 \u0446\u044c\u043e\u043c\u0443 \u0435\u0442\u0430\u043f\u0456 \u0431\u0443\u043b\u043e \u0431 \u0434\u0443\u0436\u0435 \u043a\u043e\u0440\u0438\u0441\u043d\u043e \u0431\u0430\u0447\u0438\u0442\u0438 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0438 \u043f\u0440\u043e\u0446\u0435\u0441\u0443 \u0440\u0435\u043d\u0434\u0435\u0440\u0456\u043d\u0433\u0443 \u0442\u0430\u0439\u043b\u0456\u0432, \u0432\u043a\u043b\u044e\u0447\u0430\u044e\u0447\u0438 \u0431\u0443\u0434\u044c-\u044f\u043a\u0456 \u043f\u043e\u043c\u0438\u043b\u043a\u0438. \u0422\u0438\u043f\u043e\u0432\u043e \u0432 \u043e\u0441\u0442\u0430\u043d\u043d\u0456\u0445 \u0432\u0435\u0440\u0441\u0456\u044f\u0445 mod_tile \u0446\u0435 \u0432\u0438\u043c\u043a\u043d\u0435\u043d\u043e. \u0429\u043e\u0431 \u0443\u0432\u0456\u043c\u043a\u043d\u0443\u0442\u0438:</p> <pre><code>sudo nano /usr/lib/systemd/system/renderd.service\n</code></pre> <p>\u042f\u043a\u0449\u043e \u0446\u044c\u043e\u0433\u043e \u0449\u0435 \u043d\u0435\u043c\u0430\u0454 \u043d\u0438\u0436\u0447\u0435 <code>[Service]</code>, \u0434\u043e\u0434\u0430\u0439\u0442\u0435:</p> <pre><code>Environment=G_MESSAGES_DEBUG=all\n</code></pre> <p>\u041f\u043e\u0442\u0456\u043c \u0432\u0438\u043a\u043e\u043d\u0430\u0439\u0442\u0435 \u0446\u0456 \u043a\u043e\u043c\u0430\u043d\u0434\u0438, \u0449\u043e\u0431 \u043f\u0435\u0440\u0435\u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u043a\u043e\u043d\u0444\u0456\u0433\u0443\u0440\u0430\u0446\u0456\u044e:</p> <pre><code>sudo systemctl daemon-reload\nsudo systemctl restart renderd\nsudo systemctl restart apache2\n</code></pre>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-ubuntu-24-04-lts/#\u041a\u043e\u043d\u0444\u0456\u0433\u0443\u0440\u0430\u0446\u0456\u044f-Apache","title":"\u041a\u043e\u043d\u0444\u0456\u0433\u0443\u0440\u0430\u0446\u0456\u044f Apache","text":"<p>\u042f\u043a\u0449\u043e \u0432\u0438 \u0433\u043b\u044f\u043d\u0435\u0442\u0435 \u0443 <code>/var/log/syslog</code>, \u0432\u0438 \u043c\u0430\u0454\u0442\u0435 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0438 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f \u0432\u0456\u0434 \u0441\u043b\u0443\u0436\u0431\u0438 <code>renderd</code>. \u041c\u043e\u0436\u043b\u0438\u0432\u043e \u0442\u0430\u043c \u0431\u0443\u0434\u0443\u0442\u044c \u0442\u0456\u043b\u044c\u043a\u0438 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f \u043f\u0440\u043e \u043f\u043e\u043c\u0438\u043b\u043a\u0438, \u043d\u0435 \u043f\u0435\u0440\u0435\u0439\u043c\u0430\u0439\u0442\u0435\u0441\u044c \u0437\u0430\u0440\u0430\u0437 \u0446\u0438\u043c. \u0414\u0430\u043b\u0456:</p> <pre><code>sudo /etc/init.d/apache2 restart\n</code></pre> <p>\u0412 <code>syslog</code> \u043c\u0430\u0454 \u0431\u0443\u0442\u0438 \u0449\u043e\u0441\u044c \u043f\u043e\u0434\u0456\u0431\u043d\u0435 \u0434\u043e \u043d\u0430\u0441\u0442\u0443\u043f\u043d\u043e\u0433\u043e:</p> <pre><code>Apr 23 11:14:10 servername apachectl[2031]: [Sat Apr 23 11:14:10.190678 2024] [tile:notice] [pid 2031:tid 140608477239168] Loading tile config s2o at /hot/ for zooms 0 - 20 from tile directory /var/cache/renderd/tiles with extension .png and mime type image/png\n</code></pre> <p>\u0414\u0430\u043b\u0456, \u0432\u0456\u0434\u043a\u0440\u0438\u0439\u0442\u0435 \u0432 \u043e\u0433\u043b\u044f\u0434\u0430\u0447\u0456 <code>http://ip.\u0432\u0430\u0448\u043e\u0433\u043e.\u0441\u0435\u0440\u0432\u0435\u0440\u0430/index.html</code> (\u0437\u0430\u043c\u0456\u043d\u0456\u0442\u044c <code>ip.\u0432\u0430\u0448\u043e\u0433\u043e.\u0441\u0435\u0440\u0432\u0435\u0440\u0430</code> \u043d\u0430 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u043d\u0443 \u0430\u0434\u0440\u0435\u0441\u0443). \u0412\u0438 \u043c\u0430\u0454\u0442\u0435 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0438 \u0442\u0438\u043f\u043e\u0432\u0443 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0443 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 Apache2 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043e\u0433\u043e \u0432 Ubuntu.</p> <p>\u041f\u043e\u0440\u0430\u0434\u0430</p> <p>\u044f\u043a\u0449\u043e \u0432\u0438 \u043d\u0435 \u0437\u043d\u0430\u0454\u0442\u0435 IP \u0430\u0434\u0440\u0435\u0441\u0443 \u043f\u0440\u0438\u0437\u043d\u0430\u0447\u0435\u043d\u0443 \u0441\u0435\u0440\u0432\u0435\u0440\u0443, \u0457\u0457 \u043c\u043e\u0436\u043d\u0430 \u0434\u0456\u0437\u043d\u0430\u0442\u0438\u0441\u044c \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e \u043a\u043e\u043c\u0430\u043d\u0434\u0438 <code>ifconfig</code>\u00a0\u2013 \u044f\u043a\u0449\u043e \u043c\u0435\u0440\u0435\u0436\u0435\u0432\u0456 \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f \u043d\u0435 \u043d\u0430\u0434\u0442\u043e \u0441\u043a\u043b\u0430\u0434\u043d\u0456, \u0442\u043e \u0446\u0435 \u043c\u0430\u0454 \u0431\u0443\u0442\u0438 \u0449\u043e\u0441\u044c \u0442\u0438\u043f\u0443 <code>inet addr</code> \u0432\u0456\u0434\u043c\u0456\u043d\u043d\u0435 \u0432\u0456\u0434 <code>127.0.0.1</code>.</p> <p>\u042f\u043a\u0449\u043e \u0432\u0438 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u0435 \u0441\u0435\u0440\u0432\u0435\u0440 \u043f\u043e\u0441\u0442\u0430\u0447\u0430\u043b\u044c\u043d\u0438\u043a\u0430 \u043f\u043e\u0441\u043b\u0443\u0433 \u0445\u043e\u0441\u0442\u0438\u043d\u0433\u0443, \u0442\u043e, \u0448\u0432\u0438\u0434\u0448\u0435 \u0437\u0430 \u0432\u0441\u0435, \u0432\u043d\u0443\u0442\u0440\u0456\u0448\u043d\u044f \u0430\u0434\u0440\u0435\u0441\u0430 \u0432\u0430\u0448\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0431\u0443\u0434\u0435 \u0432\u0456\u0434\u0440\u0456\u0437\u043d\u044f\u0442\u0438\u0441\u044f \u0432\u0456\u0434 \u0437\u043e\u0432\u043d\u0456\u0448\u043d\u044c\u043e\u0457 \u0430\u0434\u0440\u0435\u0441\u0438, \u044f\u043a\u0430 \u0431\u0443\u043b\u0430 \u043d\u0430\u0434\u0430\u043d\u0430 \u0432\u0430\u043c, \u0430\u043b\u0435 \u0446\u044f \u0437\u043e\u0432\u043d\u0456\u0448\u043d\u044f IP-\u0430\u0434\u0440\u0435\u0441\u0430 \u0432\u0436\u0435 \u0431\u0443\u0434\u0435 \u043d\u0430\u0434\u0456\u0441\u043b\u0430\u043d\u0430 \u0432\u0430\u043c, \u0456, \u0439\u043c\u043e\u0432\u0456\u0440\u043d\u043e, \u0432\u0438 \u0457\u0457 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u0435 \u0437\u0430\u0440\u0430\u0437 \u0434\u043b\u044f \u0434\u043e\u0441\u0442\u0443\u043f\u0443 \u0434\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430.</p> <p>\u0417\u0430\u0443\u0432\u0430\u0436\u0442\u0435, \u0449\u043e \u0446\u0435 \u043b\u0438\u0448\u0435 \u0441\u0430\u0439\u0442 <code>http</code> (\u043f\u043e\u0440\u0442 80)\u00a0\u2013 \u0432\u0430\u043c \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0432\u0438\u0442\u0440\u0430\u0442\u0438\u0442\u0438 \u0442\u0440\u043e\u0445\u0438 \u0431\u0456\u043b\u044c\u0448\u0435 \u0447\u0430\u0441\u0443 \u0434\u043b\u044f \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f Apache \u043d\u0430 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f <code>https</code>, \u0430\u043b\u0435 \u0446\u0435 \u0432\u0438\u0445\u043e\u0434\u0438\u0442\u044c \u0437\u0430 \u043c\u0435\u0436\u0456 \u0446\u0438\u0445 \u0456\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0456\u0439. \u041e\u0434\u043d\u0430\u043a \u044f\u043a\u0449\u043e \u0432\u0438 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u0435 \"Let's Encrypt\" \u0434\u043b\u044f \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u044f \u0441\u0435\u0440\u0442\u0438\u0444\u0456\u043a\u0430\u0442\u0456\u0432, \u0456\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0456\u044f \u0437\u0456 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u043c\u043e\u0436\u0435 \u0442\u0430\u043a\u043e\u0436 \u043c\u0456\u0441\u0442\u0438\u0442\u0438 \u043f\u043e\u0440\u0430\u0434\u0438 \u0449\u043e\u0434\u043e \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f \u0441\u0430\u0439\u0442\u0443 Apache \u0434\u043b\u044f \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f https.</p> <p>\u0414\u0430\u043b\u0456, \u0432 \u043e\u0433\u043b\u044f\u0434\u0430\u0447\u0456 \u0432\u0456\u0434\u043a\u0440\u0438\u0439\u0442\u0435 \u043f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f: <code>http://ip.\u0432\u0430\u0448\u043e\u0433\u043e.\u0441\u0435\u0440\u0432\u0435\u0440\u0430/hot/0/0/0.png</code></p> <p>\u042f\u043a\u0449\u043e \u0432\u0438 \u0432\u0438\u0449\u0435 \u043f\u043e\u043c\u0456\u043d\u044f\u043b\u0438 <code>URI=/hot/</code> \u0432\u0430\u043c \u0434\u043e\u0432\u0435\u0434\u0435\u0442\u044c\u0441\u044f \u043f\u0456\u0434\u043f\u0440\u0430\u0432\u0438\u0442\u0438 \u043f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f. \u0412\u0438 \u043c\u0430\u0454\u0442\u0435 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0438 \u043c\u0430\u043b\u0435\u043d\u044c\u043a\u0443 \u043c\u0430\u043f\u0443 \u0441\u0432\u0456\u0442\u0443. \u042f\u043a\u0449\u043e \u0457\u0457 \u043d\u0435\u043c\u0430\u0454, \u043f\u0435\u0440\u0435\u0432\u0456\u0440\u0442\u0435 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f \u043f\u0440\u043e \u043f\u043e\u043c\u0438\u043b\u043a\u0438 \u0432 \u043a\u043e\u043d\u0441\u043e\u043b\u0456. \u0421\u043a\u043e\u0440\u0456\u0448 \u0437\u0430 \u0432\u0441\u0435 \u0432\u0438 \u0449\u043e\u0441\u044c \u043d\u0430\u043f\u043b\u0443\u0442\u0430\u043b\u0438 \u0437 \u0434\u043e\u0437\u0432\u043e\u043b\u0430\u043c\u0438, \u0430\u0431\u043e \u0432\u0438 \u043f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u043b\u0438 \u044f\u043a\u0438\u0439\u0441\u044c \u043a\u0440\u043e\u043a \u0437 \u0456\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0456\u0457. \u042f\u043a\u0449\u043e \u0432\u0438 \u043d\u0435 \u043e\u0442\u0440\u0438\u043c\u0430\u043b\u0438 \u0442\u0430\u0439\u043b \u0442\u0430 \u043e\u0442\u0440\u0438\u043c\u0443\u0454\u0442\u0435 \u0456\u043d\u0448\u0456 \u043f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f, \u0441\u043a\u043e\u043f\u0456\u044e\u0439\u0442\u0435 \u0432\u0438\u0432\u0456\u0434 \u0432 Pastebin, \u0442\u0430 \u0437\u0432\u0435\u0440\u043d\u0456\u0442\u044c\u0441\u044f \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e, \u043d\u0430\u043f\u0440\u0438\u043a\u043b\u0430\u0434, \u0432 <code>community.openstreetmap.org</code>.</p>"},{"location":"uk/serving-tiles/manually-building-a-tile-server-ubuntu-24-04-lts/#\u041f\u0435\u0440\u0435\u0433\u043b\u044f\u0434-\u0442\u0430\u0439\u043b\u0456\u0432","title":"\u041f\u0435\u0440\u0435\u0433\u043b\u044f\u0434 \u0442\u0430\u0439\u043b\u0456\u0432","text":"<p>\u0414\u043b\u044f \u0442\u043e\u0433\u043e, \u0449\u043e\u0431 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0438 \u0442\u0430\u0439\u043b\u0438, \u043c\u0438 \u0442\u0440\u043e\u0445\u0438 \u0437\u043c\u0430\u0445\u043b\u044e\u0454\u043c\u043e \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u044e\u0447\u0438\u0441\u044c \u0444\u0430\u0439\u043b\u043e\u043c <code>sample_leaflet.html</code> \u0437 \u0442\u0435\u043a\u0438 \u201cextras\u201d \u0432 mod_tile.</p> <pre><code>cd /var/www/html\nsudo wget https://raw.githubusercontent.com/SomeoneElseOSM/mod_tile/switch2osm/extra/sample_leaflet.html\nsudo nano sample_leaflet.html\n</code></pre> <p>\u0417\u043c\u0456\u043d\u0456\u0442\u044c \u0439\u043e\u0433\u043e \u0442\u0430\u043a, \u0449\u043e\u0431 IP-\u0430\u0434\u0440\u0435\u0441\u0430 \u0431\u0443\u043b\u0430 <code>ip.\u0432\u0430\u0448\u043e\u0433\u043e.\u0441\u0435\u0440\u0432\u0435\u0440\u0430</code>, \u0430 \u043d\u0435 \u043f\u0440\u043e\u0441\u0442\u043e <code>127.0.0.1</code>. \u0426\u0435 \u043f\u043e\u0432\u0438\u043d\u043d\u043e \u0434\u043e\u0437\u0432\u043e\u043b\u0438\u0442\u0438 \u0432\u0430\u043c \u043e\u0442\u0440\u0438\u043c\u0430\u0442\u0438 \u0434\u043e\u0441\u0442\u0443\u043f \u0434\u043e \u0446\u044c\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430. \u041f\u043e\u0442\u0456\u043c \u043f\u0435\u0440\u0435\u0439\u0434\u0456\u0442\u044c \u0434\u043e <code>http://ip.\u0432\u0430\u0448\u043e\u0433\u043e.\u0441\u0435\u0440\u0432\u0435\u0440\u0430/sample_leaflet.html</code>.</p> <p>\u0417\u0433\u043e\u0434\u043e\u043c \u0432\u0438 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0435 \u043c\u0430\u043f\u0443. \u0412\u0438 \u0437\u043c\u043e\u0436\u0435\u0442\u0435 \u0437\u0431\u0456\u043b\u044c\u0448\u0443\u0432\u0430\u0442\u0438 \u0442\u0430 \u0437\u043c\u0435\u043d\u0448\u0443\u0432\u0430\u0442\u0438 \u0457\u0457 \u043c\u0430\u0441\u0448\u0442\u0430\u0431, \u0430\u043b\u0435 \u0432 \u0437\u0430\u043b\u0435\u0436\u043d\u043e\u0441\u0442\u0456 \u0432\u0456\u0434 \u043f\u043e\u0442\u0443\u0436\u043d\u043e\u0441\u0442\u0435\u0439 \u0441\u0435\u0440\u0432\u0435\u0440\u0430, \u0434\u0435\u044f\u043a\u0456 \u0442\u0430\u0439\u043b\u0438 \u043c\u043e\u0436\u0443\u0442\u044c \u0431\u0443\u0442\u0438 \u0441\u0456\u0440\u0438\u043c\u0438 (\u0432\u043e\u043d\u0438 \u0449\u0435 \u043d\u0435 \u0432\u0441\u0442\u0438\u0433\u043b\u0438 \u043e\u0431\u0440\u043e\u0431\u0438\u0442\u0438\u0441\u044c \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c). \u041e\u0434\u043d\u0430\u043a, \u044f\u043a \u0442\u0456\u043b\u044c\u043a\u0438 \u0457\u0445 \u043e\u0431\u0440\u043e\u0431\u043a\u0430 \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c\u0441\u044f, \u0432\u043e\u043d\u0438 \u0431\u0443\u0434\u0443\u0442\u044c \u0433\u043e\u0442\u043e\u0432\u0456 \u0434\u043b\u044f \u043f\u0435\u0440\u0435\u0433\u043b\u044f\u0434\u0443. \u042f\u043a\u0449\u043e \u0432\u0438 \u043f\u043e\u0434\u0438\u0432\u0438\u0442\u0435\u0441\u044c \u0443 <code>/var/log/syslog</code>, \u0432\u0438 \u043c\u0430\u0454\u0442\u0435 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0438 \u0437\u0430\u043f\u0438\u0442\u0438 \u043d\u0430 \u043f\u043e\u043a\u0430\u0437 \u0442\u0430\u0439\u043b\u0456\u0432.</p> <p>\u041e\u0442\u0436\u0435, \u0449\u043e\u0431 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0438 \u0457\u0445, \u043a\u043e\u043b\u0438 \u0432\u043e\u043d\u0438 \u0437\u0430\u043f\u0438\u0442\u0443\u044e\u0442\u044c\u0441\u044f, \u043f\u0456\u0434\u02bc\u0454\u0434\u043d\u0430\u0439\u0442\u0435\u0441\u044f \u0447\u0435\u0440\u0435\u0437 ssh \u0442\u0430 \u0432\u0438\u043a\u043e\u043d\u0430\u0439\u0442\u0435 \u043a\u043e\u043c\u0430\u043d\u0434\u0443:</p> <pre><code>tail -f /var/log/syslog | grep \" TILE \"\n</code></pre> <p>(\u0437\u0432\u0435\u0440\u043d\u0456\u0442\u044c \u0443\u0432\u0430\u0433\u0443 \u043d\u0430 \u043f\u0440\u043e\u0431\u0456\u043b\u0438 \u0434\u043e\u0432\u043a\u043e\u043b\u0430 <code>\" TILE \"</code>)</p> <p>\u0423 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u044c \u0432\u0438 \u043e\u0442\u0440\u0438\u043c\u0443\u0432\u0430\u0442\u0438\u043c\u0435\u0442\u0435 \u043f\u043e \u0440\u044f\u0434\u043a\u0443 \u043a\u043e\u0436\u043d\u043e\u0433\u043e \u0440\u0430\u0437\u0443, \u043a\u043e\u043b\u0438 \u0431\u0443\u0434\u0435 \u043f\u0440\u0438\u0445\u043e\u0434\u0438\u0442\u0438 \u0437\u0430\u043f\u0438\u0442 \u043d\u0430 \u043f\u043e\u043a\u0430\u0437 \u0442\u0430\u0439\u043b\u0456\u0432, \u0430\u0431\u043e \u0431\u0443\u0434\u0435 \u0437\u0430\u043a\u0456\u043d\u0447\u0443\u0432\u0430\u0442\u0438\u0441\u044c \u0457\u0445 \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f.</p> <p>\u0417\u0430 \u0431\u0430\u0436\u0430\u043d\u043d\u044f\u043c, \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0437\u0431\u0456\u043b\u044c\u0448\u0438\u0442\u0438 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f <code>ModTileMissingRequestTimeout</code> \u0443 <code>/etc/apache2/conf-available/renderd.conf</code> \u0437 10 \u0441\u0435\u043a\u0443\u043d\u0434 \u0434\u043e, \u0441\u043a\u0430\u0436\u0456\u043c\u043e, 30 \u0430\u0431\u043e 60, \u0434\u043b\u044f \u0442\u043e\u0433\u043e, \u0449\u043e\u0431 \u0434\u0430\u0442\u0438 \u0431\u0456\u043b\u044c\u0448\u0435 \u0447\u0430\u0441\u0443 \u0441\u0435\u0440\u0432\u0435\u0440\u0443 \u043d\u0430 \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u0442\u0430\u0439\u043b\u0456\u0432 \u043f\u0435\u0440\u0435\u0434 \u0442\u0438\u043c \u044f\u043a \u043f\u043e\u043a\u0430\u0437\u0430\u0442\u0438 \u0441\u0456\u0440\u0438\u0439 \u0444\u043e\u043d \u043d\u0430 \u0437\u0430\u043c\u0456\u0441\u0442\u044c \u043d\u0438\u0445. \u041f\u0435\u0440\u0435\u0432\u0456\u0440\u0442\u0435, \u0449\u043e \u0432\u0438 \u0432\u0438\u043a\u043e\u043d\u0430\u043b\u0438 \u043a\u043e\u043c\u0430\u043d\u0434\u0438 <code>service renderd restart</code> \u0442\u0430 <code>service apache2 restart</code> \u043f\u0456\u0441\u043b\u044f \u0432\u043d\u0435\u0441\u0435\u043d\u043d\u044f \u0437\u043c\u0456\u043d.</p> <p>\u0412\u0456\u0442\u0430\u0454\u043c\u043e! \u0422\u0435\u043f\u0435\u0440 \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u0432\u0435\u0440\u043d\u0443\u0442\u0438\u0441\u044c \u0434\u043e \u0440\u043e\u0437\u0434\u0456\u043b\u0443 \u0412\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f \u0442\u0430\u0439\u043b\u0456\u0432 \u0434\u043b\u044f \u0434\u043e\u0434\u0430\u0432\u0430\u043d\u043d\u044f \u043c\u0430\u043f\u0438, \u0449\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454 \u0432\u0430\u0448 \u043d\u043e\u0432\u0438\u0439 \u0442\u0430\u0439\u043b\u043e\u0432\u0438\u0439 \u0441\u0435\u0440\u0432\u0435\u0440.</p>"},{"location":"uk/serving-tiles/monitoring-using-munin/","title":"\u041c\u043e\u043d\u0456\u0442\u043e\u0440\u0438\u043d\u0433 \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e Munin","text":""},{"location":"uk/serving-tiles/monitoring-using-munin/#\u041c\u043e\u043d\u0456\u0442\u043e\u0440\u0438\u043d\u0433-\u0437\u0430-\u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e-Munin","title":"\u041c\u043e\u043d\u0456\u0442\u043e\u0440\u0438\u043d\u0433 \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e Munin","text":"<p>\u0414\u043b\u044f \u043c\u043e\u043d\u0456\u0442\u043e\u0440\u0438\u043d\u0433\u0443 \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0456 \u0441\u043b\u0443\u0436\u0431 <code>renderd</code> \u0442\u0430 <code>mod_tile</code> \u043c\u043e\u0436\u043d\u0430 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \"Munin\". Munin \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0438\u0439 \u043d\u0430 \u0431\u0430\u0433\u0430\u0442\u044c\u043e\u0445 \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0430\u0445; \u0446\u044f \u0456\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0456\u044f \u0431\u0443\u043b\u0430 \u043f\u0440\u043e\u0442\u0435\u0441\u0442\u043e\u0432\u0430\u043d\u0430 \u043d\u0430 Ubuntu Linux 22.04 \u0432 \u0447\u0435\u0440\u0432\u043d\u0456 2022 \u0442\u0430 Ubuntu Linux 24.04 \u0443 \u043a\u0432\u0456\u0442\u043d\u0456 2024.</p> <p>\u0412\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u043c\u043e \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u0435 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043d\u0435 \u0437\u0430\u0431\u0435\u0437\u043f\u0435\u0447\u0435\u043d\u043d\u044f:</p> <pre><code>sudo apt install munin-node munin libcgi-fast-perl libapache2-mod-fcgid\n</code></pre> <p>\u042f\u043a\u0449\u043e \u0432\u0438 \u043f\u043e\u0434\u0438\u0432\u0438\u0442\u0435\u0441\u044c \u0443 <code>/etc/apache2/conf-available</code>, \u0432\u0438 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0435, \u0449\u043e <code>munin.conf</code> \u0454 \u0441\u0438\u043c\u0432\u043e\u043b\u0456\u0447\u043d\u0438\u043c \u043f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f\u043c \u043d\u0430 <code>../../munin/apache24.conf</code>, \u0449\u043e \u043d\u0430\u0441\u043f\u0440\u0430\u0432\u0434\u0456 \u0454 <code>/etc/munin/apache24.conf</code>.</p> <p>\u0424\u0430\u0439\u043b <code>/etc/munin/apache24.conf</code> \u0454 \u043a\u043e\u043d\u0444\u0456\u0433\u0443\u0440\u0430\u0446\u0456\u0439\u043d\u0438\u043c \u0444\u0430\u0439\u043b\u043e\u043c <code>munin</code> \u0434\u043b\u044f Apache. \u0423 \u043d\u044c\u043e\u043c\u0443, \u044f\u043a\u0449\u043e \u0432\u0438 \u0431\u0430\u0436\u0430\u0454\u0442\u0435 \u043c\u0430\u0442\u0438 \u0434\u043e\u0441\u0442\u0443\u043f \u0434\u043e <code>munin</code> \u043d\u0435 \u0442\u0456\u043b\u044c\u043a\u0438 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e, \u0437\u043c\u0456\u043d\u0456\u0442\u044c \u0432 \u043e\u0431\u043e\u0445 \u0432\u0438\u043f\u0430\u0434\u043a\u0430\u0445 <code>Require local</code> \u043d\u0430 <code>Require all granted</code>.</p> <p>\u0412\u0456\u0434\u0440\u0435\u0434\u0430\u0433\u0443\u0439\u0442\u0435 <code>/etc/munin/munin.conf</code>. \u0420\u043e\u0437\u043a\u043e\u043c\u0435\u043d\u0442\u0443\u0439\u0442\u0435 \u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0456 \u0440\u044f\u0434\u043a\u0438:</p> <pre><code>dbdir /var/lib/munin\nhtmldir /var/cache/munin/www\nlogdir /var/log/munin\nrundir /var/run/munin\n</code></pre> <p>\u041f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u0442\u0456\u0442\u044c munin \u0442\u0430 apache:</p> <pre><code>sudo /etc/init.d/munin-node restart\nsudo /etc/init.d/apache2 restart\n</code></pre> <p>\u041f\u0435\u0440\u0435\u0439\u0434\u0456\u0442\u044c \u0437\u0430 \u043f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f\u043c <code>http://ip.\u0430\u0434\u0440\u0435\u0441\u0430.\u0432\u0430\u0448\u043e\u0433\u043e.\u0441\u0435\u0440\u0432\u0435\u0440\u0430/munin</code>. \u0412\u0438 \u043c\u0430\u0454\u0442\u0435 \u0431\u0430\u0447\u0438\u0442\u0438 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0443 \u0449\u043e \u043f\u043e\u043a\u0430\u0437\u0443\u0454 <code>apache</code>, <code>disk</code>, <code>munin</code> \u0439 \u0442\u0430\u043a \u0434\u0430\u043b\u0456.</p> <p>\u0414\u043e\u0434\u0430\u0439\u0442\u0435 \u0432\u0442\u0443\u043b\u043a\u0438 \u0437 <code>mod_tile</code> \u0442\u0430 <code>renderd</code> \u0434\u043e munin:</p> <pre><code>sudo ln -s /usr/share/munin/plugins/mod_tile* /etc/munin/plugins/\nsudo ln -s /usr/share/munin/plugins/renderd* /etc/munin/plugins/\n</code></pre> <p>\u041c\u0430\u0454 \u0431\u0443\u0442\u0438 4 \u0432\u0442\u0443\u043b\u043a\u0438 <code>mod_tile</code> \u0442\u0430 5 <code>renderd</code>. \u0417\u0430\u043f\u0443\u0441\u0442\u0456\u0442\u044c \u0437\u0430\u0432\u0434\u0430\u043d\u043d\u044f cron \u0434\u043b\u044f munin \u0432\u0440\u0443\u0447\u043d\u0443:</p> <pre><code>sudo -u munin munin-cron\n</code></pre> <p>\u041f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u0442\u0456\u0442\u044c munin \u0442\u0430 apache \u0437\u0430\u043d\u043e\u0432:</p> <pre><code>sudo /etc/init.d/munin-node restart\nsudo /etc/init.d/apache2 restart\n</code></pre> <p>\u041f\u0456\u0441\u043b\u044f \u0434\u0435\u044f\u043a\u043e\u0457 \u043f\u0430\u0443\u0437\u0438, \u043e\u043d\u043e\u0432\u0456\u0442\u044c <code>http://ip.\u0430\u0434\u0440\u0435\u0441\u0430.\u0432\u0430\u0448\u043e\u0433\u043e.\u0441\u0435\u0440\u0432\u0435\u0440\u0430/munin</code>, \u0442\u0435\u043f\u0435\u0440 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0430 \u043c\u0430\u0454 \u043f\u043e\u043a\u0430\u0437\u0443\u0432\u0430\u0442\u0438 <code>mod_tile</code> \u0442\u0430 <code>renderd</code>.</p> <p>Munin \u043e\u043d\u043e\u0432\u043b\u044e\u0454 \u0433\u0440\u0430\u0444\u0456\u043a\u0438 \u043a\u043e\u0436\u043d\u0456 5 \u0445\u0432\u0438\u043b\u0438\u043d, \u0447\u0430\u0441\u0442\u043e\u0442\u0430 \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u043d\u0430\u043b\u0430\u0448\u0442\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f \u0432 cron \u2013 <code>/etc/cron.d/munin</code>.</p>"},{"location":"uk/serving-tiles/serving-vector-tiles-with-tileserver-gl/","title":"\u0420\u043e\u0437\u0433\u043e\u0440\u0442\u0430\u043d\u043d\u044f TileServer GL","text":""},{"location":"uk/serving-tiles/serving-vector-tiles-with-tileserver-gl/#\u0420\u043e\u0437\u0433\u043e\u0440\u0442\u0430\u043d\u043d\u044f-TileServer-GL","title":"\u0420\u043e\u0437\u0433\u043e\u0440\u0442\u0430\u043d\u043d\u044f TileServer GL","text":"<p>TileServer GL\u00a0\u2014 \u0446\u0435 \u043f\u043e\u0442\u0443\u0436\u043d\u0438\u0439 \u0456\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442 \u0456\u0437 \u0432\u0456\u0434\u043a\u0440\u0438\u0442\u0438\u043c\u0438 \u0441\u0438\u0440\u0446\u044f\u043c\u0438, \u044f\u043a\u0438\u0439 \u0434\u043e\u0437\u0432\u043e\u043b\u044f\u0454 \u043e\u0431\u0441\u043b\u0443\u0433\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0432\u0435\u043a\u0442\u043e\u0440\u043d\u0456 \u0442\u0430 \u0440\u0430\u0441\u0442\u0440\u043e\u0432\u0456 \u0442\u0430\u0439\u043b\u0438 \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u0456 \u0437 \u0440\u0456\u0437\u043d\u0438\u0445 \u0434\u0436\u0435\u0440\u0435\u043b \u0434\u0430\u043d\u0438\u0445. \u0412\u0456\u043d \u043d\u0430\u0434\u0430\u0454 \u0432\u0430\u043c \u043c\u043e\u0436\u043b\u0438\u0432\u0456\u0441\u0442\u044c \u0441\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u0432\u043b\u0430\u0441\u043d\u0438\u0439 \u0442\u0430\u0439\u043b\u043e\u0432\u0438\u0439 \u0441\u0435\u0440\u0432\u0435\u0440 \u0456 \u043f\u0440\u0430\u0446\u044e\u0432\u0430\u0442\u0438 \u0437 \u0442\u0430\u0439\u043b\u0430\u043c\u0438 \u043c\u0430\u043f\u0438, \u044f\u043a\u0456 \u043c\u043e\u0436\u043d\u0430 \u0432\u0456\u0437\u0443\u0430\u043b\u0456\u0437\u0443\u0432\u0430\u0442\u0438 \u0442\u0430 \u043d\u0430\u043b\u0430\u0448\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0432 \u0440\u0435\u0436\u0438\u043c\u0456 \u0440\u0435\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0447\u0430\u0441\u0443. \u041e\u0441\u044c \u043f\u043e\u043a\u0440\u043e\u043a\u043e\u0432\u0438\u0439 \u043f\u043e\u0441\u0456\u0431\u043d\u0438\u043a, \u044f\u043a\u0438\u0439 \u0434\u043e\u043f\u043e\u043c\u043e\u0436\u0435 \u0432\u0430\u043c \u0440\u043e\u0437\u043f\u043e\u0447\u0430\u0442\u0438 \u0440\u043e\u0431\u043e\u0442\u0443 \u0437 TileServer GL.</p>"},{"location":"uk/serving-tiles/serving-vector-tiles-with-tileserver-gl/#\u0412\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f","title":"\u0412\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f","text":"<p>\u041f\u0435\u0440\u0435\u043a\u043e\u043d\u0430\u0439\u0442\u0435\u0441\u044f, \u0449\u043e \u0443 \u0432\u0430\u0448\u0456\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u0456 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043e Node.js. \u0412\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u0442\u0430 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0438 \u043e\u0441\u0442\u0430\u043d\u043d\u044e \u0432\u0435\u0440\u0441\u0456\u044e LTS \u0437 \u043e\u0444\u0456\u0446\u0456\u0439\u043d\u043e\u0433\u043e \u0432\u0435\u0431\u0441\u0430\u0439\u0442\u0443 Node.js (https://nodejs.org).</p> <p>\u0412\u0456\u0434\u043a\u0440\u0438\u0439\u0442\u0435 \u0442\u0435\u0440\u043c\u0456\u043d\u0430\u043b \u0430\u0431\u043e \u043a\u043e\u043c\u0430\u043d\u0434\u043d\u0438\u0439 \u0440\u044f\u0434\u043e\u043a \u0456 \u0432\u0438\u043a\u043e\u043d\u0430\u0439\u0442\u0435 \u0442\u0430\u043a\u0443 \u043a\u043e\u043c\u0430\u043d\u0434\u0443, \u0449\u043e\u0431 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0438 TileServer GL \u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u043e:</p> <pre><code>npm install -g tileserver-gl\n</code></pre> <p>\u0430\u0431\u043e \u0436 \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0441\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u0442\u0438\u0441\u044c \u043e\u0431\u0440\u0430\u0437\u043e\u043c Docker</p> <pre><code>docker pull klokantech/tileserver-gl:latest\n</code></pre>"},{"location":"uk/serving-tiles/serving-vector-tiles-with-tileserver-gl/#\u041f\u0456\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0430-\u0434\u0430\u043d\u0438\u0445","title":"\u041f\u0456\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0430 \u0434\u0430\u043d\u0438\u0445","text":"<p>\u0412\u0438\u0437\u043d\u0430\u0447\u0442\u0435\u0441\u044c \u0437 \u0434\u0436\u0435\u0440\u0435\u043b\u043e\u043c \u0434\u0430\u043d\u0438\u0445, \u044f\u043a\u0435 \u0432\u0438 \u0445\u043e\u0447\u0435\u0442\u0435 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0434\u043b\u044f \u0432\u0430\u0448\u043e\u0457 \u043c\u0430\u043f\u0438. TileServer GL \u043f\u0456\u0434\u0442\u0440\u0438\u043c\u0443\u0454 \u0440\u0456\u0437\u043d\u0456 \u0444\u043e\u0440\u043c\u0430\u0442\u0438 \u0434\u0430\u043d\u0438\u0445, \u0437\u043e\u043a\u0440\u0435\u043c\u0430 \u0432\u0435\u043a\u0442\u043e\u0440\u043d\u0456 \u0434\u0430\u043d\u0456 \u0443 \u0444\u043e\u0440\u043c\u0430\u0442\u0430\u0445 GeoJSON, Shapefile \u0430\u0431\u043e Mapbox Vector Tiles (MVT), \u0430 \u0442\u0430\u043a\u043e\u0436 \u0440\u0430\u0441\u0442\u0440\u043e\u0432\u0456 \u0434\u0430\u043d\u0456 \u0443 \u0444\u043e\u0440\u043c\u0430\u0442\u0430\u0445 MBTiles \u0430\u0431\u043e GeoTIFF.</p> <p>\u042f\u043a\u0449\u043e \u0432\u0430\u0448\u0456 \u0434\u0430\u043d\u0456 \u0449\u0435 \u043d\u0435 \u043f\u0435\u0440\u0435\u0442\u0432\u043e\u0440\u0435\u043d\u043e \u0443 \u0441\u0443\u043c\u0456\u0441\u043d\u0438\u0439 \u0444\u043e\u0440\u043c\u0430\u0442, \u0432\u0430\u043c, \u043c\u043e\u0436\u043b\u0438\u0432\u043e, \u0437\u043d\u0430\u0434\u043e\u0431\u0438\u0442\u044c\u0441\u044f \u043a\u043e\u043d\u0432\u0435\u0440\u0442\u0443\u0432\u0430\u0442\u0438 \u0457\u0445 \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e \u0442\u0430\u043a\u0438\u0445 \u0456\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u0456\u0432, \u044f\u043a ogr2ogr, Tippecanoe \u0430\u0431\u043e Tilemaker. \u0417\u0432\u0435\u0440\u043d\u0456\u0442\u044c\u0441\u044f \u0434\u043e \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0456\u0457 TileServer GL, \u0449\u043e\u0431 \u043e\u0442\u0440\u0438\u043c\u0430\u0442\u0438 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u0456 \u0456\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0456\u0457 \u0449\u043e\u0434\u043e \u043f\u0435\u0440\u0435\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u0434\u0430\u043d\u0438\u0445 \u0443 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u0438\u0439 \u0444\u043e\u0440\u043c\u0430\u0442.</p>"},{"location":"uk/serving-tiles/serving-vector-tiles-with-tileserver-gl/#\u041a\u043e\u043d\u0444\u0456\u0433\u0443\u0440\u0430\u0446\u0456\u044f-TileServer-GL","title":"\u041a\u043e\u043d\u0444\u0456\u0433\u0443\u0440\u0430\u0446\u0456\u044f TileServer GL","text":"<p>\u0421\u0442\u0432\u043e\u0440\u0456\u0442\u044c \u0444\u0430\u0439\u043b \u043a\u043e\u043d\u0444\u0456\u0433\u0443\u0440\u0430\u0446\u0456\u0457 JSON, \u044f\u043a\u0438\u0439 \u0432\u0438\u0437\u043d\u0430\u0447\u0430\u0454 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0438 \u0442\u0430\u0439\u043b\u043e\u0432\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430. \u0426\u0435\u0439 \u0444\u0430\u0439\u043b \u0432\u0438\u0437\u043d\u0430\u0447\u0430\u0454 \u0434\u0436\u0435\u0440\u0435\u043b\u0430 \u0434\u0430\u043d\u0438\u0445, \u0441\u0442\u0438\u043b\u0456 \u043c\u0430\u043f\u0438 \u0442\u0430 \u0456\u043d\u0448\u0456 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0438 \u0441\u0435\u0440\u0432\u0435\u0440\u0430. \u0412\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0437\u0432\u0435\u0440\u043d\u0443\u0442\u0438\u0441\u044f \u0434\u043e \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0456\u0457 TileServer GL \u0434\u043b\u044f \u0434\u0435\u0442\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u043f\u043e\u044f\u0441\u043d\u0435\u043d\u043d\u044f \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0456\u0432 \u043a\u043e\u043d\u0444\u0456\u0433\u0443\u0440\u0430\u0446\u0456\u0457.</p> <p>\u0412\u0438\u0437\u043d\u0430\u0447\u0442\u0435 \u0441\u0442\u0438\u043b\u0456 \u043c\u0430\u043f\u0438, \u044f\u043a\u0456 \u0432\u0438 \u0445\u043e\u0447\u0435\u0442\u0435 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0434\u043b\u044f \u0440\u0435\u043d\u0434\u0435\u0440\u0438\u043d\u0433\u0443 \u0442\u0430\u0439\u043b\u0456\u0432. \u0412\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 Mapbox Studio, Maputnik \u0430\u0431\u043e \u0456\u043d\u0448\u0456 \u0456\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u0438 \u0434\u043b\u044f \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u0441\u0442\u0438\u043b\u0456\u0432 \u043c\u0430\u043f, \u0449\u043e\u0431 \u0441\u0442\u0432\u043e\u0440\u044e\u0432\u0430\u0442\u0438 \u0432\u043b\u0430\u0441\u043d\u0456 \u0441\u0442\u0438\u043b\u0456 \u0443 \u0444\u043e\u0440\u043c\u0430\u0442\u0456 Mapbox GL Style JSON.</p>"},{"location":"uk/serving-tiles/serving-vector-tiles-with-tileserver-gl/#\u0417\u0430\u043f\u0443\u0441\u043a-TileServer-GL","title":"\u0417\u0430\u043f\u0443\u0441\u043a TileServer GL","text":"<p>\u0412\u0456\u0434\u043a\u0440\u0438\u0439\u0442\u0435 \u0442\u0435\u0440\u043c\u0456\u043d\u0430\u043b \u0430\u0431\u043e \u043a\u043e\u043c\u0430\u043d\u0434\u043d\u0438\u0439 \u0440\u044f\u0434\u043e\u043a \u0456 \u043f\u0435\u0440\u0435\u0439\u0434\u0456\u0442\u044c \u0434\u043e \u0442\u0435\u043a\u0438, \u0434\u0435 \u0437\u043d\u0430\u0445\u043e\u0434\u0438\u0442\u044c\u0441\u044f \u0444\u0430\u0439\u043b \u043a\u043e\u043d\u0444\u0456\u0433\u0443\u0440\u0430\u0446\u0456\u0457. \u0412\u0438\u043a\u043e\u043d\u0430\u0439\u0442\u0435 \u0442\u0430\u043a\u0443 \u043a\u043e\u043c\u0430\u043d\u0434\u0443, \u0449\u043e\u0431 \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u0438 TileServer GL:</p> <pre><code>tileserver-gl &lt;config.json&gt;\n</code></pre> <p>\u0417\u0430\u043c\u0456\u043d\u0456\u0442\u044c <code>&lt;config.json&gt;</code> \u0432\u0430\u0448\u0438\u043c \u0448\u043b\u044f\u0445\u043e\u043c \u0434\u043e \u0444\u0430\u0439\u043b\u0443 \u043a\u043e\u043d\u0444\u0456\u0433\u0443\u0440\u0430\u0446\u0456\u0457.</p> <p>\u041f\u0456\u0441\u043b\u044f \u0437\u0430\u043f\u0443\u0441\u043a\u0443 TileServer GL \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u043e\u0442\u0440\u0438\u043c\u0430\u0442\u0438 \u0434\u043e\u0441\u0442\u0443\u043f \u0434\u043e \u043d\u044c\u043e\u0433\u043e \u0443 \u0432\u0435\u0431\u043e\u0433\u043b\u044f\u0434\u0430\u0447\u0456 \u0430\u0431\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0439\u043e\u0433\u043e \u044f\u043a \u0434\u0436\u0435\u0440\u0435\u043b\u043e \u0442\u0430\u0439\u043b\u0456\u0432 \u0443 \u0441\u0432\u043e\u0454\u043c\u0443 \u0437\u0430\u0441\u0442\u043e\u0441\u0443\u043d\u043a\u0443, \u044f\u043a\u0438\u0439 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454 \u0457\u0445 \u0434\u043b\u044f \u043f\u043e\u043a\u0430\u0437\u0443 \u0442\u0430 \u0440\u043e\u0431\u043e\u0442 \u0437 \u043c\u0430\u043f\u043e\u044e. \u0421\u0435\u0440\u0432\u0435\u0440 \u043d\u0430\u0434\u0430\u0454 \u043a\u0456\u043d\u0446\u0435\u0432\u0456 \u0442\u043e\u0447\u043a\u0438 \u0434\u043b\u044f \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u044f \u0432\u0435\u043a\u0442\u043e\u0440\u043d\u0438\u0445 \u0456 \u0440\u0430\u0441\u0442\u0440\u043e\u0432\u0438\u0445 \u0442\u0430\u0439\u043b\u0456\u0432, \u044f\u043a\u0456 \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u043d\u043e \u0434\u043e \u0432\u0430\u0448\u0438\u0445 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u0438\u0445 \u0432\u0438\u043c\u043e\u0433.</p>"},{"location":"uk/serving-tiles/serving-vector-tiles-with-tileserver-gl/#\u041a\u0430\u0441\u0442\u043e\u043c\u0456\u0437\u0430\u0446\u0456\u044f-\u0442\u0430-\u0456\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0456\u044f","title":"\u041a\u0430\u0441\u0442\u043e\u043c\u0456\u0437\u0430\u0446\u0456\u044f \u0442\u0430 \u0456\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0456\u044f","text":"<p>TileServer GL \u0434\u0430\u0454 \u0437\u043c\u043e\u0433\u0443 \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u0442\u0438 \u0440\u0435\u043d\u0434\u0435\u0440\u0438\u043d\u0433 \u0442\u0430\u0439\u043b\u0456\u0432 \u0432\u0430\u0448\u043e\u0457 \u043c\u0430\u043f\u0438, \u0437\u043c\u0456\u043d\u044e\u044e\u0447\u0438 \u0441\u0442\u0438\u043b\u0456 \u043c\u0430\u043f\u0438 \u0442\u0430 \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f \u043a\u043e\u043d\u0444\u0456\u0433\u0443\u0440\u0430\u0446\u0456\u0457. \u0412\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0435\u043a\u0441\u043f\u0435\u0440\u0438\u043c\u0435\u043d\u0442\u0443\u0432\u0430\u0442\u0438 \u0437 \u0440\u0456\u0437\u043d\u0438\u043c\u0438 \u0441\u0442\u0438\u043b\u044f\u043c\u0438, \u043a\u043e\u043c\u043f\u043e\u0437\u0438\u0446\u0456\u044f\u043c\u0438 \u0448\u0430\u0440\u0456\u0432 \u0456 \u0432\u0437\u0430\u0454\u043c\u043e\u0434\u0456\u044f\u043c\u0438, \u0449\u043e\u0431 \u0434\u043e\u0441\u044f\u0433\u0442\u0438 \u0431\u0430\u0436\u0430\u043d\u043e\u0433\u043e \u0432\u0438\u0433\u043b\u044f\u0434\u0443 \u043c\u0430\u043f\u0438.</p> <p>\u0412\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0456\u043d\u0442\u0435\u0433\u0440\u0443\u0432\u0430\u0442\u0438 \u0442\u0430\u0439\u043b\u043e\u0432\u0438\u0439 \u0441\u0435\u0440\u0432\u0435\u0440 \u0443 \u0441\u0432\u0456\u0439 \u0432\u0435\u0431 \u0430\u0431\u043e \u043c\u043e\u0431\u0456\u043b\u044c\u043d\u0438\u0439 \u0437\u0430\u0441\u0442\u043e\u0441\u0443\u043d\u043e\u043a \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e \u0431\u0456\u0431\u043b\u0456\u043e\u0442\u0435\u043a, \u0442\u0430\u043a\u0438\u0445 \u044f\u043a Maplibre GL JS, Leaflet, OpenLayers \u0430\u0431\u043e \u0456\u043d\u0448\u0438\u0445 \u0444\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a\u0456\u0432, \u044f\u043a\u0456 \u043f\u0456\u0434\u0442\u0440\u0438\u043c\u0443\u044e\u0442\u044c Mapbox GL Style JSON \u0430\u0431\u043e \u0440\u0430\u0441\u0442\u0440\u043e\u0432\u0456 \u0442\u0430\u0439\u043b\u0438.</p>"},{"location":"uk/serving-tiles/serving-vector-tiles-with-tileserver-gl/#\u0417\u0430\u043f\u0443\u0441\u043a-\u0441\u0435\u0440\u0432\u0435\u0440\u0430-\u0437-\u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e-Docker","title":"\u0417\u0430\u043f\u0443\u0441\u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0437 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e Docker","text":"<p>\u0412\u0441\u0442\u0430\u043d\u043e\u0432\u0456\u0442\u044c \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u043d\u0443 \u0432\u0435\u0440\u0441\u0456\u044e Tilemaker. \u0423 \u0432\u0438\u043f\u0430\u0434\u043a\u0443 Ubuntu 18.04 \u0446\u0435 \u0431\u0443\u0434\u0435 \u0442\u0430\u043a</p> <pre><code>cd /opt/osm/\nwget https://github.com/systemed/tilemaker/releases/download/v2.2.0/tilemaker-ubuntu-18.04.zip\n</code></pre> <p>\u0414\u043b\u044f \u0456\u043d\u0448\u0438\u0445 \u043e\u043f\u0435\u0440\u0430\u0446\u0456\u0439\u043d\u0438\u0445 \u0441\u0438\u0441\u0442\u0435\u043c \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0437\u043d\u0430\u0439\u0442\u0438 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u043d\u0443 \u0432\u0435\u0440\u0441\u0456\u044e Tilemaker \u0443 \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0456\u0457 GitHub: https://github.com/systemed/tilemaker/releases.</p> <p>\u0412\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0439\u0442\u0435, \u043e\u0434\u0438\u043d \u0437 \u0440\u0435\u0433\u0456\u043e\u043d\u0430\u043b\u044c\u043d\u0438\u0445 \u0435\u043a\u0441\u0442\u0440\u0430\u043a\u0442\u0456\u0432 \u0434\u043b\u044f \u0441\u0432\u043e\u0457\u0445 \u0434\u0430\u043d\u0438\u0445, \u043d\u0430\u043f\u0440\u0438\u043a\u043b\u0430\u0434</p> <pre><code>wget https://download.openstreetmap.fr/extracts/europe/ukraine/kiev-latest.osm.pbf\n</code></pre> <p>\u0412\u0438 \u0442\u0430\u043a\u043e\u0436 \u043c\u043e\u0436\u0435\u0442\u0435 \u0441\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u0432\u043b\u0430\u0441\u043d\u0438\u0439 \u0435\u043a\u0441\u0442\u0440\u0430\u043a\u0442 \u0443 \u0440\u0456\u0437\u043d\u0438\u0445 \u0444\u043e\u0440\u043c\u0430\u0442\u0430\u0445 \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e \u0441\u0435\u0440\u0432\u0456\u0441\u0456\u0432, \u043f\u043e\u0434\u0456\u0431\u043d\u0438\u0445 \u0434\u043e https://extract.bbbike.org.</p> <p>\u0421\u043a\u043e\u043f\u0456\u044e\u0439\u0442\u0435 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u0456 \u0434\u0430\u043d\u0456 OSM (<code>*.osm.pbf</code>) \u0434\u043e \u0442\u0435\u043a\u0438 <code>/opt/osm/tilemaker/build/</code>:</p> <pre><code>cp *.osm.pbf /opt/osm/tilemaker/build/\n</code></pre> <p>\u0442\u0430 \u043a\u043e\u043d\u0432\u0435\u0440\u0442\u0443\u0439\u0442\u0435 <code>*.osm.pbf</code> \u0443 \u0444\u043e\u0440\u043c\u0430\u0442 MBTiles \u0437 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e Tilemaker:</p> <pre><code>cd /opt/osm/tilemaker/build/\n./tilemaker \\\n    --input /opt/osm/tilemaker/build/kiev.osm.pbf \\\n    --output kiev.mbtiles \\\n    --process ../resources/process-example.lua \\\n    --config ../resources/config-example.json\n</code></pre> <p>\u041f\u0435\u0440\u0435\u043d\u0435\u0441\u0456\u0442\u044c \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u0438\u0439 \u0444\u0430\u0439\u043b <code>*.mbtiles</code> \u0434\u043e \u0442\u0435\u043a\u0438 <code>/opt/osm/opentiles</code> folder:</p> <pre><code>mv kiev.mbtiles /opt/osm/opentiles/\n</code></pre> <p>\u0442\u0430 \u043f\u043e\u0432\u0435\u0440\u043d\u0456\u0442\u044c\u0441\u044f \u0434\u043e \u0442\u0435\u043a\u0438 <code>/opt/osm/</code></p> <pre><code>cd /opt/osm/\n</code></pre> <p>\u0417\u0430\u043f\u0443\u0441\u0442\u0456\u0442\u044c \u0442\u0430\u0439\u043b\u043e\u0432\u0438\u0439 \u0441\u0435\u0440\u0432\u0435\u0440 \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e Docker \u0456 \u043e\u0431\u0440\u0430\u0437\u0443 <code>klokantech/tileserver-gl</code>:</p> <pre><code>docker run -d --rm -it -v $(pwd)/opentiles:/data -p 8080:80 klokantech/tileserver-gl:latest\n</code></pre> <p>\u0412\u0430\u0448 \u0442\u0430\u0439\u043b\u043e\u0432\u0438\u0439 \u0441\u0435\u0440\u0432\u0435\u0440 \u0442\u0435\u043f\u0435\u0440 \u043f\u0440\u0430\u0446\u044e\u0454, \u0456 \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u043e\u0442\u0440\u0438\u043c\u0430\u0442\u0438 \u0434\u043e\u0441\u0442\u0443\u043f \u0434\u043e \u043d\u044c\u043e\u0433\u043e \u0437\u0430 \u0430\u0434\u0440\u0435\u0441\u043e\u044e <code>http://[server_address]:8080/</code>.</p> <p>TileServer GL \u043f\u0440\u043e\u043f\u043e\u043d\u0443\u0454 \u0433\u043d\u0443\u0447\u043a\u0435 \u0442\u0430 \u043c\u0430\u0441\u0448\u0442\u0430\u0431\u043e\u0432\u0430\u043d\u0435 \u0440\u0456\u0448\u0435\u043d\u043d\u044f \u0434\u043b\u044f \u0440\u043e\u0437\u043f\u043e\u0432\u0441\u044e\u0434\u0436\u0435\u043d\u043d\u044f \u0432\u0430\u0448\u0438\u0445 \u0432\u043b\u0430\u0441\u043d\u0438\u0445 \u0442\u0430\u0439\u043b\u0456\u0432. \u0412\u0438\u043a\u043e\u043d\u0443\u044e\u0447\u0438 \u0446\u0456 \u043a\u0440\u043e\u043a\u0438, \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u0442\u0438 \u0442\u0430\u0439\u043b\u043e\u0432\u0438\u0439 \u0441\u0435\u0440\u0432\u0435\u0440, \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u0442\u0438 \u0434\u0436\u0435\u0440\u0435\u043b\u0430 \u0434\u0430\u043d\u0438\u0445 \u0456 \u0441\u0442\u0438\u043b\u0456 \u043c\u0430\u043f, \u0430 \u0442\u0430\u043a\u043e\u0436 \u043f\u043e\u0447\u0430\u0442\u0438 \u0440\u043e\u0437\u043f\u043e\u0432\u0441\u044e\u0434\u0436\u0435\u043d\u043d\u044f \u0432\u0435\u043a\u0442\u043e\u0440\u043d\u0438\u0445 \u0430\u0431\u043e \u0440\u0430\u0441\u0442\u0440\u043e\u0432\u0438\u0445 \u0442\u0430\u0439\u043b\u0456\u0432 \u0434\u043b\u044f \u0432\u0434\u043e\u0441\u043a\u043e\u043d\u0430\u043b\u0435\u043d\u043d\u044f \u0437\u0430\u0441\u0442\u043e\u0441\u0443\u043d\u043a\u0456\u0432, \u044f\u043a\u0456 \u0457\u0445 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u044e\u0442\u044c. \u0417\u0432\u0435\u0440\u043d\u0456\u0442\u044c\u0441\u044f \u0434\u043e \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0456\u0457 TileServer GL, \u0449\u043e\u0431 \u043e\u0442\u0440\u0438\u043c\u0430\u0442\u0438 \u0434\u043e\u043a\u043b\u0430\u0434\u043d\u0456\u0448\u0456 \u0456\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0456\u0457 \u0442\u0430 \u0440\u043e\u0437\u0448\u0438\u0440\u0435\u043d\u0456 \u0444\u0443\u043d\u043a\u0446\u0456\u0457 \u0434\u043b\u044f \u043f\u043e\u0434\u0430\u043b\u044c\u0448\u043e\u0433\u043e \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f \u0442\u0430\u0439\u043b\u043e\u0432\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430.</p> <p>Tip</p> <p>\u0422\u0430\u043a\u043e\u0436 \u043a\u043e\u0440\u0438\u0441\u043d\u043e \u0437\u0433\u0430\u0434\u0430\u0442\u0438 \u0441\u0442\u0430\u0442\u0442\u044e \"How to deploy an OSM tile server\", \u041a\u0440\u0456\u0441\u0442\u043e\u0444\u0430 \u0411\u043b\u0435\u0444\u0430\u0440\u0456. \u0423 \u0441\u0442\u0430\u0442\u0442\u0456 \u043d\u0430\u0432\u0435\u0434\u0435\u043d\u043e \u0434\u043e\u043a\u043b\u0430\u0434\u043d\u0456 \u0456\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0456\u0457 \u0442\u0430 \u0432\u043a\u0430\u0437\u0456\u0432\u043a\u0438 \u0449\u043e\u0434\u043e \u0440\u043e\u0437\u0433\u043e\u0440\u0442\u0430\u043d\u043d\u044f \u0432\u043b\u0430\u0441\u043d\u043e\u0433\u043e \u0442\u0430\u0439\u043b\u043e\u0432\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430 OpenStreetMap (OSM). \u0412\u043e\u043d\u0430 \u043e\u0445\u043e\u043f\u043b\u044e\u0454 \u0440\u0456\u0437\u043d\u0456 \u0430\u0441\u043f\u0435\u043a\u0442\u0438, \u0432\u043a\u043b\u044e\u0447\u0430\u044e\u0447\u0438 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043d\u043e\u0433\u043e \u0437\u0430\u0431\u0435\u0437\u043f\u0435\u0447\u0435\u043d\u043d\u044f, \u043f\u0456\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0443 \u0434\u0430\u043d\u0438\u0445, \u0441\u0442\u0438\u043b\u044c \u043c\u0430\u043f\u0438 \u0439 \u043a\u043e\u043d\u0444\u0456\u0433\u0443\u0440\u0430\u0446\u0456\u044e \u0441\u0435\u0440\u0432\u0435\u0440\u0430.</p>"},{"location":"uk/serving-tiles/serving-vector-tiles/","title":"\u041a\u0440\u043e\u043a\u0438 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u0456 \u0434\u043b\u044f \u0440\u043e\u0437\u0433\u043e\u0440\u0442\u0430\u043d\u043d\u044f \u0432\u0435\u043a\u0442\u043e\u0440\u043d\u0438\u0445 \u0442\u0430\u0439\u043b\u0456\u0432","text":""},{"location":"uk/serving-tiles/serving-vector-tiles/#\u041a\u0440\u043e\u043a\u0438-\u043f\u043e\u0442\u0440\u0456\u0431\u043d\u0456-\u0434\u043b\u044f-\u0440\u043e\u0437\u0433\u043e\u0440\u0442\u0430\u043d\u043d\u044f-\u0432\u0435\u043a\u0442\u043e\u0440\u043d\u0438\u0445-\u0442\u0430\u0439\u043b\u0456\u0432","title":"\u041a\u0440\u043e\u043a\u0438 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u0456 \u0434\u043b\u044f \u0440\u043e\u0437\u0433\u043e\u0440\u0442\u0430\u043d\u043d\u044f \u0432\u0435\u043a\u0442\u043e\u0440\u043d\u0438\u0445 \u0442\u0430\u0439\u043b\u0456\u0432","text":"<p>\u0429\u043e\u0431 \u043c\u0430\u0442\u0438 \u0432\u043b\u0430\u0441\u043d\u0456 \u0432\u0435\u043a\u0442\u043e\u0440\u043d\u0456 \u0442\u0430\u0439\u043b\u0438 \u0432\u0430\u043c \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0432\u0438\u043a\u043e\u043d\u0430\u0442\u0438 \u0446\u0456 \u0437\u0430\u0433\u0430\u043b\u044c\u043d\u0456 \u0434\u0456\u0457:</p> \u041e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u044f \u0434\u0430\u043d\u0438\u0445 OSM \u041f\u043e\u0447\u043d\u0456\u0442\u044c \u0437 \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u044f \u0434\u0430\u043d\u0438\u0445 OpenStreetMap \u0434\u043b\u044f \u0440\u0435\u0433\u0456\u043e\u043d\u0443, \u0434\u043b\u044f \u044f\u043a\u043e\u0433\u043e \u0432\u0438 \u0445\u043e\u0447\u0435\u0442\u0435 \u0441\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u0442\u0430 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0432\u0435\u043a\u0442\u043e\u0440\u043d\u0456 \u0442\u0430\u0439\u043b\u0438. \u0412\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0442\u0430\u043a\u0456 \u0456\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u0438, \u044f\u043a osm2pgsql \u0430\u0431\u043e imposm, \u0449\u043e\u0431 \u0456\u043c\u043f\u043e\u0440\u0442\u0443\u0432\u0430\u0442\u0438 \u0434\u0430\u043d\u0456 OSM \u0443 \u0431\u0430\u0437\u0443 \u0434\u0430\u043d\u0438\u0445, \u0442\u0430\u043a\u0443 \u044f\u043a PostgreSQL \u0456\u0437 \u0440\u043e\u0437\u0448\u0438\u0440\u0435\u043d\u043d\u044f\u043c PostGIS. \u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u0432\u0435\u043a\u0442\u043e\u0440\u043d\u0438\u0445 \u0442\u0430\u0439\u043b\u0456\u0432 \u0414\u0430\u043b\u0456 \u0432\u0430\u043c \u0431\u0443\u0434\u0435 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u043f\u0435\u0440\u0435\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u0434\u0430\u043d\u0456 OSM \u043d\u0430 \u0432\u0435\u043a\u0442\u043e\u0440\u043d\u0456 \u0442\u0430\u0439\u043b\u0438. \u0406\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u0438, \u0442\u0430\u043a\u0456 \u044f\u043a Tippecanoe, Tilemaker, \u0447\u0438 ogr2ogr \u043c\u043e\u0436\u0443\u0442\u044c \u0431\u0443\u0442\u0438 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u0456 \u0434\u043b\u044f \u043f\u0435\u0440\u0435\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u0434\u0430\u043d\u0438\u0445 \u0443 \u0444\u043e\u0440\u043c\u0430\u0442 Mapbox Vector Tiles (MVT) format. \u0426\u0456 \u0456\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u0438 \u0434\u043e\u0437\u0432\u043e\u043b\u044f\u044e\u0442\u044c \u0432\u043a\u0430\u0437\u0430\u0442\u0438 \u0431\u0430\u0436\u0430\u043d\u0443 \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0443 \u0442\u0430\u0439\u043b\u0456\u0432, \u0440\u0456\u0432\u043d\u0456 \u043c\u0430\u0441\u0448\u0442\u0430\u0431\u0443\u0432\u0430\u043d\u043d\u044f \u0442\u0430 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0438 \u0441\u0442\u0438\u043b\u0456\u0432. \u0420\u043e\u0437\u0433\u043e\u0440\u0442\u0430\u043d\u043d\u044f \u0442\u0430\u0439\u043b\u043e\u0432\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u042f\u043a \u0442\u0456\u043b\u044c\u043a\u0438 \u0443 \u0432\u0430\u0441 \u0431\u0443\u0434\u0443\u0442\u044c \u0437\u0433\u0435\u043d\u0435\u0440\u043e\u0432\u0430\u043d\u0456 \u0432\u0435\u043a\u0442\u043e\u0440\u043d\u0456 \u0442\u0430\u0439\u043b\u0438, \u0432\u0430\u043c \u0437\u043d\u0430\u0434\u043e\u0431\u0438\u0442\u044c\u0441\u044f \u0441\u0435\u0440\u0432\u0435\u0440 \u0434\u043b\u044f \u0457\u0445 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f. \u0406\u0441\u043d\u0443\u0454 \u043a\u0456\u043b\u044c\u043a\u0430 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0438\u0445 \u0432\u0430\u0440\u0456\u0430\u043d\u0442\u0456\u0432, \u0432\u043a\u043b\u044e\u0447\u0430\u044e\u0447\u0438 \u043f\u0440\u043e\u0454\u043a\u0442\u0438 \u0437 \u0432\u0456\u0434\u043a\u0440\u0438\u0442\u0438\u043c \u043a\u043e\u0434\u043e\u043c, \u0442\u0430\u043a\u0456 \u044f\u043a MapServer, GeoServer, \u0430\u0431\u043e \u0431\u0456\u043b\u044c\u0448 \u0441\u043f\u0435\u0446\u0456\u0430\u043b\u0456\u0437\u043e\u0432\u0430\u043d\u0435 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043d\u0435 \u0437\u0430\u0431\u0435\u0437\u043f\u0435\u0447\u0435\u043d\u043d\u044f, \u044f\u043a-\u043e\u0442 Tegola \u0447\u0438 TileServer GL. \u0426\u0456 \u0442\u0430\u0439\u043b\u043e\u0432\u0456 \u0441\u0435\u0440\u0432\u0435\u0440\u0438 \u043c\u043e\u0436\u0443\u0442\u044c \u043e\u0431\u0440\u043e\u0431\u043b\u044f\u0442\u0438 \u0437\u0430\u043f\u0438\u0442\u0438 \u043d\u0430 \u0432\u0435\u043a\u0442\u043e\u0440\u043d\u0456 \u0442\u0430\u0439\u043b\u0438 \u0442\u0430 \u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0442\u0438 \u0457\u0445 \u043a\u043b\u0456\u0454\u043d\u0442\u0430\u043c. \u041d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f \u0441\u0442\u0438\u043b\u0456\u0432 \u0420\u043e\u0437\u0433\u043e\u0440\u043d\u0443\u0432\u0448\u0438 \u0441\u0435\u0440\u0432\u0435\u0440 \u0432\u0435\u043a\u0442\u043e\u0440\u043d\u0438\u0445 \u0442\u0430\u0439\u043b\u0456\u0432, \u0442\u0435\u043f\u0435\u0440 \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u0442\u0438 \u0441\u0442\u0438\u043b\u044c \u0432\u0430\u0448\u0438\u0445 \u0432\u0435\u043a\u0442\u043e\u0440\u043d\u0438\u0445 \u0442\u0430\u0439\u043b\u0456\u0432. \u0426\u0435 \u043c\u043e\u0436\u043d\u0430 \u0437\u0440\u043e\u0431\u0438\u0442\u0438 \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e MapLibre GL JS, Leaflet \u0440\u0430\u0437\u043e\u043c \u0437 \u0432\u0442\u0443\u043b\u043a\u043e\u043c MapLibre GL Leaflet, \u0430\u0431\u043e \u0456\u043d\u0448\u0438\u043c\u0438 \u0431\u0456\u0431\u043b\u0456\u043e\u0442\u0435\u043a\u0430\u043c\u0438, \u0449\u043e \u043f\u0456\u0434\u0442\u0440\u0438\u043c\u0443\u044e\u0442\u044c \u0440\u043e\u0431\u043e\u0442\u0443 \u0437 \u0432\u0435\u043a\u0442\u043e\u0440\u043d\u0438\u043c\u0438 \u0442\u0430\u0439\u043b\u0430\u043c\u0438. \u0412\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u0438\u0437\u043d\u0430\u0447\u0438\u0442\u0438 \u043f\u0440\u0430\u0432\u0438\u043b\u0430 \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u043d\u044f \u043e\u0431\u02bc\u0454\u043a\u0442\u0456\u0432 \u043c\u0430\u043f\u0438 \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0456 \u0457\u0445 \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u0456\u0432, \u0449\u043e \u0434\u043e\u0437\u0432\u043e\u043b\u0438\u0442\u044c \u0432\u0430\u043c \u0441\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u0443\u043d\u0456\u043a\u0430\u043b\u044c\u043d\u0443 \u0442\u0430 \u0432\u0456\u0437\u0443\u0430\u043b\u044c\u043d\u043e \u043f\u0440\u0438\u0432\u0430\u0431\u043b\u0438\u0432\u0443 \u043c\u0430\u043f\u0443. \u0406\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0456\u044f \u041d\u0430\u0440\u0435\u0448\u0442\u0456, \u0456\u043d\u0442\u0435\u0433\u0440\u0443\u0439\u0442\u0435 \u0442\u0430\u0439\u043b\u0438 \u0432\u0435\u043a\u0442\u043e\u0440\u043d\u043e\u0457 \u043c\u0430\u043f\u0438 \u0443 \u0441\u0432\u043e\u044e \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u0443 \u0447\u0438 \u0432\u0435\u0431\u0441\u0430\u0439\u0442. \u0426\u0435 \u043f\u0435\u0440\u0435\u0434\u0431\u0430\u0447\u0430\u0454 \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f \u0432\u0438\u0431\u0440\u0430\u043d\u043e\u0457 \u0432\u0430\u043c\u0438 \u0431\u0456\u0431\u043b\u0456\u043e\u0442\u0435\u043a\u0438 \u0442\u0430 \u0457\u0457 \u043f\u0456\u0434\u02bc\u0454\u0434\u043d\u0430\u043d\u043d\u044f \u0434\u043e \u0442\u0430\u0439\u043b\u043e\u0432\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430. \u041f\u043e\u0442\u0456\u043c \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 API \u0431\u0456\u0431\u043b\u0456\u043e\u0442\u0435\u043a\u0438 \u0434\u043b\u044f \u043f\u043e\u043a\u0430\u0437\u0443 \u0444\u0440\u0430\u0433\u043c\u0435\u043d\u0442\u0456\u0432 \u0432\u0435\u043a\u0442\u043e\u0440\u043d\u043e\u0457 \u043c\u0430\u043f\u0438 \u0442\u0430 \u0432\u0437\u0430\u0454\u043c\u043e\u0434\u0456\u0457 \u0437 \u043d\u0438\u043c\u0438 \u0443 \u0441\u0432\u043e\u0454\u043c\u0443 \u0437\u0430\u0441\u0442\u043e\u0441\u0443\u043d\u043a\u0443."},{"location":"uk/serving-tiles/updating-as-people-edit-osm2pgsql-replication/","title":"\u041e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u0431\u0430\u0437\u0438 \u0434\u0430\u043d\u0438\u0445 \u043f\u0440\u0430\u0432\u043a\u0430\u043c\u0438 \u0437 OpenStreetMap","text":""},{"location":"uk/serving-tiles/updating-as-people-edit-osm2pgsql-replication/#\u041e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f-\u0431\u0430\u0437\u0438-\u0434\u0430\u043d\u0438\u0445-\u043f\u0440\u0430\u0432\u043a\u0430\u043c\u0438-\u0437-OpenStreetMap-\u0437\u0430-\u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e-osm2pgsql","title":"\u041e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u0431\u0430\u0437\u0438 \u0434\u0430\u043d\u0438\u0445 \u043f\u0440\u0430\u0432\u043a\u0430\u043c\u0438 \u0437 OpenStreetMap \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e osm2pgsql","text":"<p>\u0429\u043e\u0434\u043d\u044f \u0437\u02bc\u044f\u0432\u043b\u044f\u044e\u0442\u044c\u0441\u044f \u043c\u0456\u043b\u044c\u0439\u043e\u043d\u0438 \u043d\u043e\u0432\u0438\u0445 \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u044c \u043d\u0430 \u043c\u0430\u043f\u0456, \u0449\u043e\u0431 \u043d\u0435 \u0434\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u0438, \u0449\u043e\u0431 \u0432\u0430\u0448\u0430 \u043c\u0430\u043f\u0430 \u0441\u0442\u0430\u043b\u0430 \u00ab\u0437\u0430\u0441\u0442\u0430\u0440\u0456\u043b\u043e\u044e\u00bb, \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0440\u0435\u0433\u0443\u043b\u044f\u0440\u043d\u043e \u043e\u043d\u043e\u0432\u043b\u044e\u0432\u0430\u0442\u0438 \u0434\u0430\u043d\u0456, \u044f\u043a\u0456 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u044e\u0442\u044c\u0441\u044f \u0434\u043b\u044f \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u0442\u0430\u0439\u043b\u0456\u0432.</p> <p>\u0417 \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u043e\u043c \u043d\u0430 \u043e\u0441\u0442\u0430\u043d\u043d\u044e \u0432\u0435\u0440\u0441\u0456\u044e <code>osm2pgsql</code> (\u0432\u0435\u0440\u0441\u0456\u044f 1.4.2 \u0442\u0430 \u0441\u0432\u0456\u0436\u0456\u0448\u0435) \u043e\u043d\u043e\u0432\u043b\u044e\u0432\u0430\u0442\u0438 \u0434\u0430\u043d\u0456 \u0441\u0442\u0430\u043b\u043e \u043d\u0430 \u0431\u0430\u0433\u0430\u0442\u043e \u043f\u0440\u043e\u0441\u0442\u0456\u0448\u0435 \u043d\u0456\u0436 \u0440\u0430\u043d\u0456\u0448. \u0412\u0435\u0440\u0441\u0456\u044f  1.6.0 \u043f\u043e\u0441\u0442\u0430\u0447\u0430\u0454\u0442\u044c\u0441\u044f \u0432 \u0441\u043a\u043b\u0430\u0434\u0456 Ubuntu 22.04; \u0432\u0435\u0440\u0441\u0456\u044f 1.8.0\u00a0\u2013 \u044f\u043a \u0447\u0430\u0441\u0442\u0438\u043d\u0430 Debian 12; \u0432\u0435\u0440\u0441\u0456\u044f 1.11.0\u00a0\u2013 \u044f\u043a \u0447\u0430\u0441\u0442\u0438\u043d\u0430 Ubuntu 24.04, \u0457\u0445 \u043c\u043e\u0436\u043d\u0430 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0438 \u0441\u043b\u0456\u0434\u0443\u044e\u0447\u0438 \u0456\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0456\u0457 \u0437 osm2pgsql.org. \u0420\u0430\u0437\u043e\u043c \u0437 <code>osm2pgsql</code> \u0439\u0434\u0435 osm2pgsql-replication\u00a0\u2013 \u0449\u043e \u043d\u0430\u0434\u0430\u0454 \u043f\u043e\u0440\u0456\u0432\u043d\u044f\u043d\u043e \u043f\u0440\u043e\u0441\u0442\u0438\u0439 \u0441\u043f\u043e\u0441\u0456\u0431 \u043f\u0456\u0434\u0442\u0440\u0438\u043c\u0443\u0432\u0430\u0442\u0438 \u0434\u0430\u043d\u0456 \u0432 \u0431\u0430\u0437\u0456 \u0432 \u0430\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u043e\u043c\u0443 \u0441\u0442\u0430\u043d\u0456. \u0411\u0456\u043b\u044c\u0448 \u0433\u043d\u0443\u0447\u043a\u0438\u043c \u0441\u043f\u043e\u0441\u043e\u0431\u043e\u043c \u0431\u0443\u0434\u0435 \u0431\u0435\u0437\u043f\u043e\u0441\u0435\u0440\u0435\u0434\u043d\u0456\u0439 \u0432\u0438\u043a\u043b\u0438\u043a <code>PyOsmium</code>, \u0442\u0443\u0442 \u0434\u043e\u043a\u043b\u0430\u0434\u043d\u0456\u0448\u0435 \u043f\u0440\u043e \u0446\u0435.</p> <p>\u0412\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u0442\u0438 \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u044f \u0434\u0430\u043d\u0438\u0445 \u0437 \u0440\u0456\u0437\u043d\u0438\u0445 \u0434\u0436\u0435\u0440\u0435\u043b. OpenStreetMap \u043d\u0430\u0434\u0430\u0454 \u043c\u043e\u0436\u043b\u0438\u0432\u0456\u0441\u0442\u044c \u043e\u0442\u0440\u0438\u043c\u0443\u0432\u0430\u0442\u0438 \u0449\u043e\u0445\u0432\u0438\u043b\u0438\u043d\u043d\u0456, \u0449\u043e\u0433\u043e\u0434\u0438\u043d\u043d\u0456 \u0442\u0430 \u0449\u043e\u0434\u0435\u043d\u043d\u0456 \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f, \u0456\u043d\u0448\u0456 \u0434\u0436\u0435\u0440\u0435\u043b\u0430 \u043c\u043e\u0436\u0443\u0442\u044c \u043d\u0430\u0434\u0430\u0432\u0430\u0442\u0438 \u0449\u043e\u0434\u0435\u043d\u043d\u0456 \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f, \u043d\u0430\u043f\u0440\u0438\u043a\u043b\u0430\u0434 Geofabrik \u043d\u0430\u0434\u0430\u0454 \u0449\u043e\u0434\u0435\u043d\u043d\u0456 \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u0440\u0435\u0433\u0456\u043e\u043d\u0430\u043b\u044c\u043d\u0438\u0445 \u0432\u0438\u0442\u044f\u0433\u0456\u0432 \u0434\u0430\u043d\u0438\u0445, \u044f\u043a\u0456 \u043c\u043e\u0436\u043d\u0430 \u043e\u0442\u0440\u0438\u043c\u0430\u0442\u0438 \u043d\u0430 download.geofabrik.de.</p>"},{"location":"uk/serving-tiles/updating-as-people-edit-osm2pgsql-replication/#\u0420\u043e\u0431\u043e\u0447\u0438\u0439-\u043f\u0440\u0438\u043a\u043b\u0430\u0434-\u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f-\u0434\u0430\u043d\u0438\u0445-\u0437-Geofabrik","title":"\u0420\u043e\u0431\u043e\u0447\u0438\u0439 \u043f\u0440\u0438\u043a\u043b\u0430\u0434 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f \u0434\u0430\u043d\u0438\u0445 \u0437 Geofabrik","text":"<p>\u0422\u0443\u0442 \u043c\u0438 \u043f\u043e\u043a\u0430\u0436\u0435\u043c\u043e, \u044f\u043a \u043e\u0442\u0440\u0438\u043c\u0430\u0442\u0438 \u0434\u0430\u043d\u0456 \u0434\u043b\u044f \u041b\u043e\u043d\u0434\u043e\u043d\u0430 \u0437 Geofabrik, \u044f\u043a \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u0457\u0445 \u0432 \u0431\u0430\u0437\u0443 \u0434\u0430\u043d\u0438\u0445 \u0442\u0430 \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u0442\u0438 \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u044f \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u044c \u0434\u043b\u044f \u043d\u0438\u0445. \u041e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u0432\u0456\u0434 Geofabrik \u0431\u0443\u0434\u0443\u0442\u044c \u043e\u0431\u043c\u0435\u0436\u0435\u043d\u0456 \u043b\u0438\u0448\u0435 \u0440\u0435\u0433\u0456\u043e\u043d\u043e\u043c, \u044f\u043a\u0438\u0439 \u0432\u0438 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u043b\u0438 \u0442\u0430 \u0446\u0456 \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u0431\u0443\u0434\u0443\u0442\u044c \u043d\u0430\u0434\u0445\u043e\u0434\u0438\u0442\u0438 \u0440\u0430\u0437 \u043d\u0430 \u0434\u043e\u0431\u0443.</p> <p>\u0414\u043b\u044f \u043f\u043e\u0447\u0430\u0442\u043a\u0443 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0442\u0435 \u0434\u0430\u043d\u0456. \u0412\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0439\u0442\u0435 \u0434\u043b\u044f \u0446\u044c\u043e\u0433\u043e \u0431\u0443\u0434\u044c-\u044f\u043a\u0438\u0439 \u0437\u0432\u0438\u0447\u0430\u0439\u043d\u0438\u0439 (\u043d\u0435 root) \u043e\u0431\u043b\u0456\u043a\u043e\u0432\u0438\u0439 \u0437\u0430\u043f\u0438\u0441:</p> <pre><code># \u044f\u043a\u0449\u043e \u043d\u0435 \u0456\u0441\u043d\u0443\u0454 \u0442\u0435\u043a\u0438 \u0441\u0442\u0432\u043e\u0440\u0456\u0442\u044c \u0457\u0457\nmkdir ~/data\ncd ~/data\nwget http://download.geofabrik.de/europe/great-britain/england/greater-london-latest.osm.pbf\n</code></pre> <p>\u041f\u043e\u0442\u0456\u043c, \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0442\u0435 \u0434\u0430\u043d\u0456 \u0432 \u0431\u0430\u0437\u0443. \u041a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u043f\u0440\u043e\u0446\u0435\u0441\u0456\u0432 \u0442\u0430 \u043e\u0431\u0441\u044f\u0433 \u043f\u0430\u043c'\u044f\u0442\u0456 \u0437\u0430\u043b\u0435\u0436\u0438\u0442\u044c \u0432\u0456\u0434 \u043f\u043e\u0442\u0443\u0436\u043d\u043e\u0441\u0442\u0456 \u0432\u0430\u0448\u043e\u0457 \u0441\u0438\u0441\u0442\u0435\u043c\u0438:</p> <pre><code>sudo -u _renderd \\\n    osm2pgsql -d gis --create --slim  -G --hstore \\\n    --tag-transform-script \\\n        ~/src/openstreetmap-carto/openstreetmap-carto.lua \\\n    -C 3000 --number-processes 4 \\\n    -S ~/src/openstreetmap-carto/openstreetmap-carto.style \\\n    ~/data/greater-london-latest.osm.pbf\n</code></pre> <p>\u0412\u0430\u0436\u043b\u0438\u0432\u0430 \u043f\u0440\u0438\u043c\u0456\u0442\u043a\u0430\u00a0\u2013 \u0441\u043a\u0440\u0438\u043f\u0442, \u0449\u043e \u043f\u0435\u0440\u0435\u0432\u0456\u0440\u044f\u0454 \u0430\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u0456\u0441\u0442\u044c \u0434\u0430\u043d\u0438\u0445 \u043f\u0435\u0440\u0435\u0434\u0431\u0430\u0447\u0430\u0454 \u0449\u043e \u0433\u043e\u0442\u043e\u0432\u0456 \u0442\u0430\u0439\u043b\u0438 \u0437\u043d\u0430\u0445\u043e\u0434\u044f\u0442\u044c\u0441\u044f \u0432 \u0442\u0435\u0446\u0456 <code>/var/cache/renderd/</code>. \u042f\u043a\u0449\u043e \u0432 <code>/etc/renderd.conf</code> \u0437\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u043e \u0456\u043d\u0448\u0435 \u043c\u0456\u0441\u0446\u0435, \u0432\u0430\u043c \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0432\u043d\u0435\u0441\u0442\u0438 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u043d\u0456 \u0437\u043c\u0456\u043d\u0438, \u0449\u043e\u0431\u0438 \u0441\u043a\u0440\u0438\u043f\u0442, \u044f\u043a\u0438\u0439 \u043c\u0438 \u0441\u0442\u0432\u043e\u0440\u0438\u043c\u043e, \u043c\u0430\u0432 \u0437\u043c\u043e\u0433\u0443 \u0432\u0456\u0434\u0441\u0442\u0435\u0436\u0443\u0432\u0430\u0442\u0438 \u0430\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u0456\u0441\u0442\u044c \u0434\u0430\u043d\u0438\u0445.</p> <p>\u0414\u0430\u043b\u0456, \u0456\u043d\u0456\u0446\u0456\u0430\u043b\u0456\u0437\u0443\u0439\u0442\u0435 \u0440\u0435\u043f\u043b\u0456\u043a\u0430\u0446\u0456\u044e. \u042f\u043a \u0439\u0434\u0435\u0442\u044c\u0441\u044f \u0442\u0443\u0442, \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u0456 \u0434\u0430\u043d\u0456 \u0437 Geofabrik (\u0430\u0431\u043e download.openstreetmap.fr) \u043c\u0456\u0441\u0442\u044f\u0442\u044c \u0432\u0441\u0456 \u043d\u0435\u043e\u0431\u0445\u0456\u0434\u043d\u0456 \u0434\u043b\u044f \u043f\u0440\u043e\u0446\u0435\u0441\u0443 \u0440\u0435\u043f\u043b\u0456\u043a\u0430\u0446\u0456\u0457 \u0432\u0456\u0434\u043e\u043c\u043e\u0441\u0442\u0456 (URL, \u0437 \u044f\u043a\u043e\u0433\u043e \u0431\u0443\u0434\u0443\u0442\u044c \u043e\u0442\u0440\u0438\u043c\u0443\u0432\u0430\u0442\u0438\u0441\u044c \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u0442\u0430 \u0434\u0430\u0442\u0443 \u043f\u043e\u0447\u0430\u0442\u043a\u0443).</p> <pre><code>sudo -u _renderd \\\n    osm2pgsql-replication init \\\n    -d gis \\\n    --osm-file ~/data/greater-london-latest.osm.pbf\n</code></pre> <p>\u0412 \u0445\u043e\u0434\u0456 \u0432\u0438\u043a\u043e\u043d\u0430\u043d\u043d\u044f \u043a\u043e\u043c\u0430\u043d\u0434\u0438 \u0432\u0438 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0435 \u0442\u0430\u043a\u0438\u0439 \u0432\u0438\u0432\u0456\u0434:</p> <pre><code>2022-04-24 23:32:42 [INFO]: Initialised updates for service 'http://download.geofabrik.de/europe/great-britain/england/greater-london-updates'.\n2022-04-24 23:32:42 [INFO]: Starting at sequence 3314 (2022-04-23 20:21:53+00:00).\n</code></pre> <p>\u0412 \u0446\u044c\u043e\u043c\u0443 \u043f\u0440\u0438\u043a\u043b\u0430\u0434\u0456 \u043f\u043e\u043a\u0430\u0437\u0430\u043d\u0430 \u0434\u0430\u0442\u0430 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u0430\u0454 \u0442\u0456\u0439, \u0449\u043e \u043f\u043e\u043a\u0430\u0437\u0443\u0432\u0430\u043b\u0430\u0441\u044c \u043d\u0430 \u043c\u043e\u043c\u0435\u043d\u0442 \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u043d\u044f \u043d\u0430 \u0446\u0456\u0439 \u0441\u0442\u043e\u0440\u0456\u043d\u0446\u0456, \u043a\u043e\u043b\u0438 \u043f\u0438\u0441\u0430\u0432\u0441\u044f \u0446\u0435\u0439 \u0442\u0435\u043a\u0441\u0442.</p>"},{"location":"uk/serving-tiles/updating-as-people-edit-osm2pgsql-replication/#\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f-\u0441\u043a\u0440\u0438\u043f\u0442\u0443-\u0434\u043b\u044f-\u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f-\u0434\u0430\u043d\u0438\u0445","title":"\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u0441\u043a\u0440\u0438\u043f\u0442\u0443 \u0434\u043b\u044f \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u0434\u0430\u043d\u0438\u0445","text":"<p>\u0422\u0435\u043f\u0435\u0440 \u043c\u0438 \u0441\u0442\u0432\u043e\u0440\u0438\u043c\u043e \u0444\u0430\u0439\u043b \u0432 \u044f\u043a\u0438\u0439 \u043c\u0438 \u0431\u0443\u0434\u0435\u043c\u043e \u0437\u0430\u043f\u0438\u0441\u0443\u0432\u0430\u0442\u0438 \u0447\u0430\u0441, \u0430 \u0442\u0430\u043a\u043e\u0436 \u0441\u043a\u0440\u0438\u043f\u0442\u0438, \u044f\u043a\u0456 \u0431\u0443\u0434\u0443\u0442\u044c \u0440\u043e\u0431\u0438\u0442\u0438 \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u0434\u0430\u043d\u0438\u0445 \u0442\u0430 \u043f\u043e\u0437\u043d\u0430\u0447\u0430\u0442\u0438 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u0456 \u0442\u0430\u0439\u043b\u0438 \u0434\u043b\u044f \u043f\u0435\u0440\u0435\u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f. \u041f\u0456\u0441\u043b\u044f \u0442\u043e\u0433\u043e, \u044f\u043a \u043c\u0438 \u0432\u0438\u0437\u043d\u0430\u0447\u0438\u043c\u043e \u0442\u0430\u0439\u043b \u0449\u043e \u043f\u043e\u0442\u0440\u0435\u0431\u0443\u0454 \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f, \u043c\u0438 \u043c\u043e\u0436\u0435\u043c\u043e \u043f\u0435\u0440\u0435\u0433\u0435\u043d\u0435\u0440\u0443\u0432\u0430\u0442\u0438 \u0439\u043e\u0433\u043e, \u043f\u043e\u0437\u043d\u0430\u0447\u0438\u0432\u0448\u0438 \u0439\u043e\u0433\u043e \u044f\u043a <code>dirty</code> \u0430\u0431\u043e \u0432\u0438\u043b\u0443\u0447\u0438\u0442\u0438 \u0439\u043e\u0433\u043e.</p> <pre><code>sudo mkdir /var/log/tiles\nsudo chown _renderd /var/log/tiles\nsudo nano /usr/local/sbin/expire_tiles.sh\n</code></pre> <p>\u0426\u0435\u0439 \u0441\u043a\u0440\u0438\u043f\u0442 \u043c\u043e\u0436\u0435 \u0432\u0438\u0433\u043b\u044f\u0434\u0430\u0442\u0438 \u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0438\u043c \u0447\u0438\u043d\u043e\u043c:</p> expire_tiles.sh<pre><code>#!/bin/bash\nrender_expired --map=s2o --min-zoom=13 --max-zoom=20 \\\n    -s /run/renderd/renderd.sock &lt; /var/cache/renderd/dirty_tiles.txt\nrm /var/cache/renderd/dirty_tiles.txt\n</code></pre> <p>\u041f\u0435\u0440\u0435\u043b\u0456\u043a \u0442\u0430\u0439\u043b\u0456\u0432 \u0437 \u043e\u0437\u043d\u0430\u043a\u043e\u044e <code>dirty</code> \u043c\u0430\u0454 \u0431\u0443\u0442\u0438 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0438\u043c \u0434\u043b\u044f \u0437\u0430\u043f\u0438\u0441\u0443 \u0441\u043b\u0443\u0436\u0431\u043e\u044e <code>_renderd</code>. \u0414\u0438\u0432\u0456\u0442\u044c\u0441\u044f \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0443 man, \u0449\u043e\u0431 \u0434\u0456\u0437\u043d\u0430\u0442\u0438\u0441\u044c \u043c\u043e\u0436\u043b\u0438\u0432\u0456 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f \u0434\u043b\u044f \u0456\u043d\u0448\u0438\u0445 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0456\u0432. \u0423 \u043f\u0440\u0438\u043a\u043b\u0430\u0434\u0456 \u0432\u0438\u0449\u0435, \u0441\u043a\u0440\u0438\u043f \u0431\u0443\u0434\u0435 \u043f\u0435\u0440\u0435\u0432\u0456\u0440\u044f\u0442\u0438 \u0442\u0430 \u043f\u0435\u0440\u0435\u0433\u0435\u043d\u0435\u0440\u0443\u0432\u0430\u0442\u0438 \u0432\u0441\u0456 <code>dirty</code> \u0442\u0430\u0439\u043b\u0438 \u043f\u043e\u0447\u0438\u043d\u0430\u044e\u0447\u0438 \u0437 \u043c\u0430\u0441\u0448\u0442\u0430\u0431\u0443 z13 \u0456 \u0434\u043e\u043a\u043b\u0430\u0434\u043d\u0456\u0448\u0435. \u0411\u0456\u043b\u044c\u0448 \u0440\u0435\u0430\u043b\u0456\u0441\u0442\u0438\u0447\u043d\u0438\u043c \u043f\u0440\u0438\u043a\u043b\u0430\u0434\u043e\u043c \u0431\u0443\u0434\u0435 \u0449\u043e\u0441\u044c \u043d\u0430 \u043a\u0448\u0442\u0430\u043b\u0442:</p> expire_tiles.sh<pre><code>#!/bin/bash\nrender_expired --map=s2o --min-zoom=13 --touch-from=13 --delete-from=19 --max-zoom=20 \\\n    -s /run/renderd/renderd.sock &lt; /var/cache/renderd/dirty_tiles.txt\nrm /var/cache/renderd/dirty_tiles.txt\n</code></pre> <p>\u0449\u043e \u0437\u0431\u0456\u0433\u0430\u0454\u0442\u044c\u0441\u044f \u0437 \u0442\u0438\u043f\u043e\u0432\u0438\u043c\u0438 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438, \u044f\u043a\u0456 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u044e\u0442\u044c\u0441\u044f \u0432 \u0441\u043a\u0440\u0438\u043f\u0442\u0456 \u0434\u043b\u044f osmosis\u00a0- \u0442\u0430\u0439\u043b\u0438 \u0434\u043e z12 \u0456\u0433\u043d\u043e\u0440\u0443\u044e\u0442\u044c\u0441\u044f, \u0442\u0430\u0439\u043b\u0438 \u043c\u0430\u0441\u0448\u0442\u0430\u0431\u0456\u0432 \u0432\u0456\u0434 z13 \u0434\u043e z19 \u043f\u043e\u0437\u043d\u0430\u0447\u0430\u044e\u0442\u044c\u0441\u044f \u044f\u043a <code>dirty</code>, \u0430 \u0442\u0430\u0439\u043b\u0438 \u043d\u0430 20-\u0443 \u043c\u0430\u0441\u0448\u0442\u0430\u0431\u0438 \u0432\u0438\u043b\u0443\u0447\u0430\u044e\u0442\u044c\u0441\u044f. \u041f\u0440\u0438\u043a\u043b\u0430\u0434 \u043c\u043e\u0436\u043d\u0430 \u0442\u0430\u043a\u043e\u0436 \u0437\u043d\u0430\u0439\u0442\u0438 \u0442\u0443\u0442.</p> <p>\u0414\u0430\u043b\u0456:</p> <pre><code>sudo nano /usr/local/sbin/update_tiles.sh\n</code></pre> <p>\u0441\u043a\u0440\u0438\u043f\u0442 \u043c\u0430\u0454 \u043c\u0456\u0441\u0442\u0438\u0442\u0438:</p> update_tiles.sh<pre><code>#!/bin/bash\nosm2pgsql-replication \\\n    update -d gis \\\n    --post-processing /usr/local/sbin/expire_tiles.sh \\\n    --max-diff-size 10  --  \\\n    -G --hstore \\\n    --tag-transform-script \\\n        /home/renderaccount/src/openstreetmap-carto/openstreetmap-carto.lua \\\n    -C 3000 --number-processes 4 \\\n    -S /home/renderaccount/src/openstreetmap-carto/openstreetmap-carto.style \\\n    --expire-tiles=1-20 \\\n    --expire-output=/var/cache/renderd/dirty_tiles.txt\n</code></pre> <p>\u0412\u0441\u0435 \u0432 \u0440\u044f\u0434\u043a\u0443 <code>osm2pgsql-replication update</code> \u043f\u0456\u0441\u043b\u044f <code>--</code> \u0454 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438 \u0434\u043b\u044f osm2pgsql, \u0432\u043e\u043d\u0438 \u0432\u0441\u0456 \u0441\u0442\u043e\u0441\u0443\u044e\u0442\u044c\u0441\u044f \u0431\u0430\u0437\u0438 \u0434\u0430\u043d\u0438\u0445 \u0434\u043e \u044f\u043a\u043e\u0457 \u043c\u0438 \u0432\u043d\u043e\u0441\u0438\u043c\u043e \u0437\u043c\u0456\u043d\u0438. \u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0438 \u0434\u043e <code>--</code>, <code>-d gis</code> \u0432\u043a\u0430\u0437\u0443\u0454 \u043d\u0430\u0437\u0432\u0443 \u0431\u0430\u0437\u0438 \u0434\u0430\u043d\u0438\u0445, <code>--max-diff-size 10</code> \u0437\u0430\u0437\u043d\u0430\u0447\u0430\u0454 \u044f\u043a\u0438\u0439 \u043e\u0431\u0441\u044f\u0433 \u0434\u0430\u043d\u0438\u0445 \u043e\u0431\u0440\u043e\u0431\u043b\u044f\u0442\u0438 \u0437\u0430 \u0440\u0430\u0437, \u0437\u0430\u0443\u0432\u0430\u0436\u0442\u0435, \u0449\u043e <code>osm2pgsql-replication</code> \u0431\u0443\u0434\u0435 \u043f\u043e\u0441\u0442\u0456\u0439\u043d\u043e \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0443\u0432\u0430\u0442\u0438 \u0442\u0430 \u043e\u043d\u043e\u0432\u043b\u044e\u0432\u0430\u0442\u0438 \u0434\u0430\u043d\u0456 \u0434\u043e\u043f\u043e\u043a\u0438 \u043d\u0435 \u043b\u0438\u0448\u0438\u0442\u044c\u0441\u044f \u0434\u0430\u043d\u0438\u0445 \u044f\u043a\u0456 \u043f\u043e\u0442\u0440\u0435\u0431\u0443\u044e\u0442\u044c \u043e\u0431\u0440\u043e\u0431\u043a\u0438. \u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 <code>--max diff-size</code> \u0432\u0438\u0437\u043d\u0430\u0447\u0430\u0454 \u043e\u0431\u0441\u044f\u0433 \u0434\u0430\u043d\u0438\u0445, \u044f\u043a\u0456 \u043e\u0431\u0440\u043e\u0431\u043b\u044f\u044e\u0442\u044c\u0441\u044f \u043f\u0456\u0434 \u0447\u0430\u0441 \u043a\u043e\u0436\u043d\u043e\u0457 \u0456\u0442\u0435\u0440\u0430\u0446\u0456\u0457.  \u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 <code>--post-processing /usr/local/sbin/expire_tiles.sh</code> \u0432\u0438\u043a\u043b\u0438\u043a\u0430\u0454 \u0456\u043d\u0448\u0438\u0439 \u0441\u043a\u0440\u0438\u043f\u0442.</p> <p>\u041d\u0430\u0434\u0430\u0439\u0442\u0435 \u0441\u043a\u0440\u0438\u043f\u0442\u0430\u043c \u0434\u043e\u0437\u0432\u043e\u043b\u0438 \u043d\u0430 \u0432\u0438\u043a\u043e\u043d\u0430\u043d\u043d\u044f:</p> <pre><code>sudo chmod ugo+x /usr/local/sbin/update_tiles.sh\nsudo chmod ugo+x /usr/local/sbin/expire_tiles.sh\n</code></pre>"},{"location":"uk/serving-tiles/updating-as-people-edit-osm2pgsql-replication/#\u041f\u0435\u0440\u0435\u043a\u043e\u043d\u0430\u0439\u0442\u0435\u0441\u044c-\u0449\u043e-\u0432\u0438-\u043e\u0442\u0440\u0438\u043c\u0443\u0454\u0442\u0435-\u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f-\u0434\u043b\u044f-\u0432\u0456\u0434\u043b\u0430\u0433\u043e\u0434\u0436\u0435\u043d\u043d\u044f","title":"\u041f\u0435\u0440\u0435\u043a\u043e\u043d\u0430\u0439\u0442\u0435\u0441\u044c, \u0449\u043e \u0432\u0438 \u043e\u0442\u0440\u0438\u043c\u0443\u0454\u0442\u0435 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f \u0434\u043b\u044f \u0432\u0456\u0434\u043b\u0430\u0433\u043e\u0434\u0436\u0435\u043d\u043d\u044f","text":"<p>\u041d\u0430 \u0446\u044c\u043e\u043c\u0443 \u0435\u0442\u0430\u043f\u0456 \u0431\u0443\u043b\u043e \u0431 \u0434\u0443\u0436\u0435 \u043a\u043e\u0440\u0438\u0441\u043d\u043e \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0438 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u043f\u0440\u043e\u0446\u0435\u0441\u0443 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0456\u0457 \u0442\u0430\u0439\u043b\u0456\u0432, \u0449\u043e\u0431 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0438, \u0449\u043e \u0442\u0430\u0439\u043b\u0438, \u043f\u043e\u0437\u043d\u0430\u0447\u0435\u043d\u0456 \u044f\u043a <code>dirty</code>, \u043e\u0431\u0440\u043e\u0431\u043b\u044f\u044e\u0442\u044c\u0441\u044f. \u0422\u0438\u043f\u043e\u0432\u043e \u0432 \u043e\u0441\u0442\u0430\u043d\u043d\u0456\u0445 \u0432\u0435\u0440\u0441\u0456\u044f\u0445 mod_tile \u0446\u0435 \u0432\u0438\u043c\u043a\u043d\u0435\u043d\u043e. \u0414\u043b\u044f \u0443\u0432\u0456\u043c\u043a\u043d\u0435\u043d\u043d\u044f \u0432\u0456\u0434\u043a\u0440\u0438\u0439\u0442\u0435</p> <pre><code>sudo nano /usr/lib/systemd/system/renderd.service\n</code></pre> <p>\u042f\u043a\u0449\u043e \u0446\u044c\u043e\u0433\u043e \u0449\u0435 \u043d\u0435\u043c\u0430\u0454 \u043d\u0438\u0436\u0447\u0435 <code>[Service]</code>, \u0434\u043e\u0434\u0430\u0439\u0442\u0435:</p> <pre><code>Environment=G_MESSAGES_DEBUG=all\n</code></pre> <p>\u041f\u043e\u0442\u0456\u043c \u0432\u0438\u043a\u043e\u043d\u0430\u0439\u0442\u0435 \u0446\u0456 \u043a\u043e\u043c\u0430\u043d\u0434\u0438, \u0449\u043e\u0431 \u043f\u0435\u0440\u0435\u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u043a\u043e\u043d\u0444\u0456\u0433\u0443\u0440\u0430\u0446\u0456\u044e:</p> <pre><code>sudo systemctl daemon-reload\nsudo systemctl restart renderd\nsudo systemctl restart apache2\n</code></pre>"},{"location":"uk/serving-tiles/updating-as-people-edit-osm2pgsql-replication/#\u041f\u0435\u0440\u0435\u0432\u0456\u0440\u043a\u0430","title":"\u041f\u0435\u0440\u0435\u0432\u0456\u0440\u043a\u0430","text":"<p>\u0417\u0430\u043f\u0443\u0441\u0442\u0456\u0442\u044c \u0449\u0435 \u043e\u0434\u043d\u0443 \u0441\u0435\u0441\u0456\u044e \u0442\u0430 \u043f\u0435\u0440\u0435\u0433\u043b\u044f\u043d\u044c\u0442\u0435 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f \u0432 \u0436\u0443\u0440\u043d\u0430\u043b\u0456:</p> <pre><code>sudo tail -f /var/log/syslog\n</code></pre> <p>\u0430\u0431\u043e, \u044f\u043a\u0449\u043e \u0432\u0438 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u0435 Debian 12, \u044f\u043a\u0438\u0439 \u043d\u0435 \u043c\u0430\u0454 \u0442\u0438\u043f\u043e\u0432\u043e \u0444\u0430\u0439\u043b \"syslog\":</p> <pre><code>sudo journalctl -ef\n</code></pre> <p>\u0432\u0438 \u043c\u0430\u0454\u0442\u0435 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0438 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f \u043f\u0440\u043e \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0438 \u043e\u0431\u0440\u043e\u0431\u043a\u0438 \u0437\u0430\u043f\u0438\u0442\u0456\u0432 \u0443 <code>mod_tile</code>.</p> <p>\u0412\u0438\u043a\u043e\u043d\u0430\u0439\u0442\u0435 \u0441\u043a\u0440\u0438\u043f\u0442:</p> <pre><code>sudo -u _renderd /usr/local/sbin/update_tiles.sh\n</code></pre> <p>\u042f\u043a\u0449\u043e \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u044c, \u044f\u043a\u0456 \u043e\u0447\u0456\u043a\u0443\u044e\u0442\u044c \u043d\u0430 \u043e\u0431\u0440\u043e\u0431\u043a\u0443, \u043d\u0435\u043c\u0430\u0454 (Geofabrik \u043d\u0430\u0434\u0430\u0454 \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u0440\u0430\u0437 \u043d\u0430 \u0434\u043e\u0431\u0443) \u0432\u0438 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0435 \u0449\u043e\u0441\u044c \u0441\u0445\u043e\u0436\u0435 \u043d\u0430 \u0446\u0435:</p> <pre><code>2023-07-02 16:57:03 [INFO]: Using replication service 'http://download.geofabrik.de/europe/britain-and-ireland-updates'. Current sequence 3743 (2023-07-01 20:21:30+00:00).\n2023-07-02 16:57:03 [INFO]: Database already up-to-date.\n</code></pre> <p>\u042f\u043a\u0449\u043e \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u0454, \u0432\u0438 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0435 \u0449\u043e\u0441\u044c \u0441\u0445\u043e\u0436\u0435 \u043d\u0430:</p> <pre><code>2022-06-05 16:29:32 [INFO]: Using replication service 'http://download.geofabrik.de/europe/great-britain/england/greater-london-updates'. Current sequence 3355 (2022-06-03 20:21:26+00:00).\n2022-06-05 16:29:33  osm2pgsql version 1.6.0\n2022-06-05 16:29:33  Database version: 14.3 (Ubuntu 14.3-0ubuntu0.22.04.1)\n2022-06-05 16:29:33  PostGIS version: 3.2\n2022-06-05 16:29:34  Setting up table 'planet_osm_point'\n2022-06-05 16:29:34  Setting up table 'planet_osm_line'\n2022-06-05 16:29:34  Setting up table 'planet_osm_polygon'\n2022-06-05 16:29:34  Setting up table 'planet_osm_roads'\n2022-06-05 16:29:51  Reading input files done in 17s.                                     \n2022-06-05 16:29:51    Processed 4267 nodes in 7s - 610/s\n2022-06-05 16:29:51    Processed 1108 ways in 7s - 158/s\n2022-06-05 16:29:51    Processed 4 relations in 3s - 1/s\n2022-06-05 16:29:52  Going over 993 pending ways (using 4 threads)\nLeft to process: 0.....\n2022-06-05 16:29:57  Processing 993 pending ways took 5s at a rate of 198.60/s\n2022-06-05 16:29:57  Going over 129 pending relations (using 4 threads)\n...\n</code></pre> <p>\u044f\u043a\u0449\u043e \u0454 \u0442\u0430\u0439\u043b\u0438 \u0437 \u0432\u0438\u0447\u0435\u0440\u043f\u0430\u043d\u0438\u043c \u0441\u0442\u0440\u043e\u043a\u043e\u043c \u043f\u0440\u0438\u0434\u0430\u0442\u043d\u043e\u0441\u0442\u0456 \u0437'\u044f\u0432\u0438\u0442\u044c\u0441\u044f \u043f\u043e\u0434\u0456\u0431\u043d\u0438\u0439 \u0440\u044f\u0434\u043e\u043a:</p> <pre><code>Read and expanded 42700 tiles from list.\nrender: file:///var/cache/renderd/tiles/s2o/18/17/245/244/200/0.meta\nRead and expanded 42800 tiles from list.\n</code></pre> <p>\u043f\u043e \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u044e \u0431\u0443\u0434\u0443\u0442\u044c \u0439\u0442\u0438 \u043f\u0456\u0434\u0441\u0443\u043c\u043a\u0438:</p> <pre><code>Read and expanded 121200 tiles from list.\nRead and expanded 121300 tiles from list.\nWaiting for rendering threads to finish\n\nTotal for all tiles rendered\nMeta tiles rendered: Rendered 1 tiles in 18.19 seconds (0.05 tiles/s)\nTotal tiles rendered: Rendered 64 tiles in 18.19 seconds (3.52 tiles/s)\nTotal tiles in input: 121357\nTotal tiles expanded from input: 10766\nTotal meta tiles deleted: 0\nTotal meta tiles touched: 0\nTotal tiles ignored (not on disk): 10765\n2022-06-05 16:36:58 [INFO]: Data imported until 2022-06-04 20:21:41+00:00. Backlog remaining: 20:15:17.919969\n</code></pre> <p>\u041b\u043e\u0433 \u0431\u0443\u0434\u0435 \u0434\u0435\u0441\u044c \u0442\u0430\u043a\u0438\u043c:</p> <pre><code>Jun  5 16:36:40 ubuntuvm75 renderd[5838]: Data is available now on 1 fds\nJun  5 16:36:40 ubuntuvm75 renderd[5838]: Got incoming connection, fd 5, number 0, total conns 1, total slots 1\nJun  5 16:36:40 ubuntuvm75 renderd[5838]: Data is available now on 1 fds\nJun  5 16:36:40 ubuntuvm75 renderd[5838]: Got incoming request with protocol version 2\nJun  5 16:36:40 ubuntuvm75 renderd[5838]: Got command RenderBulk fd(5) xml(s2o), z(18), x(131008), y(87168), mime(image/png), options()\nJun  5 16:36:40 ubuntuvm75 renderd[5838]: START TILE s2o 18 131008-131015 87168-87175, age 0.04 days\nJun  5 16:36:40 ubuntuvm75 renderd[5838]: Rendering projected coordinates 18 131008 87168 -&gt; -9783.939621|6710559.587216 -8560.947168|6711782.579668 to a 8 x 8 tile\nJun  5 16:36:58 ubuntuvm75 renderd[5838]: DONE TILE s2o 18 131008-131015 87168-87175 in 18.046 seconds\nJun  5 16:36:58 ubuntuvm75 renderd[5838]: Creating and writing a metatile to /var/cache/renderd/tiles/s2o/18/17/245/244/200/0.meta\nJun  5 16:36:58 ubuntuvm75 renderd[5838]: Sending message Done to 5\nJun  5 16:36:58 ubuntuvm75 renderd[5838]: Sending render cmd(3 s2o 18/131008/87168) with protocol version 2 to fd 5\nJun  5 16:36:58 ubuntuvm75 renderd[5838]: Data is available now on 1 fds\nJun  5 16:36:58 ubuntuvm75 renderd[5838]: Failed to read cmd on fd 5\nJun  5 16:36:58 ubuntuvm75 renderd[5838]: Connection 0, fd 5 closed, now 0 left, total slots 1\n</code></pre>"},{"location":"uk/serving-tiles/updating-as-people-edit-osm2pgsql-replication/#\u0429\u043e\u0434\u0435\u043d\u043d\u0435-\u0432\u0438\u043a\u043e\u043d\u0430\u043d\u043d\u044f","title":"\u0429\u043e\u0434\u0435\u043d\u043d\u0435 \u0432\u0438\u043a\u043e\u043d\u0430\u043d\u043d\u044f","text":"<p>\u0421\u043a\u0440\u0438\u043f\u0442 \u0434\u043b\u044f \u0432\u0438\u043a\u043e\u043d\u0430\u043d\u043d\u044f \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u043c\u043e\u0436\u043d\u0430 \u0434\u043e\u0434\u0430\u0442\u0438 \u0434\u043e \u0440\u043e\u0437\u043a\u043b\u0430\u0434\u0443 crontab \u043e\u0431\u043b\u0456\u043a\u043e\u0432\u043e\u0433\u043e \u0437\u0430\u043f\u0438\u0441\u0443 root. \u041f\u043e-\u043f\u0435\u0440\u0448\u0435, \u0437\u043c\u0456\u043d\u0456\u0442\u044c <code>update_tiles.sh</code>, \u0449\u043e\u0431 \u0431\u0430\u0447\u0438\u0442\u0438 \u043b\u0438\u0448\u0435 \u043f\u0456\u0434\u0441\u0443\u043c\u043a\u043e\u0432\u0438\u0439 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442. \u0412\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u0437\u044f\u0442\u0438 \u043a\u043e\u0434 \u0437\u0432\u0456\u0434\u0441\u0438. \u0417\u043d\u043e\u0432 \u0442\u0430\u043a\u0438 \u0436, \u0437\u0430\u043c\u0456\u043d\u0456\u0442\u044c <code>renderaccount</code> \u043d\u0430 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u043d\u0438\u0439 \u043e\u0431\u043b\u0456\u043a\u043e\u0432\u0438\u0439 \u0437\u0430\u043f\u0438\u0441 (\u043d\u0435-root), \u044f\u043a\u0438\u0439 \u0432\u0438 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u0435. \u0412\u0438 \u0442\u0430\u043a\u043e\u0436 \u043c\u043e\u0436\u0435\u0442\u0435 \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u0442\u0438 \u043a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u043f\u043e\u0442\u043e\u043a\u0456\u0432 \u0456 \u043e\u0431\u0441\u044f\u0433 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u043d\u043e\u0457 \u043f\u0430\u043c\u02bc\u044f\u0442\u0456.</p> <p>\u0414\u043e\u0434\u0430\u0439\u0442\u0435 \u0432 crontab \u043e\u0431\u043b\u0456\u043a\u043e\u0432\u043e\u0433\u043e \u0437\u0430\u043f\u0438\u0441\u0443 root:</p> <pre><code>04 04  *   *   *     sudo -u _renderd /usr/local/sbin/update_tiles.sh\n</code></pre> <p>\u0423 \u0446\u044c\u043e\u043c\u0443 \u043f\u0440\u0438\u043a\u043b\u0430\u0434\u0456 \u043f\u0440\u043e\u0446\u0435\u0441 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0454\u0442\u044c\u0441\u044f \u043e 4:40 \u043a\u043e\u0436\u043d\u043e\u0433\u043e \u0440\u0430\u043d\u043a\u0443. \u041d\u0435\u043c\u0430\u0454 \u0441\u0435\u043d\u0441\u0443 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0442\u0438 \u0441\u043a\u0440\u0438\u043f\u0442 \u0447\u0430\u0441\u0442\u0456\u0448\u0435 \u043d\u0456\u0436 \u043e\u0434\u0438\u043d \u0440\u0430\u0437 \u043d\u0430 \u0434\u043e\u0431\u0443, Geofabrik \u043d\u0430\u0434\u0430\u0454 \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u0441\u0430\u043c\u0435 \u0437 \u0442\u0430\u043a\u043e\u044e \u043f\u0435\u0440\u0456\u043e\u0434\u0438\u0447\u043d\u0456\u0441\u0442\u044e.</p>"},{"location":"uk/serving-tiles/updating-as-people-edit-osm2pgsql-replication/#\u0412\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f-\u0449\u043e\u0445\u0432\u0438\u043b\u0438\u043d\u043d\u0438\u0445-\u043e\u043d\u043e\u0432\u043b\u0435\u043d\u044c-\u0437-openstreetmaporg","title":"\u0412\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f \u0449\u043e\u0445\u0432\u0438\u043b\u0438\u043d\u043d\u0438\u0445 \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u044c \u0437 openstreetmap.org","text":"<p>\u0422\u0430\u043a\u043e\u0436 \u043c\u043e\u0436\u043d\u0430 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u0437 openstreetmap.org. \u0412\u043e\u043d\u0438 \u043e\u0445\u043e\u043f\u043b\u044e\u044e\u0442\u044c \u0432\u0435\u0441\u044c \u0441\u0432\u0456\u0442, \u0447\u0435\u0440\u0435\u0437 \u0449\u043e \u0431\u0443\u0434\u0443\u0442\u044c \u0431\u0456\u043b\u044c\u0448\u0438\u043c\u0438, \u043d\u0456\u0436 \u043d\u0430\u0431\u0456\u0440 \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u044c \u0437\u0430 \u0442\u043e\u0439 \u0441\u0430\u043c\u0438\u0439 \u043f\u0440\u043e\u043c\u0456\u0436\u043e\u043a \u0447\u0430\u0441\u0443 \u0434\u043b\u044f \u044f\u043a\u043e\u0433\u043e\u0441\u044c \u0440\u0435\u0433\u0456\u043e\u043d\u0443 \u0437\u0456, \u0441\u043a\u0430\u0436\u0456\u043c\u043e \u043d\u0430\u043f\u0440. Geofabrik. \u041d\u0430\u043b\u0430\u0448\u0442\u0443\u0454\u043c\u043e \u0446\u0435</p> <pre><code>sudo -u _renderd \\\n    osm2pgsql-replication init -d gis  \\\n    --server https://planet.openstreetmap.org/replication/minute\n</code></pre> <p>\u0443 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u044c \u043f\u043e\u0431\u0430\u0447\u0438\u043c\u043e</p> <pre><code>2022-06-05 20:49:21 [INFO]: Initialised updates for service 'https://planet.openstreetmap.org/replication/minute'.\n2022-06-05 20:49:21 [INFO]: Starting at sequence 5088118 (2022-06-04 17:11:02+00:00).\n</code></pre> <p>\u0414\u0430\u0442\u0430, \u0437 \u044f\u043a\u043e\u0457 \u043f\u043e\u0447\u043d\u0443\u0442\u044c\u0441\u044f \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f, \u0432\u0438\u0437\u043d\u0430\u0447\u0430\u0454\u0442\u044c\u0441\u044f \u0448\u043b\u044f\u0445\u043e\u043c \u043f\u0435\u0440\u0435\u0433\u043b\u044f\u0434\u0443 \u043e\u0441\u0442\u0430\u043d\u043d\u044c\u043e\u0433\u043e \u043e\u0431\u2019\u0454\u043a\u0442\u0430 \u0432 \u0431\u0430\u0437\u0456 \u0434\u0430\u043d\u0438\u0445, \u044f\u043a\u0430 \u0437\u0430\u0437\u0432\u0438\u0447\u0430\u0439 \u0431\u0443\u0434\u0435 \u0442\u0440\u043e\u0445\u0438 \u0440\u0430\u043d\u0456\u0448\u0435, \u043d\u0456\u0436 \u0431\u0443\u0434\u044c-\u044f\u043a\u0430 \u0433\u0440\u0430\u043d\u0438\u0447\u043d\u0430 \u0434\u0430\u0442\u0430 \u00ab\u0435\u043a\u0441\u0442\u0440\u0430\u043a\u0442\u0443 \u0449\u043e \u043c\u0456\u0441\u0442\u0438\u0442\u044c \u0443\u0441\u0456 \u0434\u0430\u043d\u0456 OSM\u00bb. \u0422\u0430\u043a\u043e\u0436 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0456 \u0449\u043e\u0433\u043e\u0434\u0438\u043d\u043d\u0456 \u0442\u0430 \u0449\u043e\u0434\u0435\u043d\u043d\u0456 \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f, \u0442\u043e\u0436 \u0432\u0438 \u0442\u0430\u043a\u043e\u0436 \u043c\u043e\u0436\u0435\u0442\u0435 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0442\u0438 \u0449\u043e\u0433\u043e\u0434\u0438\u043d\u043d\u0443 \u0430\u0431\u043e \u0449\u043e\u0434\u0435\u043d\u043d\u0443 \u0432\u0435\u0440\u0441\u0456\u0457:</p> <pre><code>sudo -u _renderd \\\n    osm2pgsql-replication init -d gis  \\\n    --server https://planet.openstreetmap.org/replication/hour\n</code></pre> <pre><code>sudo -u _renderd \\\n    osm2pgsql-replication init -d gis  \\\n    --server https://planet.openstreetmap.org/replication/day\n</code></pre> <p>\u041f\u0456\u0441\u043b\u044f \u0456\u043d\u0456\u0446\u0456\u0430\u043b\u0456\u0437\u0430\u0446\u0456\u0457 \u0441\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u0439\u0442\u0435\u0441\u044c \u0441\u043a\u0440\u0438\u043f\u0442\u0430\u043c\u0438 \u0437 \u0440\u043e\u0437\u0434\u0456\u043b\u0443 \"\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u0441\u043a\u0440\u0438\u043f\u0442\u0443 \u0434\u043b\u044f \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u0434\u0430\u043d\u0438\u0445\" \u0432\u0438\u0449\u0435 \u0442\u0430 \u043f\u0435\u0440\u0435\u0432\u0456\u0440\u0442\u0435 \u0457\u0445 \u0442\u0430\u043a \u0441\u0430\u043c\u043e:</p> <pre><code>sudo -u _renderd /usr/local/sbin/update_tiles.sh\n</code></pre> <p>\u0417\u043d\u043e\u0432, \u0437\u0430\u0443\u0432\u0430\u0436\u0442\u0435, \u0449\u043e <code>osm2pgsql-replication</code> \u0431\u0443\u0434\u0435 \u043f\u043e\u0441\u0442\u0456\u0439\u043d\u043e \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0443\u0432\u0430\u0442\u0438 \u0434\u0430\u043d\u0456 \u0442\u0430 \u043e\u043d\u043e\u0432\u043b\u044e\u0432\u0430\u0442\u0438 \u0431\u0430\u0437\u0443 \u0434\u043e\u043f\u043e\u043a\u0438 \u0432\u043e\u043d\u0438 \u0454, \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 <code>--max diff-size</code> \u0432\u0438\u0437\u043d\u0430\u0447\u0430\u0454 \u043e\u0431\u0441\u044f\u0433 \u0434\u0430\u043d\u0438\u0445 \u044f\u043a\u0438\u0439 \u0441\u043a\u0440\u0438\u043f\u0442 \u0431\u0443\u0434\u0435 \u043e\u0431\u0440\u043e\u0431\u043b\u044f\u0442\u0438 \u0437\u0430 \u043e\u0434\u043d\u0443 \u0456\u0442\u0435\u0440\u0430\u0446\u0456\u044e. \u041f\u043e \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u0456 \u0432\u0438 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0435 \u0449\u043e\u0441\u044c \u0441\u0445\u043e\u0436\u0435 \u043d\u0430 \u0446\u0435:</p> <pre><code>2022-06-05 22:30:47 [INFO]: Data imported until 2022-06-05 21:45:42+00:00. Backlog remaining: 0:45:05.948787\n</code></pre> <p>\u0421\u043a\u0440\u0438\u043f\u0442 \u0434\u043b\u044f \u0432\u0438\u043a\u043e\u043d\u0430\u043d\u043d\u044f \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u043c\u043e\u0436\u0435 \u0431\u0443\u0442\u0438 \u0437\u043c\u0456\u043d\u0435\u043d\u0438\u0439, \u044f\u043a \u043f\u043e\u043a\u0430\u0437\u0430\u043d\u043e \u0432\u0438\u0449\u0435, \u0434\u043b\u044f \u0432\u0438\u0432\u043e\u0434\u0443 \u043f\u0456\u0434\u0441\u0443\u043c\u043a\u0456\u0432 \u0443 logfile, \u0430 \u0442\u0430\u043a\u043e\u0436 \u0434\u043e\u0434\u0430\u043d\u0438\u0439 \u0432 crontab \u043e\u0431\u043b\u0456\u043a\u043e\u0432\u043e\u0433\u043e \u0437\u0430\u043f\u0438\u0442\u0438 root:</p> <pre><code>*/5 *  *   *   *     sudo -u _renderd /usr/local/sbin/update_tiles.sh &gt;&gt; /var/log/tiles/run.log\n</code></pre> <p>\u041e\u0441\u043a\u0456\u043b\u044c\u043a\u0438 \u043c\u0438 \u0432\u0438\u043a\u043e\u043d\u0443\u0454\u043c\u043e \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0456 \u0449\u043e\u0445\u0432\u0438\u043b\u0438\u043d\u043d\u0438\u0445 \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u044c, \u043c\u0438 \u043c\u043e\u0436\u0435\u043c\u043e \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0442\u0438 \u0441\u043a\u0440\u0438\u043f\u0442 \u0447\u0430\u0441\u0442\u0456\u0448\u0435 \u043d\u0456\u0436 \u043e\u0434\u0438\u043d \u0440\u0430\u0437 \u043d\u0430 \u0434\u0435\u043d\u044c; \u0432 \u0446\u044c\u043e\u043c\u0443 \u0432\u0438\u043f\u0430\u0434\u043a\u0443 \u043a\u043e\u0436\u043d\u0456 5 \u0445\u0432.</p> <p>\u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0454\u0442\u044c\u0441\u044f \u043e\u0447\u0438\u0441\u0442\u0438\u0442\u0438 \u043f\u0440\u0430\u043f\u043e\u0440 \"osm2pgsql-replication is running\" \u043f\u0456\u0434 \u0447\u0430\u0441 \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u043a\u0443 <code>renderd</code>. \u0429\u043e\u0431 \u0437\u0440\u043e\u0431\u0438\u0442\u0438 \u0446\u0435:</p> <pre><code>sudo nano /usr/lib/systemd/system/renderd.service\n</code></pre> <p>\u0434\u043e\u0434\u0430\u0439\u0442\u0435:</p> <pre><code>ExecStartPre=rm -f /var/cache/renderd/update_tiles.sh.running\n</code></pre> <p>\u0434\u043e \u0440\u043e\u0437\u0434\u0456\u043b\u0443 \"[Service]\". \u0422\u0430 \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u0442\u0456\u0442\u044c \u0441\u043b\u0443\u0436\u0431\u0443:</p> <pre><code>sudo systemctl daemon-reload\nsudo systemctl restart renderd\n</code></pre> <p>\u0422\u0430\u043a\u043e\u0436 \u043a\u043e\u0440\u0438\u0441\u043d\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u043f\u0440\u0430\u043f\u043e\u0440\u0435\u0446\u044c \"osm2pgsql-replication is running\", \u0449\u043e\u0431 \u0437\u0443\u043f\u0438\u043d\u0438\u0442\u0438 \u0440\u0435\u043f\u043b\u0456\u043a\u0430\u0446\u0456\u044e \u043f\u0456\u0434 \u0447\u0430\u0441 \u0440\u0435\u0456\u043c\u043f\u043e\u0440\u0442\u0443 \u0431\u0430\u0437\u0438 \u0434\u0430\u043d\u0438\u0445 \u2014 \u043d\u0435 \u043f\u043e\u0447\u0438\u043d\u0430\u0439\u0442\u0435 \u0440\u0435\u0456\u043c\u043f\u043e\u0440\u0442, \u044f\u043a\u0449\u043e \u043f\u0440\u0430\u043f\u043e\u0440\u0435\u0446\u044c \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043e, \u0456 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u0456\u0442\u044c \u0439\u043e\u0433\u043e \u043f\u0456\u0434 \u0447\u0430\u0441 \u0440\u0435\u0456\u043c\u043f\u043e\u0440\u0442\u0443, \u0449\u043e\u0431 \u0437\u0443\u043f\u0438\u043d\u0438\u0442\u0438 \u0440\u0435\u043f\u043b\u0456\u043a\u0430\u0446\u0456\u044e \u043f\u0456\u0441\u043b\u044f \u0446\u044c\u043e\u0433\u043e.</p>"},{"location":"uk/serving-tiles/updating-as-people-edit-osmosis/","title":"\u041e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u0431\u0430\u0437\u0438 \u0434\u0430\u043d\u0438\u0445 \u043f\u0440\u0430\u0432\u043a\u0430\u043c\u0438 \u0437 OpenStreetMap","text":""},{"location":"uk/serving-tiles/updating-as-people-edit-osmosis/#\u041e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f-\u0431\u0430\u0437\u0438-\u0434\u0430\u043d\u0438\u0445-\u043f\u0440\u0430\u0432\u043a\u0430\u043c\u0438-\u0437-OpenStreetMap-\u0437\u0430-\u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e-Osmosis","title":"\u041e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u0431\u0430\u0437\u0438 \u0434\u0430\u043d\u0438\u0445 \u043f\u0440\u0430\u0432\u043a\u0430\u043c\u0438 \u0437 OpenStreetMap \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e Osmosis","text":"<p>\u0429\u043e\u0434\u043d\u044f \u0437\u02bc\u044f\u0432\u043b\u044f\u044e\u0442\u044c\u0441\u044f \u043c\u0456\u043b\u044c\u0439\u043e\u043d\u0438 \u043d\u043e\u0432\u0438\u0445 \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u044c \u043d\u0430 \u043c\u0430\u043f\u0456, \u0449\u043e\u0431 \u043d\u0435 \u0434\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u0438, \u0449\u043e\u0431 \u0432\u0430\u0448\u0430 \u043c\u0430\u043f\u0430 \u0441\u0442\u0430\u043b\u0430 \u00ab\u0437\u0430\u0441\u0442\u0430\u0440\u0456\u043b\u043e\u044e\u00bb, \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0440\u0435\u0433\u0443\u043b\u044f\u0440\u043d\u043e \u043e\u043d\u043e\u0432\u043b\u044e\u0432\u0430\u0442\u0438 \u0434\u0430\u043d\u0456, \u044f\u043a\u0456 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u044e\u0442\u044c\u0441\u044f \u0434\u043b\u044f \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u0442\u0430\u0439\u043b\u0456\u0432.</p> <p>\u042f\u043a\u0449\u043e \u0432\u0438 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u0435 \u043e\u0441\u0442\u0430\u043d\u043d\u044e \u0432\u0435\u0440\u0441\u0456\u044e osm2pgsql (\u0432\u0435\u0440\u0441\u0456\u044f 1.4.2 \u0442\u0430 \u0441\u0432\u0456\u0436\u0456\u0448\u0435) \u0442\u043e \u0441\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0441\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u0442\u0438\u0441\u044c \u043d\u043e\u0432\u043e\u044e \u0456\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0456\u0454\u044e. \u0426\u0435 \u043e\u0441\u043e\u0431\u043b\u0438\u0432\u043e \u043a\u043e\u0440\u0438\u0441\u043d\u043e, \u044f\u043a\u0449\u043e \u0432\u0438 \u0445\u043e\u0447\u0435\u0442\u0435 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0434\u0436\u0435\u0440\u0435\u043b\u043e \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f, \u044f\u043a\u0435 \u0442\u043e\u0447\u043d\u043e \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u0430\u0454 \u0432\u0430\u0448\u0456\u0439 \u043e\u0431\u043b\u0430\u0441\u0442\u0456 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f (\u043d\u0430\u043f\u0440\u0438\u043a\u043b\u0430\u0434, Geofabrik \u043c\u043e\u0436\u0435 \u043d\u0430\u0434\u0430\u0432\u0430\u0442\u0438 \u0449\u043e\u0434\u0435\u043d\u043d\u0456 \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u0434\u043b\u044f \u0441\u0432\u043e\u0457\u0445 \u043e\u0431\u043b\u0430\u0441\u0442\u0435\u0439 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f). \u042f\u043a\u0449\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f <code>osm2pgsql</code> \u0434\u043b\u044f \u0440\u0435\u043f\u043b\u0456\u043a\u0430\u0446\u0456\u0457 \u0434\u0430\u043d\u0438\u0445\u00a0\u2013 \u0446\u0435 \u043d\u0435 \u0432\u0430\u0448 \u0432\u0430\u0440\u0456\u0430\u043d\u0442, \u0442\u043e \u0447\u0438\u0442\u0430\u0439\u0442\u0435 \u0434\u0430\u043b\u0456\u2026</p> <p>\u0422\u0443\u0442 \u0434\u043b\u044f \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u0434\u0430\u043d\u0438\u0445 \u0432 \u043d\u0430\u0448\u0456\u0439 \u0431\u0430\u0437\u0456 \u043c\u0438 \u0431\u0443\u0434\u0435\u043c\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 <code>osmosis</code>, \u0446\u0435 \u043f\u0440\u0438\u0437\u0432\u0435\u0434\u0435 \u0442\u0430\u043a\u043e\u0436 \u0434\u043e \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f Java. <code>osmosis</code>\u00a0\u2013 \u0456\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442 \u0437\u0430\u0433\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u043f\u0440\u0438\u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f \u0434\u043b\u044f \u0440\u043e\u0431\u043e\u0442\u0438 \u0437 \u0434\u0430\u043d\u0438\u043c\u0438 OpenStreetMap, \u0456 \u043e\u0434\u043d\u0438\u043c \u0456\u0437 \u0439\u043e\u0433\u043e \u043f\u0440\u0438\u0437\u043d\u0430\u0447\u0435\u043d\u044c \u0454 \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u0434\u0430\u043d\u0438\u0445 \u0432 \u0431\u0430\u0437\u0456 \u0441\u0432\u0456\u0436\u0438\u043c\u0438 \u0437\u043c\u0456\u043d\u0430\u043c\u0438 \u0437 OpenStreetMap. \u041a\u0440\u0456\u043c \u043d\u044c\u043e\u0433\u043e \u0454 \u0439 \u0456\u043d\u0448\u0456, \u043d\u0430\u043f\u0440\u0438\u043a\u043b\u0430\u0434, <code>osmium</code>.</p> <pre><code>sudo apt install osmosis\n</code></pre> <p>(\u0443 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u044c \u043c\u0430\u0454\u043c\u043e \u043e\u0442\u0440\u043c\u0438\u0430\u0442\u0438 \"done\".)</p> <p>\u0422\u0430\u043a\u043e\u0436 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f \u0441\u043a\u0440\u0438\u043f\u0442 <code>trim_osc.py</code> \u0434\u043b\u044f \u0437\u043c\u0435\u043d\u0448\u0435\u043d\u043d\u044f \u043e\u0431\u0441\u044f\u0433\u0443 \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u044c \u043e\u0442\u0440\u0438\u043c\u0443\u0454\u043c\u0438\u0445 \u0437 OpenStreetMap.org, \u0434\u043e \u0440\u043e\u0437\u043c\u0456\u0440\u0443 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e\u0457 \u043d\u0430\u043c \u0442\u0435\u0440\u0438\u0442\u043e\u0440\u0456\u0457. \u0426\u0435 \u0434\u043e\u0437\u0432\u043e\u043b\u0438\u0442\u044c \u0437\u0430\u043f\u043e\u0431\u0456\u0433\u0442\u0438 \u043d\u0435\u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043e\u0432\u0430\u043d\u043e\u043c\u0443 \u0440\u043e\u0441\u0442\u0443 \u0431\u0430\u0437\u0438 postgres. \u0412\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u043c\u043e \u0442\u0430\u043a\u043e\u0436 \u0434\u043e\u0434\u0430\u0442\u043a\u043e\u0432\u0456 \u0437\u0430\u043b\u0435\u0436\u043d\u043e\u0441\u0442\u0456.</p> <pre><code>cd ~/src\ngit clone https://github.com/zverik/regional\nchmod u+x ~/src/regional/trim_osc.py\n\nsudo apt install python3-shapely python3-lxml\n</code></pre> <p>\u042f\u043a\u0449\u043e \u0432\u0438 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u043b\u0438 \u0456\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0456\u044e \u0434\u043b\u044f Ubuntu, \u0443 \u0432\u0430\u0441 \u0432\u0436\u0435 \u0454 \u0441\u043a\u0440\u0438\u043f\u0442\u0438 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u0456 \u0434\u043b\u044f \u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0438\u0445 \u0434\u0456\u0439, \u0434\u043b\u044f Debian \u0432\u0430\u043c \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0438 \u0457\u0445 \u0432\u0440\u0443\u0447\u043d\u0443:</p> <pre><code>cd ~/src\ngit clone -b switch2osm git://github.com/SomeoneElseOSM/mod_tile.git\ncd mod_tile\n</code></pre> <p>\u041c\u0438 \u0431\u0443\u0434\u0435\u043c\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0441\u043a\u0440\u0438\u043f\u0442 <code>openstreetmap-tiles-update-expire</code> \u0434\u043b\u044f \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u044f \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u044c \u0437 OpenStreetMap. \u0412 \u0446\u044c\u043e\u043c\u0443 \u043f\u0440\u0438\u043a\u043b\u0430\u0434\u0456 \u0437\u0430\u0434\u0430\u043c\u043e \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u0443 \u0442\u0435\u0440\u0438\u0442\u043e\u0440\u0456\u044e:</p> <pre><code>TRIM_REGION_OPTIONS=\"-b -14.17 48.85 2.12 61.27\"\n</code></pre> <p>\u0426\u0435\u0439 \u043f\u0440\u044f\u043c\u043e\u043a\u0443\u0442\u043d\u0438\u043a \u043f\u043e\u043a\u0440\u0438\u0432\u0430\u0454 \u0412\u0435\u043b\u0438\u043a\u043e\u0431\u0440\u0438\u0442\u0430\u043d\u0456\u044e; \u0437\u043c\u0456\u043d\u044e\u0439\u0442\u0435 \u0446\u0456 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u043d\u043e \u0434\u043e \u0432\u0430\u0448\u0438\u0445 \u043f\u043e\u0442\u0440\u0435\u0431. \u0422\u0430\u043a\u043e\u0436 \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0444\u0430\u0439\u043b <code>.poly</code>, \u044f\u043a\u0438\u0439 \u043c\u0456\u0441\u0442\u0438\u0442\u044c \u043e\u043f\u0438\u0441 \u043c\u0435\u0436 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e\u0457 \u0434\u0456\u043b\u044f\u043d\u043a\u0438.</p> <p>\u0412\u043a\u0430\u0436\u0435\u043c\u043e \u043e\u0431\u043b\u0456\u043a\u043e\u0432\u0438\u0439 \u0437\u0430\u043f\u0438\u0441:</p> <pre><code>ACCOUNT=renderaccount\n</code></pre> <p>\u0414\u043b\u044f \u0432\u0430\u0448\u0438\u0445 \u043f\u043e\u0442\u0440\u0435\u0431 \u043e\u0431\u0438\u0440\u0430\u0439\u0442\u0435 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u0438\u0439 \u043e\u0431\u043b\u0456\u043a\u043e\u0432\u0438\u0439 \u0437\u0430\u043f\u0438\u0441 (\u043d\u0435 root), \u044f\u043a\u0438\u0439 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f \u0434\u043b\u044f \u0437\u0430\u043f\u0443\u0441\u043a\u0443 \u0441\u043b\u0443\u0436\u0431 <code>mod_tile</code> \u0442\u0430 \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u044f \u0434\u0430\u043d\u0438\u0445 \"regional\". \u0412 Debian 11 \u0446\u0435 \u0431\u0443\u0434\u0435 \u043e\u0431\u043b\u0456\u043a\u043e\u0432\u0438\u0439 \u0437\u0430\u043f\u0438\u0441 \u0432\u0456\u0434\u043c\u0456\u043d\u043d\u0438\u0439 \u0432\u0456\u0434 \u0442\u043e\u0433\u043e, \u0449\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f \u0434\u043b\u044f \u0441\u0435\u0440\u0432\u0456\u0441\u0443 \u0440\u0435\u043d\u0434\u0435\u0440\u0456\u043d\u0433\u0443 \u0442\u0430\u0439\u043b\u0456\u0432.</p> <p>\u041f\u0435\u0440\u0435\u043a\u043e\u043d\u0430\u0439\u0442\u0435\u0441\u044c, \u0449\u043e \u0441\u043a\u0440\u0438\u043f\u0442 \u041d\u0415 \u043c\u0456\u0441\u0442\u0438\u0442\u044c \u0440\u044f\u0434\u043e\u043a <code>-e$EXPIRY_METAZOOM:$EXPIRY_METAZOOM</code>. \u042f\u043a\u0449\u043e \u0432\u0456\u043d \u0454, \u0437\u0430\u043c\u0456\u043d\u0456\u0442\u044c <code>:</code> \u043d\u0430 <code>-</code>: <code>-e$EXPIRY_METAZOOM-$EXPIRY_METAZOOM</code>.</p> <p>\u0422\u0430\u043a\u043e\u0436 \u0442\u0440\u0435\u0431\u0430 \u0432\u0437\u044f\u0442\u0438 \u0434\u043e \u0443\u0432\u0430\u0433\u0438, \u0449\u043e \u043c\u043e\u0436\u043b\u0438\u0432\u043e \u0432\u0430\u043c \u0434\u043e\u0432\u0435\u0434\u0435\u0442\u044c\u0441\u044f \u0437\u043c\u0456\u043d\u0438\u0442\u0438 OSM2PGSQL_OPTIONS \u043d\u0430 \u043f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f \u043d\u0430 \u0441\u043a\u0440\u0438\u043f\u0442 lua, \u0449\u043e \u043c\u0456\u0441\u0442\u0438\u0442\u044c \u043f\u0440\u0430\u0432\u0438\u043b\u0430 \u043f\u043e \u043f\u0435\u0440\u0435\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044e \u0442\u0435\u0491\u0456\u0432, \u044f\u043a\u0438\u0439 \u0432\u0438 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u0435 \u0434\u043b\u044f \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u0434\u0430\u043d\u0438\u0445 \u0432 \u0431\u0430\u0437\u0443 \u0442\u0430 \u0434\u043e\u0434\u0430\u0442\u0438 \u0444\u0430\u0439\u043b <code>.style</code>, \u044f\u043a\u0438\u0439 \u0432\u0438\u0437\u043d\u0430\u0447\u0430\u0454 \u044f\u043a\u0456 \u0441\u0442\u043e\u0432\u043f\u0446\u0456 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0441\u0442\u0432\u043e\u0440\u0438\u0442\u0438. \u041c\u043e\u0436\u0443\u0442\u044c \u0431\u0443\u0442\u0438 \u0439 \u0456\u043d\u0448\u0456 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0438, \u044f\u043a\u0456 \u0432\u0430\u043c \u0442\u0430\u043a\u043e\u0436 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u043f\u0435\u0440\u0435\u0434\u0430\u0442\u0438, \u0437\u0430\u043b\u0435\u0436\u043d\u043e \u0432\u0456\u0434 \u0442\u043e\u0433\u043e, \u0449\u043e \u0432\u0438 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u043b\u0438 \u043f\u0456\u0434 \u0447\u0430\u0441 \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u0431\u0430\u0437\u0438 \u0434\u0430\u043d\u0438\u0445. \u0417\u0430\u043c\u0456\u043d\u0456\u0442\u044c \u0442\u0430\u043a\u043e\u0436 <code>/path/to/</code> \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u043d\u043e:</p> <pre><code>OSM2PGSQL_OPTIONS=\"-d $DBNAME --tag-transform-script /path/to/src/openstreetmap-carto/openstreetmap-carto.lua -S /path/to/src/openstreetmap-carto/openstreetmap-carto.style\"\n</code></pre> <p>\u0414\u0430\u043b\u0456, \u0441\u0442\u0432\u043e\u0440\u0438\u043c\u043e \u0442\u0435\u043a\u0443 \u0434\u043b\u044f \u043b\u043e\u0433\u0456\u0432 \u0434\u043b\u044f \u0436\u0443\u0440\u043d\u0430\u043b\u0456\u0432 \u0430\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0456 \u0442\u0430\u0439\u043b\u0456\u0432 \u0442\u0430 \u0432\u043a\u0430\u0436\u0435\u043c\u043e \u0432\u043b\u0430\u0441\u043d\u0438\u043a\u043e\u043c \u043e\u0431\u043b\u0456\u043a\u043e\u0432\u0438\u0439 \u0437\u0430\u043f\u0438\u0441, \u044f\u043a\u0438\u0439 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f \u0434\u043b\u044f \u0440\u0435\u043d\u0434\u0435\u0440\u0456\u043d\u0433\u0443 \u0442\u0430\u0439\u043b\u0456\u0432 (\u0434\u043b\u044f Debian 11 \u0446\u0435 \u0431\u0443\u0434\u0435\u00a0\u2013 <code>_renderd</code>). \u0421\u043a\u0440\u0438\u043f\u0442 \u043c\u0430\u0454 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0442\u0438\u0441\u044c \u0432\u0456\u0434 \u0456\u043c\u0435\u043d\u0456 \u0446\u044c\u043e\u0433\u043e \u043e\u0431\u043b\u0456\u043a\u043e\u0432\u043e\u0433\u043e \u0437\u0430\u043f\u0438\u0441\u0443, \u0430 \u0447\u0435\u0440\u0435\u0437 \u0442\u0435, \u0449\u043e \u043e\u0431\u043b\u0456\u043a\u043e\u0432\u0438\u0439 \u0437\u0430\u043f\u0438\u0441 \u0432\u0456\u0434\u043c\u0456\u043d\u043d\u0438\u0439 \u0432\u0456\u0434 \u0442\u043e\u0433\u043e, \u0437 \u044f\u043a\u0438\u043c \u0431\u0443\u043b\u043e \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u0435 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043d\u0435 \u0437\u0430\u0431\u0435\u0437\u043f\u0435\u0447\u0435\u043d\u043d\u044f, \u043d\u0430\u043c \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u043f\u0435\u0440\u0435\u0434\u0430\u0432\u0430\u0442\u0438 \u043f\u043e\u0432\u043d\u0438\u0439 \u0448\u043b\u044f\u0445 \u0434\u043e \u0441\u043a\u0440\u0438\u043f\u0442\u0443 (\u0437\u0430\u043c\u0456\u043d\u0456\u0442\u044c <code>/path/to</code> \u043d\u0430 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u043d\u0438\u0439).</p> <p>\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440, \u0449\u043e \u043f\u0435\u0440\u0435\u0434\u0430\u0454\u0442\u044c\u0441\u044f \u0443 \u0441\u043a\u0440\u0438\u043f\u0442 <code>openstreetmap-tiles-update-expire</code>, \u043c\u0430\u0454 \u0431\u0443\u0442\u0438 \u0434\u0430\u0442\u043e\u044e \u043f\u043e\u0447\u0430\u0442\u043a\u043e\u0432\u043e \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u0438\u0445 \u0434\u0430\u043d\u0438\u0445. \u042f\u043a\u0449\u043e \u0432\u0438 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0443\u0432\u0430\u043b\u0438 \u0434\u0430\u043d\u0456 \u0437 Geofabrik, \u0446\u0435 \u043c\u0430\u0454 \u0431\u0443\u0442\u0438 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u043d\u0430 \u0434\u0430\u0442\u0430 \u0437\u0456 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0438, \u043d\u0430\u043f\u0440\u0438\u043a\u043b\u0430\u0434, http://download.geofabrik.de/asia/azerbaijan.html, \u043a\u043e\u043b\u0438 \u0434\u0430\u043d\u0456 \u0434\u043b\u044f \u043f\u0440\u0438\u043a\u043b\u0430\u0434\u0443 \u0431\u0443\u043b\u0438 \u0432\u0430\u043c\u0438 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u0456.</p> <pre><code>sudo mkdir /var/log/tiles\nsudo chown renderaccount /var/log/tiles\nsudo -u renderaccount /path/to/src/mod_tile/openstreetmap-tiles-update-expire 2020-11-14T21:42:02Z\n</code></pre> <p>\u041e\u0441\u0442\u0430\u043d\u043d\u0456\u0439 \u0440\u044f\u0434\u043e\u043a \u0432\u0438\u0432\u043e\u0434\u0443 \u043c\u0430\u0454 \u0432\u0438\u0433\u043b\u044f\u0434\u0430\u0442\u0438 \u043f\u0440\u0438\u0431\u043b\u0438\u0437\u043d\u043e \u0442\u0430\u043a</p> <pre><code>2020-11-15 23:50:16 (2.62 MB/s) - \u2018/var/lib/mod_tile/.osmosis/state.txt\u2019 saved [342/342]\n</code></pre> <p>\u0426\u0435 \u0433\u043e\u0432\u043e\u0440\u0438\u0442\u044c \u043f\u0440\u043e \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u0442\u0435\u043a\u0438 <code>.osmosis</code> \u0443 <code>/var/lib/mod_tile</code>, \u044f\u043a\u0430 \u043c\u0456\u0441\u0442\u0438\u0442\u044c \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044e \u043f\u0440\u043e \u043e\u0441\u0442\u0430\u043d\u043d\u0456 \u0456\u043c\u043f\u043e\u0440\u0442\u043e\u0432\u0430\u043d\u0456 \u0434\u0430\u043d\u0456.</p> <p>\u0412 \u043e\u0434\u043d\u0456\u0439 ssh \u0441\u0435\u0441\u0456\u0457 \u0456\u0437 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c \u0432\u0438\u043a\u043e\u043d\u0430\u0439\u0442\u0435:</p> <pre><code>tail -f /var/log/tiles/run.log\n</code></pre> <p>\u0412 \u0456\u043d\u0448\u0456\u0439:</p> <pre><code>sudo -u renderaccount /path/to/src/mod_tile/openstreetmap-tiles-update-expire\n</code></pre> <p>\u043d\u0435 \u0437\u0430\u0431\u0443\u0434\u044c\u0442\u0435 \u0437\u0430\u043c\u0456\u043d\u0438\u0442\u0438 \u0448\u043b\u044f\u0445 \u043d\u0430 \u0448\u043b\u044f\u0445 \u0443 \u0432\u0430\u0448\u0456\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u0456; \u0430\u043b\u0435 \u0446\u044c\u043e\u0433\u043e \u0440\u0430\u0437\u0443 \u0431\u0435\u0437 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0456\u0432.</p> <p>\u042f\u043a\u0449\u043e \u0432\u0438 \u0431\u0430\u0447\u0438\u0442\u0435 \u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0435:</p> <pre><code>openstreetmap-tiles-update-expire: 1: python: not found\n</code></pre> <p>\u043d\u0435 \u0445\u0432\u0438\u043b\u044e\u0439\u0442\u0435\u0441\u044c, \u0446\u0435 \u043b\u0438\u0448\u0435 \u043f\u0435\u0440\u0435\u0432\u0456\u0440\u043a\u0430 \u0434\u0438\u0441\u043a\u043e\u0432\u043e\u0433\u043e \u043f\u0440\u043e\u0441\u0442\u043e\u0440\u0443.</p> <p>\u0412\u043c\u0456\u0441\u0442 \u043b\u043e\u0433-\u0444\u0430\u0439\u043b\u0443 \u043c\u0430\u0454 \u0431\u0443\u0442\u0438 \u0441\u0445\u043e\u0436\u0438\u0439 \u043d\u0430 \u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0435:</p> <pre><code>[2020-11-15 23:58:28] 3850 start import from seq-nr 4283484, replag is 1 day(s) and 2 hour(s)\n[2020-11-15 23:58:28] 3850 downloading diff\n[2020-11-15 23:59:31] 3850 filtering diff\n[2020-11-15 23:59:58] 3850 importing diff\n[2020-11-16 00:01:23] 3850 expiring tiles\n[2020-11-16 00:01:23] 3850 Done with import\n</code></pre> <p>\u0412 <code>replag</code> \u043c\u0456\u0441\u0442\u0438\u0442\u044c\u0441\u044f \u0440\u0456\u0437\u043d\u0438\u0446\u044f \u0432 \u0447\u0430\u0441\u0456 \u043c\u0456\u0436 \u043d\u0430\u044f\u0432\u043d\u0438\u043c\u0438 \u0442\u0430 \u0430\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u0438\u043c\u0438 \u0434\u0430\u043d\u0438\u043c\u0438; \u0442\u0438\u043f\u043e\u0432\u043e \u043d\u0430\u043b\u0430\u0448\u0442\u043e\u0432\u0430\u043d\u043e \u043d\u0430 \u0433\u043e\u0434\u0438\u043d\u043d\u0456 \u0434\u0456\u0444\u0438. \u042f\u043a\u0449\u043e \u0446\u0435 \u043d\u0435 \u0441\u043f\u0440\u0430\u0446\u044c\u043e\u0432\u0443\u0454\u00a0\u2013 \u043f\u0435\u0440\u0435\u0432\u0456\u0440\u0442\u0435 \u0447\u0438 <code>osmosis</code> \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043e \u0442\u0430 \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0442\u0438 \u0439\u043e\u0433\u043e \u0432 \u043a\u043e\u043c\u0430\u043d\u0434\u043d\u043e\u043c\u0443 \u0440\u044f\u0434\u043a\u0443.</p> <p>\u0417\u0430\u043f\u0443\u0441\u0442\u0456\u0442\u044c <code>openstreetmap-tiles-update-expire</code> \u0437\u043d\u043e\u0432; \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f \u0432 <code>replag</code> \u043c\u0430\u0454 \u0437\u043c\u0435\u043d\u0448\u0438\u0442\u0438\u0441\u044c \u043d\u0430 \u0433\u043e\u0434\u0438\u043d\u0443.</p> <p>\u0414\u0430\u043b\u0456, \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0454\u043c\u043e \u0437\u0430\u043f\u0443\u0441\u043a <code>openstreetmap-tiles-update-expire</code> \u0432 crontab \u0437 \u0456\u043d\u0442\u0435\u0440\u0432\u0430\u043b\u043e\u043c \u0443 \u043a\u0456\u043b\u044c\u043a\u0430 \u0445\u0432\u0438\u043b\u0438\u043d. \u0426\u0435 \u0442\u0440\u0435\u0431\u0430 \u0440\u043e\u0431\u0438\u0442\u0438 \u0434\u043b\u044f \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430, \u044f\u043a\u0438\u0439 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f \u0434\u043b\u044f \u0440\u0435\u043d\u0434\u0435\u0440\u0456\u043d\u0433\u0443; \u0434\u043b\u044f Debian 11 \u0437\u0440\u043e\u0431\u0438\u043c\u043e \u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0435:</p> <pre><code>sudo -u _renderd crontab -e\n</code></pre> <p>\u041c\u043e\u0436\u043b\u0438\u0432\u043e \u0432\u0438 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0435 \"problems with history file\"\u00a0\u2013 \u043d\u0435 \u0445\u0432\u0438\u043b\u044e\u0439\u0442\u0435\u0441\u044c. \u0412 \u0441\u0438\u0441\u0442\u0435\u043c\u0430\u0445 \u0432\u0456\u0434\u043c\u0456\u043d\u043d\u0438\u0445 \u0432\u0456\u0434 Debian 11 \u0443 \u0432\u0430\u0441 \u043c\u043e\u0436\u043b\u0438\u0432\u043e \u0432\u0438\u0439\u0434\u0435 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0442\u0438 <code>crontab -e</code> \u0431\u0435\u0437\u043f\u043e\u0441\u0435\u0440\u0435\u0434\u043d\u044c\u043e \u0432\u0456\u0434 \u0456\u043c\u0435\u043d\u0456 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0437\u0430 \u0440\u0435\u043d\u0434\u0435\u0440\u0456\u043d\u0433 \u0442\u0430\u0439\u043b\u0456\u0432. \u041f\u0456\u0434 \u0447\u0430\u0441 \u043f\u0435\u0440\u0448\u043e\u0433\u043e \u0437\u0430\u043f\u0443\u0441\u043a\u0443 <code>crontab -e</code> \u0432\u0430\u043c \u0431\u0443\u0434\u0435 \u0437\u0430\u043f\u0440\u043e\u043f\u043e\u043d\u043e\u0432\u0430\u043d\u043e \u043e\u0431\u0440\u0430\u0442\u0438 \u0440\u0435\u0434\u0430\u043a\u0442\u043e\u0440. \u041f\u0435\u0440\u0435\u0439\u0434\u0456\u0442\u044c \u0432 \u043a\u0456\u043d\u0435\u0446\u044c \u0444\u0430\u0439\u043b\u0443. \u0420\u044f\u0434\u043a\u0438, \u0449\u043e \u043f\u043e\u0447\u0438\u043d\u0430\u044e\u0442\u044c\u0441\u044f \u0437 <code>#</code> \u0454 \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u044f\u043c\u0438. \u041e\u0441\u0442\u0430\u043d\u043d\u0456\u0439 \u0440\u044f\u0434\u043e\u043a \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u044f \u0432\u0438\u0433\u043b\u044f\u0434\u0430\u0442\u0438\u043c\u0435 \u0442\u0430\u043a:</p> <pre><code># m h  dom mon dow   command\n</code></pre> <p>\u0426\u0435 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u043d\u043e <code>m</code>\u00a0\u2013 \u0445\u0432\u0438\u043b\u0438\u043d\u0438, <code>h</code>\u00a0\u2013 \u0433\u043e\u0434\u0438\u043d\u0438, <code>dom</code>\u00a0\u2013 \u0434\u0435\u043d\u044c \u043c\u0456\u0441\u044f\u0446\u044f, <code>mon</code>\u00a0\u2013 \u043c\u0456\u0441\u044f\u0446\u044c, <code>dow</code>\u00a0\u2013 \u0434\u0435\u043d\u044c \u0442\u0438\u0436\u043d\u044f \u0442\u0430 <code>comand</code>\u00a0\u2013 \u043a\u043e\u043c\u0430\u043d\u0434\u0430. \u0414\u043e\u0434\u0430\u043c\u043e \u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0438\u0439 \u0440\u044f\u0434\u043e\u043a:</p> <pre><code>*/5  * *   *   *     /home/renderaccount/src/mod_tile/openstreetmap-tiles-update-expire\n</code></pre> <p>\u0434\u043b\u044f \u0437\u0430\u043f\u0443\u0441\u043a\u0443 \u0441\u043a\u0440\u0438\u043f\u0442\u0443 \u043a\u043e\u0436\u043d\u0456 5 \u0445\u0432\u0438\u043b\u0438\u043d. \u0417\u0430\u043c\u0456\u043d\u0456\u0442\u044c <code>renderaccount</code> \u043d\u0430 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u043d\u0438\u0439 \u043e\u0431\u043b\u0456\u043a\u043e\u0432\u0438\u0439 \u0437\u0430\u043f\u0438\u0441, \u043f\u0456\u0434 \u044f\u043a\u0438\u043c \u0437\u043d\u0430\u0445\u043e\u0434\u0438\u0442\u044c\u0441\u044f \u0432\u0430\u0448 \u0441\u043a\u0440\u0438\u043f\u0442. \u0421\u0442\u0435\u0436\u0442\u0435 \u0437\u0430 \u0432\u0438\u0432\u043e\u0434\u043e\u043c <code>tail -f /var/log/tiles/run.log</code> \u0442\u0430 \u043f\u043e\u0447\u0435\u043a\u0430\u0439\u0442\u0435 5 \u0445\u0432\u0438\u043b\u0438\u043d. \u0412\u0440\u0435\u0448\u0442\u0456-\u0440\u0435\u0448\u0442, \u0432\u0456\u0434\u0441\u0442\u0430\u0432\u0430\u043d\u043d\u044f \u0431\u0443\u0434\u0435 \u043f\u043e\u0434\u043e\u043b\u0430\u043d\u0435, \u0456 \u043d\u043e\u0432\u0456 \u0437\u043c\u0456\u043d\u0438 \u0437 OpenStreetMap \u0442\u0430\u043a\u043e\u0436 \u0437\u02bc\u044f\u0432\u043b\u044f\u0442\u044c\u0441\u044f \u0443 \u0432\u0430\u0448\u0438\u0445 \u0442\u0430\u0439\u043b\u0430\u0445.</p>"},{"location":"uk/serving-tiles/updating-as-people-edit-osmosis/#\u041f\u043e\u0442\u0435\u043d\u0446\u0456\u0439\u043d\u0456-\u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0438-\u0437-\u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f\u043c\u0438","title":"\u041f\u043e\u0442\u0435\u043d\u0446\u0456\u0439\u043d\u0456 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0438 \u0437 \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f\u043c\u0438","text":"<p>\u042f\u043a\u0449\u043e \u043f\u043e\u043c\u0438\u043b\u043a\u0430 \"Expiry failed\" \u0437\u02bc\u044f\u0432\u043b\u044f\u0454\u0442\u044c\u0441\u044f \u0443 <code>/var/log/tiles/run.log</code>, \u0446\u0435 \u0441\u043a\u043e\u0440\u0456\u0448 \u0437\u0430 \u0432\u0441\u0435 \u043f\u043e\u0432\u02bc\u044f\u0437\u0430\u043d\u043e \u0437 \u0442\u0438\u043c \u0449\u043e \u043e\u0434\u043d\u0430 \u0437 \u043f\u0440\u043e\u0433\u0440\u0430\u043c, \u0449\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f <code>render_expired</code> \u043c\u0430\u0454 \u043d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043d\u044c\u043e \u043f\u0430\u043c\u02bc\u044f\u0442\u0456 \u0434\u043b\u044f \u0440\u043e\u0431\u043e\u0442\u0438. \u042f\u043a\u0449\u043e \u0446\u0435 \u0442\u0430\u043a, \u0437\u043c\u0435\u043d\u0448\u0456\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f <code>EXPIRY_MAXZOOM</code> \u0432 \u0441\u043a\u0440\u0438\u043f\u0442\u0456 \u0434\u043e\u043f\u043e\u043a\u0438 \u0432\u0456\u043d \u043d\u0435 \u0437\u0430\u043f\u0440\u0430\u0446\u044e\u0454. \u0412\u0438 \u0442\u0430\u043a\u043e\u0436 \u043c\u043e\u0436\u0435\u0442\u0435 \u043e\u0442\u0440\u0438\u043c\u0430\u0442\u0438 \u0431\u0456\u043b\u044c\u0448\u0435 \u0434\u0435\u0442\u0430\u043b\u0435\u0439 \u0437 \u0456\u043d\u0448\u0438\u0445 \u0444\u0430\u0439\u043b\u0456\u0432 \u0437 <code>/var/log/tiles/</code>.</p> <p>\u042f\u043a\u0449\u043e \u0437\u02bc\u044f\u0432\u043b\u044f\u0454\u0442\u044c\u0441\u044f \u043f\u043e\u043c\u0438\u043b\u043a\u0430 \"rm: cannot remove '/var/lib/mod_tile/dirty_tiles.6877':\", \u0446\u0435 \u043c\u043e\u0436\u0435 \u043e\u0437\u043d\u0430\u0447\u0430\u0442\u0438, \u0449\u043e \u043f\u0456\u0434 \u0447\u0430\u0441 \u0440\u043e\u0431\u043e\u0442\u0438 <code>osm2pgsql</code> \u0432\u0456\u0434\u0431\u0443\u0432\u0441\u044f \u0437\u0431\u0456\u0439 \u0456 \u043d\u0435 \u0431\u0443\u043b\u043e \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043e \u043f\u0435\u0440\u0435\u043b\u0456\u043a \u0444\u0430\u0439\u043b\u0456\u0432 \u0434\u043b\u044f \u043f\u0435\u0440\u0435\u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u0432 \u043a\u0456\u043d\u0446\u0456 \u0440\u043e\u0431\u043e\u0442\u0438. \u0420\u043e\u0437\u0442\u0430\u0448\u0443\u0432\u0430\u043d\u043d\u044f \u0444\u0430\u0439\u043b\u0443 \u0436\u0443\u0440\u043d\u0430\u043b\u0443, \u044f\u043a\u0438\u0439 \u0432\u0456\u043d \u0441\u0442\u0432\u043e\u0440\u044e\u0454, \u0437\u043d\u0430\u0445\u043e\u0434\u0438\u0442\u044c\u0441\u044f \u0432\u0438\u0449\u0435 \u0432 \u0441\u043a\u0440\u0438\u043f\u0442\u0456. \u0422\u0438\u043f\u043e\u0432\u043e, \u0446\u0435 <code>/var/log/tiles/osm2pgsql.log</code>, \u0456 \u044f\u043a\u0449\u043e \u0432\u0438 \u0437\u0430\u0433\u043b\u044f\u043d\u0435\u0442\u0435 \u0442\u0443\u0434\u0438, \u0432\u0438 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0435 \u0444\u0430\u043a\u0442\u0438\u0447\u043d\u0443 \u043f\u043e\u043c\u0438\u043b\u043a\u0443.</p>"},{"location":"uk/serving-tiles/updating-as-people-edit-osmosis/#\u041d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f-munin","title":"\u041d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f munin","text":"<p>\u0423 \u0440\u0430\u0437\u0456 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f munin \u0434\u043b\u044f \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u044f \u0437\u0432\u0456\u0442\u0456\u0432 \u043f\u0440\u043e \u0430\u043a\u0442\u0438\u0432\u043d\u0456\u0441\u0442\u044c <code>mod_tile</code> \u0442\u0430 <code>renderd</code>, \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u0442\u0438 \u0439\u043e\u0433\u043e \u0434\u043b\u044f \u043f\u043e\u043a\u0430\u0437\u0443 \u0447\u0430\u0441\u0443 \u0432\u0456\u0434\u0441\u0442\u0430\u0432\u0430\u043d\u043d\u044f \u0432\u0430\u0448\u0438\u0445 \u0434\u0430\u043d\u0438\u0445 \u0432\u0456\u0434 \u0434\u0430\u043d\u0438\u0445 \u0437 \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0457 \u0431\u0430\u0437\u0438 \u0447\u0435\u0440\u0435\u0437 \u0447\u0438\u0442\u0430\u043d\u043d\u044f \u0444\u0430\u0439\u043b\u0443 <code>state.txt</code>:</p> <pre><code>sudo nano /etc/munin/plugins/replication_delay\n</code></pre> <p>\u0421\u0430\u043c \u0441\u043a\u0440\u0438\u043f\u0442 \u043c\u043e\u0436\u043d\u0430 \u0432\u0437\u044f\u0442\u0438 \u0442\u0443\u0442. \u041c\u043e\u0436\u043b\u0438\u0432\u043e \u0432\u0430\u043c \u0434\u043e\u0432\u0435\u0434\u0435\u0442\u044c\u0441\u044f \u0432\u043d\u0435\u0441\u0442\u0438 \u0434\u0435\u044f\u043a\u0456 \u0437\u043c\u0456\u043d\u0438, \u0449\u043e\u0434\u043e \u0440\u043e\u0437\u0442\u0430\u0448\u0443\u0432\u0430\u043d\u043d\u044f \u0444\u0430\u0439\u043b\u0456\u0432, \u044f\u043a\u0456 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u044e\u0442\u044c\u0441\u044f \u0441\u043a\u0440\u0438\u043f\u0442\u043e\u043c (<code>/var/cache/renderd</code> \u0430\u0431\u043e <code>/var/lib/mod_tile</code>). \u041f\u0456\u0441\u043b\u044f \u0447\u043e\u0433\u043e \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u0442\u0456\u0442\u044c \u0441\u043b\u0443\u0436\u0431\u0443:</p> <pre><code>sudo /etc/init.d/munin-node restart\n</code></pre> <p>\u041f\u0456\u0441\u043b\u044f \u0434\u0435\u044f\u043a\u043e\u0457 \u043f\u0430\u0443\u0437\u0438, \u043e\u043d\u043e\u0432\u0456\u0442\u044c <code>http://ip.\u0430\u0434\u0440\u0435\u0441\u0430.\u0432\u0430\u0448\u043e\u0433\u043e.\u0441\u0435\u0440\u0432\u0435\u0440\u0430/munin/renderd-day.html</code>, \u043c\u0430\u0454 \u043f\u043e\u043a\u0430\u0437\u0443\u0432\u0430\u0442\u0438 \u0433\u0440\u0430\u0444\u0456\u043a \"Data import lag\". \u042f\u043a\u0449\u043e \u043d\u0456, \u043f\u0435\u0440\u0435\u0432\u0456\u0440\u0442\u0435 \u043b\u043e\u0433\u0438 <code>/var/log/munin</code>. \u042f\u043a\u0449\u043e \u0432\u0430\u043c \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0431\u0456\u043b\u044c\u0448\u0435 \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0443 \u0434\u043b\u044f \u0440\u043e\u0437\u0443\u043c\u0456\u043d\u043d\u044f \u0442\u043e\u0433\u043e \u0449\u043e \u0432\u0456\u0434\u0431\u0443\u0432\u0430\u0454\u0442\u044c\u0441\u044f \u043e\u0437\u043d\u0430\u0439\u043e\u043c\u0442\u0435\u0441\u044c \u0437 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0456\u0454\u044e munin.</p>"},{"location":"uk/serving-tiles/updating-as-people-edit-pyosmium/","title":"\u041e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u0431\u0430\u0437\u0438 \u0434\u0430\u043d\u0438\u0445 \u043f\u0440\u0430\u0432\u043a\u0430\u043c\u0438 \u0437 OpenStreetMap","text":""},{"location":"uk/serving-tiles/updating-as-people-edit-pyosmium/#\u041e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f-\u0431\u0430\u0437\u0438-\u0434\u0430\u043d\u0438\u0445-\u043f\u0440\u0430\u0432\u043a\u0430\u043c\u0438-\u0437-OpenStreetMap-\u0437\u0430-\u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e-PyOsmium","title":"\u041e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u0431\u0430\u0437\u0438 \u0434\u0430\u043d\u0438\u0445 \u043f\u0440\u0430\u0432\u043a\u0430\u043c\u0438 \u0437 OpenStreetMap \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e PyOsmium","text":"<p>\u0429\u043e\u0434\u043d\u044f \u0437\u02bc\u044f\u0432\u043b\u044f\u044e\u0442\u044c\u0441\u044f \u043c\u0456\u043b\u044c\u0439\u043e\u043d\u0438 \u043d\u043e\u0432\u0438\u0445 \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u044c \u043d\u0430 \u043c\u0430\u043f\u0456, \u0449\u043e\u0431 \u043d\u0435 \u0434\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u0438, \u0449\u043e\u0431 \u0432\u0430\u0448\u0430 \u043c\u0430\u043f\u0430 \u0441\u0442\u0430\u043b\u0430 \u00ab\u0437\u0430\u0441\u0442\u0430\u0440\u0456\u043b\u043e\u044e\u00bb, \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0440\u0435\u0433\u0443\u043b\u044f\u0440\u043d\u043e \u043e\u043d\u043e\u0432\u043b\u044e\u0432\u0430\u0442\u0438 \u0434\u0430\u043d\u0456, \u044f\u043a\u0456 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u044e\u0442\u044c\u0441\u044f \u0434\u043b\u044f \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u0442\u0430\u0439\u043b\u0456\u0432.</p> <p>\u0417 \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u043e\u043c \u043d\u0430 \u043e\u0441\u0442\u0430\u043d\u043d\u044e \u0432\u0435\u0440\u0441\u0456\u044e osm2pgsql (\u0432\u0435\u0440\u0441\u0456\u044f 1.4.2 \u0442\u0430 \u0441\u0432\u0456\u0436\u0456\u0448\u0435) \u043e\u043d\u043e\u0432\u043b\u044e\u0432\u0430\u0442\u0438 \u0434\u0430\u043d\u0456 \u0441\u0442\u0430\u043b\u043e \u043d\u0430 \u0431\u0430\u0433\u0430\u0442\u043e \u043f\u0440\u043e\u0441\u0442\u0456\u0448\u0435 \u043d\u0456\u0436 \u0440\u0430\u043d\u0456\u0448\u0435. \u0412\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u043d\u0456 \u0432\u0435\u0440\u0441\u0456\u0457 \u0440\u043e\u0437\u043f\u043e\u0432\u0441\u044e\u0434\u0436\u0443\u0454\u0442\u044c\u0441\u044f \u0432 \u0441\u043a\u043b\u0430\u0434\u0456 Ubuntu 22.04, 24.04 \u0442\u0430 Debian 12, \u0457\u0445 \u043c\u043e\u0436\u043d\u0430 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0438 \u0441\u043b\u0456\u0434\u0443\u044e\u0447\u0438 \u0456\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0456\u0457 \u0437 osm2pgsql.org.</p> <p>\u041f\u0440\u043e\u0441\u0442\u0456\u0448\u0438\u0439, \u0430\u043b\u0435 \u043c\u0435\u043d\u0448 \u0433\u043d\u0443\u0447\u043a\u0438\u0439 \u043c\u0435\u0442\u043e\u0434 \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u0434\u0430\u043d\u0438\u0445,\u00a0\u2013 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f <code>osm2pgsql-replication</code> (\u0434\u0438\u0432 \u0442\u0443\u0442). \u0422\u0443\u0442 \u0434\u043b\u044f \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u0434\u0430\u043d\u0438\u0445 \u0432 \u043d\u0430\u0448\u0456\u0439 \u0431\u0430\u0437\u0456 \u043c\u0438 \u0431\u0443\u0434\u0435\u043c\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 <code>PyOsmium</code> \u0434\u043b\u044f \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u0434\u0430\u043d\u0438\u0445, \u044f\u043a\u0456 \u043c\u0438 \u043e\u0442\u0440\u0438\u043c\u0430\u043b\u0438 \u0437 Geofabrik \u0445\u0432\u0438\u043b\u0438\u043d\u043d\u0438\u043c\u0438 \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f\u043c\u0438 \u0437 https://planet.openstreetmap.org.</p>"},{"location":"uk/serving-tiles/updating-as-people-edit-pyosmium/#\u041f\u0435\u0440\u0435\u043a\u043e\u043d\u0430\u0439\u0442\u0435\u0441\u044c-\u0449\u043e-\u0432\u0438-\u043e\u0442\u0440\u0438\u043c\u0443\u0454\u0442\u0435-\u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f-\u0434\u043b\u044f-\u0432\u0456\u0434\u043b\u0430\u0433\u043e\u0434\u0436\u0435\u043d\u043d\u044f","title":"\u041f\u0435\u0440\u0435\u043a\u043e\u043d\u0430\u0439\u0442\u0435\u0441\u044c, \u0449\u043e \u0432\u0438 \u043e\u0442\u0440\u0438\u043c\u0443\u0454\u0442\u0435 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f \u0434\u043b\u044f \u0432\u0456\u0434\u043b\u0430\u0433\u043e\u0434\u0436\u0435\u043d\u043d\u044f","text":"<p>\u041d\u0430 \u0446\u044c\u043e\u043c\u0443 \u0435\u0442\u0430\u043f\u0456 \u0431\u0443\u043b\u043e \u0431 \u0434\u0443\u0436\u0435 \u043a\u043e\u0440\u0438\u0441\u043d\u043e \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0438 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u043f\u0440\u043e\u0446\u0435\u0441\u0443 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0456\u0457 \u0442\u0430\u0439\u043b\u0456\u0432, \u0449\u043e\u0431 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0438, \u0449\u043e \u0442\u0430\u0439\u043b\u0438, \u043f\u043e\u0437\u043d\u0430\u0447\u0435\u043d\u0456 \u044f\u043a dirty, \u043e\u0431\u0440\u043e\u0431\u043b\u044f\u044e\u0442\u044c\u0441\u044f. \u0422\u0438\u043f\u043e\u0432\u043e \u0432 \u043e\u0441\u0442\u0430\u043d\u043d\u0456\u0445 \u0432\u0435\u0440\u0441\u0456\u044f\u0445 mod_tile \u0446\u0435 \u0432\u0438\u043c\u043a\u043d\u0435\u043d\u043e. \u0414\u043b\u044f \u0443\u0432\u0456\u043c\u043a\u043d\u0435\u043d\u043d\u044f \u0432\u0456\u0434\u043a\u0440\u0438\u0439\u0442\u0435</p> <pre><code>sudo nano /usr/lib/systemd/system/renderd.service\n</code></pre> <p>\u042f\u043a\u0449\u043e \u0446\u044c\u043e\u0433\u043e \u0449\u0435 \u043d\u0435\u043c\u0430\u0454 \u043d\u0438\u0436\u0447\u0435 <code>[Service]</code>, \u0434\u043e\u0434\u0430\u0439\u0442\u0435:</p> <pre><code>Environment=G_MESSAGES_DEBUG=all\n</code></pre> <p>\u041f\u043e\u0442\u0456\u043c \u0432\u0438\u043a\u043e\u043d\u0430\u0439\u0442\u0435 \u0446\u0456 \u043a\u043e\u043c\u0430\u043d\u0434\u0438, \u0449\u043e\u0431 \u043f\u0435\u0440\u0435\u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u043a\u043e\u043d\u0444\u0456\u0433\u0443\u0440\u0430\u0446\u0456\u044e:</p> <pre><code>sudo systemctl daemon-reload\nsudo systemctl restart renderd\nsudo systemctl restart apache2\n</code></pre>"},{"location":"uk/serving-tiles/updating-as-people-edit-pyosmium/#\u041d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f-\u0440\u0435\u043f\u043b\u0456\u043a\u0430\u0446\u0456\u0457","title":"\u041d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f \u0440\u0435\u043f\u043b\u0456\u043a\u0430\u0446\u0456\u0457","text":"<p>\u0412\u0456\u0437\u044c\u043c\u0456\u0442\u044c \u0434\u043e \u0443\u0432\u0430\u0433\u0438, \u0441\u043a\u0440\u0438\u043f\u0442 \u0449\u043e \u043f\u0435\u0440\u0435\u0432\u0456\u0440\u044f\u0454 \u0430\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u0456\u0441\u0442\u044c \u0442\u0430\u0439\u043b\u0456\u0432 \u043e\u0447\u0456\u043a\u0443\u0454 \u0449\u043e \u0437\u0433\u0435\u043d\u0435\u0440\u043e\u0432\u0430\u043d\u0456 \u0442\u0430\u0439\u043b\u0438 \u0437\u043d\u0430\u0445\u043e\u0434\u044f\u0442\u044c\u0441\u044f \u0432 <code>/var/cache/renderd/</code>. \u042f\u043a\u0449\u043e \u0443 <code>/etc/renderd.conf</code> \u0437\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0435 \u0456\u043d\u0448\u0435 \u043c\u0456\u0441\u0446\u0435, \u0432\u043d\u0435\u0441\u0456\u0442\u044c \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u043d\u0456 \u0437\u043c\u0456\u043d\u0438 \u043f\u0435\u0440\u0435\u0434 \u043f\u043e\u0447\u0430\u0442\u043a\u043e\u043c \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f \u0441\u043a\u0440\u0438\u043f\u0442\u0443. \u041e\u0441\u043a\u0456\u043b\u044c\u043a\u0438 \u0442\u0435\u043a\u0430 \"/var/cache/renderd/\" \u043c\u0430\u0439\u0436\u0435 \u0437\u0430\u0432\u0436\u0434\u0438 \u043f\u0440\u0438\u0441\u0443\u0442\u043d\u044f, \u043c\u0438 \u0442\u0430\u043a\u043e\u0436 \u0431\u0443\u0434\u0435\u043c\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0457\u0457 \u0434\u043b\u044f \u043f\u043e\u0442\u0440\u0435\u0431 <code>pyosmium</code>.</p> <p>\u0414\u043b\u044f \u043f\u043e\u0442\u0440\u0435\u0431 \u0446\u044c\u043e\u0433\u043e \u043a\u0435\u0440\u0456\u0432\u043d\u0438\u0446\u0442\u0432\u0430 \u043c\u0438 \u0432\u0432\u0430\u0436\u0430\u0442\u0438\u043c\u0435\u043c\u043e, \u0449\u043e \u0432\u0438 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u043b\u0438 \u0434\u0430\u043d\u0456 \u0434\u043e \u0432\u0430\u0448\u043e\u0457 \u0431\u0430\u0437\u0438 \u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0438\u043c \u0447\u0438\u043d\u043e\u043c:</p> <pre><code>sudo -u _renderd \\\n    osm2pgsql -d gis --create --slim  -G --hstore \\\n    --tag-transform-script \\\n        ~/src/openstreetmap-carto/openstreetmap-carto.lua \\\n    -C 3000 --number-processes 4 \\\n    -S ~/src/openstreetmap-carto/openstreetmap-carto.style \\\n    ~/data/greater-london-latest.osm.pbf\n</code></pre> <p>\u0414\u0430\u043d\u0456 \u0434\u043b\u044f \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u0431\u0443\u043b\u0438 \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u0456 \u0437\u0456 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0438 Greater London, \u043d\u0430 \u044f\u043a\u0456\u0439 \u0437\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u043e, \u0449\u043e\u0441\u044c \u0441\u0445\u043e\u0436\u0435 \u043d\u0430 \"\u2026 and contains all OSM data up to 2023-07-02T20:21:43Z\" (\u2026 \u043c\u0456\u0441\u0442\u0438\u0442\u044c \u0432\u0441\u0456 \u0434\u0430\u043d\u0456 OSM \u0441\u0442\u0430\u043d\u043e\u043c \u043d\u0430 \u2026). \u041c\u0438 \u0431\u0443\u0434\u0435\u043c\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0446\u044e \u0434\u0430\u0442\u0443 \u0434\u043b\u044f \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f \u0440\u0435\u043f\u043b\u0456\u043a\u0430\u0446\u0456\u0457:</p> <pre><code>sudo mkdir /var/cache/renderd/pyosmium\nsudo chown _renderd /var/cache/renderd/pyosmium\nsudo mkdir /var/log/tiles\nsudo chown _renderd /var/log/tiles\ncd /var/cache/renderd/pyosmium\nsudo apt install pyosmium\nsudo -u _renderd pyosmium-get-changes -D 2023-07-02T20:21:43Z -f sequence.state -v\n</code></pre> <p>\u041e\u0441\u0442\u0430\u043d\u043d\u0456\u0439 \u0440\u044f\u0434\u043e\u043a \u0441\u0442\u0432\u043e\u0440\u044e\u0454 \u0444\u0430\u0439\u043b <code>sequence.state</code>. \u0414\u0430\u0442\u0430 \u0432 \u0446\u0456\u043c \u0440\u044f\u0434\u043a\u0443 \u043c\u0430\u0454 \u0437\u0431\u0456\u0433\u0430\u0442\u0438\u0441\u044c \u0437 \u0434\u0430\u0442\u043e\u044e \u0434\u0430\u043d\u0438\u0445, \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u0438\u0445 \u0440\u0430\u043d\u0456\u0448\u0435.</p>"},{"location":"uk/serving-tiles/updating-as-people-edit-pyosmium/#\u0412\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f-trim_oscpy-\u0434\u043b\u044f-\u043e\u0431\u043c\u0435\u0436\u0435\u043d\u043d\u044f-\u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f-\u0442\u0456\u043b\u044c\u043a\u0438-\u0441\u043f\u0435\u0446\u0456\u0430\u043b\u044c\u043d\u043e-\u0432\u0438\u0437\u043d\u0430\u0447\u0435\u043d\u043e\u044e-\u0442\u0435\u0440\u0438\u0442\u043e\u0440\u0456\u0454\u044e","title":"\u0412\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f \"trim_osc.py\" \u0434\u043b\u044f \u043e\u0431\u043c\u0435\u0436\u0435\u043d\u043d\u044f \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u0442\u0456\u043b\u044c\u043a\u0438 \u0441\u043f\u0435\u0446\u0456\u0430\u043b\u044c\u043d\u043e \u0432\u0438\u0437\u043d\u0430\u0447\u0435\u043d\u043e\u044e \u0442\u0435\u0440\u0438\u0442\u043e\u0440\u0456\u0454\u044e","text":"<p>(\u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0454\u0442\u044c\u0441\u044f \u044f\u043a\u0449\u043e \u0432\u0430\u043c \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u043e\u043d\u043e\u0432\u043b\u044e\u0432\u0430\u0442\u0438 \u043d\u0435 \u0432\u0441\u044e \u043f\u043b\u0430\u043d\u0435\u0442\u0443, \u0430 \u0442\u0456\u043b\u044c\u043a\u0438 \u043f\u0435\u0432\u043d\u0438\u0439 \u0440\u0435\u0433\u0456\u043e\u043d)</p> <p>\u041c\u0438 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438\u043c\u0435\u043c\u043e \u0441\u043a\u0440\u0438\u043f\u0442 <code>trim_osc.py</code> \u0434\u043b\u044f \u043e\u0431\u0440\u0456\u0437\u0430\u043d\u043d\u044f \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u044c, \u044f\u043a\u0456 \u043c\u0438 \u043e\u0442\u0440\u0438\u043c\u0443\u0454\u043c\u043e \u0437 OpenStreetMap.org, \u0442\u0430\u043a \u0449\u043e\u0431 \u0437\u0430\u043b\u0438\u0448\u0430\u043b\u0438\u0441\u044c \u0442\u0456\u043b\u044c\u043a\u0438 \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u0434\u043b\u044f \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e\u0457 \u043d\u0430\u043c \u0442\u0435\u0440\u0438\u0442\u043e\u0440\u0456\u0457. \u0426\u0435 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e, \u0449\u043e\u0431 \u043d\u0430\u0448\u0430 \u0431\u0430\u0437\u0430 postgres \u043d\u0435 \u0440\u043e\u0437\u0440\u043e\u0441\u0442\u0430\u043b\u0430\u0441\u044c \u0447\u0435\u0440\u0435\u0437 \u0434\u0430\u043d\u0456, \u044f\u043a\u0456 \u043d\u0430\u043c \u043d\u0435 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u0456. \u0412\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u043c\u043e \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u0456 \u0437\u0430\u043b\u0435\u0436\u043d\u043e\u0441\u0442\u0456 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u044e\u0447\u0438 \u0431\u0443\u0434\u044c-\u044f\u043a\u0438\u0439 \u043e\u0431\u043b\u0456\u043a\u043e\u0432\u0438\u0439 \u0437\u0430\u043f\u0438\u0441 \u0432\u0430\u0448\u043e\u0457 \u0441\u0438\u0441\u0442\u0435\u043c\u0438 (\u043d\u0435-root).</p> <pre><code>cd ~/src\ngit clone https://github.com/zverik/regional\nchmod u+x ~/src/regional/trim_osc.py\n\nsudo apt install python3-shapely python3-lxml\n</code></pre>"},{"location":"uk/serving-tiles/updating-as-people-edit-pyosmium/#\u041e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f-\u0434\u0430\u043d\u0438\u0445","title":"\u041e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u0434\u0430\u043d\u0438\u0445","text":"<p>\u0421\u043a\u0440\u0438\u043f\u0442, \u044f\u043a\u0438\u0439 \u0432\u0438\u043a\u043e\u043d\u0443\u0454 \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u0434\u0430\u043d\u0438\u0445 \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u0437\u044f\u0442\u0438 \u0437\u0432\u0456\u0434\u0441\u0438. \u0412\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u043a\u043b\u0430\u0441\u0442\u0438 \u0439\u043e\u0433\u043e \u0434\u043e <code>/usr/local/sbin</code>. \u0410\u043b\u0435 \u0432\u0456\u043d \u043f\u043e\u0442\u0440\u0435\u0431\u0443\u0454 \u043f\u0435\u0432\u043d\u0438\u0445 \u0437\u043c\u0456\u043d:</p> <ul> <li> <p>\u042f\u043a\u0449\u043e \u0432\u0438 \u043d\u0435 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u0435 <code>trim_osc.py</code>, \u0432\u0438\u043b\u0443\u0447\u0438\u0442\u044c \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u043d\u0438\u0439 \u0440\u043e\u0437\u0434\u0456\u043b (\"Trim the downloaded changes\").</p> </li> <li> <p>\u042f\u043a\u0449\u043e \u0432\u0438 \u0432\u0441\u0435 \u0436 \u0442\u0430\u043a\u0438 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u0435 <code>trim_osc.py</code>, \u043f\u0435\u0440\u0435\u043a\u043e\u043d\u0430\u0439\u0442\u0435\u0441\u044c \u0449\u043e \u0437\u043c\u0456\u043d\u043d\u0430 TRIM_BIN \u0432\u043a\u0430\u0437\u0443\u0454 \u043d\u0430 \u0446\u0435\u0439 \u0441\u043a\u0440\u0438\u043f\u0442, \u0430 TRIM_REGION_OPTIONS \u043c\u0456\u0441\u0442\u0438\u0442\u044c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0438 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e\u0457 \u0432\u0430\u043c \u0442\u0435\u0440\u0438\u0442\u043e\u0440\u0456\u0457 (\u0432 \u0441\u043a\u0440\u0438\u043f\u0442\u0456 \u0437\u0430\u0440\u0430\u0437 \u0446\u0435 \u0411\u0440\u0438\u0442\u0430\u043d\u0456\u044f \u0440\u0430\u0437\u043e\u043c \u0437 \u0406\u0440\u043b\u0430\u043d\u0434\u0456\u0454\u044e).</p> </li> <li> <p>\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0438 \u0434\u043b\u044f <code>osm2pgsql --append</code> \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0437\u043c\u0456\u043d\u0438\u0442\u0438 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u043d\u043e \u0434\u043e \u043f\u043e\u0442\u0443\u0436\u043d\u043e\u0441\u0442\u0456 \u0432\u0430\u0448\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430 (\u0440\u043e\u0437\u043c\u0456\u0440 \u043f\u0430\u043c'\u044f\u0442\u0456, \u043a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u043f\u043e\u0442\u043e\u043a\u0456\u0432 \u0439 \u0442\u0430\u043a\u0435 \u0456\u043d\u0448\u0435)</p> </li> <li> <p>\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0438, \u0449\u043e \u043f\u0435\u0440\u0435\u0434\u0430\u044e\u0442\u044c\u0441\u044f \u0434\u043e <code>render_expired</code> \u0442\u0430\u043a\u043e\u0436 \u043c\u0430\u044e\u0442\u044c \u0431\u0443\u0442\u0438 \u043d\u0430\u043b\u0430\u0448\u0442\u043e\u0432\u0430\u043d\u0456 (\u0441\u043a\u0456\u043b\u044c\u043a\u0438 \u0440\u0456\u0432\u043d\u0456\u0432 \u043c\u0430\u0441\u0448\u0442\u0430\u0431\u0443\u0432\u0430\u043d\u043d\u044f \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u043e\u0431\u0440\u043e\u0431\u043b\u044f\u0442\u0438, \u0456 \u0449\u043e \u0440\u043e\u0431\u0438\u0442\u0438 \u0456\u0437 <code>dirty</code> \u0442\u0430\u0439\u043b\u0430\u043c\u0438 \u043d\u0430 \u043a\u043e\u0436\u043d\u043e\u043c\u0443 \u0440\u0456\u0432\u043d\u0456)</p> </li> </ul> <p>\u0421\u043a\u0440\u0438\u043f\u0442, \u0449\u043e \u043f\u043e\u043a\u0430\u0437\u0443\u0454 \u0432\u0456\u0434\u043c\u0456\u043d\u043d\u043e\u0441\u0442\u0456 \u043c\u0456\u0436 \u043f\u043e\u0442\u043e\u0447\u043d\u0438\u043c\u0438 \u0434\u0430\u043d\u0438\u043c\u0438 \u0443 \u0432\u0430\u0448\u0456\u0439 \u0431\u0430\u0437\u0456 \u0437 \u0434\u0430\u043d\u0438\u043c\u0438 \u0442\u0430 \u0434\u0430\u043d\u0438\u043c\u0438 \u043d\u0430 https://planet.openstreetmap.org/ \u043c\u043e\u0436\u043d\u0430 \u0437\u043d\u0430\u0439\u0442\u0438 \u0442\u0443\u0442. \u0426\u0435\u0439 \u0441\u043a\u0440\u0438\u043f\u0442 \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043e \u0437\u0456 \u0441\u043a\u0440\u0438\u043f\u0442\u0443 <code>mod_tile</code>, \u044f\u043a\u0438\u0439 \u043f\u043e\u0441\u0442\u0430\u0447\u0430\u0454\u0442\u044c\u0441\u044f \u0443 \u0432\u0438\u0433\u043b\u044f\u0434\u0456 \u043f\u0440\u0438\u043a\u043b\u0430\u0434\u0443 \u0432 \u0441\u0438\u0440\u0446\u044f\u0445 mod_tile. <code>pyosmium_replag</code> \u043f\u043e\u043a\u0430\u0437\u0443\u0454 \u0432\u0456\u0434\u0441\u0442\u0430\u0432\u0430\u043d\u043d\u044f \u0432\u0456\u0434 \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0457 \u0431\u0430\u0437\u0438 \u0432 \u0441\u0435\u043a\u0443\u043d\u0434\u0430\u0445; <code>pyosmium_replag -h</code> \u043f\u043e\u043a\u0430\u0437\u0443\u0454 \u0432\u0456\u0434\u0441\u0442\u0430\u0432\u0430\u043d\u043d\u044f \u0432\u0456\u0434 \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0457 \u0431\u0430\u0437\u0438 \u0432 \u0433\u043e\u0434\u0438\u043d\u0430\u0445 (\u044f\u043a\u0449\u043e \u043c\u0435\u043d\u0448\u0435, \u0442\u043e \u0443 \u0445\u0432\u0438\u043b\u0438\u043d\u0430\u0445 \u0442\u0430 \u0441\u0435\u043a\u0443\u043d\u0434\u0430\u0445). \u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0454\u0442\u044c\u0441\u044f \u0439\u043e\u0433\u043e \u0442\u0430\u043a\u043e\u0436 \u043f\u043e\u043a\u043b\u0430\u0441\u0442\u0438 \u0434\u043e <code>/usr/local/sbin</code>. \u041d\u0435 \u0437\u0430\u0431\u0443\u0434\u044c\u0442\u0435 \u0434\u0430\u0442\u0438 \u0441\u043a\u0440\u0438\u043f\u0442\u0430\u043c \u0434\u043e\u0437\u0432\u0456\u043b \u043d\u0430 \u0432\u0438\u043a\u043e\u043d\u0430\u043d\u043d\u044f.</p> <p>\u0414\u043b\u044f \u0437\u0430\u043f\u0443\u0441\u043a\u0443 \u0441\u043a\u0440\u0438\u043f\u0442\u0443 \u0432\u0440\u0443\u0447\u043d\u0443:</p> <pre><code>sudo -u _renderd /usr/local/sbin/call_pyosmium.sh\n</code></pre> <p>\u041f\u0456\u0441\u043b\u044f \u0437\u0430\u043f\u0443\u0441\u043a\u0443, \u0441\u043a\u0440\u0438\u043f\u0442 \u0441\u0442\u0432\u043e\u0440\u0438\u0442\u044c \u0440\u043e\u0431\u043e\u0447\u0456 \u0444\u0430\u0439\u043b\u0438, \u0442\u0430\u043a\u043e\u0436 \u0432\u0438 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0435 \u0434\u043e\u043a\u043b\u0430\u0434\u043d\u0443 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044e \u043f\u0440\u043e \u0439\u043e\u0433\u043e \u0440\u043e\u0431\u043e\u0442\u0443 \u0443 <code>/var/cache/renderd/pyosmium</code>. \u041f\u043e \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u044e \u0440\u043e\u0431\u043e\u0442\u0438 \u0432\u0438 \u043c\u0430\u0454\u0442\u0435 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0438 \u0442\u0430\u043a\u0438\u0439 \u0437\u0432\u0456\u0442:</p> <pre><code>Pyosmium update started:  Mon Jul 3 11:15:36 PM UTC 2023\nFiltering newchange.osc.gz\nImporting newchange.osc.gz\n2023-07-03 23:17:44  osm2pgsql took 45s overall.\nExpiring tiles\n\nTotal for all tiles rendered\nMeta tiles rendered: Rendered 0 tiles in 1.54 seconds (0.00 tiles/s)\nTotal tiles rendered: Rendered 0 tiles in 1.54 seconds (0.00 tiles/s)\nTotal tiles in input: 2334224\nTotal tiles expanded from input: 305839\nTotal meta tiles deleted: 0\nTotal meta tiles touched: 0\nTotal tiles ignored (not on disk): 305839\nDatabase Replication Lag: 1 day(s) and 1 hour(s)\n</code></pre> <p>\u0412\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u0442\u0438 \u043e\u0431\u0441\u044f\u0433 \u0434\u0430\u043d\u0438\u0445, \u044f\u043a\u0456 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0443\u044e\u0442\u044c\u0441\u044f \u0437\u0430 \u043e\u0434\u0438\u043d \u0437\u0430\u043f\u0438\u0442 \u0434\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430, \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u043c <code>-s</code> \u0432 <code>pyosmium-get-changes</code>. \u0420\u043e\u0437\u043c\u0456\u0440 \u0437\u0430\u0437\u043d\u0430\u0447\u0430\u0454\u0442\u044c\u0441\u044f \u0432 \u041c\u0431, \u0442\u0438\u043f\u043e\u0432\u043e \u0441\u043a\u0440\u0438\u043f\u0442 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0443\u0432\u0430\u0442\u0438\u043c\u0435\u0442\u0435 20 \u041c\u0431, \u044f\u043a\u0449\u043e \u043d\u0435 \u0437\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u0438 \u043e\u0431\u0441\u044f\u0433 \u044f\u0432\u043d\u0438\u043c \u0447\u0438\u043d\u043e\u043c\u00a0\u2013 100 \u041c\u0431 \u0437\u0430 \u0440\u0430\u0437.</p> <p>\u0421\u043a\u0440\u0438\u043f\u0442 \u043c\u043e\u0436\u043d\u0430 \u0434\u043e\u0434\u0430\u0442\u0438 \u0434\u043e \u0440\u043e\u0437\u043a\u043b\u0430\u0434\u0443 <code>crontab</code> \u043e\u0431\u043b\u0456\u043a\u043e\u0432\u043e\u0433\u043e \u0437\u0430\u043f\u0438\u0441\u0443 <code>_renderd</code>:</p> <pre><code>sudo -u _renderd crontab -e\n</code></pre> <p>\u0432\u043a\u0430\u0436\u0456\u0442\u044c:</p> <pre><code>*/5 *  *   *   *     /usr/local/sbin/call_pyosmium.sh &gt;&gt; /var/log/tiles/run.log\n</code></pre> <p>\u0411\u0443\u0434\u0435 \u0432\u0438\u043a\u043e\u043d\u0443\u0432\u0430\u0442\u0438\u0441\u044c \u043f\u0435\u0440\u0435\u0432\u0456\u0440\u043a\u0430, \u0447\u0438 \u043f\u0440\u0430\u0446\u044e\u0454 \u0441\u043a\u0440\u0438\u043f\u0442, \u0456 \u044f\u043a\u0449\u043e \u043d\u0456 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0442\u0438\u0441\u044c \u0456\u0437 \u0432\u043a\u0430\u0437\u0430\u043d\u043e\u044e \u0447\u0430\u0441\u0442\u043e\u0442\u043e\u044e; \u0442\u0443\u0442 \u043a\u043e\u0436\u043d\u0456 5 \u0445\u0432\u0438\u043b\u0438\u043d.</p> <p>\u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0454\u0442\u044c\u0441\u044f \u043e\u0447\u0438\u0441\u0442\u0438\u0442\u0438 \u043f\u0440\u0430\u043f\u043e\u0440 \"pyosmium is running\" \u043f\u0456\u0434 \u0447\u0430\u0441 \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u043a\u0443 <code>renderd</code>. \u0429\u043e\u0431 \u0437\u0440\u043e\u0431\u0438\u0442\u0438 \u0446\u0435:</p> <p>```sh sudo nano /usr/lib/systemd/system/renderd.service </p><pre><code>\u0434\u043e\u0434\u0430\u0439\u0442\u0435:\n\n```ini\nExecStartPre=rm -f /var/cache/renderd/pyosmium/call_pyosmium.running\n</code></pre><p></p> <p>\u0434\u043e \u0440\u043e\u0437\u0434\u0456\u043b\u0443 \"[Service]\". \u0422\u0430 \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u0442\u0456\u0442\u044c \u0441\u043b\u0443\u0436\u0431\u0443:</p> <pre><code>sudo systemctl daemon-reload\nsudo systemctl restart renderd\n</code></pre> <p>\u0422\u0430\u043a\u043e\u0436 \u043a\u043e\u0440\u0438\u0441\u043d\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u043f\u0440\u0430\u043f\u043e\u0440\u0435\u0446\u044c \"osm2pgsql-replication is running\", \u0449\u043e\u0431 \u0437\u0443\u043f\u0438\u043d\u0438\u0442\u0438 \u0440\u0435\u043f\u043b\u0456\u043a\u0430\u0446\u0456\u044e \u043f\u0456\u0434 \u0447\u0430\u0441 \u0440\u0435\u0456\u043c\u043f\u043e\u0440\u0442\u0443 \u0431\u0430\u0437\u0438 \u0434\u0430\u043d\u0438\u0445 \u2014 \u043d\u0435 \u043f\u043e\u0447\u0438\u043d\u0430\u0439\u0442\u0435 \u0440\u0435\u0456\u043c\u043f\u043e\u0440\u0442, \u044f\u043a\u0449\u043e \u043f\u0440\u0430\u043f\u043e\u0440\u0435\u0446\u044c \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043e, \u0456 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u0456\u0442\u044c \u0439\u043e\u0433\u043e \u043f\u0456\u0434 \u0447\u0430\u0441 \u0440\u0435\u0456\u043c\u043f\u043e\u0440\u0442\u0443, \u0449\u043e\u0431 \u0437\u0443\u043f\u0438\u043d\u0438\u0442\u0438 \u0440\u0435\u043f\u043b\u0456\u043a\u0430\u0446\u0456\u044e \u043f\u0456\u0441\u043b\u044f \u0446\u044c\u043e\u0433\u043e.</p>"},{"location":"uk/serving-tiles/updating-as-people-edit-pyosmium/#\u041d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f-munin","title":"\u041d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f munin","text":"<p>\u0423 \u0440\u0430\u0437\u0456 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f munin \u0434\u043b\u044f \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u044f \u0437\u0432\u0456\u0442\u0456\u0432 \u043f\u0440\u043e \u0430\u043a\u0442\u0438\u0432\u043d\u0456\u0441\u0442\u044c <code>mod_tile</code> \u0442\u0430 <code>renderd</code>, \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u0442\u0438 \u0439\u043e\u0433\u043e \u0434\u043b\u044f \u043f\u043e\u043a\u0430\u0437\u0443 \u0447\u0430\u0441\u0443 \u0432\u0456\u0434\u0441\u0442\u0430\u0432\u0430\u043d\u043d\u044f \u0432\u0430\u0448\u0438\u0445 \u0434\u0430\u043d\u0438\u0445 \u0432\u0456\u0434 \u0434\u0430\u043d\u0438\u0445 \u0437 \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0457 \u0431\u0430\u0437\u0438 \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e <code>pyosmium_replag.sh</code>:</p> <pre><code>sudo nano /etc/munin/plugins/replication_delay\n</code></pre> <p>\u0421\u0430\u043c \u0441\u043a\u0440\u0438\u043f\u0442 \u043c\u043e\u0436\u043d\u0430 \u0432\u0437\u044f\u0442\u0438 \u0442\u0443\u0442. \u0422\u0443\u0442 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f <code>pyosmium_replag.sh</code>, \u044f\u043a\u0438\u0439 \u043c\u0438 \u0441\u0442\u0432\u043e\u0440\u0438\u043b\u0438 \u0440\u0430\u043d\u0456\u0448\u0435. \u041f\u0456\u0441\u043b\u044f \u0447\u043e\u0433\u043e \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u0442\u0456\u0442\u044c \u0441\u043b\u0443\u0436\u0431\u0443:</p> <pre><code>sudo /etc/init.d/munin-node restart\n</code></pre> <p>\u041f\u0456\u0441\u043b\u044f \u0434\u0435\u044f\u043a\u043e\u0457 \u043f\u0430\u0443\u0437\u0438, \u043e\u043d\u043e\u0432\u0456\u0442\u044c <code>http://ip.\u0430\u0434\u0440\u0435\u0441\u0430.\u0432\u0430\u0448\u043e\u0433\u043e.\u0441\u0435\u0440\u0432\u0435\u0440\u0430/munin/renderd-day.html</code>, \u043c\u0430\u0454 \u043f\u043e\u043a\u0430\u0437\u0443\u0432\u0430\u0442\u0438 \u0433\u0440\u0430\u0444\u0456\u043a \"Data import lag\". \u042f\u043a\u0449\u043e \u043d\u0456, \u043f\u0435\u0440\u0435\u0432\u0456\u0440\u0442\u0435 \u043b\u043e\u0433\u0438 <code>/var/log/munin</code>. \u042f\u043a\u0449\u043e \u0432\u0430\u043c \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0431\u0456\u043b\u044c\u0448\u0435 \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0443 \u0434\u043b\u044f \u0440\u043e\u0437\u0443\u043c\u0456\u043d\u043d\u044f \u0442\u043e\u0433\u043e \u0449\u043e \u0432\u0456\u0434\u0431\u0443\u0432\u0430\u0454\u0442\u044c\u0441\u044f \u043e\u0437\u043d\u0430\u0439\u043e\u043c\u0442\u0435\u0441\u044c \u0437 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0456\u0454\u044e munin.</p>"},{"location":"uk/serving-tiles/using-a-docker-container/","title":"\u0412\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0430 Docker","text":""},{"location":"uk/serving-tiles/using-a-docker-container/#\u0412\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f-\u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0430-Docker","title":"\u0412\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0430 Docker","text":"<p>\u042f\u043a\u0449\u043e \u0432\u0438 \u0442\u0456\u043b\u044c\u043a\u0438 \u0431\u0430\u0436\u0430\u0454\u0442\u0435 \u043f\u043e\u0442\u0435\u0441\u0442\u0443\u0432\u0430\u0442\u0438 \u0430\u0431\u043e \u0432\u0438 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u0435 \u0456\u043d\u0448\u0443 \u043e\u043f\u0435\u0440\u0430\u0446\u0456\u0439\u043d\u0443 \u0441\u0438\u0441\u0442\u0435\u043c\u0443 (\u0432\u0456\u0434\u043c\u0456\u043d\u043d\u0443 \u0432\u0456\u0434 Ubuntu), \u0430\u0431\u043e \u0432\u0438 \u0432\u0436\u0435 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u0435 Docker \u0434\u043b\u044f \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0438\u0437\u0430\u0446\u0456\u0457\u00a0\u2013 \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0441\u043f\u0440\u043e\u0431\u0443\u0432\u0430\u0442\u0438 \u0446\u044e \u0456\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0456\u044e. \u0412\u043e\u043d\u0430 \u0431\u0430\u0437\u0443\u0454\u0442\u044c\u0441\u044f \u043d\u0430 \u0456\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0456\u0457 \u0437\u0432\u0456\u0434\u0441\u0438 \u0456 \u0432\u0436\u0435 \u043c\u0430\u0454 \u0433\u043e\u0442\u043e\u0432\u0438\u0439 \u0434\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440.</p>"},{"location":"uk/serving-tiles/using-a-docker-container/#Docker","title":"Docker","text":"<p>\u042f\u043a\u0449\u043e \u0443 \u0432\u0430\u0441 \u0449\u0435 \u043d\u0435 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043e Docker, \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0441\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u0442\u0438\u0441\u044c \u0440\u0456\u0437\u043d\u043e\u043c\u0430\u043d\u0456\u0442\u043d\u0438\u043c\u0438 \u043f\u043e\u0440\u0430\u0434\u0430\u043c\u0438 \u0449\u043e\u0434\u043e \u0439\u043e\u0433\u043e \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f, \u043d\u0430\u043f\u0440\u0438\u043a\u043b\u0430\u0434, \u043e\u0434\u043d\u0430 \u0437 \u043d\u0438\u0445 \u0432 \u0449\u043e\u0434\u0435\u043d\u043d\u0438\u043a\u0430\u0445 OSM, \u0449\u043e \u043f\u043e\u0441\u0438\u043b\u0430\u0454\u0442\u044c\u0441\u044f \u043d\u0430 \u0446\u0435 \u043a\u0435\u0440\u0456\u0432\u043d\u0438\u0446\u0442\u0432\u043e.</p> <p>\u0412\u0430\u043c \u0437\u043d\u0430\u0434\u043e\u0431\u0438\u0442\u044c\u0441\u044f \u0431\u043b\u0438\u0437\u044c\u043a\u043e 30\u00a0\u0413\u0431 \u0434\u0438\u0441\u043a\u043e\u0432\u043e\u0433\u043e \u043f\u0440\u043e\u0441\u0442\u043e\u0440\u0443 \u043d\u0430\u0432\u0456\u0442\u044c \u0434\u043b\u044f \u043d\u0435\u0432\u0435\u043b\u0438\u043a\u0438\u0445 \u0435\u043a\u0441\u0442\u0440\u0430\u043a\u0442\u0456\u0432, \u0447\u0435\u0440\u0435\u0437 \u0434\u043e\u0434\u0430\u0432\u0430\u043d\u043d\u044f \u0434\u0430\u043d\u0438\u0445 \u043f\u0440\u043e \u043a\u043e\u0440\u0434\u043e\u043d\u0438 \u043f\u043e \u0432\u0441\u044c\u043e\u043c\u0443 \u0441\u0432\u0456\u0442\u0443, \u0449\u043e \u043c\u0430\u044e\u0442\u044c \u0437\u043d\u0430\u0447\u043d\u0438\u0439 \u043e\u0431\u0441\u044f\u0433.</p>"},{"location":"uk/serving-tiles/using-a-docker-container/#\u0414\u0430\u043d\u0456-OpenStreetmap","title":"\u0414\u0430\u043d\u0456 OpenStreetmap","text":"<p>\u0414\u043b\u044f \u0434\u0435\u043c\u043e\u043d\u0441\u0442\u0440\u0430\u0446\u0456\u0457 \u0442\u0443\u0442, \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u043c\u043e \u0434\u0430\u043d\u0456 \u0434\u043b\u044f \u0417\u0430\u043c\u0431\u0456\u0457 \u0442\u0430 \u0456\u043c\u043f\u043e\u0440\u0442\u0443\u0454\u043c\u043e \u0457\u0445, \u0430\u043b\u0435 \u043c\u0430\u0454 \u0441\u043f\u0440\u0430\u0446\u044e\u0432\u0430\u0442\u0438 \u0431\u0443\u0434\u044c-\u044f\u043a\u0438\u0439 \u0444\u0430\u0439\u043b OSM <code>.pbf</code>. \u0414\u043b\u044f \u0442\u0435\u0441\u0442\u0443 \u0441\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u044f\u043a\u0438\u0439\u0441\u044c \u043d\u0435\u0432\u0435\u043b\u0438\u043a\u0438\u0439 \u0444\u0430\u0439\u043b <code>.pbf</code>, \u0434\u043b\u044f \u043f\u043e\u0447\u0430\u0442\u043a\u0443. \u0423\u0432\u0456\u0439\u0434\u0456\u0442\u044c \u0437 \u043f\u0440\u0430\u0432\u0430\u043c\u0438 \u0437\u0432\u0438\u0447\u0430\u0439\u043d\u043e\u0433\u043e \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430 \u0434\u043e \u0432\u0430\u0448\u043e\u0457 \u0441\u0438\u0441\u0442\u0435\u043c\u0438 \u0442\u0430 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0442\u0435 \u0434\u0430\u043d\u0456 \u0434\u043b\u044f \u0417\u0430\u043c\u0431\u0456\u0457:</p> <pre><code>cd ~\nwget https://download.geofabrik.de/africa/zambia-latest.osm.pbf\n</code></pre> <p>\u0421\u0442\u0432\u043e\u0440\u0456\u0442\u044c docker volume \u0434\u043b\u044f \u0434\u0430\u043d\u0438\u0445:</p> <pre><code>docker volume create osm-data\n</code></pre> <p>\u0412\u0441\u0442\u0430\u043d\u043e\u0432\u0456\u0442\u044c \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440 \u0442\u0430 \u0456\u043c\u043f\u043e\u0440\u0442\u0443\u0439\u0442\u0435 \u0434\u0430\u043d\u0456:</p> <pre><code>time \\\n    docker run \\\n    -v /home/renderaccount/zambia-latest.osm.pbf:/data/region.osm.pbf \\\n    -v osm-data:/data/database/ \\\n    overv/openstreetmap-tile-server import\n</code></pre> <p>\u0428\u043b\u044f\u0445 \u0434\u043e \u0444\u0430\u0439\u043b\u0443 \u0434\u0430\u043d\u0438\u0445 \u043c\u0430\u0454 \u0431\u0443\u0442\u0438 \u0430\u0431\u0441\u043e\u043b\u044e\u0442\u043d\u0438\u043c \u0448\u043b\u044f\u0445\u043e\u043c\u00a0\u2013 \u0432\u0456\u043d \u043d\u0435 \u043c\u043e\u0436\u0435 \u0431\u0443\u0442\u0438 \u0432\u0456\u0434\u043d\u043e\u0441\u043d\u0438\u043c \u0448\u043b\u044f\u0445\u043e\u043c. \u0423 \u0446\u044c\u043e\u043c\u0443 \u043f\u0440\u0438\u043a\u043b\u0430\u0434\u0456 \u0432\u0456\u043d \u0437\u043d\u0430\u0445\u043e\u0434\u0438\u0442\u044c\u0441\u044f \u0432 \u043a\u043e\u0440\u0435\u043d\u0435\u0432\u0456\u0439 \u0442\u0435\u0446\u0456 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430 <code>renderaccount</code>. \u041a\u0440\u0456\u043c \u0442\u043e\u0433\u043e, \u044f\u043a\u0449\u043e \u0449\u043e\u0441\u044c \u043f\u0456\u0434\u0435 \u043d\u0435 \u0442\u0430\u043a, \u0432\u0430\u043c \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0431\u0443\u0434\u0435 \u0432\u0438\u043a\u043e\u043d\u0430\u0442\u0438 \u043a\u043e\u043c\u0430\u043d\u0434\u0443 <code>docker volume rm osm-data</code> \u0442\u0430 \u0440\u043e\u0437\u043f\u043e\u0447\u0430\u0442\u0438 \u0437 <code>docker volume create osm-data</code> \u0432\u0438\u0449\u0435. \u041d\u0430\u043f\u0440\u0438\u043a\u0456\u043d\u0446\u0456 \u043f\u0440\u043e\u0446\u0435\u0441\u0443 \u0432\u0438 \u043f\u043e\u0432\u0438\u043d\u043d\u0456 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0438:</p> <pre><code>INFO:root: Import complete\n</code></pre> <p>\u042f\u043a\u0449\u043e \u0432\u0438 \u0431\u0430\u0447\u0438\u0442\u0435 \u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0435:</p> <pre><code>/data/region.osm.pbf: Is a directory\n</code></pre> <p>\u0430\u0431\u043e</p> <pre><code>createuser: error: creation of new role failed: ERROR: role \"renderer\" already exists\n</code></pre> <p>\u0441\u0445\u043e\u0436\u0435 \u0443 \u0432\u0430\u0441 \u0449\u043e\u0441\u044c \u043d\u0435 \u0442\u0430\u043a; \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0439\u0442\u0435 <code>docker ps -a</code> \u0434\u043b\u044f \u0432\u0438\u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f \u043d\u0435\u0441\u043f\u0440\u0430\u0432\u043d\u043e\u0433\u043e \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0430; \u0434\u043b\u044f \u0432\u0438\u043b\u0443\u0447\u0435\u043d\u043d\u044f \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0430\u00a0\u2013 <code>docker rm</code> (\u0437\u0430 \u044f\u043a\u0438\u043c \u0456\u0434\u0435 \u0456\u0434\u0435\u043d\u0442\u0438\u0444\u0456\u043a\u0430\u0442\u043e\u0440 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0430), \u0430 \u043f\u043e\u0442\u0456\u043c \u0432\u0438\u0434\u0430\u043b\u0456\u0442\u044c \u0456 \u043f\u043e\u0432\u0442\u043e\u0440\u043d\u043e \u0441\u0442\u0432\u043e\u0440\u0456\u0442\u044c <code>osm-data</code>, \u044f\u043a \u043e\u043f\u0438\u0441\u0430\u043d\u043e \u0432\u0438\u0449\u0435.</p> <p>\u042f\u043a \u0434\u043e\u0432\u0433\u043e \u0446\u0435 \u0442\u0440\u0438\u0432\u0430\u0442\u0438\u043c\u0435\u00a0\u2013 \u0437\u0430\u043b\u0435\u0436\u0438\u0442\u044c \u0432\u0456\u0434 \u0448\u0432\u0438\u0434\u043a\u043e\u0441\u0442\u0456 \u0432\u0430\u0448\u043e\u0433\u043e \u0437\u02bc\u0454\u0434\u043d\u0430\u043d\u043d\u044f \u0437 \u043c\u0435\u0440\u0435\u0436\u0435\u044e \u0442\u0430 \u0440\u043e\u0437\u043c\u0456\u0440\u0443 \u0434\u0456\u043b\u044f\u043d\u043a\u0438 \u0434\u043b\u044f \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f. \u0417\u0430\u043c\u0431\u0456\u044f, \u044f\u043a\u0443 \u043c\u0438 \u043e\u0431\u0440\u0430\u043b\u0438 \u0434\u043b\u044f \u043f\u0440\u0438\u043a\u043b\u0430\u0434\u0443, \u043c\u0430\u0454 \u0434\u043e\u0441\u0438\u0442\u044c \u043d\u0435 \u0431\u0430\u0433\u0430\u0442\u043e \u0434\u0430\u043d\u0438\u0445.</p> <p>\u0417\u0430\u0443\u0432\u0430\u0436\u0442\u0435, \u0449\u043e \u044f\u043a\u0449\u043e \u0449\u043e\u0441\u044c \u043f\u0456\u0434\u0435 \u043d\u0435 \u0442\u0430\u043a, \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f \u043f\u0440\u043e \u043f\u043e\u043c\u0438\u043b\u043a\u0438 \u043c\u043e\u0436\u0443\u0442\u044c \u0431\u0443\u0442\u0438 \u0434\u0435\u0449\u043e \u0437\u0430\u0433\u0430\u0434\u043a\u043e\u0432\u0438\u043c\u0438, \u0456, \u043d\u0430 \u0436\u0430\u043b\u044c, \u043f\u0440\u043e\u0446\u0435\u0441 \u0456\u043c\u043f\u043e\u0440\u0442\u0443 \u043d\u0435 \u043c\u043e\u0436\u043d\u0430 \u0431\u0443\u0434\u0435 \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u0438 \u043f\u0456\u0441\u043b\u044f \u043f\u043e\u043c\u0438\u043b\u043a\u0438. \u0422\u0430\u043a\u043e\u0436 \u0437\u0430\u0443\u0432\u0430\u0436\u0442\u0435, \u0449\u043e \u043d\u043e\u0432\u0456\u0448\u0456 \u0432\u0435\u0440\u0441\u0456\u0457 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0430 Docker \u043c\u043e\u0436\u0443\u0442\u044c \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u043d\u043e\u0432\u0456\u0448\u0456 \u0432\u0435\u0440\u0441\u0456\u0457 postgres, \u0442\u043e\u043c\u0443 <code>osm-data</code>, \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u0438\u0439 \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e \u043f\u043e\u043f\u0435\u0440\u0435\u0434\u043d\u044c\u043e\u0457 \u0432\u0435\u0440\u0441\u0456\u0457, \u043c\u043e\u0436\u0435 \u043d\u0435 \u043f\u0440\u0430\u0446\u044e\u0432\u0430\u0442\u0438\u00a0\u2013 \u043c\u043e\u0436\u043b\u0438\u0432\u043e, \u0432\u0430\u043c \u0434\u043e\u0432\u0435\u0434\u0435\u0442\u044c\u0441\u044f \u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0439\u043e\u0433\u043e \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e <code>docker volume rm osm-data</code> \u0456 \u0441\u0442\u0432\u043e\u0440\u0456\u0442\u044c \u0437\u0430\u043d\u043e\u0432\u043e.</p> <p>\u0414\u043b\u044f \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u044f \u0434\u043e\u043a\u043b\u0430\u0434\u043d\u043e\u0457 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u0457 \u043f\u0440\u043e \u0442\u0435, \u0449\u043e \u043d\u0430 \u0441\u043f\u0440\u0430\u0432\u0434\u0456 \u0432\u0456\u0434\u0431\u0443\u0432\u0430\u0442\u0438\u043c\u0435\u0442\u044c\u0441\u044f, \u043e\u0437\u043d\u0430\u0439\u043e\u043c\u0442\u0435\u0441\u044c \u0437 \u0444\u0430\u0439\u043b\u043e\u043c \u043e\u043f\u0438\u0441\u0443 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0430. \u0412\u0438 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0435, \u0449\u043e \u0432\u0456\u043d \u0434\u0443\u0436\u0435 \u0441\u0445\u043e\u0436\u0438\u0439 \u043d\u0430 \u0456\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0456\u044e \u0437 \u201c\u0440\u043e\u0437\u0433\u043e\u0440\u0442\u0430\u043d\u043d\u044f \u0442\u0430\u0439\u043b\u043e\u0432\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0432\u0440\u0443\u0447\u043d\u0443\u201d, \u0437 \u043d\u0435\u0437\u043d\u0430\u0447\u043d\u0438\u043c\u0438 \u0437\u043c\u0456\u043d\u0430\u043c\u0438, \u0442\u0430\u043a\u0438\u043c\u0438 \u044f\u043a URL \u0434\u043b\u044f \u0442\u0430\u0439\u043b\u0456\u0432 \u0442\u0430 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f \u0432\u043d\u0443\u0442\u0440\u0456\u0448\u043d\u044c\u043e\u0433\u043e \u043e\u0431\u043b\u0456\u043a\u043e\u0432\u043e\u0433\u043e \u0437\u0430\u043f\u0438\u0441\u0443. \u0412\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0438 \u0449\u043e \u0432 \u0441\u0435\u0440\u0435\u0434\u0438\u043d\u0456 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0430 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f Ubuntu 22.04. \u0425\u043e\u0447\u0430 \u0432\u0430\u043c \u0456 \u043d\u0435 \u0442\u0440\u0435\u0431\u0430 \u0432\u0437\u0430\u0454\u043c\u043e\u0434\u0456\u044f\u0442\u0438 \u0437 \u0441\u0438\u0441\u0442\u0435\u043c\u043e\u044e \u0431\u0435\u0437\u043f\u043e\u0441\u0435\u0440\u0435\u0434\u043d\u044c\u043e \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0437\u0440\u043e\u0431\u0438\u0442\u0438 \u0446\u0435 \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e \u043a\u043e\u043c\u0430\u043d\u0434\u0438 <code>docker exec -it mycontainernumber bash</code>.</p> <p>\u0414\u043b\u044f \u0437\u0430\u043f\u0443\u0441\u043a\u0443 \u0442\u0430\u0439\u043b\u043e\u0432\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0441\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u0439\u0442\u0435\u0441\u044c \u043a\u043e\u043c\u0430\u043d\u0434\u043e\u044e:</p> <pre><code>docker run \\\n    -p 8080:80 \\\n    -v osm-data:/data/database \\\n    -d overv/openstreetmap-tile-server \\\n    run\n</code></pre> <p>\u0442\u0430 \u043f\u0435\u0440\u0435\u0432\u0456\u0440\u0442\u0435 \u0447\u0438 \u0432\u0456\u043d \u043f\u0440\u0430\u0446\u044e\u0454 \u0432\u0456\u0434\u043a\u0440\u0438\u0432\u0448\u0438 \u043f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f \u0432 \u043e\u0433\u043b\u044f\u0434\u0430\u0447\u0456 \u0432 \u0440\u0435\u0436\u0438\u043c\u0456 \u0456\u043d\u043a\u043e\u0433\u043d\u0456\u0442\u043e:</p> <p><code>http://\u0430\u0434\u0440\u0435\u0441\u0430.\u0432\u0430\u0448\u043e\u0433\u043e.\u0441\u0435\u0440\u0432\u0435\u0440\u0430/tile/0/0/0.png</code></p> <p>\u0412\u0438 \u043c\u0430\u0454\u0442\u0435 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0438 \u043c\u0430\u043f\u0443 \u0441\u0432\u0456\u0442\u0443 \u0443 \u0432\u0430\u0448\u043e\u043c\u0443 \u043e\u0433\u043b\u044f\u0434\u0430\u0447\u0456. \u041f\u043e\u0442\u0456\u043c \u0441\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435:</p> <p><code>http://your.server.ip.address:8080</code></p> <p>\u0434\u043b\u044f \u043c\u0430\u043f\u0438, \u044f\u043a\u0443 \u043c\u043e\u0436\u043d\u0430 \u0437\u0431\u0456\u043b\u044c\u0448\u0443\u0432\u0430\u0442\u0438 \u0442\u0430 \u0437\u043c\u0435\u043d\u0448\u0443\u0432\u0430\u0442\u0438. \u0414\u043b\u044f \u043f\u043e\u044f\u0432\u0438 \u0442\u0430\u0439\u043b\u0456\u0432 (\u043e\u0441\u043e\u0431\u043b\u0438\u0432\u043e \u043f\u0440\u0438 \u0437\u0430\u0433\u0430\u043b\u044c\u043d\u0438\u0445 \u0440\u0456\u0432\u043d\u044f\u0445 \u043c\u0430\u0441\u0448\u0442\u0430\u0431\u0443\u0432\u0430\u043d\u043d\u044f) \u0437\u043d\u0430\u0434\u043e\u0431\u0438\u0442\u044c\u0441\u044f \u043a\u043e\u0440\u043e\u0442\u043a\u0438\u0439 \u043f\u0440\u043e\u043c\u0456\u0436\u043e\u043a \u0447\u0430\u0441\u0443.</p>"},{"location":"uk/serving-tiles/using-a-docker-container/#\u0414\u043e\u0434\u0430\u0442\u043a\u043e\u0432\u0430-\u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044f","title":"\u0414\u043e\u0434\u0430\u0442\u043a\u043e\u0432\u0430 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044f","text":"<p>\u0426\u0435\u0439 \u0434\u043e\u043a\u0435\u0440-\u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440 \u043d\u0430\u0441\u043f\u0440\u0430\u0432\u0434\u0456 \u043f\u0456\u0434\u0442\u0440\u0438\u043c\u0443\u0454 \u043d\u0430\u0431\u0430\u0433\u0430\u0442\u043e \u0431\u0456\u043b\u044c\u0448\u0435 \u043c\u043e\u0436\u043b\u0438\u0432\u043e\u0441\u0442\u0435\u0439 \u043d\u0456\u0436 \u043d\u0430\u0432\u0435\u0434\u0435\u043d\u043e \u0442\u0443\u0442 \u0432 \u043f\u0440\u0438\u043a\u043b\u0430\u0434\u0456, \u0434\u0438\u0432\u0456\u0442\u044c\u0441\u044f readme, \u0449\u043e\u0431 \u0434\u0456\u0437\u043d\u0430\u0442\u0438\u0441\u044c \u0434\u0435\u0442\u0430\u043b\u0456 \u043f\u0440\u043e \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f, \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f \u0442\u0430 \u0442\u0430\u043a\u0435 \u0456\u043d\u0448\u0435.</p>"},{"location":"uk/serving-tiles/using-a-docker-container/#\u041f\u0435\u0440\u0435\u0433\u043b\u044f\u0434-\u0442\u0430\u0439\u043b\u0456\u0432","title":"\u041f\u0435\u0440\u0435\u0433\u043b\u044f\u0434 \u0442\u0430\u0439\u043b\u0456\u0432","text":"<p>\u0414\u043b\u044f \u043f\u0435\u0440\u0435\u0433\u043b\u044f\u0434\u0443 \u043f\u0440\u043e\u0441\u0442\u043e\u0457 \u201c\u0440\u0443\u0445\u043e\u043c\u043e\u0457 \u043c\u0430\u043f\u0438\u201d \u0441\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u0454\u043c\u043e\u0441\u044c \u0444\u0430\u0439\u043b\u043e\u043c <code>sample_leaflet.html</code>, \u044f\u043a\u0438\u0439 \u0437\u043d\u0430\u0445\u043e\u0434\u0438\u0442\u044c\u0441\u044f \u0432 \u0442\u0435\u0446\u0456 <code>extra</code> mod_tile\u2019\u0430. \u0417\u043c\u0456\u043d\u0456\u0442\u044c <code>hot</code> \u0432 URL \u0443 \u0444\u0430\u0439\u043b\u0456 \u043d\u0430 <code>tile</code>, \u0456 \u0432\u0456\u0434\u043a\u0440\u0438\u0439\u0442\u0435 \u0439\u043e\u0433\u043e \u0432 \u043e\u0433\u043b\u044f\u0434\u0430\u0447\u0456 \u043d\u0430 \u043a\u043e\u043c\u043f\u02bc\u044e\u0442\u0435\u0440\u0456 \u0434\u0435 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043e \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440 docker. \u042f\u043a\u0449\u043e \u0446\u0435 \u043d\u0435 \u043c\u043e\u0436\u043b\u0438\u0432\u043e \u0447\u0435\u0440\u0435\u0437 \u0432\u0456\u0434\u0441\u0443\u0442\u043d\u0456\u0441\u0442\u044c \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043e\u0433\u043e \u0432\u0435\u0431\u043e\u0433\u043b\u044f\u0434\u0430\u0447\u0430, \u0432\u0430\u043c \u0434\u043e\u0432\u0435\u0434\u0435\u0442\u044c\u0441\u044f \u0437\u0430\u043c\u0456\u043d\u0438\u0442\u0438 \u0443 \u0444\u0430\u0439\u043b\u0456 <code>127.0.0.1</code> \u043d\u0430 IP \u0430\u0434\u0440\u0435\u0441\u0443 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0442\u0430 \u0441\u043a\u043e\u043f\u0456\u044e\u0432\u0430\u0442\u0438 \u0439\u043e\u0433\u043e \u0432 <code>/var/www/html</code> \u043d\u0430 \u0446\u044c\u043e\u043c\u0443 \u0441\u0435\u0440\u0432\u0435\u0440\u0456.</p> <p>\u042f\u043a\u0449\u043e \u0432\u0438 \u0445\u043e\u0447\u0435\u0442\u0435 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u0456\u043d\u0448\u0443 \u0442\u0435\u0440\u0438\u0442\u043e\u0440\u0456\u044e, \u043f\u0440\u043e\u0441\u0442\u043e \u043f\u043e\u0432\u0442\u043e\u0440\u0456\u0442\u044c \u043f\u0440\u043e\u0446\u0435\u0441 \u0456\u0437 <code>wget</code> \u0432\u0438\u0449\u0435. \u041d\u0430 \u0436\u0430\u043b\u044c, \u043d\u0435\u043e\u0431\u0445\u0456\u0434\u043d\u043e \u0432\u0438\u0434\u0430\u043b\u044f\u0442\u0438 \u0442\u0430 \u0437\u0430\u043d\u043e\u0432\u043e \u0441\u0442\u0432\u043e\u0440\u044e\u0432\u0430\u0442\u0438 <code>osm-data</code> \u043a\u043e\u0436\u043d\u043e\u0433\u043e \u0440\u0430\u0437\u0443, \u043a\u043e\u043b\u0438 \u0432\u0438 \u0445\u043e\u0447\u0435\u0442\u0435 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u043d\u043e\u0432\u0456 \u0434\u0430\u043d\u0456.</p>"},{"location":"uk/using-tiles/","title":"\u0412\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f \u0442\u0430\u0439\u043b\u0456\u0432","text":""},{"location":"uk/using-tiles/#\u0412\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f-\u0442\u0430\u0439\u043b\u0456\u0432","title":"\u0412\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f \u0442\u0430\u0439\u043b\u0456\u0432","text":"<p>\u0412\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f OpenStreetMap \u043d\u0430 \u0432\u0430\u0448\u043e\u043c\u0443 \u0441\u0430\u0439\u0442\u0456 \u043c\u0435\u043d\u0448\u0435 \u043d\u0456\u0436 \u0437\u0430 \u0433\u043e\u0434\u0438\u043d\u0443. \u041e\u0431\u0435\u0440\u0456\u0442\u044c JavaScript API \u0442\u0430 \u043f\u043e\u0441\u0442\u0430\u0447\u0430\u043b\u044c\u043d\u0438\u043a\u0430 \u0442\u0430\u0439\u043b\u0456\u0432, \u043f\u0435\u0440\u0435\u0434 \u0442\u0438\u043c \u044f\u043a \u0440\u043e\u0437\u043f\u043e\u0447\u0430\u0442\u0438. \u041f\u043e\u0442\u0456\u043c, \u0437\u0456 \u0437\u0440\u043e\u0441\u0442\u0430\u043d\u043d\u044f\u043c \u043f\u043e\u0442\u0440\u0435\u0431, \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u0434\u0443\u043c\u0430\u0442\u0438 \u043f\u0440\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f \u0432\u043b\u0430\u0441\u043d\u0438\u0445 \u0442\u0430\u0439\u043b\u0456\u0432, \u0449\u043e \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u0430\u044e\u0442\u044c \u043d\u0435\u043e\u0431\u0445\u0456\u0434\u043d\u0438\u043c \u0432\u0438\u043c\u043e\u0433\u0430\u043c, \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u044e\u0447\u0438 \u0441\u043f\u0435\u0446\u0456\u0430\u043b\u0456\u0437\u043e\u0432\u0430\u043d\u0456 \u0441\u0435\u0440\u0432\u0456\u0441\u0438 \u0432\u0456\u0434 \u0441\u0442\u043e\u0440\u043e\u043d\u043d\u0456\u0445 \u043f\u043e\u0441\u0442\u0430\u0447\u0430\u043b\u044c\u043d\u0438\u043a\u0456\u0432, \u0430\u0431\u043e \u0441\u0442\u0432\u043e\u0440\u044e\u044e\u0447\u0438 \u0442\u0430\u0439\u043b\u0438 \u0441\u0430\u043c\u043e\u0441\u0442\u0456\u0439\u043d\u043e.</p>"},{"location":"uk/using-tiles/#\u0412\u0438\u0431\u0456\u0440-API\u0431\u0456\u0431\u043b\u0456\u043e\u0442\u0435\u043a\u0438","title":"\u0412\u0438\u0431\u0456\u0440 API/\u0431\u0456\u0431\u043b\u0456\u043e\u0442\u0435\u043a\u0438","text":"<p>\u041d\u0430 \u043f\u0440\u043e\u0442\u0438\u0432\u0430\u0433\u0443 \u043a\u043e\u043c\u0435\u0440\u0446\u0456\u0439\u043d\u0438\u043c \u043f\u043e\u0441\u0442\u0430\u0447\u0430\u043b\u044c\u043d\u0438\u043a\u0430\u043c \u043c\u0430\u043f, OpenStreetMap \u043d\u0435 \u0432\u0438\u043c\u0430\u0433\u0430\u0454 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f \u044f\u043a\u043e\u0457\u0441\u044c \u201c\u043e\u0444\u0456\u0446\u0456\u0439\u043d\u043e\u0457\u201d \u0431\u0456\u0431\u043b\u0456\u043e\u0442\u0435\u043a\u0438 JavaScript. \u041d\u0430\u0442\u043e\u043c\u0456\u0441\u0442\u044c \u0432\u0438 \u043c\u0430\u0454\u0442\u0435 \u043c\u043e\u0436\u043b\u0438\u0432\u0456\u0441\u0442\u044c \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0441\u0430\u043c\u0435 \u0442\u0443 \u0431\u0456\u0431\u043b\u0456\u043e\u0442\u0435\u043a\u0443, \u044f\u043a\u0430 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u0430\u0454 \u0431\u0435\u0437\u043f\u043e\u0441\u0435\u0440\u0435\u0434\u043d\u044c\u043e \u0432\u0430\u0448\u0438\u043c \u043f\u043e\u0442\u0440\u0435\u0431\u0430\u043c. \u041d\u0430\u0439\u043f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u0456\u0448\u0430 \u0431\u0456\u0431\u043b\u0456\u043e\u0442\u0435\u043a\u0430\u00a0\u2013 Leaflet, \u0431\u0456\u0431\u043b\u0456\u043e\u0442\u0435\u043a\u0430 \u0437 \u0432\u0456\u0434\u043a\u0440\u0438\u0442\u0438\u043c\u0438 \u0441\u0438\u0440\u0446\u044f\u043c\u0438, \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u0430 \u0432 \u0423\u043a\u0440\u0430\u0457\u043d\u0456. OpenLayers 3\u00a0\u2013 \u0456\u043d\u0448\u0430 \u0448\u0438\u0440\u043e\u043a\u043e \u0432\u0456\u0434\u043e\u043c\u0430 \u0431\u0456\u0431\u043b\u0456\u043e\u0442\u0435\u043a\u0430, \u0449\u043e \u0442\u0430\u043a\u043e\u0436 \u043c\u043e\u0436\u0435 \u0431\u0443\u0442\u0438 \u0433\u0430\u0440\u043d\u0438\u043c \u0432\u0438\u0431\u043e\u0440\u043e\u043c.</p> <p>\u0412\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f Leaflet\u00a0\u2013 \u043b\u0435\u0433\u043a\u043e\u0432\u0456\u0441\u043d\u0430 \u0431\u0456\u0431\u043b\u0456\u043e\u0442\u0435\u043a\u0430 \u0434\u043b\u044f \u0432\u0435\u0431-\u043c\u0430\u043f</p> <p>\u0412\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f Openlayers\u00a0\u2013 \u043f\u043e\u0432\u043d\u043e\u0444\u0443\u043d\u043a\u0446\u0456\u043e\u043d\u0430\u043b\u044c\u043d\u0430 \u0431\u0456\u0431\u043b\u0456\u043e\u0442\u0435\u043a\u0430 \u0434\u043b\u044f \u0432\u0435\u0431-\u043c\u0430\u043f</p> <p>\u041f\u043e\u0447\u0430\u0442\u043e\u043a \u0440\u043e\u0431\u043e\u0442\u0438 \u0437 Maplibre</p>"},{"location":"uk/using-tiles/#\u0412\u0438\u0431\u0456\u0440-\u043f\u043e\u0441\u0442\u0430\u0447\u0430\u043b\u044c\u043d\u0438\u043a\u0430-\u0442\u0430\u0439\u043b\u0456\u0432","title":"\u0412\u0438\u0431\u0456\u0440 \u043f\u043e\u0441\u0442\u0430\u0447\u0430\u043b\u044c\u043d\u0438\u043a\u0430 \u0442\u0430\u0439\u043b\u0456\u0432","text":"<p>\u041e\u043a\u0440\u0456\u043c \u0434\u0443\u0436\u0435 \u043e\u0431\u043c\u0435\u0436\u0435\u043d\u0438\u0445 \u0432\u0438\u043f\u0430\u0434\u043a\u0456\u0432 \u0434\u043b\u044f \u0442\u0435\u0441\u0442\u0443\u0432\u0430\u043d\u043d\u044f \u0432\u0430\u0448\u0438\u0445 \u0440\u0456\u0448\u0435\u043d\u044c, \u043d\u0435 \u0432\u0430\u0440\u0442\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0442\u0430\u0439\u043b\u0438 \u0431\u0435\u0437\u043f\u043e\u0441\u0435\u0440\u0435\u0434\u043d\u044c\u043e \u0437 OpenStreetMap.org. OpenStreetMap\u00a0\u2013 \u0454 \u0432\u043e\u043b\u043e\u043d\u0442\u0435\u0440\u0441\u044c\u043a\u0438\u043c \u043d\u0435\u043f\u0440\u0438\u0431\u0443\u0442\u043a\u043e\u0432\u0438\u043c \u043f\u0440\u043e\u0454\u043a\u0442\u043e\u043c, \u044f\u043a\u0438\u0439 \u043d\u0435 \u0432 \u0437\u043c\u043e\u0437\u0456 \u043f\u043e\u0441\u0442\u0430\u0447\u0430\u0442\u0438 \u0442\u0430\u0439\u043b\u0438 \u0432\u0435\u043b\u0438\u043a\u0438\u043c \u043a\u043e\u043c\u0435\u0440\u0446\u0456\u0439\u043d\u0438\u043c \u043f\u0440\u043e\u0454\u043a\u0442\u0430\u043c. \u0422\u043e\u043c\u0443 \u0440\u0430\u0434\u0438\u043c\u043e \u0441\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u0442\u0438\u0441\u044c \u043f\u043e\u0441\u043b\u0443\u0433\u0430\u043c\u0438 \u0441\u0442\u043e\u0440\u043e\u043d\u043d\u0456\u0445 \u043f\u043e\u0441\u0442\u0430\u0447\u0430\u043b\u044c\u043d\u0438\u043a\u0456\u0432 \u0442\u0430\u0439\u043b\u0456\u0432, \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u0438\u0445 \u0437 \u0434\u0430\u043d\u0438\u0445 OpenStreetMap, \u0430\u0431\u043e \u0437\u0433\u0435\u043d\u0435\u0440\u0443\u0432\u0430\u0442\u0438 \u0432\u0430\u0448\u0456 \u0432\u043b\u0430\u0441\u043d\u0456. <sup>1</sup></p>"},{"location":"uk/using-tiles/#\u0411\u0435\u0437\u043a\u043e\u0448\u0442\u043e\u0432\u043d\u0456-\u0442\u0430\u0439\u043b\u0438","title":"\u0411\u0435\u0437\u043a\u043e\u0448\u0442\u043e\u0432\u043d\u0456 \u0442\u0430\u0439\u043b\u0438","text":"<p>\u041c\u043e\u0436\u0435\u0442\u0435 \u043e\u0442\u0440\u0438\u043c\u0430\u0442\u0438 \u043f\u0435\u0440\u0435\u043b\u0456\u043a \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0438\u0445 \u0442\u0430\u0439\u043b\u0456\u0432 \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e \u043f\u043e\u043f\u0435\u0440\u0435\u0434\u043d\u044c\u043e\u0433\u043e \u043f\u0435\u0440\u0435\u0433\u043b\u044f\u0434\u0443 \u0432 \u043f\u0440\u043e\u0454\u043a\u0442\u0456 Leaflet-provider, \u0437\u0432\u0435\u0440\u043d\u0456\u0442\u044c \u0443\u0432\u0430\u0433\u0443 \u043d\u0430 \u0442\u0435, \u0449\u043e \u0434\u0435\u044f\u043a\u0456 \u0437 \u043d\u0438\u0445 \u043d\u0435 \u0454 \u0432\u0456\u043b\u044c\u043d\u0438\u043c\u0438 (\u0432\u0438\u043c\u0430\u0433\u0430\u0454\u0442\u044c\u0441\u044f \u043d\u0430\u044f\u0432\u043d\u0456\u0441\u0442\u044c \u043a\u043b\u044e\u0447\u0430 \u0434\u043e\u0441\u0442\u0443\u043f\u0443 \u0434\u043e API).</p>"},{"location":"uk/using-tiles/#\u041f\u043e\u0441\u0442\u0430\u0447\u0430\u043b\u044c\u043d\u0438\u043a\u0438-\u043f\u043b\u0430\u0442\u043d\u0438\u0445-\u0442\u0430\u0439\u043b\u0456\u0432","title":"\u041f\u043e\u0441\u0442\u0430\u0447\u0430\u043b\u044c\u043d\u0438\u043a\u0438 \u043f\u043b\u0430\u0442\u043d\u0438\u0445 \u0442\u0430\u0439\u043b\u0456\u0432","text":"<p>\u0414\u0438\u0432\u0438\u0441\u044c \u043f\u0435\u0440\u0435\u043b\u0456\u043a. \u0410\u0431\u043e \u0436 \u0434\u0456\u0437\u043d\u0430\u0439\u0442\u0435\u0441\u044c \u043f\u0440\u043e \u0442\u0435, \u044f\u043a \u0441\u0430\u043c\u043e\u0441\u0442\u0456\u0439\u043d\u043e \u0441\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u0442\u0430\u0439\u043b\u0438 \u0434\u043b\u044f \u0432\u043b\u0430\u0441\u043d\u043e\u0433\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f.</p> <ol> <li> <p>\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430 \u0441\u043f\u0456\u043b\u044c\u043d\u043e\u0442\u0430 OpenStreetMap \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454 \u0432\u043b\u0430\u0441\u043d\u0456 \u0432\u0435\u043a\u0442\u043e\u0440\u043d\u0456 \u0442\u0430\u0439\u043b\u0438 \u043d\u0430 openstreetmap.org.ua \u21a9</p> </li> </ol>"},{"location":"uk/using-tiles/getting-started-with-leaflet/","title":"\u0412\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f Leaflet","text":""},{"location":"uk/using-tiles/getting-started-with-leaflet/#\u0412\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f-Leaflet","title":"\u0412\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f Leaflet","text":""},{"location":"uk/using-tiles/getting-started-with-leaflet/#\u0412\u0441\u0442\u0443\u043f","title":"\u0412\u0441\u0442\u0443\u043f","text":"<p>Leaflet\u00a0\u2013 \u043b\u0435\u0433\u043a\u043e\u0432\u0456\u0441\u043d\u0430 \u0431\u0456\u0431\u043b\u0456\u043e\u0442\u0435\u043a\u0430 JavaScript \u0434\u043b\u044f \u043f\u043e\u043a\u0430\u0437\u0443 \u043c\u0430\u043f. \u0412\u043e\u043d\u0430 \u0440\u043e\u0437\u043f\u043e\u0432\u0441\u044e\u0434\u0436\u0443\u0454\u0442\u044c\u0441\u044f \u043d\u0430 \u0443\u043c\u043e\u0432\u0430\u0445 \u0434\u043e\u0437\u0432\u0456\u043b\u044c\u043d\u043e\u0457 \u041b\u0456\u0446\u0435\u043d\u0437\u0456\u0457 BSD \u0434\u043b\u044f \u043a\u043e\u0434\u0443 \u0437 \u0432\u0456\u0434\u043a\u0440\u0438\u0442\u0438\u043c\u0438 \u0441\u0438\u0440\u0446\u044f\u043c\u0438, \u0442\u043e\u0436 \u0457\u0457 \u043c\u043e\u0436\u043d\u0430 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u043d\u0430 \u0431\u0443\u0434\u044c-\u044f\u043a\u043e\u043c\u0443 \u0441\u0430\u0439\u0442\u0456 \u0431\u0435\u0437 \u043f\u043e\u0431\u043e\u044e\u0432\u0430\u043d\u044c \u043f\u043e\u0440\u0443\u0448\u0435\u043d\u043d\u044f \u044e\u0440\u0438\u0434\u0438\u0447\u043d\u0438\u0445 \u043d\u043e\u0440\u043c. \u0421\u0438\u0440\u0446\u0456 \u0431\u0456\u0431\u043b\u0456\u043e\u0442\u0435\u043a\u0438 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0456 \u043d\u0430 GitHub.</p> <p>\u0422\u0443\u0442, \u043c\u0438 \u043e\u0431\u043c\u0435\u0436\u0438\u043c\u043e \u0441\u0435\u0431\u0435 \u043d\u0435\u0432\u0435\u043b\u0438\u0447\u043a\u0438\u043c \u0441\u0430\u043c\u043e\u0434\u043e\u0441\u0442\u0430\u0442\u043d\u0456\u043c \u043f\u0440\u0438\u043a\u043b\u0430\u0434\u043e\u043c, \u0449\u043e \u0434\u0435\u043c\u043e\u043d\u0441\u0442\u0440\u0443\u0454 \u043c\u043e\u0436\u043b\u0438\u0432\u043e\u0441\u0442\u0456 \u0431\u0456\u0431\u043b\u0456\u043e\u0442\u0435\u043a\u0438. \u0420\u0430\u0434\u0438\u043c\u043e \u043e\u0437\u043d\u0430\u0439\u043e\u043c\u0438\u0442\u0438\u0441\u044c \u0437 \u0434\u0435\u0442\u0430\u043b\u044c\u043d\u0438\u043c\u0438 \u043f\u0440\u0438\u043a\u043b\u0430\u0434\u0430\u043c\u0438 \u0442\u0430 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0456\u0454\u044e \u0437 \u043e\u0444\u0456\u0446\u0456\u0439\u043d\u043e\u0433\u043e \u0441\u0430\u0439\u0442\u0443 \u0434\u043b\u044f \u0431\u0456\u043b\u044c\u0448 \u0434\u0435\u0442\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u043e\u043f\u0440\u0430\u0446\u044e\u0432\u0430\u043d\u043d\u044f.</p>"},{"location":"uk/using-tiles/getting-started-with-leaflet/#\u041f\u043e\u0447\u0430\u0442\u043e\u043a-\u0440\u043e\u0431\u043e\u0442\u0438","title":"\u041f\u043e\u0447\u0430\u0442\u043e\u043a \u0440\u043e\u0431\u043e\u0442\u0438","text":"<p>\u041f\u0435\u0440\u0435\u043d\u0435\u0441\u0456\u0442\u044c \u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0438\u0439 \u043a\u043e\u0434 \u0443 \u0444\u0430\u0439\u043b, \u043d\u0430\u043f\u0440\u0438\u043a\u043b\u0430\u0434 <code>leaflet.html</code>, \u0456 \u0432\u0456\u0434\u043a\u0440\u0438\u0439\u0442\u0435 \u0439\u043e\u0433\u043e \u0443 \u0432\u0430\u0448\u043e\u043c\u0443 \u0432\u0435\u0431\u043e\u0433\u043b\u044f\u0434\u0430\u0447\u0456 \u0430\u0431\u043e \u043f\u0435\u0440\u0435\u0439\u0434\u0456\u0442\u044c \u0437\u0430 \u043f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f\u043c, \u0449\u043e\u0431 \u0432\u0456\u0434\u043a\u0440\u0438\u0442\u0438 \u0444\u0430\u0439\u043b leaflet.html:</p> leaflet.html<pre><code>&lt;!DOCTYPE HTML&gt;\n&lt;html lang=\"uk\"&gt;\n  &lt;head&gt;\n    &lt;meta charset=\"utf-8\" /&gt;\n    &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no\"&gt;\n    &lt;link rel=\"stylesheet\" href=\"https://unpkg.com/leaflet@1.9/dist/leaflet.css\" /&gt;\n    &lt;script src=\"https://unpkg.com/leaflet@1.9/dist/leaflet.js\"&gt;&lt;/script&gt;\n    &lt;style&gt;\n      html, body {\n        height: 100%;\n        padding: 0;\n        margin: 0;\n      }\n      #map {\n        /* \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f \u0440\u043e\u0437\u043c\u0456\u0440\u0443 \u043c\u0430\u043f\u0438 */\n        width: 100%;\n        height: 100%;\n      }\n    &lt;/style&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;div id=\"map\"&gt;&lt;/div&gt;\n    &lt;script&gt;\n      // \u0456\u043d\u0456\u0446\u0456\u0430\u043b\u0456\u0437\u0430\u0446\u0456\u044f Leaflet\n      var map = L.map('map').setView({lon: 31.4512745, lat: 49.0383902}, 6);\n\n      // \u0434\u043e\u0434\u0430\u043c\u043e \u0442\u0430\u0439\u043b\u0438 OpenStreetMap\n      L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n        maxZoom: 19,\n        attribution: '&amp;copy; &lt;a href=\"https://openstreetmap.org/copyright\"&gt;\u0423\u0447\u0430\u0441\u043d\u0438\u043a\u0438 OpenStreetMap&lt;/a&gt;'\n      }).addTo(map);\n\n      // \u043f\u043e\u043a\u0430\u0436\u0435\u043c\u043e \u043c\u0430\u0441\u0448\u0442\u0430\u0431\u043d\u0443 \u043b\u0456\u043d\u0456\u0439\u043a\u0443 \u0443 \u043b\u0456\u0432\u043e\u043c\u0443 \u043d\u0438\u0436\u043d\u044c\u043e\u043c\u0443 \u043a\u0443\u0442\u0456\n      L.control.scale({imperial: true, metric: true}).addTo(map);\n\n      // \u043f\u043e\u043a\u0430\u0436\u0435\u043c\u043e \u043f\u043e\u0437\u043d\u0430\u0447\u043a\u0443 \u043d\u0430 \u043c\u0430\u043f\u0456\n      L.marker({lon: 31.4512745, lat: 49.0383902})\n        .addTo(map)\n        .bindPopup('\u0413\u0435\u043e\u0433\u0440\u0430\u0444\u0456\u0447\u043d\u0438\u0439 \u0446\u0435\u043d\u0442\u0440 \u0423\u043a\u0440\u0430\u0457\u043d\u0438')\n        .openPopup();\n    &lt;/script&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>\u0414\u043e\u043a\u043b\u0430\u0434\u043d\u0456 \u043f\u043e\u044f\u0441\u043d\u0435\u043d\u043d\u044f \u0449\u043e\u0434\u043e \u043a\u043e\u0434\u0443 \u0434\u0438\u0432\u0456\u0442\u044c\u0441\u044f \u043d\u0430 \u043e\u0444\u0456\u0446\u0456\u0439\u043d\u043e\u043c\u0443 \u0441\u0430\u0439\u0442\u0456. <sup>1</sup></p>"},{"location":"uk/using-tiles/getting-started-with-leaflet/#\u0414\u043e\u0434\u0430\u0442\u043a\u043e\u0432\u0456-\u043f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f","title":"\u0414\u043e\u0434\u0430\u0442\u043a\u043e\u0432\u0456 \u043f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f","text":"<p>\u042f\u043a\u0449\u043e \u0432\u0438 \u0431\u0430\u0436\u0430\u0454\u0442\u0435:</p> <ul> <li>\u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0456\u043d\u0448\u0435 \u0442\u043b\u043e?\u00a0\u2192 Leaflet \u043c\u0430\u0454 \u043f\u0456\u0434\u0442\u0440\u0438\u043c\u043a\u0443 TMS \u0442\u0430 WMS. \u041f\u043e\u0434\u0438\u0432\u0456\u0442\u044c\u0441\u044f \u0442\u0443\u0442, \u044f\u043a\u0456 \u0456\u043d\u0448\u0456 \u043c\u043e\u0436\u043b\u0438\u0432\u043e\u0441\u0442\u0456 \u043c\u0430\u0454 Leaflet.</li> <li>\u0434\u043e\u0434\u0430\u0442\u0438 \u0440\u043e\u0437\u0442\u0430\u0448\u0443\u0432\u0430\u043d\u043d\u044f \u0432\u0441\u0456\u0445 \u043e\u0444\u0456\u0441\u0456\u0432 \u0432\u0430\u0448\u043e\u0457 \u043a\u043e\u043c\u043f\u0430\u043d\u0456\u0457?\u00a0\u2192 \u0417\u0431\u0435\u0440\u0435\u0436\u0456\u0442\u044c \u043a\u043e\u043e\u0440\u0434\u0438\u043d\u0430\u0442\u0438 \u0443 \u0444\u0430\u0439\u043b GeoJSON \u0442\u0430 \u0434\u043e\u0434\u0430\u0439\u0442\u0435 \u0457\u0445 \u043d\u0430 \u043c\u0430\u043f\u0443.</li> <li>\u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0456\u043d\u0448\u0443 \u043a\u0430\u0440\u0442\u043e\u0433\u0440\u0430\u0444\u0456\u0447\u043d\u0443 \u043f\u0440\u043e\u0454\u043a\u0446\u0456\u044e?\u00a0\u2192 \u0412\u0442\u0443\u043b\u043e\u043a Proj4Leaflet \u0434\u043e\u043f\u043e\u043c\u043e\u0436\u0435 \u0432\u0430\u043c \u0432 \u0446\u044c\u043e\u043c\u0443.</li> </ul> <ol> <li> <p>\u0428\u0432\u0438\u0434\u043a\u0438\u0439 \u0441\u0442\u0430\u0440\u0442\u00a0\u2013 https://leafletjs.com/examples/quick-start/ \u21a9</p> </li> </ol>"},{"location":"uk/using-tiles/getting-started-with-maplibre/","title":"\u041f\u043e\u0447\u0430\u0442\u043e\u043a \u0440\u043e\u0431\u043e\u0442\u0438 \u0437 MapLibre GL","text":""},{"location":"uk/using-tiles/getting-started-with-maplibre/#\u041f\u043e\u0447\u0430\u0442\u043e\u043a-\u0440\u043e\u0431\u043e\u0442\u0438-\u0437-MapLibre-GL","title":"\u041f\u043e\u0447\u0430\u0442\u043e\u043a \u0440\u043e\u0431\u043e\u0442\u0438 \u0437 MapLibre GL","text":""},{"location":"uk/using-tiles/getting-started-with-maplibre/#\u0412\u0441\u0442\u0443\u043f","title":"\u0412\u0441\u0442\u0443\u043f","text":"<p>MapLibre GL JS \u2014 \u0446\u0435 \u0431\u0456\u0431\u043b\u0456\u043e\u0442\u0435\u043a\u0430 TypeScript, \u044f\u043a\u0430 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454 WebGL \u0434\u043b\u044f \u0432\u0431\u0443\u0434\u043e\u0432\u0443\u0432\u0430\u043d\u043d\u044f \u043c\u0430\u043f. \u0412\u043e\u043d\u0430 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454 \u0432\u0456\u0434\u043a\u0440\u0438\u0442\u0443 \u043b\u0456\u0446\u0435\u043d\u0437\u0456\u044e BSD, \u0442\u043e\u043c\u0443 \u0457\u0457 \u043c\u043e\u0436\u043d\u0430 \u0456\u043d\u0442\u0435\u0433\u0440\u0443\u0432\u0430\u0442\u0438 \u0432 \u0431\u0443\u0434\u044c-\u044f\u043a\u0438\u0439 \u0441\u0430\u0439\u0442 \u0431\u0435\u0437 \u044e\u0440\u0438\u0434\u0438\u0447\u043d\u0438\u0445 \u043f\u0440\u043e\u0431\u043b\u0435\u043c. \u0407\u0457 \u0432\u0438\u0445\u0456\u0434\u043d\u0438\u0439 \u043a\u043e\u0434 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0438\u0439 \u043d\u0430 GitHub.</p> <p>\u0422\u0443\u0442 \u043c\u0438 \u043e\u0431\u043c\u0435\u0436\u0438\u043c\u043e\u0441\u044f \u043d\u0435\u0432\u0435\u043b\u0438\u043a\u0438\u043c, \u0441\u0430\u043c\u043e\u0441\u0442\u0456\u0439\u043d\u0438\u043c \u043f\u0440\u0438\u043a\u043b\u0430\u0434\u043e\u043c, \u0430 \u0434\u043b\u044f \u0434\u0435\u0442\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u043e\u0437\u043d\u0430\u0439\u043e\u043c\u043b\u0435\u043d\u043d\u044f \u0437\u0432\u0435\u0440\u043d\u0456\u0442\u044c\u0441\u044f \u0434\u043e \u043e\u0444\u0456\u0446\u0456\u0439\u043d\u0438\u0445 \u043d\u0430\u0432\u0447\u0430\u043b\u044c\u043d\u0438\u0445 \u043f\u043e\u0441\u0456\u0431\u043d\u0438\u043a\u0456\u0432 \u0442\u0430 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0456\u0457.</p>"},{"location":"uk/using-tiles/getting-started-with-maplibre/#\u0428\u0432\u0438\u0434\u043a\u0438\u0439-\u0441\u0442\u0430\u0440\u0442","title":"\u0428\u0432\u0438\u0434\u043a\u0438\u0439 \u0441\u0442\u0430\u0440\u0442","text":"<p>\u0414\u043b\u044f \u043f\u043e\u043a\u0430\u0437\u0443 \u043c\u0430\u043f\u0438 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u0456 \u0442\u0440\u0438 \u0440\u0435\u0447\u0456: \u0434\u0436\u0435\u0440\u0435\u043b\u043e \u0434\u0430\u043d\u0438\u0445, \u0441\u0442\u0438\u043b\u044c \u043c\u0430\u043f\u0438 \u0442\u0430 \u0441\u0430\u0439\u0442, \u043d\u0430 \u044f\u043a\u043e\u043c\u0443 \u0432\u0441\u0435 \u0446\u0435 \u0440\u043e\u0437\u043c\u0456\u0449\u0443\u0454\u0442\u044c\u0441\u044f. \u041c\u0438 \u0431\u0443\u0434\u0435\u043c\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0442\u0430\u0439\u043b\u0438 Shortbread \u0432\u0456\u0434 OpenStreetMap Foundation, \u0441\u0442\u0438\u043b\u044c Versatiles Colorful \u0442\u0430 \u0432\u0435\u0431\u0441\u0430\u0439\u0442, \u044f\u043a\u0438\u0439 \u0432\u0438 \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u0435.</p> <p>\u0425\u043e\u0441\u0442\u0438\u043d\u0433</p> <p>\u0414\u0435\u044f\u043a\u0456 \u0444\u0443\u043d\u043a\u0446\u0456\u0457 \u0432\u0435\u0431\u043e\u0433\u043b\u044f\u0434\u0430\u0447\u0430 \u0432\u0438\u043c\u0430\u0433\u0430\u044e\u0442\u044c, \u0449\u043e\u0431 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0430 \u043e\u0431\u0441\u043b\u0443\u0433\u043e\u0432\u0443\u0432\u0430\u043b\u0430\u0441\u044f \u0437 \u0431\u0435\u0437\u043f\u0435\u0447\u043d\u043e\u0433\u043e \u043c\u0456\u0441\u0446\u044f. \u0426\u0435 \u0432\u0435\u0431\u0441\u0430\u0439\u0442 \u0437 HTTPS \u0430\u0431\u043e \u0432\u0430\u0448 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u0438\u0439 \u043a\u043e\u043c\u043f\u02bc\u044e\u0442\u0435\u0440. \u041c\u0438 \u043f\u0440\u0438\u043f\u0443\u0441\u043a\u0430\u0454\u043c\u043e, \u0449\u043e \u0443 \u0432\u0430\u0441 \u0454 \u0432\u0435\u0431\u0445\u043e\u0441\u0442\u0438\u043d\u0433 \u0434\u043b\u044f \u00abexample.com\u00bb, \u044f\u043a\u0438\u0439 \u0434\u043e\u0437\u0432\u043e\u043b\u044f\u0454 \u043e\u0431\u0441\u043b\u0443\u0433\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0444\u0430\u0439\u043b\u0438 \u0437 \u0434\u0438\u0441\u043a\u0430, \u0456 \u0449\u043e \u0432\u0438 \u0437\u043d\u0430\u0454\u0442\u0435, \u044f\u043a \u043a\u043e\u043f\u0456\u044e\u0432\u0430\u0442\u0438 \u0444\u0430\u0439\u043b\u0438 \u043d\u0430 \u0432\u0435\u0431\u0445\u043e\u0441\u0442\u0438\u043d\u0433.</p>"},{"location":"uk/using-tiles/getting-started-with-maplibre/#\u0412\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f-\u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043d\u043e\u0433\u043e-\u0437\u0430\u0431\u0435\u0437\u043f\u0435\u0447\u0435\u043d\u043d\u044f","title":"\u0412\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043d\u043e\u0433\u043e \u0437\u0430\u0431\u0435\u0437\u043f\u0435\u0447\u0435\u043d\u043d\u044f","text":"<p>\u041d\u0430\u043c \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u0430 Node.js 18 \u0430\u0431\u043e \u043f\u0456\u0437\u043d\u0456\u0448\u0430 \u0432\u0435\u0440\u0441\u0456\u044f. \u042f\u043a\u0449\u043e \u0443 \u0432\u0430\u0441 Ubuntu 24.04 \u0430\u0431\u043e \u043f\u0456\u0437\u043d\u0456\u0448\u0430 \u0432\u0435\u0440\u0441\u0456\u044f, \u0430\u0431\u043e Debian 12 \u0430\u0431\u043e \u043f\u0456\u0437\u043d\u0456\u0448\u0430 \u0432\u0435\u0440\u0441\u0456\u044f, \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0438 \u0457\u0445 \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e</p> <pre><code>sudo apt-get install nodejs\n</code></pre> <p>\u0414\u043b\u044f \u0456\u043d\u0448\u0438\u0445 \u043e\u043f\u0435\u0440\u0430\u0446\u0456\u0439\u043d\u0438\u0445 \u0441\u0438\u0441\u0442\u0435\u043c \u0437\u0432\u0435\u0440\u043d\u0456\u0442\u044c\u0441\u044f \u0434\u043e \u0457\u0445\u043d\u044c\u043e\u0457 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0456\u0457. \u0412\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u0435\u0440\u0435\u0432\u0456\u0440\u0438\u0442\u0438 \u0432\u0435\u0440\u0441\u0456\u044e Node.js, \u044f\u043a\u0443 \u0432\u0438 \u043c\u0430\u0454\u0442\u0435, \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e \u043a\u043e\u043c\u0430\u043d\u0434\u0438 <code>node --version</code>. \u042f\u043a\u0449\u043e \u0432\u043e\u043d\u0430 \u043d\u0438\u0436\u0447\u0430 \u0437\u0430 18, \u0432\u0430\u043c \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0431\u0443\u0434\u0435 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0438 \u0432\u043b\u0430\u0441\u043d\u0443 \u0432\u0435\u0440\u0441\u0456\u044e Node. \u041e\u0434\u0438\u043d \u0437\u0456 \u0441\u043f\u043e\u0441\u043e\u0431\u0456\u0432 \u0437\u0440\u043e\u0431\u0438\u0442\u0438 \u0446\u0435 \u2014 \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e nvm.</p>"},{"location":"uk/using-tiles/getting-started-with-maplibre/#\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f-\u0441\u0442\u0438\u043b\u044e","title":"\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u0441\u0442\u0438\u043b\u044e","text":"<p>\u041c\u0438 \u0431\u0443\u0434\u0435\u043c\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u044f\u0441\u043a\u0440\u0430\u0432\u0438\u0439 \u0441\u0442\u0438\u043b\u044c VersaTiles, \u0431\u0430\u0437\u043e\u0432\u0438\u0439 \u0441\u0442\u0438\u043b\u044c, \u044f\u043a\u0438\u0439 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454 \u0442\u0430\u0439\u043b\u0438 Shortbread. \u0421\u0445\u0435\u043c\u0430 \u0432\u0435\u043a\u0442\u043e\u0440\u043d\u0438\u0445 \u0442\u0430\u0439\u043b\u0456\u0432 Shortbread \u2014 \u0446\u0435 \u0443\u043d\u0456\u0432\u0435\u0440\u0441\u0430\u043b\u044c\u043d\u0430 \u0441\u0445\u0435\u043c\u0430 \u0432\u0435\u043a\u0442\u043e\u0440\u043d\u0438\u0445 \u0442\u0430\u0439\u043b\u0456\u0432 \u0434\u043b\u044f \u0434\u0430\u043d\u0438\u0445 OpenStreetMap. \u0429\u043e\u0431 \u043e\u0442\u0440\u0438\u043c\u0430\u0442\u0438 \u0442\u0430\u0439\u043b\u0438, \u043c\u0438 \u0431\u0443\u0434\u0435\u043c\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0441\u043b\u0443\u0436\u0431\u0443 \u0442\u0430\u0439\u043b\u0456\u0432 Shortbread \u0432\u0456\u0434 OpenStreetMap Foundation.</p> <p>\u0412\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f \u0432\u0435\u043a\u0442\u043e\u0440\u043d\u0438\u0445 \u0442\u0430\u0439\u043b\u0456\u0432 \u0440\u0435\u0433\u0443\u043b\u044e\u0454\u0442\u044c\u0441\u044f \u043f\u043e\u043b\u0456\u0442\u0438\u043a\u043e\u044e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f \u0432\u0435\u043a\u0442\u043e\u0440\u043d\u0438\u0445 \u0442\u0430\u0439\u043b\u0456\u0432. \u0426\u044f \u0432\u0435\u0431-\u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0430 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u0430\u0454 \u0432\u0438\u043c\u043e\u0433\u0430\u043c, \u0430\u043b\u0435 \u043d\u0435 \u0456\u0441\u043d\u0443\u0454 SLA \u0430\u0431\u043e \u0433\u0430\u0440\u0430\u043d\u0442\u0456\u0457 \u0449\u043e\u0434\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f \u0432\u0435\u043a\u0442\u043e\u0440\u043d\u0438\u0445 \u0442\u0430\u0439\u043b\u0456\u0432. \u042f\u043a\u0449\u043e \u0432\u0430\u043c \u0446\u0435 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e, \u0432\u0438 \u043f\u043e\u0432\u0438\u043d\u043d\u0456 \u0440\u043e\u0437\u043c\u0456\u0441\u0442\u0438\u0442\u0438 \u0457\u0445 \u0441\u0430\u043c\u043e\u0441\u0442\u0456\u0439\u043d\u043e \u0430\u0431\u043e \u0441\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u0442\u0438\u0441\u044f \u043f\u043e\u0441\u043b\u0443\u0433\u0430\u043c\u0438 \u043a\u043e\u043c\u0435\u0440\u0446\u0456\u0439\u043d\u043e\u0433\u043e \u0445\u043e\u0441\u0442\u0438\u043d\u0433\u0443.</p> <p>\u0421\u0442\u0438\u043b\u044c \u0432\u0438\u043c\u0430\u0433\u0430\u0454 \u0432\u0438\u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f \u0441\u0442\u0438\u043b\u044e, \u0444\u0430\u0439\u043b\u0456\u0432 \u0441\u043f\u0440\u0430\u0439\u0442\u0456\u0432 \u0434\u043b\u044f \u0431\u0443\u0434\u044c-\u044f\u043a\u0438\u0445 \u043f\u0456\u043a\u0442\u043e\u0433\u0440\u0430\u043c \u0442\u0430 \u0444\u0430\u0439\u043b\u0456\u0432 \u0433\u043b\u0456\u0444\u0456\u0432 \u0434\u043b\u044f \u0431\u0443\u0434\u044c-\u044f\u043a\u0438\u0445 \u0448\u0440\u0438\u0444\u0442\u0456\u0432. \u041c\u0438 \u0441\u0442\u0432\u043e\u0440\u0438\u043c\u043e \u0432\u0438\u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f \u0441\u0442\u0438\u043b\u044e, \u044f\u043a\u0435 \u0432\u043a\u0430\u0437\u0443\u0432\u0430\u0442\u0438\u043c\u0435 \u043d\u0430 \u043d\u0430\u0448\u0456 \u0432\u043b\u0430\u0441\u043d\u0456 \u0444\u0430\u0439\u043b\u0438 \u0441\u043f\u0440\u0430\u0439\u0442\u0456\u0432 \u0442\u0430 \u0433\u043b\u0456\u0444\u0456\u0432.</p> <p>\u041f\u043e\u0447\u043d\u0456\u0442\u044c \u0437\u0456 \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u043d\u043e\u0432\u043e\u0457 \u0442\u0435\u043a\u0438 \u0434\u043b\u044f \u0437\u0431\u0435\u0440\u0456\u0433\u0430\u043d\u043d\u044f \u0444\u0430\u0439\u043b\u0456\u0432, \u044f\u043a\u0456 \u0432\u0438 \u0431\u0443\u0434\u0435\u0442\u0435 \u0441\u0442\u0432\u043e\u0440\u044e\u0432\u0430\u0442\u0438. \u0423 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0456\u0457 \u043c\u0438 \u043d\u0430\u0437\u0432\u0435\u043c\u043e \u0457\u0457 <code>style</code>, \u0430\u043b\u0435 \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u0442\u0438 \u0457\u0457 \u044f\u043a \u0437\u0430\u0432\u0433\u043e\u0434\u043d\u043e. \u0423 \u0446\u0456\u0439 \u0442\u0435\u0446\u0456 \u043c\u0438 \u0441\u0442\u0432\u043e\u0440\u0438\u043c\u043e \u0432\u0441\u0456 \u043d\u0435\u043e\u0431\u0445\u0456\u0434\u043d\u0456 \u0444\u0430\u0439\u043b\u0438 \u0442\u0430 \u0440\u043e\u0437\u043c\u0456\u0441\u0442\u0438\u043c\u043e \u0457\u0445 \u0443 \u043f\u0456\u0434\u0442\u0435\u0446\u0456 <code>release</code>.</p> <pre><code>mkdir style\ncd style\nmkdir release\n</code></pre> <p>\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u0441\u043f\u0440\u0430\u0439\u0442\u0456\u0432 \u0456 \u0433\u043b\u0456\u0444\u0456\u0432 \u043c\u043e\u0436\u0435 \u0431\u0443\u0442\u0438 \u0441\u043a\u043b\u0430\u0434\u043d\u0438\u043c \u043f\u0440\u043e\u0446\u0435\u0441\u043e\u043c, \u0430\u043b\u0435 \u043e\u0441\u043a\u0456\u043b\u044c\u043a\u0438 \u043d\u0430\u043c \u043d\u0435 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0457\u0445 \u043c\u043e\u0434\u0438\u0444\u0456\u043a\u0443\u0432\u0430\u0442\u0438, \u043c\u0438 \u0431\u0443\u0434\u0435\u043c\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0433\u043e\u0442\u043e\u0432\u0456.</p> <pre><code>curl -OL https://github.com/versatiles-org/versatiles-style/releases/download/v5.7.0/sprites.tar.gz\nmkdir -p release/sprites\ntar -C release/sprites -xzf sprites.tar.gz\n\ncurl -OL https://github.com/versatiles-org/versatiles-fonts/releases/download/v2.0.0/fonts.tar.gz\nmkdir -p release/fonts\ntar -C release/fonts -xzf fonts.tar.gz\n</code></pre> <p>\u0422\u0435\u043f\u0435\u0440 \u043d\u0430\u043c \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0441\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u0441\u0442\u0438\u043b\u044c, \u0449\u043e\u0431 \u0432\u0456\u043d \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0432 \u043d\u0430\u0448\u0443 \u043d\u043e\u0432\u0443 \u043a\u043e\u043f\u0456\u044e \u0433\u043b\u0456\u0444\u0456\u0432 \u0456 \u0441\u043f\u0440\u0430\u0439\u0442\u0456\u0432.</p> <p>\u0421\u043a\u043e\u043f\u0456\u044e\u0439\u0442\u0435 \u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0438\u0439 \u0432\u043c\u0456\u0441\u0442 \u0443 \u0444\u0430\u0439\u043b build.ts, \u0430\u043b\u0435 \u0437\u0430\u043c\u0456\u043d\u0456\u0442\u044c \u00abexample.com\u00bb \u043d\u0430 URL-\u0430\u0434\u0440\u0435\u0441\u0443, \u0437 \u044f\u043a\u043e\u0457 \u0432\u0438 \u0431\u0443\u0434\u0435\u0442\u0435 \u043d\u0430\u0434\u0430\u0432\u0430\u0442\u0438 \u0442\u0430\u0439\u043b\u0438, \u0432\u043a\u043b\u044e\u0447\u0430\u044e\u0447\u0438 \u0432\u0430\u0448\u0435 \u0434\u043e\u043c\u0435\u043d\u043d\u0435 \u0456\u043c\u02bc\u044f.</p> build.ts<pre><code>import { colorful } from \"@versatiles/style\";\nimport { writeFileSync } from \"node:fs\";\n\nconst style = colorful({\n    baseUrl: \"https://example.com\",\n    glyphs: \"/fonts/{fontstack}/{range}.pbf\",\n    sprite: \"/sprites/basics/sprites\",\n    tiles: [\"https://vector.openstreetmap.org/shortbread_v1/{z}/{x}/{y}.mvt\"]\n});\nwriteFileSync(\"release/style.json\", JSON.stringify(style));\n</code></pre> <p>\u0423 \u0442\u0456\u0439 \u0441\u0430\u043c\u0456\u0439 \u0442\u0435\u0446\u0456 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u0456\u0442\u044c TypeScript \u0456 \u0441\u0442\u0438\u043b\u0456 VersaTiles, \u0430 \u043f\u043e\u0442\u0456\u043c \u0437\u0430\u043f\u0443\u0441\u0442\u0456\u0442\u044c \u0432\u0438\u0449\u0435\u0432\u043a\u0430\u0437\u0430\u043d\u0438\u0439 \u0441\u043a\u0440\u0438\u043f\u0442, \u0449\u043e\u0431 \u0441\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u0441\u0432\u0456\u0439 \u0441\u0442\u0438\u043b\u044c..</p> <pre><code>npm install tsx @versatiles/style@~5.7.0\nnode_modules/.bin/tsx build.ts\n</code></pre> <p>\u0421\u043a\u043e\u043f\u0456\u044e\u0439\u0442\u0435 \u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0438\u0439 \u0432\u043c\u0456\u0441\u0442 \u0443 \u0444\u0430\u0439\u043b maplibre.html \u0456 \u043f\u043e\u043c\u0456\u0441\u0442\u0456\u0442\u044c \u0439\u043e\u0433\u043e \u0432 \u0442\u0435\u043a\u0443 <code>release</code>.</p> maplibre.html<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n  &lt;meta name=\"viewport\" content=\"initial-scale=1,maximum-scale=1,user-scalable=no\" /&gt;\n  &lt;script src='https://unpkg.com/maplibre-gl@5.6/dist/maplibre-gl.js'&gt;&lt;/script&gt;\n  &lt;link href='https://unpkg.com/maplibre-gl@5.6/dist/maplibre-gl.css' rel='stylesheet' /&gt;\n\n  &lt;style&gt;\n    #map {position: absolute; top: 0; right: 0; bottom: 0; left: 0;}\n  &lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n  &lt;div id=\"map\"&gt;&lt;/div&gt;\n  &lt;script&gt;\n    maplibregl.setRTLTextPlugin(\n        'https://unpkg.com/@mapbox/mapbox-gl-rtl-text@0.3.0/dist/mapbox-gl-rtl-text.js',\n        true // Lazy load the plugin\n    );\n\n    const map = new maplibregl.Map({\n      style: new URL('style.json', window.location.href).href,\n      container: 'map',\n      center: [0, 0],\n      zoom: 1,\n      hash: true,\n      maxZoom: 19\n    });\n  &lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>"},{"location":"uk/using-tiles/getting-started-with-maplibre/#\u0412\u0438\u043f\u0443\u0441\u043a-\u0441\u0442\u0438\u043b\u044e","title":"\u0412\u0438\u043f\u0443\u0441\u043a \u0441\u0442\u0438\u043b\u044e","text":"<p>\u0421\u043a\u043e\u043f\u0456\u044e\u0439\u0442\u0435 \u0432\u043c\u0456\u0441\u0442 \u0442\u0435\u043a\u0438 <code>release</code> \u0443 \u0432\u0438\u0431\u0440\u0430\u043d\u0435 \u0440\u0430\u043d\u0456\u0448\u0435 \u043c\u0456\u0441\u0446\u0435, \u0437 \u044f\u043a\u043e\u0433\u043e \u0432\u0438 \u0431\u0443\u0434\u0435\u0442\u0435 \u043e\u0431\u0441\u043b\u0443\u0433\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0444\u0430\u0439\u043b\u0438. \u0417\u0430\u0437\u0432\u0438\u0447\u0430\u0439 \u0446\u0435 \u0440\u043e\u0431\u0438\u0442\u044c\u0441\u044f \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e \u043a\u043e\u043c\u0430\u043d\u0434\u0438 scp \u0430\u0431\u043e rsync, \u0430\u0431\u043e \u0447\u0435\u0440\u0435\u0437 \u0432\u0435\u0431\u0456\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441.</p>"},{"location":"uk/using-tiles/getting-started-with-maplibre/#\u041f\u043e\u0448\u0438\u0440\u0435\u043d\u0456-\u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0438","title":"\u041f\u043e\u0448\u0438\u0440\u0435\u043d\u0456 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0438","text":""},{"location":"uk/using-tiles/getting-started-with-maplibre/#node_modulesbintsx-buildts-\u043d\u0435-\u0432\u0434\u0430\u0454\u0442\u044c\u0441\u044f-\u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u0438","title":"<code>node_modules/.bin/tsx build.ts</code> \u043d\u0435 \u0432\u0434\u0430\u0454\u0442\u044c\u0441\u044f \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u0438","text":"<p>\u042f\u043a\u0449\u043e \u0443 \u0432\u0430\u0441 \u0437\u0430\u0441\u0442\u0430\u0440\u0456\u043b\u0430 \u0432\u0435\u0440\u0441\u0456\u044f node, \u0446\u044f \u043a\u043e\u043c\u0430\u043d\u0434\u0430 \u043d\u0435 \u0431\u0443\u0434\u0435 \u043f\u0440\u0430\u0446\u044e\u0432\u0430\u0442\u0438. \u0412\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u0438\u043f\u0440\u0430\u0432\u0438\u0442\u0438 \u0446\u0435, \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0432\u0448\u0438 \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u0443 \u0432\u0435\u0440\u0441\u0456\u044e \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e nvm, \u044f\u043a \u043e\u043f\u0438\u0441\u0430\u043d\u043e \u0440\u0430\u043d\u0456\u0448\u0435.</p>"},{"location":"uk/using-tiles/getting-started-with-maplibre/#\u041d\u0430-\u0432\u0435\u0431\u0441\u0442\u043e\u0440\u0456\u043d\u0446\u0456-\u043d\u0456\u0447\u043e\u0433\u043e-\u043d\u0435-\u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0443\u0454\u0442\u044c\u0441\u044f","title":"\u041d\u0430 \u0432\u0435\u0431\u0441\u0442\u043e\u0440\u0456\u043d\u0446\u0456 \u043d\u0456\u0447\u043e\u0433\u043e \u043d\u0435 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0443\u0454\u0442\u044c\u0441\u044f","text":"<p>\u0412\u0456\u0434\u043a\u0440\u0438\u0439\u0442\u0435 \u0456\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u0438 \u0440\u043e\u0437\u0440\u043e\u0431\u043d\u0438\u043a\u0430 \u0443 \u0441\u0432\u043e\u0454\u043c\u0443 \u0432\u0435\u0431\u043e\u0433\u043b\u044f\u0434\u0430\u0447\u0456 \u0442\u0430 \u043f\u043e\u0434\u0438\u0432\u0456\u0442\u044c\u0441\u044f \u0432 \u043a\u043e\u043d\u0441\u043e\u043b\u044c. \u041d\u0430\u0439\u043f\u043e\u0448\u0438\u0440\u0435\u043d\u0456\u0448\u043e\u044e \u043f\u0440\u0438\u0447\u0438\u043d\u043e\u044e \u0432\u0456\u0434\u0441\u0443\u0442\u043d\u043e\u0441\u0442\u0456 \u0432\u0456\u0434\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f \u0454 \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u0456 URL-\u0430\u0434\u0440\u0435\u0441\u0438.</p>"},{"location":"uk/using-tiles/getting-started-with-openlayers/","title":"\u0412\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f OpenLayers","text":""},{"location":"uk/using-tiles/getting-started-with-openlayers/#\u0412\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f-OpenLayers","title":"\u0412\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f OpenLayers","text":""},{"location":"uk/using-tiles/getting-started-with-openlayers/#\u0412\u0441\u0442\u0443\u043f","title":"\u0412\u0441\u0442\u0443\u043f","text":"<p>OpenLayers\u00a0\u2013 \u0446\u0435 \u0431\u0430\u0433\u0430\u0442\u043e\u0444\u0443\u043d\u043a\u0446\u0456\u043e\u043d\u0430\u043b\u044c\u043d\u0430 \u0431\u0456\u0431\u043b\u0456\u043e\u0442\u0435\u043a\u0430 JavaScript \u0434\u043b\u044f \u043f\u043e\u043a\u0430\u0437\u0443 \u043c\u0430\u043f. \u0412\u043e\u043d\u0430 \u0440\u043e\u0437\u043f\u043e\u0432\u0441\u044e\u0434\u0436\u0443\u0454\u0442\u044c\u0441\u044f \u043d\u0430 \u0443\u043c\u043e\u0432\u0430\u0445 \u0434\u043e\u0437\u0432\u0456\u043b\u044c\u043d\u043e\u0457 \u041b\u0456\u0446\u0435\u043d\u0437\u0456\u0457 BSD \u0434\u043b\u044f \u043a\u043e\u0434\u0443 \u0437 \u0432\u0456\u0434\u043a\u0440\u0438\u0442\u0438\u043c\u0438 \u0441\u0438\u0440\u0446\u044f\u043c\u0438, \u0442\u043e\u0436 \u0457\u0457 \u043c\u043e\u0436\u043d\u0430 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u043d\u0430 \u0431\u0443\u0434\u044c-\u044f\u043a\u043e\u043c\u0443 \u0441\u0430\u0439\u0442\u0456 \u0431\u0435\u0437 \u043f\u043e\u0431\u043e\u044e\u0432\u0430\u043d\u044c \u043f\u043e\u0440\u0443\u0448\u0435\u043d\u043d\u044f \u044e\u0440\u0438\u0434\u0438\u0447\u043d\u0438\u0445 \u043d\u043e\u0440\u043c. \u0421\u0438\u0440\u0446\u0456 \u0431\u0456\u0431\u043b\u0456\u043e\u0442\u0435\u043a\u0438 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0456 \u043d\u0430 GitHub.</p>"},{"location":"uk/using-tiles/getting-started-with-openlayers/#\u0428\u0432\u0438\u0434\u043a\u0438\u0439-\u0441\u0442\u0430\u0440\u0442","title":"\u0428\u0432\u0438\u0434\u043a\u0438\u0439 \u0441\u0442\u0430\u0440\u0442","text":"<p>\u0417\u0440\u0430\u0437\u043e\u043a \u0440\u043e\u0437\u0433\u043e\u0440\u0442\u0430\u043d\u043d\u044f \u043c\u0430\u043f \u0437 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f\u043c \u0431\u0456\u0431\u043b\u0456\u043e\u0442\u0435\u043a\u0438 OpenLayers \u0434\u043e\u043a\u043b\u0430\u0434\u043d\u043e \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0439 \u0432 \u0440\u043e\u0437\u0434\u0456\u043b\u0456 Quick Start \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0456\u0457 OpenLayers. \u0412\u0456\u043d \u0432\u0438\u043c\u0430\u0433\u0430\u0454 \u0434\u043e\u043a\u043b\u0430\u0434\u0430\u043d\u043d\u044f \u0442\u0440\u043e\u0445\u0438 \u0437\u0443\u0441\u0438\u043b\u044c, \u043f\u043e\u0432\u02bc\u044f\u0437\u0430\u043d\u0438\u0445 \u0437\u0456 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f\u043c \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0438 node.js \u0442\u0430 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u043d\u0430 \u043d\u0435\u0457 \u0431\u0456\u0431\u043b\u0456\u043e\u0442\u0435\u043a\u0438, \u0442\u043e\u0436 \u043c\u0438 \u043d\u0435 \u0431\u0443\u0434\u0435\u043c\u043e \u0442\u0443\u0442 \u043d\u0430 \u0446\u044c\u043e\u043c\u0443 \u0437\u0443\u043f\u0438\u043d\u044f\u0442\u0438\u0441\u044c.</p>"},{"location":"uk/using-tiles/getting-started-with-openlayers/#\u0414\u043e\u0434\u0430\u0442\u043a\u043e\u0432\u0456-\u043f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f","title":"\u0414\u043e\u0434\u0430\u0442\u043a\u043e\u0432\u0456 \u043f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f","text":"<p>\u042f\u043a\u0449\u043e \u0432\u0438 \u0431\u0430\u0436\u0430\u0454\u0442\u0435:</p> <ul> <li>\u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0456\u043d\u0448\u0435 \u0442\u043b\u043e?\u00a0\u2192 Openlayers \u043c\u0430\u0454 \u043f\u0456\u0434\u0442\u0440\u0438\u043c\u043a\u0443 TMS \u0442\u0430 WMS. \u041e\u0437\u043d\u0430\u0439\u043e\u043c\u0442\u0435\u0441\u044c \u0437 \u043f\u0440\u0438\u043a\u043b\u0430\u0434\u0430\u043c\u0438 \u0437 \u043e\u0444\u0456\u0446\u0456\u0439\u043d\u043e\u0433\u043e \u0441\u0430\u0439\u0442\u0443 Openlayers \u0442\u0430 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0456\u0454\u044e \u0434\u043e API, \u0449\u043e\u0431 \u0434\u0456\u0437\u043d\u0430\u0442\u0438\u0441\u044c \u043f\u0440\u043e \u043d\u0430\u044f\u0432\u043d\u0456 \u043c\u043e\u0436\u043b\u0438\u0432\u043e\u0441\u0442\u0456.</li> <li>\u0434\u043e\u0434\u0430\u0442\u0438 \u0440\u043e\u0437\u0442\u0430\u0448\u0443\u0432\u0430\u043d\u043d\u044f \u0432\u0441\u0456\u0445 \u043e\u0444\u0456\u0441\u0456\u0432 \u0432\u0430\u0448\u043e\u0457 \u043a\u043e\u043c\u043f\u0430\u043d\u0456\u0457?\u00a0\u2192 \u0417\u0431\u0435\u0440\u0435\u0436\u0456\u0442\u044c \u043a\u043e\u043e\u0440\u0434\u0438\u043d\u0430\u0442\u0438 \u0443 \u0444\u0430\u0439\u043b GeoJSON \u0442\u0430 \u0434\u043e\u0434\u0430\u0439\u0442\u0435 \u0457\u0445 \u043d\u0430 \u043c\u0430\u043f\u0443.</li> <li>\u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0456\u043d\u0448\u0443 \u043a\u0430\u0440\u0442\u043e\u0433\u0440\u0430\u0444\u0456\u0447\u043d\u0443 \u043f\u0440\u043e\u0454\u043a\u0446\u0456\u044e?\u00a0\u2192 OpenLayers \u043f\u0456\u0434\u0442\u0440\u0438\u043c\u0443\u0454 \u0432\u0441\u0456 \u043f\u0440\u043e\u0454\u043a\u0446\u0456\u0457 Proj4 \u0443 \u0440\u0430\u0437\u0456 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f JavaScript \u0431\u0456\u0431\u043b\u0456\u043e\u0442\u0435\u043a\u0438 proj4js. \u041a\u0440\u0456\u043c \u0442\u043e\u0433\u043e, \u043f\u0456\u0434\u0442\u0440\u0438\u043c\u0443\u0454\u0442\u044c\u0441\u044f \u0437\u043c\u0456\u043d\u0430 \u043f\u0440\u043e\u0454\u043a\u0446\u0456\u0457 \u043d\u0430 \u0441\u0442\u043e\u0440\u043e\u043d\u0456 \u043a\u043b\u0456\u0454\u043d\u0442\u0430 \u0434\u043b\u044f \u0440\u0430\u0441\u0442\u0440\u043e\u0432\u0438\u0445 \u0442\u0430\u0439\u043b\u0456\u0432, \u0442\u043e\u0436 \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0442\u0430\u0439\u043b\u0438 \u0437 OpenStreetMap \u0443 \u0432\u0430\u0448\u0456\u0439 \u0432\u043b\u0430\u0441\u043d\u0456\u0439 \u043f\u0440\u043e\u0454\u043a\u0446\u0456\u0457.</li> </ul>"},{"location":"uk/using-tiles/vector-map-tiles/","title":"\u041c\u043e\u0436\u043b\u0438\u0432\u043e\u0441\u0442\u0456 \u0432\u0435\u043a\u0442\u043e\u0440\u043d\u0438\u0445 \u0442\u0430\u0439\u043b\u0456\u0432","text":""},{"location":"uk/using-tiles/vector-map-tiles/#\u041c\u043e\u0436\u043b\u0438\u0432\u043e\u0441\u0442\u0456-\u0432\u0435\u043a\u0442\u043e\u0440\u043d\u0438\u0445-\u0442\u0430\u0439\u043b\u0456\u0432","title":"\u041c\u043e\u0436\u043b\u0438\u0432\u043e\u0441\u0442\u0456 \u0432\u0435\u043a\u0442\u043e\u0440\u043d\u0438\u0445 \u0442\u0430\u0439\u043b\u0456\u0432","text":""},{"location":"uk/using-tiles/vector-map-tiles/#\u0412\u0441\u0442\u0443\u043f","title":"\u0412\u0441\u0442\u0443\u043f","text":"<p>OSM \u0441\u0442\u0430\u0432 \u0446\u0456\u043d\u043d\u0438\u043c \u0440\u0435\u0441\u0443\u0440\u0441\u043e\u043c \u0434\u043b\u044f \u043e\u043a\u0440\u0435\u043c\u0438\u0445 \u043e\u0441\u0456\u0431 \u0442\u0430 \u043e\u0440\u0433\u0430\u043d\u0456\u0437\u0430\u0446\u0456\u0439, \u044f\u043a\u0456 \u043f\u0440\u0430\u0433\u043d\u0443\u0442\u044c \u0432\u0456\u0434\u043c\u043e\u0432\u0438\u0442\u0438\u0441\u044f \u0432\u0456\u0434 \u043f\u0440\u043e\u043f\u0440\u0456\u0454\u0442\u0430\u0440\u043d\u0438\u0445 \u043a\u0430\u0440\u0442\u043e\u0433\u0440\u0430\u0444\u0456\u0447\u043d\u0438\u0445 \u0441\u0435\u0440\u0432\u0456\u0441\u0456\u0432 \u0456 \u043f\u0440\u0438\u0439\u043d\u044f\u0442\u0438 \u0430\u043b\u044c\u0442\u0435\u0440\u043d\u0430\u0442\u0438\u0432\u0443 OpenStreetMap. \u041e\u0434\u043d\u0438\u043c \u0456\u0437 \u043a\u043b\u044e\u0447\u043e\u0432\u0438\u0445 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0456\u0432 \u0446\u044c\u043e\u0433\u043e \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0443 \u0454 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f \u0432\u0435\u043a\u0442\u043e\u0440\u043d\u0438\u0445 \u0442\u0430\u0439\u043b\u0456\u0432. \u0423 \u0446\u0456\u0439 \u0441\u0442\u0430\u0442\u0442\u0456 \u043c\u0438 \u0437\u0430\u0433\u043b\u0438\u0431\u0438\u043c\u043e\u0441\u044f \u0443 \u0441\u0432\u0456\u0442 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f \u0442\u0430\u0439\u043b\u0456\u0432 \u0432\u0435\u043a\u0442\u043e\u0440\u043d\u0438\u0445 \u043c\u0430\u043f, \u0434\u043e\u0441\u043b\u0456\u0434\u0438\u043c\u043e \u0457\u0445\u043d\u0456 \u043f\u0435\u0440\u0435\u0432\u0430\u0433\u0438, \u0457\u0445 \u0437\u0430\u0441\u0442\u043e\u0441\u0443\u0432\u0430\u043d\u043d\u044f, \u0442\u0430 \u0437\u043d\u0430\u0447\u043d\u0456 \u043f\u0435\u0440\u0435\u0432\u0430\u0433\u0438, \u044f\u043a\u0456 \u0432\u043e\u043d\u0438 \u043d\u0430\u0434\u0430\u044e\u0442\u044c \u0432\u0430\u0448\u0456\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u0456.</p>"},{"location":"uk/using-tiles/vector-map-tiles/#\u0429\u043e-\u0436-\u0442\u0430\u043a\u0435-\u0432\u0435\u043a\u0442\u043e\u0440\u043d\u0456-\u0442\u0430\u0439\u043b\u0438","title":"\u0429\u043e \u0436 \u0442\u0430\u043a\u0435 \u0432\u0435\u043a\u0442\u043e\u0440\u043d\u0456 \u0442\u0430\u0439\u043b\u0438?","text":"<p>\u0422\u0440\u0430\u0434\u0438\u0446\u0456\u0439\u043d\u043e \u0440\u0430\u0441\u0442\u0440\u043e\u0432\u0456 \u0442\u0430\u0439\u043b\u0438 \u0431\u0443\u043b\u0438 \u043e\u0441\u043d\u043e\u0432\u043d\u0438\u043c \u0444\u043e\u0440\u043c\u0430\u0442\u043e\u043c \u0434\u043b\u044f \u043f\u043e\u043a\u0430\u0437\u0443 \u043c\u0430\u043f \u0432 \u0406\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u0456. \u041f\u0440\u043e\u0442\u0435 \u0432\u0435\u043a\u0442\u043e\u0440\u043d\u0456 \u0442\u0430\u0439\u043b\u0438 \u043d\u0430\u0431\u0443\u043b\u0438 \u043f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u043e\u0441\u0442\u0456 \u0437\u0430\u0432\u0434\u044f\u043a\u0438 \u0441\u0432\u043e\u0457\u0439 \u0443\u043d\u0456\u0432\u0435\u0440\u0441\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0456 \u0442\u0430 \u0447\u0443\u0434\u043e\u0432\u0438\u043c \u043c\u043e\u0436\u043b\u0438\u0432\u043e\u0441\u0442\u044f\u043c \u0432\u0456\u0437\u0443\u0430\u043b\u0456\u0437\u0430\u0446\u0456\u0457. \u041d\u0430 \u0432\u0456\u0434\u043c\u0456\u043d\u0443 \u0432\u0456\u0434 \u0440\u0430\u0441\u0442\u0440\u043e\u0432\u0438\u0445 \u0442\u0430\u0439\u043b\u0456\u0432, \u044f\u043a\u0456 \u043f\u043e \u0441\u0443\u0442\u0456 \u0454 \u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f\u043c\u0438, \u0432\u0435\u043a\u0442\u043e\u0440\u043d\u0456 \u0442\u0430\u0439\u043b\u0438 \u0437\u0431\u0435\u0440\u0456\u0433\u0430\u044e\u0442\u044c \u0434\u0430\u043d\u0456 \u043c\u0430\u043f\u0438 \u0443 \u0432\u0435\u043a\u0442\u043e\u0440\u043d\u043e\u043c\u0443 \u0444\u043e\u0440\u043c\u0430\u0442\u0456. \u0426\u0456 \u0442\u0430\u0439\u043b\u0438 \u0454 \u043a\u043e\u043c\u043f\u0430\u043a\u0442\u043d\u0438\u043c\u0438, \u0433\u043d\u0443\u0447\u043a\u0438\u043c\u0438, \u0457\u0445 \u043c\u043e\u0436\u043d\u0430 \u0434\u0438\u043d\u0430\u043c\u0456\u0447\u043d\u043e \u0441\u0442\u0438\u043b\u0456\u0437\u0443\u0432\u0430\u0442\u0438 \u0442\u0430 \u0432\u0456\u0434\u0442\u0432\u043e\u0440\u044e\u0432\u0430\u0442\u0438 \u0432 \u0440\u0435\u0436\u0438\u043c\u0456 \u0440\u0435\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0447\u0430\u0441\u0443, \u0437\u0430\u0431\u0435\u0437\u043f\u0435\u0447\u0443\u044e\u0447\u0438 \u0431\u0435\u0437\u043f\u0435\u0440\u0435\u0431\u0456\u0439\u043d\u0443 \u0442\u0430 \u0456\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u0443 \u0440\u043e\u0431\u043e\u0442\u0443 \u0437 \u043c\u0430\u043f\u0430\u043c\u0438.</p>"},{"location":"uk/using-tiles/vector-map-tiles/#\u041f\u0435\u0440\u0435\u0432\u0430\u0433\u0438-\u0432\u0435\u043a\u0442\u043e\u0440\u043d\u0438\u0445-\u0442\u0430\u0439\u043b\u0456\u0432","title":"\u041f\u0435\u0440\u0435\u0432\u0430\u0433\u0438 \u0432\u0435\u043a\u0442\u043e\u0440\u043d\u0438\u0445 \u0442\u0430\u0439\u043b\u0456\u0432","text":"\u0414\u0438\u043d\u0430\u043c\u0456\u0447\u043d\u0456 \u0441\u0442\u0438\u043b\u0456 \u0412\u0435\u043a\u0442\u043e\u0440\u043d\u0456 \u0442\u0430\u043b\u0438 \u0434\u043e\u0437\u0432\u043e\u043b\u044f\u044e\u0442\u044c \u0440\u043e\u0437\u0440\u043e\u0431\u043d\u0438\u043a\u0430\u043c \u0437\u0430\u0441\u0442\u043e\u0441\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0434\u0438\u043d\u0430\u043c\u0456\u0447\u043d\u0456 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0438 \u0434\u043b\u044f \u0441\u0442\u0438\u043b\u0456\u0437\u0430\u0446\u0456\u0457 \u0435\u043b\u0435\u043c\u0435\u043d\u0442\u0456\u0432 \u043c\u0430\u043f\u0438, \u0437\u043e\u043a\u0440\u0435\u043c\u0430 \u0434\u043e\u0440\u0456\u0433, \u0431\u0443\u0434\u0456\u0432\u0435\u043b\u044c \u0456 \u0442\u043e\u0447\u043e\u043a \u0456\u043d\u0442\u0435\u0440\u0435\u0441\u0443. \u0426\u044f \u0433\u043d\u0443\u0447\u043a\u0456\u0441\u0442\u044c \u0434\u043e\u0437\u0432\u043e\u043b\u044f\u0454 \u043d\u0430\u043b\u0430\u0448\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0441\u0442\u0438\u043b\u0456 \u043c\u0430\u043f, \u0437\u0430\u0431\u0435\u0437\u043f\u0435\u0447\u0443\u044e\u0447\u0438 \u0443\u043d\u0456\u043a\u0430\u043b\u044c\u043d\u0435 \u0442\u0430 \u0430\u0434\u0430\u043f\u0442\u043e\u0432\u0430\u043d\u0435 \u0432\u0456\u0437\u0443\u0430\u043b\u044c\u043d\u0435 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043d\u044f \u0434\u0430\u043d\u0438\u0445 \u0434\u043b\u044f \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u0438\u0445 \u0432\u0438\u043f\u0430\u0434\u043a\u0456\u0432 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f. \u0415\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u0430 \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0430 \u0434\u0430\u043d\u0438\u0445 \u0412\u0435\u043a\u0442\u043e\u0440\u043d\u0456 \u0442\u0430\u0439\u043b\u0438 \u0437\u043d\u0430\u0447\u043d\u043e \u043c\u0435\u043d\u0448\u0456 \u043f\u043e\u0440\u0456\u0432\u043d\u044f\u043d\u043e \u0437 \u0440\u0430\u0441\u0442\u0440\u043e\u0432\u0438\u043c\u0438 \u0430\u043d\u0430\u043b\u043e\u0433\u0430\u043c\u0438. \u0426\u0435 \u043f\u0440\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u044c \u0434\u043e \u0448\u0432\u0438\u0434\u0448\u043e\u0433\u043e \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u0442\u0430 \u0437\u043c\u0435\u043d\u0448\u0435\u043d\u043d\u044f \u0432\u0438\u043c\u043e\u0433 \u0434\u043e \u043f\u0440\u043e\u043f\u0443\u0441\u043a\u043d\u043e\u0457 \u0437\u0434\u0430\u0442\u043d\u043e\u0441\u0442\u0456. \u041a\u043e\u043c\u043f\u0430\u043a\u0442\u043d\u0456\u0441\u0442\u044c \u0432\u0435\u043a\u0442\u043e\u0440\u043d\u0438\u0445 \u0442\u0430\u0439\u043b\u0456\u0432 \u0442\u0430\u043a\u043e\u0436 \u0437\u0430\u0431\u0435\u0437\u043f\u0435\u0447\u0443\u0454 \u0435\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u0443 \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0443 \u0434\u0430\u043d\u0438\u0445, \u0449\u043e \u0440\u043e\u0431\u0438\u0442\u044c \u0457\u0445 \u0456\u0434\u0435\u0430\u043b\u044c\u043d\u0438\u043c\u0438 \u0434\u043b\u044f \u0437\u0430\u0441\u0442\u043e\u0441\u0443\u043d\u043a\u0456\u0432 \u0437 \u043e\u0431\u043c\u0435\u0436\u0435\u043d\u0438\u043c \u0434\u043e\u0441\u0442\u0443\u043f\u043e\u043c \u0434\u043e \u0406\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u0443 \u0430\u0431\u043e \u0434\u043b\u044f \u043c\u043e\u0431\u0456\u043b\u044c\u043d\u0438\u0445 \u043f\u0440\u0438\u0441\u0442\u0440\u043e\u0457\u0432. \u0412\u0438\u0441\u043e\u043a\u0430 \u0440\u043e\u0437\u0434\u0456\u043b\u044c\u043d\u0430 \u0437\u0434\u0430\u0442\u043d\u0456\u0441\u0442\u044c \u0456 \u043c\u0430\u0441\u0448\u0442\u0430\u0431\u043e\u0432\u0430\u043d\u0456\u0441\u0442\u044c \u0417\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e \u0432\u0435\u043a\u0442\u043e\u0440\u043d\u0438\u0445 \u0442\u0430\u0439\u043b\u0456\u0432 \u043c\u0430\u043f\u0438 \u043c\u043e\u0436\u043d\u0430 \u043f\u043e\u043a\u0430\u0437\u0443\u0432\u0430\u0442\u0438 \u043d\u0430 \u0431\u0443\u0434\u044c-\u044f\u043a\u043e\u043c\u0443 \u0440\u0456\u0432\u043d\u0456 \u043c\u0430\u0441\u0448\u0442\u0430\u0431\u0443\u0432\u0430\u043d\u043d\u044f \u0431\u0435\u0437 \u043f\u043e\u0433\u0456\u0440\u0448\u0435\u043d\u043d\u044f \u0440\u043e\u0437\u0434\u0456\u043b\u044c\u043d\u043e\u0457 \u0437\u0434\u0430\u0442\u043d\u043e\u0441\u0442\u0456. \u0426\u044f \u043c\u0430\u0441\u0448\u0442\u0430\u0431\u043e\u0432\u0430\u043d\u0456\u0441\u0442\u044c \u0433\u0430\u0440\u0430\u043d\u0442\u0443\u0454, \u0449\u043e \u043c\u0430\u043f\u0430 \u0437\u0430\u043b\u0438\u0448\u0430\u0454\u0442\u044c\u0441\u044f \u0447\u0456\u0442\u043a\u043e\u044e \u0442\u0430 \u0440\u043e\u0437\u0431\u0456\u0440\u043b\u0438\u0432\u043e\u044e \u043d\u0435\u0437\u0430\u043b\u0435\u0436\u043d\u043e \u0432\u0456\u0434 \u0440\u0456\u0432\u043d\u044f \u043c\u0430\u0441\u0448\u0442\u0430\u0431\u0443\u0432\u0430\u043d\u043d\u044f. \u0412\u0435\u043a\u0442\u043e\u0440\u043d\u0456 \u0442\u0430\u0439\u043b\u0438 \u0434\u0430\u044e\u0442\u044c \u0437\u043c\u043e\u0433\u0443 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430\u043c \u0437\u0431\u0456\u043b\u044c\u0448\u0443\u0432\u0430\u0442\u0438 \u043c\u0430\u0441\u0448\u0442\u0430\u0431 \u0434\u043b\u044f \u0434\u0435\u0442\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0434\u043e\u0441\u043b\u0456\u0434\u0436\u0435\u043d\u043d\u044f \u043e\u0431\u02bc\u0454\u043a\u0442\u0456\u0432 \u043d\u0430 \u043c\u0430\u043f\u0456 \u0430\u0431\u043e \u0437\u043c\u0435\u043d\u0448\u0443\u0432\u0430\u0442\u0438 \u043c\u0430\u0441\u0448\u0442\u0430\u0431, \u0449\u043e\u0431\u0438 \u043c\u0430\u0442\u0438 \u0448\u0438\u0440\u0448\u0443 \u043f\u0435\u0440\u0441\u043f\u0435\u043a\u0442\u0438\u0432\u0443, \u0437\u0430\u0431\u0435\u0437\u043f\u0435\u0447\u0443\u044e\u0447\u0438 \u043d\u043e\u0432\u0438\u0439 \u0434\u043e\u0441\u0432\u0456\u0434 \u0440\u043e\u0431\u043e\u0442\u0438 \u0437 \u043c\u0430\u043f\u0430\u043c\u0438. \u0406\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u0456\u0441\u0442\u044c \u0422\u0430\u0439\u043b\u0438 \u0432\u0435\u043a\u0442\u043e\u0440\u043d\u043e\u0457 \u043c\u0430\u043f\u0438 \u0434\u043e\u0437\u0432\u043e\u043b\u044f\u044e\u0442\u044c \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0442\u0430\u043a\u0456 \u0456\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u0456 \u0444\u0443\u043d\u043a\u0446\u0456\u0457, \u044f\u043a \u043f\u0430\u043d\u043e\u0440\u0430\u043c\u0443\u0432\u0430\u043d\u043d\u044f, \u043c\u0430\u0441\u0448\u0442\u0430\u0431\u0443\u0432\u0430\u043d\u043d\u044f \u0442\u0430 \u0432\u0437\u0430\u0454\u043c\u043e\u0434\u0456\u044e \u0437 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0435\u043c, \u043d\u0430\u043f\u0440\u0438\u043a\u043b\u0430\u0434 \u0432\u0456\u0434\u0441\u0442\u0435\u0436\u0443\u0432\u0430\u043d\u043d\u044f \u043a\u043b\u0430\u0446\u0430\u043d\u043d\u044f \u043e\u0431\u02bc\u0454\u043a\u0442\u0456\u0432 \u043d\u0430 \u043c\u0430\u043f\u0456. \u0426\u0456 \u0442\u0430\u0439\u043b\u0438 \u0434\u043e\u0437\u0432\u043e\u043b\u044f\u044e\u0442\u044c \u0440\u043e\u0437\u0440\u043e\u0431\u043d\u0438\u043a\u0430\u043c \u0441\u0442\u0432\u043e\u0440\u044e\u0432\u0430\u0442\u0438 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u0438, \u044f\u043a\u0456 \u0434\u0438\u043d\u0430\u043c\u0456\u0447\u043d\u043e \u0440\u0435\u0430\u0433\u0443\u044e\u0442\u044c \u043d\u0430 \u0434\u0456\u0457 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430, \u043f\u043e\u043a\u0440\u0430\u0449\u0443\u044e\u0447\u0438 \u0432\u0437\u0430\u0454\u043c\u043e\u0434\u0456\u044e \u0437 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0435\u043c \u0456 \u0437\u0430\u0431\u0435\u0437\u043f\u0435\u0447\u0443\u044e\u0447\u0438 \u0456\u043d\u043d\u043e\u0432\u0430\u0446\u0456\u0439\u043d\u0443 \u0444\u0443\u043d\u043a\u0446\u0456\u043e\u043d\u0430\u043b\u044c\u043d\u0456\u0441\u0442\u044c."},{"location":"uk/using-tiles/vector-map-tiles/#\u0412\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f-\u0432\u0435\u043a\u0442\u043e\u0440\u043d\u0438\u0445-\u0442\u0430\u0439\u043b\u0456\u0432","title":"\u0412\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f \u0432\u0435\u043a\u0442\u043e\u0440\u043d\u0438\u0445 \u0442\u0430\u0439\u043b\u0456\u0432","text":"<p>\u0412\u0435\u043a\u0442\u043e\u0440\u043d\u0456 \u0442\u0430\u0439\u043b\u0438 \u0448\u0438\u0440\u043e\u043a\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u044e\u0442\u044c\u0441\u044f \u0434\u043b\u044f \u0432\u0435\u0431-\u043c\u0430\u043f, \u0449\u043e \u0434\u043e\u0437\u0432\u043e\u043b\u044f\u0454 \u0440\u043e\u0437\u0440\u043e\u0431\u043d\u0438\u043a\u0430\u043c \u0441\u0442\u0432\u043e\u0440\u044e\u0432\u0430\u0442\u0438 \u0456\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u0456 \u0442\u0430 \u0432\u0456\u0437\u0443\u0430\u043b\u044c\u043d\u043e \u043f\u0440\u0438\u0432\u0430\u0431\u043b\u0438\u0432\u0456 \u043c\u0430\u043f\u0438. \u0412\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u044e\u0447\u0438 \u0442\u0430\u043a\u0456 \u0431\u0456\u0431\u043b\u0456\u043e\u0442\u0435\u043a\u0438, \u044f\u043a Leaflet, Mapbox GL JS \u0430\u0431\u043e OpenLayers, \u0440\u043e\u0437\u0440\u043e\u0431\u043d\u0438\u043a\u0438 \u043c\u043e\u0436\u0443\u0442\u044c \u043b\u0435\u0433\u043a\u043e \u0456\u043d\u0442\u0435\u0433\u0440\u0443\u0432\u0430\u0442\u0438 \u0432\u0435\u043a\u0442\u043e\u0440\u043d\u0456 \u0442\u0430\u0439\u043b\u0438 \u0443 \u0441\u0432\u043e\u0457 \u0432\u0435\u0431\u043f\u0440\u043e\u0454\u043a\u0442\u0438, \u043f\u0440\u043e\u043f\u043e\u043d\u0443\u044e\u0447\u0438 \u0440\u043e\u0437\u0448\u0438\u0440\u0435\u043d\u0456 \u043c\u043e\u0436\u043b\u0438\u0432\u043e\u0441\u0442\u0456 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f \u043c\u0430\u043f \u0434\u043b\u044f \u0441\u0432\u043e\u0457\u0445 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0456\u0432.</p> <p>\u0412\u0435\u043a\u0442\u043e\u0440\u043d\u0456 \u0442\u0430\u0439\u043b\u0438 \u043e\u0441\u043e\u0431\u043b\u0438\u0432\u043e \u0446\u0456\u043d\u043d\u0456 \u0432 \u043c\u043e\u0431\u0456\u043b\u044c\u043d\u0438\u0445 \u0437\u0430\u0441\u0442\u043e\u0441\u0443\u043d\u043a\u0430\u0445, \u0434\u0435 \u0440\u043e\u0437\u043c\u0456\u0440 \u0434\u0430\u043d\u0438\u0445 \u0456 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0438\u0432\u043d\u0456\u0441\u0442\u044c \u0454 \u0432\u0438\u0440\u0456\u0448\u0430\u043b\u044c\u043d\u0438\u043c\u0438 \u0444\u0430\u043a\u0442\u043e\u0440\u0430\u043c\u0438. \u041a\u043e\u043c\u043f\u0430\u043a\u0442\u043d\u0456\u0441\u0442\u044c \u0432\u0435\u043a\u0442\u043e\u0440\u043d\u0438\u0445 \u0442\u0430\u0439\u043b\u0456\u0432 \u0437\u0430\u0431\u0435\u0437\u043f\u0435\u0447\u0443\u0454 \u0431\u0456\u043b\u044c\u0448 \u043f\u043b\u0430\u0432\u043d\u0443 \u0432\u0456\u0437\u0443\u0430\u043b\u0456\u0437\u0430\u0446\u0456\u044e \u043c\u0430\u043f \u0456 \u0437\u043c\u0435\u043d\u0448\u0443\u0454 \u0432\u0438\u043c\u043e\u0433\u0438 \u0434\u043e \u043e\u0431\u0441\u044f\u0433\u0443 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e\u0457 \u043f\u0430\u043c\u02bc\u044f\u0442\u0456, \u0437\u0430\u0432\u0434\u044f\u043a\u0438 \u0447\u043e\u043c\u0443 \u0432\u043e\u043d\u0438 \u0434\u043e\u0431\u0440\u0435 \u043f\u0456\u0434\u0445\u043e\u0434\u044f\u0442\u044c \u0434\u043b\u044f \u043c\u043e\u0431\u0456\u043b\u044c\u043d\u0438\u0445 \u043f\u0440\u0438\u0441\u0442\u0440\u043e\u0457\u0432.</p> <p>\u0412\u0435\u043a\u0442\u043e\u0440\u043d\u0456 \u0442\u0430\u0439\u043b\u0438 \u0437\u043c\u0456\u043d\u044e\u044e\u0442\u044c \u043f\u0440\u0430\u0432\u0438\u043b\u0430 \u0433\u0440\u0438 \u0434\u043b\u044f \u043e\u0444\u043b\u0430\u0439\u043d-\u043c\u0430\u043f. \u0417\u0430\u0432\u0434\u044f\u043a\u0438 \u043a\u0435\u0448\u0443\u0432\u0430\u043d\u043d\u044e \u0432\u0435\u043a\u0442\u043e\u0440\u043d\u0438\u0445 \u0442\u0430\u0439\u043b\u0456\u0432 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u0438 \u043c\u043e\u0436\u0443\u0442\u044c \u043c\u0430\u0442\u0438 \u0444\u0443\u043d\u043a\u0446\u0456\u043e\u043d\u0430\u043b\u044c\u043d\u0456 \u043c\u0430\u043f\u0438 \u043d\u0430\u0432\u0456\u0442\u044c \u0431\u0435\u0437 \u043f\u0456\u0434\u02bc\u0454\u0434\u043d\u0430\u043d\u043d\u044f \u0434\u043e \u0406\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u0443. \u0426\u0435 \u043e\u0441\u043e\u0431\u043b\u0438\u0432\u043e \u043a\u043e\u0440\u0438\u0441\u043d\u043e \u0443 \u0432\u0456\u0434\u0434\u0430\u043b\u0435\u043d\u0438\u0445 \u0440\u0430\u0439\u043e\u043d\u0430\u0445 \u0430\u0431\u043e \u043f\u0456\u0434 \u0447\u0430\u0441 \u043f\u043e\u0434\u043e\u0440\u043e\u0436\u0435\u0439, \u043a\u043e\u043b\u0438 \u043f\u043e\u0441\u0442\u0456\u0439\u043d\u0435 \u0437\u02bc\u0454\u0434\u043d\u0430\u043d\u043d\u044f \u0437 \u043c\u0435\u0440\u0435\u0436\u0435\u044e \u043c\u043e\u0436\u0435 \u0431\u0443\u0442\u0438 \u0432\u0456\u0434\u0441\u0443\u0442\u043d\u0456\u043c.</p>"},{"location":"uk/using-tiles/vector-map-tiles/#\u0420\u0443\u0445\u0430\u044e\u0447\u0438\u0441\u044c-\u0434\u0430\u043b\u0456","title":"\u0420\u0443\u0445\u0430\u044e\u0447\u0438\u0441\u044c \u0434\u0430\u043b\u0456","text":"<p>\u0412\u0435\u043a\u0442\u043e\u0440\u043d\u0456 \u0442\u0430\u0439\u043b\u0438 \u0440\u0435\u0432\u043e\u043b\u044e\u0446\u0456\u043e\u043d\u0456\u0437\u0443\u0432\u0430\u043b\u0438 \u0441\u043f\u043e\u0441\u0456\u0431 \u0432\u0437\u0430\u0454\u043c\u043e\u0434\u0456\u0457 \u0437 \u043c\u0430\u043f\u0430\u043c\u0438, \u043f\u0440\u043e\u043f\u043e\u043d\u0443\u044e\u0447\u0438 \u0434\u0438\u043d\u0430\u043c\u0456\u0447\u043d\u0438\u0439 \u0441\u0442\u0438\u043b\u044c, \u0435\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u0443 \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0443 \u0434\u0430\u043d\u0438\u0445, \u0432\u0438\u0441\u043e\u043a\u0443 \u0440\u043e\u0437\u0434\u0456\u043b\u044c\u043d\u0443 \u0437\u0434\u0430\u0442\u043d\u0456\u0441\u0442\u044c \u0442\u0430 \u0456\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u0456\u0441\u0442\u044c. \u0412\u0435\u043a\u0442\u043e\u0440\u043d\u0456 \u0442\u0430\u0439\u043b\u0438 \u0432\u0456\u0434\u0456\u0433\u0440\u0430\u044e\u0442\u044c \u0432\u0430\u0436\u043b\u0438\u0432\u0443 \u0440\u043e\u043b\u044c \u0443 \u043f\u043e\u0434\u0430\u043b\u044c\u0448\u043e\u043c\u0443 \u0440\u043e\u0437\u0432\u0438\u0442\u043a\u0443 OpenStreetMap \u0442\u0430 \u0439\u043e\u0433\u043e \u0434\u0443\u0445\u0443 \u0432\u0456\u0434\u043a\u0440\u0438\u0442\u043e\u0441\u0442\u0456. \u0412\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u044e\u0447\u0438 \u043f\u043e\u0442\u0443\u0436\u043d\u0456\u0441\u0442\u044c \u0432\u0435\u043a\u0442\u043e\u0440\u043d\u0438\u0445 \u0442\u0430\u0439\u043b\u0456\u0432, \u043e\u043a\u0440\u0435\u043c\u0456 \u043e\u0441\u043e\u0431\u0438 \u0442\u0430 \u043e\u0440\u0433\u0430\u043d\u0456\u0437\u0430\u0446\u0456\u0457 \u043c\u043e\u0436\u0443\u0442\u044c \u0440\u043e\u0437\u043a\u0440\u0438\u0442\u0438 \u0432\u0435\u0441\u044c \u043f\u043e\u0442\u0435\u043d\u0446\u0456\u0430\u043b OpenStreetMap, \u0441\u0442\u0432\u043e\u0440\u044e\u044e\u0447\u0438 \u0446\u0456\u043a\u0430\u0432\u0456 \u0442\u0430 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u0456\u0437\u043e\u0432\u0430\u043d\u0456 \u043c\u0430\u043f\u0438, \u044f\u043a\u0456 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u0430\u044e\u0442\u044c \u0457\u0445 \u043f\u043e\u0442\u0440\u0435\u0431\u0430\u043c. Switch2OSM \u043d\u0430\u0434\u0430\u0454 \u0440\u0435\u0441\u0443\u0440\u0441\u0438 \u0442\u0430 \u0432\u043a\u0430\u0437\u0456\u0432\u043a\u0438, \u0449\u043e\u0431 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u0442\u0438 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430\u043c \u043b\u0435\u0433\u043a\u043e \u0456\u043d\u0442\u0435\u0433\u0440\u0443\u0432\u0430\u0442\u0438 \u0432\u0435\u043a\u0442\u043e\u0440\u043d\u0456 \u0442\u0430\u0439\u043b\u0438 \u0443 \u0441\u0432\u043e\u0457 \u043f\u0440\u043e\u0454\u043a\u0442\u0438, \u0437\u0430\u043e\u0445\u043e\u0447\u0443\u044e\u0447\u0438 \u043f\u0435\u0440\u0435\u0445\u0456\u0434 \u0434\u043e \u0432\u0456\u0434\u043a\u0440\u0438\u0442\u0438\u0445 \u043a\u0430\u0440\u0442\u043e\u0433\u0440\u0430\u0444\u0456\u0447\u043d\u0438\u0445 \u0440\u0456\u0448\u0435\u043d\u044c \u0456 \u0441\u043f\u0440\u0438\u044f\u044e\u0447\u0438 \u0440\u043e\u0437\u0431\u0443\u0434\u043e\u0432\u0456 \u043a\u0430\u0440\u0442\u043e\u0433\u0440\u0430\u0444\u0456\u0447\u043d\u043e\u0457 \u0441\u043f\u0456\u043b\u044c\u043d\u043e\u0442\u0438.</p>"}]}